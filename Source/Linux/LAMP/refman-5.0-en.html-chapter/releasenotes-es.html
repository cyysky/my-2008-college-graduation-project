<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Appendix C. MySQL Enterprise Release Notes</title><link rel="stylesheet" href="mysql-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="prev" href="error-handling.html" title="Appendix B. Errors, Error Codes, and Common Problems"><link rel="next" href="releasenotes-cs.html" title="Appendix D. MySQL Community Server Enhancements and Release Notes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix C. MySQL Enterprise Release Notes</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="releasenotes-cs.html">Next</a></td></tr></table><hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="releasenotes-es"></a>Appendix C. MySQL Enterprise Release Notes</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0">C.1. MySQL Enterprise 5.0 Release Notes</a></span></dt><dd><dl><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-60">C.1.1. Release Notes for  MySQL Enterprise 5.0.60 [MRU] (Not yet released)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-58">C.1.2. Release Notes for  MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-56">C.1.3. Release Notes for  MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-54a">C.1.4. Release Notes for  MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-54">C.1.5. Release Notes for  MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-52">C.1.6. Release Notes for  MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50sp1a">C.1.7. Release Notes for  MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50sp1">C.1.8. Release Notes for  MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50">C.1.9. Release Notes for  MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-48">C.1.10. Release Notes for  MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-46">C.1.11. Release Notes for  MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-44sp1">C.1.12. Release Notes for  MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-44">C.1.13. Release Notes for  MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-42">C.1.14. Release Notes for  MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-40">C.1.15. Release Notes for  MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-38">C.1.16. Release Notes for  MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-36sp1">C.1.17. Release Notes for  MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-36">C.1.18. Release Notes for  MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-34">C.1.19. Release Notes for  MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-32">C.1.20. Release Notes for  MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-30sp1">C.1.21. Release Notes for  MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-30">C.1.22. Release Notes for  MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-28">C.1.23. Release Notes for  MySQL Enterprise 5.0.28 (24 October 2006)</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id4691834"></a><a class="indexterm" name="id4691843"></a><a class="indexterm" name="id4691855"></a><a class="indexterm" name="id4691868"></a><p>
    This appendix lists the changes from version to version in MySQL
    Enterprise, including MySQL Enterprise Server. Releases in MySQL
    Enterprise Server are divided into the following release packs:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        <span class="emphasis"><em>Rapid Update Service Packs</em></span> are issued once
        a month and incorporate all the bug fixes and security updates
        introduced since the previous MySQL Enterprise Server release. A
        single Service Pack can be used to update MySQL Enterprise
        Server; it is not necessary to install intervening service packs
        to bring your system up to date.
      </p></li><li><p>
        <span class="emphasis"><em>Quarterly Service Packs</em></span> are issued each
        quarter and incorporate all the bug fixes and security updates
        introduced since the previous MySQL Enterprise Server release. A
        single Service Pack can be used to update MySQL Enterprise
        Server; it is not necessary to install intervening service packs
        to bring your system up to date.
      </p></li><li><p>
        <span class="emphasis"><em>Hot-fix releases</em></span> incorporate fixes for bugs
        that caused significant issues that are not released as part of
        a Service Pack.
      </p></li></ul></div><p>
    The Release Notes are updated as bugs are fixed and features are
    incorporated, so that everybody can follow the development process.
  </p><p>
    Note that we tend to update the manual at the same time we make
    changes to MySQL. If you find a recent version of MySQL listed here
    that you can't find on our download page
    (<a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>), it means that the version has
    not yet been released (and will normally be marked so in the
    appropriate Release Note section).
  </p><p>
    The date mentioned with a release version is the date of the last
    change done internally at MySQL AB (the BitKeeper ChangeSet) on
    which the release was based, not the date when the packages were
    made available. The binaries are usually made available a few days
    after the date of the tagged ChangeSet, because building and testing
    all packages takes some time.
  </p><p>
    For information on how to determine your current version and release
    type, see <a href="installing.html#installation-version" title="2.2. Determining your current MySQL version">Section 2.2, “Determining your current MySQL version”</a>.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="releasenotes-es-5-0"></a>C.1. MySQL Enterprise 5.0 Release Notes</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-60">C.1.1. Release Notes for  MySQL Enterprise 5.0.60 [MRU] (Not yet released)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-58">C.1.2. Release Notes for  MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-56">C.1.3. Release Notes for  MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-54a">C.1.4. Release Notes for  MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-54">C.1.5. Release Notes for  MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-52">C.1.6. Release Notes for  MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50sp1a">C.1.7. Release Notes for  MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50sp1">C.1.8. Release Notes for  MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-50">C.1.9. Release Notes for  MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-48">C.1.10. Release Notes for  MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-46">C.1.11. Release Notes for  MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-44sp1">C.1.12. Release Notes for  MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-44">C.1.13. Release Notes for  MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-42">C.1.14. Release Notes for  MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-40">C.1.15. Release Notes for  MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-38">C.1.16. Release Notes for  MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-36sp1">C.1.17. Release Notes for  MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-36">C.1.18. Release Notes for  MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-34">C.1.19. Release Notes for  MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-32">C.1.20. Release Notes for  MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-30sp1">C.1.21. Release Notes for  MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-30">C.1.22. Release Notes for  MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</a></span></dt><dt><span class="section"><a href="releasenotes-es.html#releasenotes-es-5-0-28">C.1.23. Release Notes for  MySQL Enterprise 5.0.28 (24 October 2006)</a></span></dt></dl></div><a class="indexterm" name="id4691991"></a><p>
    This section documents all changes and bug fixes, beginning with the
    first MySQL Enterprise Server release (5.0.28), that are made
    available through hot-fixes, and through service packs.
  </p><p>
    For a full list of changes, please refer to the changelog sections
    for each individual 5.0.x release.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-60"></a>C.1.1. Release Notes for  MySQL Enterprise 5.0.60 [MRU] (Not yet released)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.56).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible to circumvent privileges through the creation of
        <code class="literal">MyISAM</code> tables employing the <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code>
        options to overwrite existing table files in the MySQL data
        directory. Use of the MySQL data directory in <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code> is
        now disallowed.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An extraneous <code class="literal">ROLLBACK</code> statement was written
        to the binary log by a connection that did not use any
        transactional tables.
       (<a href="http://bugs.mysql.com/33329" target="_top">Bug#33329</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">STOP SLAVE</code> did not stop connection attempts
        properly. If the IO slave thread was attempting to connect,
        <code class="literal">STOP SLAVE</code> waited for the attempt to finish,
        sometimes for a long period of time, rather than stopping the
        slave immediately.
       (<a href="http://bugs.mysql.com/31024" target="_top">Bug#31024</a>)</p><p>See also <a href="http://bugs.mysql.com/30932" target="_top">Bug#30932</a></p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">MASTER_POS_WAIT()</code> did not return
        <code class="literal">NULL</code> when the server was not a slave.
       (<a href="http://bugs.mysql.com/22662" target="_top">Bug#22662</a>)</p></li><li><p>
        A query that performed a <code class="literal">ref_or_null</code> join
        where the second table used a key having one or columns that
        could be <code class="literal">NULL</code> and had a column value that was
        <code class="literal">NULL</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/34945" target="_top">Bug#34945</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a></p></li><li><p>
        Using <code class="literal">NAME_CONST()</code> with a negative number and
        an aggregate function caused MySQL to crash. This could also
        have a negative impact on replication.
       (<a href="http://bugs.mysql.com/34749" target="_top">Bug#34749</a>)</p></li><li><p>
        Some subqueries using an expression that included an aggregate
        function could fail or in some cases lead to a crash of the
        server.
       (<a href="http://bugs.mysql.com/34620" target="_top">Bug#34620</a>)</p></li><li><p>
        Under some conditions, a <code class="literal">SET GLOBAL
        innodb_commit_concurrency</code> or <code class="literal">SET GLOBAL
        innodb_autoextend_increment</code> statement could fail.
       (<a href="http://bugs.mysql.com/34223" target="_top">Bug#34223</a>)</p></li><li><p>
        Some queries using a combination of <code class="literal">IN</code>,
        <code class="literal">CONCAT()</code>, and an implicit type conversion
        could return an incorrect result.
       (<a href="http://bugs.mysql.com/33764" target="_top">Bug#33764</a>)</p></li><li><p>
        Certain combinations of views, subselects with outer references
        and stored routines or triggers could cause the server to crash.
       (<a href="http://bugs.mysql.com/33389" target="_top">Bug#33389</a>)</p></li><li><p>
        Under some circumstances a combination of aggregate functions
        and <code class="literal">GROUP BY</code> in a <code class="literal">SELECT</code>
        query over a view could lead to incorrect calculation of the
        result type of the aggregate function. This in turn could lead
        to incorrect results, or to crashes on debug builds of the
        server.
       (<a href="http://bugs.mysql.com/33049" target="_top">Bug#33049</a>)</p></li><li><p>
        For <code class="literal">DISTINCT</code> queries, 4.0 and 4.1 stopped
        reading joined tables as soon as the first matching row was
        found. However, this optimzation was lost in MySQL 5.0, which
        instead read all matching rows. This fix for this regression may
        result in a major improvement in performance for
        <code class="literal">DISTINCT</code> queries in cases where many rows
        match.
       (<a href="http://bugs.mysql.com/32942" target="_top">Bug#32942</a>)</p></li><li><p>
        When sorting privilege table rows, the server treated escaped
        wildcard characters (<code class="literal">\%</code> and
        <code class="literal">\_</code>) the same as unescaped wildcard characters
        (<code class="literal">%</code> and <code class="literal">_</code>), resulting in
        incorrect row ordering.
       (<a href="http://bugs.mysql.com/31194" target="_top">Bug#31194</a>)</p></li><li><p>
        The <span><strong class="command">mysql_config</strong></span> command would output
        <code class="literal">CFLAGS</code> values that were incompatible with C++
        for the HP-UX platform.
       (<a href="http://bugs.mysql.com/29645" target="_top">Bug#29645</a>)</p></li><li><p>
        The client library had no way to return an error if no
        connection had been established. This caused problems such as
        <a href="apis.html#mysql-library-init" title="23.2.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> failing
        silently if no <code class="filename">errmsg.sys</code> file was
        available.
       (<a href="http://bugs.mysql.com/25097" target="_top">Bug#25097</a>)</p></li><li><p>
        <code class="literal">SHOW COLUMNS</code> on a <code class="literal">TEMPOARY</code>
        table caused locking issues.
       (<a href="http://bugs.mysql.com/23588" target="_top">Bug#23588</a>)</p></li><li><p>
        On Mac OS X, <span><strong class="command">mysqld</strong></span> did not react to Ctrl-C
        when run under <span><strong class="command">gdb</strong></span>, even when run with the
        <code class="option">--gdb</code> option.
       (<a href="http://bugs.mysql.com/21567" target="_top">Bug#21567</a>)</p></li><li><p>
        A <code class="literal">SET</code> column whose definition specified 64
        elements could not be updated using integer values.
       (<a href="http://bugs.mysql.com/15409" target="_top">Bug#15409</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-58"></a>C.1.2. Release Notes for  MySQL Enterprise 5.0.58 [MRU] (05 March 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.56).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Cluster API</strong></span>: <span class="bold"><strong>Important Change</strong></span>: 
        Because <code class="literal">NDB_LE_MemoryUsage.page_size_kb</code> shows
        memory page sizes in bytes rather than kilobytes, it has been
        renamed to <code class="literal">page_size_bytes</code>. The name
        <code class="literal">page_size_kb</code> is now deprecated and thus
        subject to removal in a future release, although it currently
        remains supported for reasons of backwards compatibility. See
        <a href="http://dev.mysql.com/doc/ndbapi/en/ndb-logevent-type.html" target="_top">The <code class="literal">Ndb_logevent_type</code> Type</a>, for more information about
        <code class="literal">NDB_LE_MemoryUsage</code>.
       (<a href="http://bugs.mysql.com/30271" target="_top">Bug#30271</a>)</p></li><li><p>
        The <span><strong class="command">ndbd</strong></span> and <span><strong class="command">ndb_mgmd</strong></span>
        manpages have been reclassified from volume 1 to volume 8.
       (<a href="http://bugs.mysql.com/34642" target="_top">Bug#34642</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> now has <code class="literal">mkdir</code>
        and <code class="literal">rmdir</code> commands for creating and removing
        directories.
       (<a href="http://bugs.mysql.com/31004" target="_top">Bug#31004</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When configured with <code class="literal">NDB</code> support, MySQL
        failed to compile using <span><strong class="command">gcc</strong></span> 4.3 on 64bit
        FreeBSD systems.
       (<a href="http://bugs.mysql.com/34169" target="_top">Bug#34169</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a DDL statement could sometimes lead to node
        failures when attempting to execute subsequent DDL statements.
       (<a href="http://bugs.mysql.com/34160" target="_top">Bug#34160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Extremely long <code class="literal">SELECT</code> statements (where the
        text of the statement was in excess of 50000 characters) against
        <code class="literal">NDB</code> tables returned empty results.
       (<a href="http://bugs.mysql.com/34107" target="_top">Bug#34107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A periodic failure to flush the send buffer by the
        <code class="literal">NDB</code> TCP transporter could cause a unnecessary
        delay of 10 ms between operations.
       (<a href="http://bugs.mysql.com/34005" target="_top">Bug#34005</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When all data and SQL nodes in the cluster were shut down
        abnormally (that is, other than by using <code class="literal">STOP</code>
        in the cluster management client), <span><strong class="command">ndb_mgm</strong></span>
        used excessive amounts of CPU.
       (<a href="http://bugs.mysql.com/33237" target="_top">Bug#33237</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction atomicity was sometimes not preserved between reads
        and inserts under high loads.
       (<a href="http://bugs.mysql.com/31477" target="_top">Bug#31477</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Numerous test failures occurred in builds compiled using
        <span><strong class="command">icc</strong></span> on IA64 platforms.
       (<a href="http://bugs.mysql.com/31239" target="_top">Bug#31239</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Having tables with a great many columns could cause Cluster
        backups to fail.
       (<a href="http://bugs.mysql.com/30172" target="_top">Bug#30172</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Issuing an <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>
        concurrently with or following a <code class="literal">TRUNCATE</code>
        statement on an <code class="literal">NDB</code> table failed with
        <code class="literal">NDB</code> error 4350 <span class="errortext">Transaction already
        aborted</span>.
       (<a href="http://bugs.mysql.com/29851" target="_top">Bug#29851</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible in <code class="filename">config.ini</code> to define
        cluster nodes having node IDs greater than the maximum allowed
        value.
       (<a href="http://bugs.mysql.com/28298" target="_top">Bug#28298</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When reading a <code class="literal">BIT(64)</code> value using
        <code class="literal">NdbOperation:getValue()</code>, 12 bytes were
        written to the buffer rather than the expected 8 bytes.
       (<a href="http://bugs.mysql.com/33750" target="_top">Bug#33750</a>)</p></li><li><p>
        <span><strong class="command">mysql_explain_log</strong></span> concatenated multiple-line
        statements, causing malformed results for statements that
        contained SQL comments beginning with <code class="literal">--</code>.
       (<a href="http://bugs.mysql.com/34339" target="_top">Bug#34339</a>)</p></li><li><p>
        Executing an <code class="literal">ALTER VIEW</code> statement on a table
        crashed the server.
       (<a href="http://bugs.mysql.com/34337" target="_top">Bug#34337</a>)</p></li><li><p>
        Passing anything other than a integer to a
        <code class="literal">LIMIT</code> clause in a prepared statement would
        fail. (This limitation was introduced to avoid replication
        problems; for example, replicating the statement with a string
        argument would cause a parse failure in the slave). Now,
        arguments to the <code class="literal">LIMIT</code> clause are converted
        to integer values, and these converted values are used when
        logging the statement.
       (<a href="http://bugs.mysql.com/33851" target="_top">Bug#33851</a>)</p></li><li><p>
        An internal buffer in <span><strong class="command">mysql</strong></span> was too short.
        Overextending it could cause stack problems or segmentation
        violations on some architectures. (This is not a problem that
        could be exploited to run arbitrary code.)
       (<a href="http://bugs.mysql.com/33841" target="_top">Bug#33841</a>)</p></li><li><p>
        Large unsigned integers were improperly handled for prepared
        statements, resulting in truncation or conversion to negative
        numbers.
       (<a href="http://bugs.mysql.com/33798" target="_top">Bug#33798</a>)</p></li><li><p>
        <span><strong class="command">make_binary_distribution</strong></span> passed the
        <code class="option">--print-libgcc-file</code> option to the C compiler,
        but this does not work with the <span><strong class="command">ICC</strong></span> compiler.
       (<a href="http://bugs.mysql.com/33536" target="_top">Bug#33536</a>)</p></li><li><p>
        When MySQL was built with OpenSSL, the SSL library was not
        properly initialized with information of which endpoint it was
        (server or client), causing connection failures.
       (<a href="http://bugs.mysql.com/33050" target="_top">Bug#33050</a>)</p></li><li><p>
        Repeated creation and deletion of views within prepared
        statements could eventually crash the server.
       (<a href="http://bugs.mysql.com/32890" target="_top">Bug#32890</a>)</p><p>See also <a href="http://bugs.mysql.com/34587" target="_top">Bug#34587</a></p></li><li><p>
        Executing a prepared statement associated with a materialized
        cursor sent to the client a metadata packet with incorrect table
        and database names. The problem occurred because the server sent
        the the name of the temporary table used by the cursor instead
        of the table name of the original table.
      </p><p>
        The same problem occured when selecting from a view, in which
        case the name of the table name was sent, rather than the name
        of the view.
       (<a href="http://bugs.mysql.com/32265" target="_top">Bug#32265</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> adaptive hash latches could be held
        too long, resulting in a server crash. This fix may also provide
        significant performance improvements on systems on which many
        queries using filesorts with temporary tables are being
        performed.
       (<a href="http://bugs.mysql.com/32149" target="_top">Bug#32149</a>)</p></li><li><p>
        <code class="literal">SHOW STATUS</code> caused a server crash if
        <code class="literal">InnoDB</code> had not been initialized.
       (<a href="http://bugs.mysql.com/32083" target="_top">Bug#32083</a>)</p></li><li><p>
        The <span><strong class="command">mysqld</strong></span> crash handler failed on Windows.
       (<a href="http://bugs.mysql.com/31745" target="_top">Bug#31745</a>)</p></li><li><p>
        The MySQL preferences pane did not work to start or stop MySQL
        on Mac OS X 10.5 (Leopard).
       (<a href="http://bugs.mysql.com/28854" target="_top">Bug#28854</a>)</p></li><li><p>
        For upgrading to a new major version using RPM packages (such as
        4.1 to 5.0), if the installation procedure found an existing
        MySQL server running, it could fail to shut down the old server,
        but also erroneously removed the server's socket file. Now the
        procedure checks for an existing server package from a different
        vendor or major MySQL version. In such case, it refuses to
        install the server and recommends how to safely remove the old
        packages before installing the new ones.
       (<a href="http://bugs.mysql.com/28555" target="_top">Bug#28555</a>)</p></li><li><p>
        <span><strong class="command">mysqlhotcopy</strong></span> silently skipped databases with
        names consisting of two alphanumeric characters.
       (<a href="http://bugs.mysql.com/28460" target="_top">Bug#28460</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> did not use its completion table. Also,
        the table contained few entries.
       (<a href="http://bugs.mysql.com/24624" target="_top">Bug#24624</a>)</p></li><li><p>
        <span><strong class="command">mysql_config</strong></span> output did not include
        <code class="literal">-lmygcc</code> on some platforms when it was needed.
       (<a href="http://bugs.mysql.com/21158" target="_top">Bug#21158</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-56"></a>C.1.3. Release Notes for  MySQL Enterprise 5.0.56 [MRU] (06 February 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.54).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">AUTO_INCREMENT</code> columns had the following
        problems when used in <code class="literal">NDB</code> tables:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              The <code class="literal">AUTO_INCREMENT</code> counter was not
              updated correctly when such a column was updated.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not
              prefetched beyond statement boundaries.
            </p></li><li><p>
              <code class="literal">AUTO_INCREMENT</code> values were not handled
              correctly with <code class="literal">INSERT IGNORE</code>
              statements.
            </p></li><li><p>
              After being set,
              <code class="literal">ndb_autoincrement_prefetch_sz</code> showed a
              value of 1, regardless of the value it had actually been
              set to.
            </p></li></ul></div><p>
        As part of this fix, the behavior of
        <code class="literal">ndb_autoincrement_prefetch_sz</code> has changed.
        Setting this to less than 32 no longer has any effect on
        prefetching within statements (where IDs are now always obtained
        in batches of 32 or more), but only between statements. The
        default value for this variable has also changed, and is now
        <code class="literal">1</code>.
       (<a href="http://bugs.mysql.com/25176" target="_top">Bug#25176</a>, <a href="http://bugs.mysql.com/31956" target="_top">Bug#31956</a>, <a href="http://bugs.mysql.com/32055" target="_top">Bug#32055</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        When the master crashed during an update on a transactional
        table while in <code class="literal">AUTOCOMMIT</code> mode, the slave
        failed. This fix causes every transaction (including
        <code class="literal">AUTOCOMMIT</code> transactions) to be recorded in
        the binlog as starting with a <code class="literal">BEGIN</code> and
        ending with a <code class="literal">COMMIT</code> or
        <code class="literal">ROLLBACK</code>.
       (<a href="http://bugs.mysql.com/26395" target="_top">Bug#26395</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An improperly reset internal signal was observed as a hang when
        using events in the <code class="literal">NDB</code> API but could result
        in various errors.
       (<a href="http://bugs.mysql.com/33206" target="_top">Bug#33206</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrectly handled parameters could lead to a crash in the
        Transaction Coordinator during a node failure, causing other
        data nodes to fail.
       (<a href="http://bugs.mysql.com/33168" target="_top">Bug#33168</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node could lead to subsequent failures
        in local checkpointing.
       (<a href="http://bugs.mysql.com/32160" target="_top">Bug#32160</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Primary keys on variable-length columns (such as
        <code class="literal">VARCHAR</code>) did not work correctly.
       (<a href="http://bugs.mysql.com/31635" target="_top">Bug#31635</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code> table with a
        duplicate value for a non-primary unique key, the error issued
        would reference the wrong key.
      </p><p>
        This improves on an initial fix for this issue made in MySQL
        5.0.30 and MySQL 5.0.33
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <code class="literal">CREATE USER</code>, <code class="literal">DROP USER</code>,
        or <code class="literal">RENAME USER</code> statement that fails on the
        master, or that is a duplicate of any of these statements, is no
        longer written to the binlog; previously, either of these
        occurrences could cause the slave to fail.
      </p><p> (<a href="http://bugs.mysql.com/33862" target="_top">Bug#33862</a>)</p><p>See also <a href="http://bugs.mysql.com/29749" target="_top">Bug#29749</a></p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">SHOW BINLOG EVENTS</code> could fail when the binlog
        contained one or more events whose size was close to the value
        of <code class="literal">max_allowed_packet</code>.
       (<a href="http://bugs.mysql.com/33413" target="_top">Bug#33413</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements containing comments using <code class="literal">--</code>
        syntax were not replayable by <span><strong class="command">mysqlbinlog</strong></span>,
        even though such statements replicated correctly.
       (<a href="http://bugs.mysql.com/32205" target="_top">Bug#32205</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing a <code class="literal">DROP VIEW</code> statement caused
        replication to fail if the view did not actually exist.
       (<a href="http://bugs.mysql.com/30998" target="_top">Bug#30998</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Setting <code class="literal">server_id</code> did not update its value
        for the current session.
       (<a href="http://bugs.mysql.com/28908" target="_top">Bug#28908</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Network timeouts between the master and the slave could result
        in corruption of the relay log.
       (<a href="http://bugs.mysql.com/26489" target="_top">Bug#26489</a>)</p></li><li><p>
        The server crashed when executing a query that had a subquery
        containing an equality X=Y where Y referred to a named select
        list expression from the parent select. The server crashed when
        trying to use the X=Y equality for <code class="literal">ref</code>-based
        access.
       (<a href="http://bugs.mysql.com/33794" target="_top">Bug#33794</a>)</p></li><li><p>
        Use of uninitialized memory for <code class="literal">filesort</code> in a
        subquery caused a server crash.
       (<a href="http://bugs.mysql.com/33675" target="_top">Bug#33675</a>)</p></li><li><p>
        The server could crash when <code class="literal">REPEAT</code> or another
        control instruction was used in conjunction with labels and a
        <code class="literal">LEAVE</code> instruction.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        The parser allowed control structures in compound statements to
        have mismatched beginning and ending labels.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL myisam_max_sort_file_size=DEFAULT</code>
        set <code class="literal">myisam_max_sort_file_size</code> to an incorrect
        value.
       (<a href="http://bugs.mysql.com/33382" target="_top">Bug#33382</a>)</p><p>See also <a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a></p></li><li><p>
        <code class="literal">CREATE TABLE ... SELECT</code> created tables that
        for date columns used the obsolete <code class="literal">Field_date</code>
        type instead of <code class="literal">Field_newdate</code>.
       (<a href="http://bugs.mysql.com/33256" target="_top">Bug#33256</a>)</p></li><li><p>
        For <code class="literal">DECIMAL</code> columns used with the
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        function with a non-constant value of
        <em class="replaceable"><code>D</code></em>, adding an <code class="literal">ORDER
        BY</code> for the function result produced misordered output.
       (<a href="http://bugs.mysql.com/33143" target="_top">Bug#33143</a>)</p><p>See also <a href="http://bugs.mysql.com/33402" target="_top">Bug#33402</a>, <a href="http://bugs.mysql.com/30617" target="_top">Bug#30617</a></p></li><li><p>
        Some valid <code class="literal">SELECT</code> statements could not be
        used as views due to incorrect column reference resolution.
       (<a href="http://bugs.mysql.com/33133" target="_top">Bug#33133</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a> and <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a> introduced a significant
        input-parsing slowdown for the <span><strong class="command">mysql</strong></span> client.
        This has been corrected.
       (<a href="http://bugs.mysql.com/33057" target="_top">Bug#33057</a>)</p></li><li><p>
        <code class="literal">UNION</code> constructs cannot contain
        <code class="literal">SELECT ... INTO</code> except in the final
        <code class="literal">SELECT</code>. However, if a
        <code class="literal">UNION</code> was used in a subquery and an
        <code class="literal">INTO</code> clause appeared in the top-level query,
        the parser interpreted it as having appeared in the
        <code class="literal">UNION</code> and raised an error.
       (<a href="http://bugs.mysql.com/32858" target="_top">Bug#32858</a>)</p></li><li><p>
        The correct data type for a <code class="literal">NULL</code> column
        resulting from a <code class="literal">UNION</code> could be determined
        incorrectly in some cases: 1) Not correctly inferred as
        <code class="literal">NULL</code> depending on the number of selects; 2)
        Not inferred correctly as <code class="literal">NULL</code> if one select
        used a subquery.
       (<a href="http://bugs.mysql.com/32848" target="_top">Bug#32848</a>)</p></li><li><p>
        For queries containing <code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>col_list</code></em> ORDER BY
        <em class="replaceable"><code>col_list</code></em>)</code>, there was a
        limitation that the <code class="literal">DISTINCT</code> columns had to
        be the same as <code class="literal">ORDER BY</code> columns. Incorrect
        results could be returned if this was not true.
       (<a href="http://bugs.mysql.com/32798" target="_top">Bug#32798</a>)</p></li><li><p>
        <a href="functions.html#function_hour"><code class="literal">HOUR()</code></a>,
        <a href="functions.html#function_minute"><code class="literal">MINUTE()</code></a>, and
        <a href="functions.html#function_second"><code class="literal">SECOND()</code></a> could return non-zero
        values for <code class="literal">DATE</code> arguments.
       (<a href="http://bugs.mysql.com/31990" target="_top">Bug#31990</a>)</p></li><li><p>
        Name resolution for correlated subqueries and
        <code class="literal">HAVING</code> clauses failed to distinguish which of
        two was being performed when there was a reference to an outer
        aliased field. This could result in error messages about a
        <code class="literal">HAVING</code> clause for queries that had no such
        clause.
       (<a href="http://bugs.mysql.com/31797" target="_top">Bug#31797</a>)</p></li><li><p>
        An assertion failure occurred for queries containing two
        subqueries if both subqueries were evaluated using a semi-join
        strategy.
       (<a href="http://bugs.mysql.com/31040" target="_top">Bug#31040</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        for non-constant values of <em class="replaceable"><code>D</code></em> could
        crash the server if these functions were used in an
        <code class="literal">ORDER BY</code> that was resolved using
        <code class="literal">filesort</code>.
       (<a href="http://bugs.mysql.com/30889" target="_top">Bug#30889</a>)</p></li><li><p>
        Replication of <code class="literal">LOAD DATA INFILE</code> could fail
        when <code class="literal">read_buffer_size</code> was larger than
        <code class="literal">max_allowed_packet</code>.
       (<a href="http://bugs.mysql.com/30435" target="_top">Bug#30435</a>)</p></li><li><p>
        Views were treated as insertable even if some base table columns
        with no default value were omitted from the view definition.
        (This is contrary to the condition for insertability that a view
        must contain all columns in the base table that do not have a
        default value.)
       (<a href="http://bugs.mysql.com/29477" target="_top">Bug#29477</a>)</p></li><li><p>
        With the <code class="literal">read_only</code> system variable enabled,
        <code class="literal">CREATE DATABASE</code> and <code class="literal">DROP
        DATABASE</code> were allowed to users who did not have the
        <code class="literal">SUPER</code> privilege.
       (<a href="http://bugs.mysql.com/27440" target="_top">Bug#27440</a>)</p></li><li><p>
        <span><strong class="command">resolveip</strong></span> failed to produce correct results
        for hostnames that begin with a digit.
       (<a href="http://bugs.mysql.com/27427" target="_top">Bug#27427</a>)</p></li><li><p>
        <span><strong class="command">mysqlcheck -A -r</strong></span> did not correctly identify
        all tables that needed repairing.
       (<a href="http://bugs.mysql.com/25347" target="_top">Bug#25347</a>)</p></li><li><p>
        For Windows Vista, <span><strong class="command">MySQLInstanceConfig.exe</strong></span>
        did not include a proper manifest enabling it to run with
        administrative privileges.
       (<a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a>)</p><p>See also <a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a></p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-54a"></a>C.1.4. Release Notes for  MySQL Enterprise 5.0.54a [MRU] (11 January 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This is a bugfix release that replaces MySQL 5.0.54.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-54"></a>C.1.5. Release Notes for  MySQL Enterprise 5.0.54 [MRU] (14 December 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.52).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">mysql_odbc_escape_string()</code> C API
        function has been removed. It has multi-byte character escaping
        issues, doesn't honor the
        <code class="literal">NO_BACKSLASH_ESCAPES</code> SQL mode and is not
        needed anymore by Connector/ODBC as of 3.51.17.
       (<a href="http://bugs.mysql.com/29592" target="_top">Bug#29592</a>)</p></li><li><p>
        The argument for the <span><strong class="command">mysql-test-run.pl</strong></span>
        <code class="option">--do-test</code> and <code class="option">--skip-test</code>
        options is now interpreted as a Perl regular expression if there
        is a pattern metacharacter in the argument value. This allows
        more flexible specification of which tests to perform or skip.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        It was possible to force an error message of excessive length
        which could lead to a buffer overflow. This has been made no
        longer possible as a security precaution.
       (<a href="http://bugs.mysql.com/32707" target="_top">Bug#32707</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible for option files to be read twice at program
        startup, if some of the standard option file locations turned
        out to be the same directory. Now duplicates are removed from
        the list of files to be read.
      </p><p>
        Also, users could not override system-wide settings using
        <code class="filename">~/.my.cnf</code> because
        <code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code>
        was read last. The latter file now is read earlier so that
        <code class="filename">~/.my.cnf</code> can override system-wide
        settings.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible for the name of the relay log file to exceed the
        amount of memory reserved for it, possibly leading to a crash of
        the server.
       (<a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>)</p><p>See also <a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a></p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corruption of log events caused the server to crash on 64-bit
        Linux systems having 4 GB of memory or more.
       (<a href="http://bugs.mysql.com/31793" target="_top">Bug#31793</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        One thread could read uninitialized memory from the stack of
        another thread. This issue was only known to occur in a
        <span><strong class="command">mysqld</strong></span> process acting as both a master and a
        slave.
       (<a href="http://bugs.mysql.com/30752" target="_top">Bug#30752</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Due a previous change in how the default name and location of
        the binlog file were determined, replication failed following
        some upgrades.
       (<a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>, <a href="http://bugs.mysql.com/28603" target="_top">Bug#28603</a>)</p><p>See also <a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a></p><p>This regression was introduced by <a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a></p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored procedures having <code class="literal">BIT</code> parameters were
        not replicated correctly.
       (<a href="http://bugs.mysql.com/26199" target="_top">Bug#26199</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing <code class="literal">SHOW SLAVE STATUS</code> as
        <span><strong class="command">mysqld</strong></span> was shutting down could cause a crash.
       (<a href="http://bugs.mysql.com/26000" target="_top">Bug#26000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <code class="literal">UPDATE</code> statement using a stored function
        that modified a non-transactional table was not logged if it
        failed. This caused the copy of the non-transactional table on
        the master have a row that the copy on the slave did not.
       (<a href="http://bugs.mysql.com/23333" target="_top">Bug#23333</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a></p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes failed to reconnect because it was
        unable to run <code class="literal">SHOW SLAVE HOSTS</code>. It was not
        necessary to run this statement on slaves (since the master
        should track connection IDs), and the execution of this
        statement by slaves was removed.
       (<a href="http://bugs.mysql.com/21132" target="_top">Bug#21132</a>)</p><p>See also <a href="http://bugs.mysql.com/13963" target="_top">Bug#13963</a>, <a href="http://bugs.mysql.com/21869" target="_top">Bug#21869</a></p></li><li><p>
        An <code class="literal">ORDER BY</code> query using <code class="literal">IS
        NULL</code> in the <code class="literal">WHERE</code> clause did not
        return correct results.
       (<a href="http://bugs.mysql.com/32815" target="_top">Bug#32815</a>)</p></li><li><p>
        Use of the <code class="literal">cp932</code> character set with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> in an <code class="literal">ORDER
        BY</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/32726" target="_top">Bug#32726</a>)</p></li><li><p>
        A subquery using an <code class="literal">IS NULL</code> check of a column
        defined as <code class="literal">NOT NULL</code> in a table used in the
        <code class="literal">FROM</code> clause of the outer query produced an
        invalid result.
       (<a href="http://bugs.mysql.com/32694" target="_top">Bug#32694</a>)</p></li><li><p>
        Specifying a non-existent column for an <code class="literal">INSERT
        DELAYED</code> statement caused a server crash rather than
        producing an error.
       (<a href="http://bugs.mysql.com/32676" target="_top">Bug#32676</a>)</p></li><li><p>
        Use of <code class="literal">CLIENT_MULTI_QUERIES</code> caused
        <code class="literal">libmysqld</code> to crash.
       (<a href="http://bugs.mysql.com/32624" target="_top">Bug#32624</a>)</p></li><li><p>
        The <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a> function
        incorrectly handled <code class="literal">NULL</code> values in the value
        list.
       (<a href="http://bugs.mysql.com/32560" target="_top">Bug#32560</a>)</p></li><li><p>
        Use of a <code class="literal">NULL</code>-returning <code class="literal">GROUP
        BY</code> expression in conjunction with <code class="literal">WITH
        ROLLUP</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>)</p><p>See also <a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a></p></li><li><p>
        A <code class="literal">SELECT ... GROUP BY
        <em class="replaceable"><code>bit_column</code></em></code> query failed
        with an assertion if the length of the <code class="literal">BIT</code>
        column used for the <code class="literal">GROUP BY</code> was not an
        integer multiple of 8.
       (<a href="http://bugs.mysql.com/32556" target="_top">Bug#32556</a>)</p></li><li><p>
        Using <code class="literal">SELECT INTO OUTFILE</code> with 8-bit
        <code class="literal">ENCLOSED BY</code> characters led to corrupted data
        when the data was reloaded using LOAD DATA INFILE. This was
        because <code class="literal">SELECT INTO OUTFILE</code> failed to escape
        the 8-bit characters.
       (<a href="http://bugs.mysql.com/32533" target="_top">Bug#32533</a>)</p></li><li><p>
        For <code class="literal">FLUSH TABLES WITH READ LOCK</code>, the server
        failed to properly detect write-locked tables when running with
        low-priority updates, resulting in a crash or deadlock.
       (<a href="http://bugs.mysql.com/32528" target="_top">Bug#32528</a>)</p></li><li><p>
        Sending several <code class="literal">KILL QUERY</code> statements to
        target a connection running <code class="literal">SELECT SLEEP()</code>
        could freeze the server.
       (<a href="http://bugs.mysql.com/32436" target="_top">Bug#32436</a>)</p></li><li><p>
        <code class="literal">ssl-cipher</code> values in option files were not
        being read by <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/32429" target="_top">Bug#32429</a>)</p></li><li><p>
        Repeated execution of a query containing a
        <code class="literal">CASE</code> expression and numerous
        <code class="literal">AND</code> and <code class="literal">OR</code> relations could
        crash the server. The root cause of the issue was determined to
        be that the internal <code class="literal">SEL_ARG</code> structure was
        not properly initialized when created.
       (<a href="http://bugs.mysql.com/32403" target="_top">Bug#32403</a>)</p></li><li><p>
        Referencing within a subquery an alias used in the
        <code class="literal">SELECT</code> list of the outer query was
        incorrectly permitted.
       (<a href="http://bugs.mysql.com/32400" target="_top">Bug#32400</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query on a view created using a
        <code class="literal">FEDERATED</code> table as a base table caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32374" target="_top">Bug#32374</a>)</p></li><li><p>
        Comparison of a <code class="literal">BIGINT NOT NULL</code> column with a
        constant arithmetic expression that evaluated to NULL mistakenly
        caused the error <span class="errortext">Column '...' cannot be
        null</span> (error 1048).
       (<a href="http://bugs.mysql.com/32335" target="_top">Bug#32335</a>)</p></li><li><p>
        Assigning a 65,536-byte string to a <code class="literal">TEXT</code>
        column (which can hold a maximum of 65,535 bytes) resulted in
        truncation without a warning. Now a truncation warning is
        generated.
       (<a href="http://bugs.mysql.com/32282" target="_top">Bug#32282</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> function returns
        a <code class="literal">DATE</code> value, but internally the value did
        not have the time fields zeroed and calculations involving the
        value could return incorrect results.
       (<a href="http://bugs.mysql.com/32270" target="_top">Bug#32270</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return incorrect
        results when an index was present if a loose index scan was
        used.
       (<a href="http://bugs.mysql.com/32268" target="_top">Bug#32268</a>)</p></li><li><p>
        Memory corruption could occur due to large index map in
        <code class="literal">Range checked for each record</code> status reported
        by <code class="literal">EXPLAIN SELECT</code>. The problem was based in
        an incorrectly calculated length of the buffer used to store a
        hexadecimal representation of an index map, which could result
        in buffer overrun and stack corruption under some circumstances.
       (<a href="http://bugs.mysql.com/32241" target="_top">Bug#32241</a>)</p></li><li><p>
        Various test program cleanups were made: 1)
        <span><strong class="command">mytest</strong></span> and <code class="literal">libmysqltest</code>
        were removed. 2) <span><strong class="command">bug25714</strong></span> displays an error
        message when invoked with incorrect arguments or the
        <code class="option">--help</code> option. 3)
        <span><strong class="command">mysql_client_test</strong></span> exits cleanly with a proper
        error status.
       (<a href="http://bugs.mysql.com/32221" target="_top">Bug#32221</a>)</p></li><li><p>
        For comparisons of the form <em class="replaceable"><code>date_col OP
        datetime_const</code></em> (where
        <em class="replaceable"><code>OP</code></em> is
        <a href="functions.html#operator_equal"><code class="literal">=</code></a>,
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
        <a href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
        or
        <a href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>),
        the comparison is done using <code class="literal">DATETIME</code> values,
        per the fix for <a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>. However that fix caused any index on
        <em class="replaceable"><code>date_col</code></em> not to be used and
        compromised performance. Now the index is used again.
       (<a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>)</p></li><li><p>
        <code class="literal">DATETIME</code> arguments specified in numeric form
        were treated by <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> as
        <code class="literal">DATE</code> values.
       (<a href="http://bugs.mysql.com/32180" target="_top">Bug#32180</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        With <code class="literal">lower_case_table_names</code> set,
        <code class="literal">CREATE TABLE LIKE</code> was treated differently by
        <code class="literal">libmysqld</code> than by the non-embedded server.
       (<a href="http://bugs.mysql.com/32063" target="_top">Bug#32063</a>)</p></li><li><p>
        Within a subquery, <code class="literal">UNION</code> was handled
        differently than at the top level, which could result in
        incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/32036" target="_top">Bug#32036</a>, <a href="http://bugs.mysql.com/32051" target="_top">Bug#32051</a>)</p></li><li><p>
        Changing the SQL mode to cause dates with “<span class="quote">zero</span>”
        parts to be considered invalid (such as
        <code class="literal">'1000-00-00'</code>) could result in indexed and
        non-indexed searches returning different results for a column
        that contained such dates.
       (<a href="http://bugs.mysql.com/31928" target="_top">Bug#31928</a>)</p></li><li><p>
        <code class="literal">ucs2</code> does not work as a client character set,
        but attempts to use it as such were not rejected. Now
        <code class="literal">character_set_client</code> cannot be set to
        <code class="literal">ucs2</code>. This also affects statements such as
        <code class="literal">SET NAMES</code> and <code class="literal">SET CHARACTER
        SET</code>.
       (<a href="http://bugs.mysql.com/31615" target="_top">Bug#31615</a>)</p></li><li><p>
        Killing a <code class="literal">CREATE TABLE ... LIKE</code> statement
        that was waiting for a name lock caused a server crash. When the
        statement was killed, the server attempted to release locks that
        were not held.
       (<a href="http://bugs.mysql.com/31479" target="_top">Bug#31479</a>)</p></li><li><p>
        <span><strong class="command">myisamchk --unpack</strong></span> could corrupt a table that
        when unpacked has static (fixed-length) row format.
       (<a href="http://bugs.mysql.com/31277" target="_top">Bug#31277</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms.
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a></p></li><li><p>
        Data in <code class="literal">BLOB</code> or <code class="literal">GEOMETRY</code>
        columns could be cropped when performing a
        <code class="literal">UNION</code> query.
       (<a href="http://bugs.mysql.com/31158" target="_top">Bug#31158</a>)</p></li><li><p>
        The server crashed in the parser when running out of memory.
        Memory handling in the parser has been improved to gracefully
        return an error when out-of-memory conditions occur in the
        parser.
       (<a href="http://bugs.mysql.com/31153" target="_top">Bug#31153</a>)</p></li><li><p>
        MySQL declares a <code class="literal">UNIQUE</code> key as a
        <code class="literal">PRIMARY</code> key if it doesn't have
        <code class="literal">NULL</code> columns and is not a partial key, and
        the <code class="literal">PRIMARY</code> key must alway be the first key.
        However, in some cases, a non-first key could be reported as
        <code class="literal">PRIMARY</code>, leading to an assert failure by
        <code class="literal">InnoDB</code>. This is fixed by correcting the key
        sort order.
       (<a href="http://bugs.mysql.com/31137" target="_top">Bug#31137</a>)</p></li><li><p>
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operations could cause
        a server crash for character sets such as
        <code class="literal">ucs2</code>. Now the arguments are converted to
        <code class="literal">utf8</code> if possible, to allow correct results to
        be produced if the resulting strings contain only 8-bit
        characters.
       (<a href="http://bugs.mysql.com/31081" target="_top">Bug#31081</a>)</p></li><li><p>
        Many nested subqueries in a single query could led to excessive
        memory consumption and possibly a crash of the server.
       (<a href="http://bugs.mysql.com/31048" target="_top">Bug#31048</a>)</p></li><li><p>
        The optimizer incorrectly optimized conditions out of the
        <code class="literal">WHERE</code> clause in some queries involving
        subqueries and indexed columns.
       (<a href="http://bugs.mysql.com/30788" target="_top">Bug#30788</a>)</p></li><li><p>
        Improper calculation of <a href="functions.html#operator_case"><code class="literal">CASE</code></a>
        expression results could lead to value truncation.
       (<a href="http://bugs.mysql.com/30782" target="_top">Bug#30782</a>)</p></li><li><p>
        A multiple-table <code class="literal">UPDATE</code> involving
        transactional and non-transactional tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/30763" target="_top">Bug#30763</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <span><strong class="command">mysqld</strong></span> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        The options available to the <code class="literal">CHECK TABLE</code>
        statement were also allowed in <code class="literal">OPTIMIZE TABLE</code>
        and <code class="literal">ANALYZE TABLE</code> statements, but caused
        corruption during their execution. These options were never
        supported for the these statements, and an error is now raised
        if you try to apply these options to these statements.
       (<a href="http://bugs.mysql.com/30495" target="_top">Bug#30495</a>)</p></li><li><p>
        When casting a string value to an integer, cases where the input
        string contained a decimal point and was long enough to overrun
        the <code class="literal">unsigned long long</code> type were not handled
        correctly. The position of the decimal point was not taken into
        account which resulted in miscalculated numbers and incorrect
        truncation to appropriate SQL data type limits.
       (<a href="http://bugs.mysql.com/30453" target="_top">Bug#30453</a>)</p></li><li><p>
        For <code class="literal">CREATE ... SELECT ... FROM</code>, where the
        resulting table contained indexes, adding
        <code class="literal">SQL_BUFFER_RESULT</code> to the
        <code class="literal">SELECT</code> part caused index corruption in the
        table.
       (<a href="http://bugs.mysql.com/30384" target="_top">Bug#30384</a>)</p></li><li><p>
        The optimizer made incorrect assumptions about the value of the
        <code class="literal">is_member</code> value for user-defined functions,
        sometimes resulting in incorrect ordering of UDF results.
       (<a href="http://bugs.mysql.com/30355" target="_top">Bug#30355</a>)</p></li><li><p>
        Some valid <code class="literal">euc-kr</code> characters having the
        second byte in the ranges <code class="literal">[0x41..0x5A]</code> and
        <code class="literal">[0x61..0x7A]</code> were rejected.
       (<a href="http://bugs.mysql.com/30315" target="_top">Bug#30315</a>)</p></li><li><p>
        Simultaneous <code class="literal">ALTER TABLE</code> statements for
        <code class="literal">BLACKHOLE</code> tables caused 100% CPU use due to
        locking problems.
       (<a href="http://bugs.mysql.com/30294" target="_top">Bug#30294</a>)</p></li><li><p>
        Tables with a <code class="literal">GEOMETRY</code> column could be marked
        as corrupt if you added a non-<code class="literal">SPATIAL</code> index
        on a <code class="literal">GEOMETRY</code> column.
       (<a href="http://bugs.mysql.com/30284" target="_top">Bug#30284</a>)</p></li><li><p>
        On some 64-bit systems, inserting the largest negative value
        into a <code class="literal">BIGINT</code> column resulted in incorrect
        data.
       (<a href="http://bugs.mysql.com/30069" target="_top">Bug#30069</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. The fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li><li><p>
        The <span><strong class="command">mysql</strong></span> client program now ignores Unicode
        byte order mark (BOM) characters at the beginning of input
        files. Previously, it read them and sent them to the server,
        resulting in a syntax error.
      </p><p>
        Presence of a BOM does not cause <span><strong class="command">mysql</strong></span> to
        change its default character set. To do that, invoke
        <span><strong class="command">mysql</strong></span> with an option such as
        <code class="option">--default-character-set=utf8</code>.
       (<a href="http://bugs.mysql.com/29323" target="_top">Bug#29323</a>)</p></li><li><p>
        For transactional tables, an error during a multiple-table
        <code class="literal">DELETE</code> statement did not roll back the
        statement.
       (<a href="http://bugs.mysql.com/29136" target="_top">Bug#29136</a>)</p></li><li><p>
        Denormalized double-precision numbers cannot be handled properly
        by old MIPS pocessors. For IRIX, this is now handled by enabling
        a mode to use a software workaround.
       (<a href="http://bugs.mysql.com/29085" target="_top">Bug#29085</a>)</p></li><li><p>
        When doing a <code class="literal">DELETE</code> on table that involved a
        <code class="literal">JOIN</code> with <code class="literal">MyISAM</code> or
        <code class="literal">MERGE</code> tables and the <code class="literal">JOIN</code>
        referred to the same table, the operation could fail reporting
        <code class="literal">ERROR 1030 (HY000): Got error 134 from storage
        engine</code>. This was because scans on the table contents
        would change because of rows that had already been deleted.
       (<a href="http://bugs.mysql.com/28837" target="_top">Bug#28837</a>)</p></li><li><p>
        A race condition between killing a statement and the thread
        executing the statement could lead to a situation such that the
        binary log contained an event indicating that the statement was
        killed, whereas the statement actually executed to completion.
       (<a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>)</p></li><li><p>
        Some queries using the
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> function failed to
        return either a result or an error to the client, causing it to
        hang. This was due to the fact that there was no check to insure
        that both arguments to this function were constant expressions.
       (<a href="http://bugs.mysql.com/27545" target="_top">Bug#27545</a>, <a href="http://bugs.mysql.com/32559" target="_top">Bug#32559</a>)</p></li><li><p>
        <span><strong class="command">mysqld</strong></span> sometimes miscalculated the number of
        digits required when storing a floating-point number in a
        <code class="literal">CHAR</code> column. This caused the value to be
        truncated, or (when using a debug build) caused the server to
        crash.
       (<a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>)</p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a></p></li><li><p>
        If the expected precision of an arithmetic expression exceeded
        the maximum precision supported by MySQL, the precision of the
        result was reduced by an unpredictable or arbitrary amount,
        rather than to the maximum precision. In some cases, exceeding
        the maximum supported precision could also lead to a crash of
        the server.
       (<a href="http://bugs.mysql.com/24907" target="_top">Bug#24907</a>)</p></li><li><p>
        Zero-padding of exponent values was not the same across
        platforms.
       (<a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>)</p></li><li><p>
        If an <code class="literal">INSERT ... SELECT</code> statement is
        executed, and no automatically generated value is successfully
        inserted, then
        <a href="apis.html#mysql-insert-id" title="23.2.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns the
        ID of the last inserted row.
      </p><p>
        If no automatically generated value is successfully inserted,
        then <a href="apis.html#mysql-insert-id" title="23.2.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> returns
        0.
       (<a href="http://bugs.mysql.com/9481" target="_top">Bug#9481</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-52"></a>C.1.6. Release Notes for  MySQL Enterprise 5.0.52 [MRU] (30 November 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.50).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <span><strong class="command">mysqldump</strong></span> produces a <code class="literal">-- Dump
        completed on <em class="replaceable"><code>DATE</code></em></code> comment
        at the end of the dump if <code class="option">--comments</code> is given.
        The date causes dump files for identical data take at different
        times to appear to be different. The new options
        <code class="option">--dump-date</code> and
        <code class="option">--skip-dump-date</code> control whether the date is
        added to the comment. <code class="option">--skip-dump-date</code>
        suppresses date printing. The default is
        <code class="option">--dump-date</code> (include the date in the comment).
       (<a href="http://bugs.mysql.com/31077" target="_top">Bug#31077</a>)</p></li><li><p>
        The default value of the <code class="literal">connect_timeout</code>
        system variable was increased from 5 to 10 seconds. This might
        help in cases where clients frequently encounter errors of the
        form <code class="literal">Lost connection to MySQL server at
        '<em class="replaceable"><code>XXX</code></em>', system error:
        <em class="replaceable"><code>errno</code></em></code>.
       (<a href="http://bugs.mysql.com/28359" target="_top">Bug#28359</a>)</p></li><li><p>
        The use on InnoDB hash indexes now can be controlled by setting
        the new <code class="literal">innodb_adaptive_hash_index</code> system
        variable at server startup. By default, this variable is
        enabled. See <a href="storage-engines.html#innodb-adaptive-hash" title="13.2.13.3. Adaptive Hash Indexes">Section 13.2.13.3, “Adaptive Hash Indexes”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <code class="literal">RENAME TABLE</code> against a table with
        explicit <code class="literal">DATA DIRECTORY</code> and <code class="literal">INDEX
        DIRECTORY</code> options can be used to overwrite system
        table information by replacing the symbolic link points. the
        file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">ALTER VIEW</code> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <code class="literal">ALTER VIEW</code> is allowed only to
        the original definer or users with the <code class="literal">SUPER</code>
        privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Several functions and operators returned an incorrect result
        type (string) when given <code class="literal">DATE</code> parameters:
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>,
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a>. These now aggregate
        <code class="literal">DATE</code> (or <code class="literal">DATETIME</code>)
        parameters to produce a <code class="literal">DATE</code> (or
        <code class="literal">DATETIME</code> result. In addition, the result type
        of the <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> function is
        now <code class="literal">DATETIME</code> by default.
       (<a href="http://bugs.mysql.com/27216" target="_top">Bug#27216</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An uninitialized variable in the <code class="literal">NDB</code> storage
        engine code led to <code class="literal">AUTO_INCREMENT</code> failures
        when the server was compiled with <span><strong class="command">gcc</strong></span> 4.2.1.
       (<a href="http://bugs.mysql.com/31848" target="_top">Bug#31848</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a></p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An error with an <code class="literal">if</code> statement in
        <code class="filename">sql/ha_ndbcluster.cc</code> could potentially lead
        to an infinite loop in case of failure when working with
        <code class="literal">AUTO_INCREMENT</code> columns in
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/31810" target="_top">Bug#31810</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine code was not safe for
        strict-alias optimization in <span><strong class="command">gcc</strong></span> 4.2.1.
       (<a href="http://bugs.mysql.com/31761" target="_top">Bug#31761</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Transaction timeouts were not handled well in some
        circumstances, leading to excessive number of transactions being
        aborted unnecessarily.
       (<a href="http://bugs.mysql.com/30379" target="_top">Bug#30379</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, the cluster managment server logged entries
        multiple times following a restart of <span><strong class="command">mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/29565" target="_top">Bug#29565</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An interpreted program of sufficient size and complexity could
        cause all cluster data nodes to shut down due to buffer
        overruns.
       (<a href="http://bugs.mysql.com/29390" target="_top">Bug#29390</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> could sometimes fail on
        <code class="literal">NDB</code> tables due to the use of unitialized data
        when checking for duplicate keys to be ignored.
       (<a href="http://bugs.mysql.com/25817" target="_top">Bug#25817</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        The rules for valid column names were being applied differently
        for base tables and views.
       (<a href="http://bugs.mysql.com/32496" target="_top">Bug#32496</a>)</p></li><li><p>
        The default grant tables on Windows contained information for
        host <code class="literal">production.mysql.com</code>, which should not
        be there.
       (<a href="http://bugs.mysql.com/32219" target="_top">Bug#32219</a>)</p></li><li><p>
        Under certain conditions, the presence of a <code class="literal">GROUP
        BY</code> clause could cause an <code class="literal">ORDER BY</code>
        clause to be ignored.
       (<a href="http://bugs.mysql.com/32202" target="_top">Bug#32202</a>)</p></li><li><p>
        The server crashed on optimizations involving a join of
        <code class="literal">INT</code> and <code class="literal">MEDIUMINT</code> columns
        and a system variable in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/32103" target="_top">Bug#32103</a>)</p></li><li><p>
        User-defined functions are not loaded if the server is started
        with the <code class="option">--skip-grant-tables</code> option, but the
        server did not properly handle this case and issued an
        <span class="errortext">Out of memory</span> error message instead.
       (<a href="http://bugs.mysql.com/32020" target="_top">Bug#32020</a>)</p></li><li><p>
        A column with malformed multi-byte characters could cause the
        full-text parser to go into an infinite loop.
       (<a href="http://bugs.mysql.com/31950" target="_top">Bug#31950</a>)</p></li><li><p>
        In debug builds, testing the result of an <code class="literal">IN</code>
        subquery against <code class="literal">NULL</code> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31884" target="_top">Bug#31884</a>)</p></li><li><p>
        Comparison results for <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a>
        were different from those for operators like
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a> and
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>
        for <code class="literal">DATETIME</code>-like values with trailing extra
        characters such as <code class="literal">'2007-10-01 00:00:00
        GMT-6'</code>. <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a>
        treated the values as <code class="literal">DATETIME</code>, whereas the
        other operators performed a binary-string comparison. Now they
        all uniformly use a <code class="literal">DATETIME</code> comparison, but
        generate warnings for values with trailing garbage.
       (<a href="http://bugs.mysql.com/31800" target="_top">Bug#31800</a>)</p></li><li><p>
        With <code class="literal">ONLY_FULL_GROUP_BY</code> SQL mode enabled,
        queries such as <code class="literal">SELECT a FROM t1 HAVING
        COUNT(*)&gt;2</code> were not being rejected as they should
        have been.
       (<a href="http://bugs.mysql.com/31794" target="_top">Bug#31794</a>)</p></li><li><p>
        The server could crash during <code class="literal">filesort</code> for
        <code class="literal">ORDER BY</code> based on expressions with
        <a href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> or
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a> if those functions
        returned <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/31758" target="_top">Bug#31758</a>)</p></li><li><p>
        For a fatal error during filesort in
        <code class="literal">find_all_keys()</code>, the error was returned
        without the necessary handler uninitialization, causing an
        assertion failure. Fixed by uninitializing the handler before
        returning the error.
       (<a href="http://bugs.mysql.com/31742" target="_top">Bug#31742</a>)</p></li><li><p>
        The examined-rows count was not incremented for
        <code class="literal">const</code> queries.
       (<a href="http://bugs.mysql.com/31700" target="_top">Bug#31700</a>)</p></li><li><p>
        The <a href="apis.html#mysql-change-user" title="23.2.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was subject to buffer overflow.
       (<a href="http://bugs.mysql.com/31669" target="_top">Bug#31669</a>)</p></li><li><p>
        For <code class="literal">SELECT ... INTO OUTFILE</code>, if the
        <code class="literal">ENCLOSED BY</code> string is empty and the
        <code class="literal">FIELDS TERMINATED BY</code> string started with a
        special character (one of <code class="literal">n</code>,
        <code class="literal">t</code>, <code class="literal">r</code>,
        <code class="literal">b</code>, <code class="literal">0</code>,
        <code class="literal">Z</code>, or <code class="literal">N</code>), every occurrence
        of the character within field values would be duplicated.
       (<a href="http://bugs.mysql.com/31663" target="_top">Bug#31663</a>)</p></li><li><p>
        <code class="literal">SHOW COLUMNS</code> and <code class="literal">DESCRIBE</code>
        displayed <code class="literal">null</code> as the column type for a view
        with no valid definer. This caused <span><strong class="command">mysqldump</strong></span>
        to produce a non-reloadable dump file for the view.
       (<a href="http://bugs.mysql.com/31662" target="_top">Bug#31662</a>)</p></li><li><p>
        The <span><strong class="command">mysqlbug</strong></span> script did not include the
        correct values of <code class="literal">CFLAGS</code> and
        <code class="literal">CXXFLAGS</code> that were used to configure the
        distribution.
       (<a href="http://bugs.mysql.com/31644" target="_top">Bug#31644</a>)</p></li><li><p>
        A buffer used when setting variables was not dimensioned to
        accommodate the trailing <code class="literal">'\0'</code> byte, so a
        single-byte buffer overrun was possible.
       (<a href="http://bugs.mysql.com/31588" target="_top">Bug#31588</a>)</p></li><li><p>
        <code class="literal">HAVING</code> could treat lettercase of table
        aliases incorrectly if <code class="literal">lower_case_table_names</code>
        was enabled.
       (<a href="http://bugs.mysql.com/31562" target="_top">Bug#31562</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a> introduced a problem such that a
        <code class="literal">NULL</code> thread handler could be used during a
        rollback operation. This problem is unlikely to be seen in
        practice.
       (<a href="http://bugs.mysql.com/31517" target="_top">Bug#31517</a>)</p></li><li><p>
        The length of the result from
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could be calculated
        incorrectly because the sign of the result was not taken into
        account.
       (<a href="http://bugs.mysql.com/31471" target="_top">Bug#31471</a>)</p></li><li><p>
        Queries that used the <code class="literal">ref</code> access method or
        index-based subquery execution over indexes that have
        <code class="literal">DECIMAL</code> columns could fail with an error
        <code class="literal">Column <em class="replaceable"><code>col_name</code></em> cannot be
        null</code>.
       (<a href="http://bugs.mysql.com/31450" target="_top">Bug#31450</a>)</p></li><li><p>
        <code class="literal">SELECT 1 REGEX NULL</code> caused an assertion
        failure for debug servers.
       (<a href="http://bugs.mysql.com/31440" target="_top">Bug#31440</a>)</p></li><li><p>
        Executing <code class="literal">RENAME</code> while tables were open for
        use with <code class="literal">HANDLER</code> statements could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31409" target="_top">Bug#31409</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> tried to create files in a
        directory where it could not be expected to have write
        permission. <span><strong class="command">mysqltest</strong></span> created
        <code class="filename">.reject</code> files in a directory other than the
        one where test results go.
       (<a href="http://bugs.mysql.com/31398" target="_top">Bug#31398</a>)</p></li><li><p>
        <code class="literal">DROP USER</code> caused an increase in memory usage.
       (<a href="http://bugs.mysql.com/31347" target="_top">Bug#31347</a>)</p></li><li><p>
        For an almost-full <code class="literal">MyISAM</code> table, an insert
        that failed could leave the table in a corrupt state.
       (<a href="http://bugs.mysql.com/31305" target="_top">Bug#31305</a>)</p></li><li><p>
        <a href="functions.html#function_convert"><code class="literal">CONVERT(<em class="replaceable"><code>val</code></em>,
        DATETIME)</code></a> would fail on invalid input, but processing
        was not aborted for the <code class="literal">WHERE</code> clause, leading
        to a server crash.
       (<a href="http://bugs.mysql.com/31253" target="_top">Bug#31253</a>)</p></li><li><p>
        Allocation of an insufficiently large group-by buffer following
        creation of a temporary table could lead to a server crash.
       (<a href="http://bugs.mysql.com/31249" target="_top">Bug#31249</a>)</p></li><li><p>
        Use of <code class="literal">DECIMAL(<em class="replaceable"><code>n</code></em>,
        <em class="replaceable"><code>n</code></em>) ZEROFILL</code> in
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31227" target="_top">Bug#31227</a>)</p></li><li><p>
        WIth small values of <code class="literal">myisam_sort_buffer_size</code>,
        <code class="literal">REPAIR TABLE</code> for <code class="literal">MyISAM</code>
        tables could cause a server crash.
       (<a href="http://bugs.mysql.com/31174" target="_top">Bug#31174</a>)</p></li><li><p>
        Use of the <code class="literal">@@hostname</code> system variable in
        inserts in <code class="filename">mysql_system_tables_data.sql</code> did
        not replicate. The workaround is to select its value into a user
        variable (which does replicate) and insert that.
       (<a href="http://bugs.mysql.com/31167" target="_top">Bug#31167</a>)</p></li><li><p>
        If <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> returned
        <code class="literal">NULL</code> when used in an <code class="literal">ORDER
        BY</code> that was evaluated using
        <code class="literal">filesort</code>, a server crash could result.
       (<a href="http://bugs.mysql.com/31160" target="_top">Bug#31160</a>)</p></li><li><p>
        Full-text searches on <code class="literal">ucs2</code> columns caused a
        server crash. (<code class="literal">FULLTEXT</code> indexes on
        <code class="literal">ucs2</code> columns cannot be used, but it should be
        possible to perform <code class="literal">IN BOOLEAN MODE</code> searches
        on <code class="literal">ucs2</code> columns without a crash.)
       (<a href="http://bugs.mysql.com/31159" target="_top">Bug#31159</a>)</p></li><li><p>
        An assertion designed to detect a bug in the
        <code class="literal">ROLLUP</code> implementation would incorrectly be
        triggered when used in a subquery context with non-cacheable
        statements.
       (<a href="http://bugs.mysql.com/31156" target="_top">Bug#31156</a>)</p></li><li><p>
        Selecting spatial types in a <code class="literal">UNION</code> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/31155" target="_top">Bug#31155</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> caused an
        assertion failure.
       (<a href="http://bugs.mysql.com/31154" target="_top">Bug#31154</a>)</p></li><li><p>
        <code class="literal">GROUP BY NULL WITH ROLLUP</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>)</p><p>See also <a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a></p></li><li><p>
        Internal conversion routines could fail for several multi-byte
        character sets (<code class="literal">big5</code>,
        <code class="literal">cp932</code>, <code class="literal">euckr</code>,
        <code class="literal">gb2312</code>, <code class="literal">sjis</code>) for empty
        strings or during evaluation of <a href="functions.html#operator_sounds-like"><code class="literal">SOUNDS
        LIKE</code></a>.
       (<a href="http://bugs.mysql.com/31069" target="_top">Bug#31069</a>, <a href="http://bugs.mysql.com/31070" target="_top">Bug#31070</a>)</p></li><li><p>
        The <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function and the
        <code class="literal">%</code> operator crashed the server for a divisor
        less than 1 with a very long fractional part.
       (<a href="http://bugs.mysql.com/31019" target="_top">Bug#31019</a>)</p></li><li><p>
        On Windows, the <code class="literal">pthread_mutex_trylock()</code>
        implementation was incorrect.
       (<a href="http://bugs.mysql.com/30992" target="_top">Bug#30992</a>)</p></li><li><p>
        A character set introducer followed by a hexadecimal or
        bit-value literal did not check its argument and could return an
        ill-formed result for invalid input.
       (<a href="http://bugs.mysql.com/30986" target="_top">Bug#30986</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        <em class="replaceable"><code>charset</code></em>)</code></a> did not check its
        argument and could return an ill-formed result for invalid
        input.
       (<a href="http://bugs.mysql.com/30982" target="_top">Bug#30982</a>)</p></li><li><p>
        The result from
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        ucs2</code></a>) did not add a leading 0x00 byte for input
        strings with an odd number of bytes.
       (<a href="http://bugs.mysql.com/30981" target="_top">Bug#30981</a>)</p></li><li><p>
        The <a href="spatial-extensions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> function
        could cause a server crash if the first argument was
        <code class="literal">NULL</code> or the empty string.
       (<a href="http://bugs.mysql.com/30955" target="_top">Bug#30955</a>)</p></li><li><p>
        <a href="functions.html#function_makedate"><code class="literal">MAKEDATE()</code></a> incorrectly moved
        year values in the 100-200 range into the 1970-2069 range. (This
        is legitimate for 00-99, but three-digit years should be used
        unchanged.)
       (<a href="http://bugs.mysql.com/30951" target="_top">Bug#30951</a>)</p></li><li><p>
        When invoked with constant arguments,
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> could use a cached
        value for the format string and return incorrect results.
       (<a href="http://bugs.mysql.com/30942" target="_top">Bug#30942</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> returned
        <code class="literal">','</code> rather than an empty string when the
        argument column contained only empty strings.
       (<a href="http://bugs.mysql.com/30897" target="_top">Bug#30897</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, lookups for
        <code class="literal">NULL</code> values in <code class="literal">BTREE</code>
        indexes could return incorrect results.
       (<a href="http://bugs.mysql.com/30885" target="_top">Bug#30885</a>)</p></li><li><p>
        Calling <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> with
        non-constant arguments triggered an assertion failure.
        Non-constant arguments are now disallowed.
       (<a href="http://bugs.mysql.com/30832" target="_top">Bug#30832</a>)</p></li><li><p>
        For a spatial column with a regular
        (non-<code class="literal">SPATIAL</code>) index, queries failed if the
        optimizer tried to use the index.
       (<a href="http://bugs.mysql.com/30825" target="_top">Bug#30825</a>)</p></li><li><p>
        Values for the <code class="option">--tc-heuristic-recover</code> option
        incorrectly were treated as values for the
        <code class="option">--myisam-stats-method</code> option.
       (<a href="http://bugs.mysql.com/30821" target="_top">Bug#30821</a>)</p></li><li><p>
        On Windows, the <code class="literal">pthread_mutex_trylock()</code>
        implementation was incorrect. One symptom was that invalidating
        the query cache could cause a server crash.
       (<a href="http://bugs.mysql.com/30768" target="_top">Bug#30768</a>)</p></li><li><p>
        Under some circumstances, <code class="literal">CREATE TABLE ...
        SELECT</code> could crash the server or incorrectly report
        that the table row size was too large.
       (<a href="http://bugs.mysql.com/30736" target="_top">Bug#30736</a>)</p></li><li><p>
        Using the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> function to select one
        part of a multi-part key could cause a crash when the function
        result was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/30715" target="_top">Bug#30715</a>)</p></li><li><p>
        The optimizer could ignore <code class="literal">ORDER BY</code> in cases
        when the result set is ordered by <code class="literal">filesort</code>,
        resulting in rows being returned in incorrect order.
       (<a href="http://bugs.mysql.com/30666" target="_top">Bug#30666</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables could not exceed 4294967295
        (2^32 - 1) rows on Windows.
       (<a href="http://bugs.mysql.com/30638" target="_top">Bug#30638</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, <code class="literal">DELETE</code>
        statements that remove rows based on an index read could fail to
        remove all matching rows.
       (<a href="http://bugs.mysql.com/30590" target="_top">Bug#30590</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on an expression of the form
        <code class="literal"><em class="replaceable"><code>timestamp_col</code></em> DIV
        <em class="replaceable"><code>number</code></em></code> caused a server
        crash due to incorrect calculation of number of decimals.
       (<a href="http://bugs.mysql.com/30587" target="_top">Bug#30587</a>)</p></li><li><p>
        When expanding a <code class="literal">*</code> in a
        <code class="literal">USING</code> or <code class="literal">NATURAL</code> join, the
        check for table access for both tables in the join was done
        using only the grant information of the first table.
       (<a href="http://bugs.mysql.com/30468" target="_top">Bug#30468</a>)</p></li><li><p>
        Versions of <span><strong class="command">mysqldump</strong></span> from MySQL 4.1 or
        higher tried to use <code class="literal">START TRANSACTION WITH CONSISTENT
        SNAPSHOT</code> if the <code class="option">--single-transaction</code>
        and <code class="option">--master-data</code> options were given, even with
        servers older than 4.1 that do not support consistent snapshots.
       (<a href="http://bugs.mysql.com/30444" target="_top">Bug#30444</a>)</p></li><li><p>
        Setting certain values on a table using a spatial index could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/30286" target="_top">Bug#30286</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> tables are intended
        for internal use, but could be accessed by using
        <code class="literal">SHOW</code> statements.
       (<a href="http://bugs.mysql.com/30079" target="_top">Bug#30079</a>)</p></li><li><p>
        Specifying the <code class="option">--without-geometry</code> option for
        <span><strong class="command">configure</strong></span> caused server compilation to fail.
       (<a href="http://bugs.mysql.com/29972" target="_top">Bug#29972</a>)</p></li><li><p>
        Under some circumstances, a UDF initialization function could be
        passed incorrect argument lengths.
       (<a href="http://bugs.mysql.com/29804" target="_top">Bug#29804</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not find <code class="literal">nss</code>
        on some Linux platforms.
       (<a href="http://bugs.mysql.com/29658" target="_top">Bug#29658</a>)</p></li><li><p>
        The <code class="literal">log</code> and
        <code class="literal">log_slow_queries</code> system variables were
        displayed by <code class="literal">SHOW VARIABLES</code> but could not be
        accessed in expressions as <code class="literal">@@log</code> and
        <code class="literal">@@log_slow_queries</code>. Also, attempting to set
        them with <code class="literal">SET</code> produced an incorrect
        <code class="literal">Unknown system variable</code> message. Now these
        variables can be accessed in expressions and attempting to set
        their values produces an error message that the variable is read
        only.
       (<a href="http://bugs.mysql.com/29131" target="_top">Bug#29131</a>)</p></li><li><p>
        <code class="literal">SHOW VARIABLES</code> did not display the
        <code class="literal">relay_log</code>,
        <code class="literal">relay_log_index</code>, or
        <code class="literal">relay_log_info_file</code> system variables.
       (<a href="http://bugs.mysql.com/28893" target="_top">Bug#28893</a>)</p></li><li><p>
        On Windows, <span><strong class="command">mysql_upgrade</strong></span> created temporary
        files in <code class="filename">C:\</code> and did not clean them up.
       (<a href="http://bugs.mysql.com/28774" target="_top">Bug#28774</a>)</p></li><li><p>
        Index hints specified in view definitions were ignored when
        using the view to select from the base table.
       (<a href="http://bugs.mysql.com/28702" target="_top">Bug#28702</a>)</p></li><li><p>
        Views do not have indexes, so index hints do not apply. Use of
        index hints when selecting from a view is now disallowed.
       (<a href="http://bugs.mysql.com/28701" target="_top">Bug#28701</a>)</p></li><li><p>
        After changing the SQL mode to a restrictive value that would
        make already-inserted dates in a column be considered invalid,
        searches returned different results depending on whether the
        column was indexed.
       (<a href="http://bugs.mysql.com/28687" target="_top">Bug#28687</a>)</p></li><li><p>
        The result from <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> was
        incorrectly assumed in some contexts to return a single-byte
        result.
       (<a href="http://bugs.mysql.com/28550" target="_top">Bug#28550</a>)</p></li><li><p>
        The parser confused user-defined function (UDF) and stored
        function creation for <code class="literal">CREATE FUNCTION</code> and
        required that there be a default database when creating UDFs,
        although there is no such requirement.
       (<a href="http://bugs.mysql.com/28318" target="_top">Bug#28318</a>, <a href="http://bugs.mysql.com/29816" target="_top">Bug#29816</a>)</p></li><li><p>
        The result of a comparison between <code class="literal">VARBINARY</code>
        and <code class="literal">BINARY</code> columns differed depending on
        whether the <code class="literal">VARBINARY</code> column was indexed.
       (<a href="http://bugs.mysql.com/28076" target="_top">Bug#28076</a>)</p></li><li><p>
        The metadata in some <code class="literal">MYSQL_FIELD</code> members
        could be incorrect when a temporary table was used to evaluate a
        query.
       (<a href="http://bugs.mysql.com/27990" target="_top">Bug#27990</a>)</p></li><li><p>
        <span><strong class="command">comp_err</strong></span> created files with permissions such
        that they might be inaccessible during <span><strong class="command">make
        install</strong></span> operations.
       (<a href="http://bugs.mysql.com/27789" target="_top">Bug#27789</a>)</p></li><li><p>
        It was possible to create a view having a column whose name
        consisted of an empty string or space characters only.
       (<a href="http://bugs.mysql.com/27695" target="_top">Bug#27695</a>)</p><p>See also <a href="http://bugs.mysql.com/31202" target="_top">Bug#31202</a></p></li><li><p>
        The anonymous accounts were not being created during MySQL
        installation.
       (<a href="http://bugs.mysql.com/27692" target="_top">Bug#27692</a>)</p></li><li><p>
        Hostnames sometimes were treated as case sensitive in
        account-management statements (<code class="literal">CREATE USER</code>,
        <code class="literal">GRANT</code>, <code class="literal">REVOKE</code>, and so
        forth).
       (<a href="http://bugs.mysql.com/19828" target="_top">Bug#19828</a>)</p></li><li><p>
        The <code class="literal">readline</code> library has been updated to
        version 5.2. This addresses issues in the
        <span><strong class="command">mysql</strong></span> client where history and editing within
        the client would fail to work as expected.
       (<a href="http://bugs.mysql.com/18431" target="_top">Bug#18431</a>)</p></li><li><p>
        The <code class="literal">Aborted_clients</code> status variable was
        incremented twice if a client exited without calling
        <a href="apis.html#mysql-close" title="23.2.3.5. mysql_close()"><code class="literal">mysql_close()</code></a>.
       (<a href="http://bugs.mysql.com/16918" target="_top">Bug#16918</a>)</p></li><li><p>
        Clients were ignoring the TCP/IP port number specified as the
        default port via the --with-tcp-port configuration option.
       (<a href="http://bugs.mysql.com/15327" target="_top">Bug#15327</a>)</p></li><li><p>
        Values of types <code class="literal">REAL ZEROFILL</code>,
        <code class="literal">DOUBLE ZEROFILL</code>, <code class="literal">FLOAT
        ZEROFILL</code>, were not zero-filled when converted to a
        character representation in the C prepared statement API.
       (<a href="http://bugs.mysql.com/11589" target="_top">Bug#11589</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> stripped comments from statements sent
        to the server. Now the <code class="option">--comments</code> or
        <code class="option">--skip-comments</code> option can be used to control
        whether to retain or strip comments. The default is
        <code class="option">--skip-comments</code>.
       (<a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a>, <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a>)</p></li><li><p>
        Several buffer-size system variables were either being handled
        incorrectly for large values (for settings larger than 4GB, they
        were truncated to values less than 4GB without a warning), or
        were limited unnecessarily to 4GB even on 64-bit systems. The
        following changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For <code class="literal">key_buffer_size</code>, values larger than
            4GB are allowed on 64-bit platforms (except Windows, for
            which large values are truncated to 4GB with a warning).
          </p></li><li><p>
            For <code class="literal">join_buffer_size</code>,
            <code class="literal">sort_buffer_size</code>, and
            <code class="literal">myisam_sort_buffer_size</code>, values are
            limited to 4GB on all platforms. Larger values are truncated
            to 4GB with a warning.
          </p></li></ul></div><p>
        In addition, settings for <code class="literal">read_buffer_size</code>
        and <code class="literal">read_rnd_buffer_size</code> are limited to 2GB
        on all platforms. Larger values are truncated to 2GB with a
        warning.
       (<a href="http://bugs.mysql.com/5731" target="_top">Bug#5731</a>, <a href="http://bugs.mysql.com/29419" target="_top">Bug#29419</a>, <a href="http://bugs.mysql.com/29446" target="_top">Bug#29446</a>)</p></li><li><p>
        Executing <code class="literal">DISABLE KEYS</code> and <code class="literal">ENABLE
        KEYS</code> on a non-empty table would cause the size of the
        index file for the table to grow considerable. This was because
        the <code class="literal">DISABLE KEYS</code> operation would only mark
        the existing index, without deleting the index blocks. The
        <code class="literal">ENABLE KEYS</code> operation would re-create the
        index, adding new blocks, while the previous index blocks would
        remain. Existing indexes are now dropped and recreated when the
        <code class="literal">ENABLE KEYS</code> statement is executed.
       (<a href="http://bugs.mysql.com/4692" target="_top">Bug#4692</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-50sp1a"></a>C.1.7. Release Notes for  MySQL Enterprise 5.0.50sp1a [QSP] (11 January 2008)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This is a bugfix release that replaces MySQL 5.0.50sp1.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-50sp1"></a>C.1.8. Release Notes for  MySQL Enterprise 5.0.50sp1 [QSP] (12 December 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.50).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <code class="literal">RENAME TABLE</code> against a table with
        explicit <code class="literal">DATA DIRECTORY</code> and <code class="literal">INDEX
        DIRECTORY</code> options can be used to overwrite system
        table information by replacing the symbolic link points. the
        file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">ALTER VIEW</code> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <code class="literal">ALTER VIEW</code> is allowed only to
        the original definer or users with the <code class="literal">SUPER</code>
        privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p>
        A build problem introduced in MySQL 5.0.52 was resolved: The x86
        32-bit Intel <span><strong class="command">icc</strong></span>-compiled server binary had
        unwanted dependences on Intel <span><strong class="command">icc</strong></span> runtime
        libraries.
       (<a href="http://bugs.mysql.com/32514" target="_top">Bug#32514</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <span><strong class="command">mysqld</strong></span> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> had a race condition for an adaptive
        hash rw-lock waiting for an X-lock. The fix may also provide
        significant speed improvements on systems experiencing problems
        with contention for the adaptive hash index.
       (<a href="http://bugs.mysql.com/29560" target="_top">Bug#29560</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-50"></a>C.1.9. Release Notes for  MySQL Enterprise 5.0.50 [MRU] (19 October 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.48).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The parser accepted statements that contained <code class="literal">/* ...
        */</code> that were not properly closed with
        <code class="literal">*/</code>, such as <code class="literal">SELECT 1 /* +
        2</code>. Statements that contain unclosed
        <code class="literal">/*</code>-comments now are rejected with a syntax
        error.
      </p><p>
        This fix has the potential to cause incompatibilities. Because
        of <a href="http://bugs.mysql.com/26302" target="_top">Bug#26302</a>, which caused the trailing <code class="literal">*/</code>
        to be truncated from comments in views, stored routines,
        triggers, and events, it is possible that objects of those types
        may have been stored with definitions that now will be rejected
        as syntactically invalid. Such objects should be dropped and
        re-created so that their definitions do not contain truncated
        comments. If a stored object definition contains only a single
        statement (does not use a <code class="literal">BEGIN ... END</code>
        block) and contains a comment within the statement, the comment
        should be moved to follow the statement or the object should be
        rewritten to use a <code class="literal">BEGIN ... END</code> block. For
        example, this statement:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1 /* my comment */ ;
</pre><p>
        Can be rewritten in either of these ways:
      </p><pre class="programlisting">CREATE PROCEDURE p() SELECT 1; /* my comment */
CREATE PROCEDURE p() BEGIN SELECT 1 /* my comment */ ; END;
</pre><p>(<a href="http://bugs.mysql.com/28779" target="_top">Bug#28779</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Mapping of <code class="literal">NDB</code> error codes to MySQL storage
        engine error codes has been improved.
       (<a href="http://bugs.mysql.com/28423" target="_top">Bug#28423</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from the cluster management client showing the
        progress of data node starts has been improved.
       (<a href="http://bugs.mysql.com/23354" target="_top">Bug#23354</a>)</p></li><li><p>
        Server parser performance was improved for expression parsing by
        lowering the number of state transitions and reductions needed.
       (<a href="http://bugs.mysql.com/30625" target="_top">Bug#30625</a>)</p></li><li><p>
        Server parser performance was improved for boolean expressions.
       (<a href="http://bugs.mysql.com/30237" target="_top">Bug#30237</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The file <code class="filename">mysqld.exe</code> was mistakenly included
        in binary distributions between MySQL 5.0.42 and 5.0.48. You
        should use <code class="filename">mysqld-nt.exe</code>.
       (<a href="http://bugs.mysql.com/32197" target="_top">Bug#32197</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Some commercial MySQL Cluster RPM packages included support for
        the <code class="literal">InnoDB</code> storage engine.
        (<code class="literal">InnoDB</code> is not part of the standard
        commercial MySQL Cluster offering.)
       (<a href="http://bugs.mysql.com/31989" target="_top">Bug#31989</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to restore a backup made on a cluster host using one
        endian to a machine using the other endian could cause the
        cluster to fail.
       (<a href="http://bugs.mysql.com/29674" target="_top">Bug#29674</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Reads on <code class="literal">BLOB</code> columns were not locked when
        they needed to be to guarantee consistency.
       (<a href="http://bugs.mysql.com/29102" target="_top">Bug#29102</a>)</p><p>See also <a href="http://bugs.mysql.com/31482" target="_top">Bug#31482</a></p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query using joins between several large tables and requiring
        unique index lookups failed to complete, eventually returning
        <span class="errortext">Uknown Error</span> after a very long period of
        time. This occurred due to inadequate handling of instances
        where the Transaction Coordinator ran out of
        <code class="literal">TransactionBufferMemory</code>, when the cluster
        should have returned NDB error code 4012 (<span class="errortext">Request
        ndbd time-out</span>).
       (<a href="http://bugs.mysql.com/28804" target="_top">Bug#28804</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The description of the <code class="option">--print</code> option provided
        in the output from <span><strong class="command">ndb_restore <code class="option">--help</code>
        </strong></span> was incorrect.
       (<a href="http://bugs.mysql.com/27683" target="_top">Bug#27683</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid subselect on an <code class="literal">NDB</code> table could
        cause <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/27494" target="_top">Bug#27494</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An attempt to perform a <code class="literal">SELECT ... FROM
        INFORMATION_SCHEMA.TABLES</code> whose result included
        information about <code class="literal">NDB</code> tables for which the
        user had no privileges crashed the MySQL Server on which the
        query was performed.
       (<a href="http://bugs.mysql.com/26793" target="_top">Bug#26793</a>)</p></li><li><p>
        When a <code class="literal">TIMESTAMP</code> with a non-zero time part
        was converted to a <code class="literal">DATE</code> value, no warning was
        generated. This caused index lookups to assume that this is a
        valid conversion and was returning rows that match a comparison
        between a <code class="literal">TIMESTAMP</code> value and a
        <code class="literal">DATE</code> keypart. Now a warning is generated so
        that <code class="literal">TIMESTAMP</code> with a non-zero time part will
        not match <code class="literal">DATE</code> values.
       (<a href="http://bugs.mysql.com/31221" target="_top">Bug#31221</a>)</p></li><li><p>
        A server crash could occur when a
        non-<code class="literal">DETERMINISTIC</code> stored function was used in
        a <code class="literal">GROUP BY</code> clause.
       (<a href="http://bugs.mysql.com/31035" target="_top">Bug#31035</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table if a
        <code class="literal">SELECT</code> was ordered by the primary key and
        also had a <code class="literal">WHERE field = value</code> clause on a
        different field that was indexed, a <code class="literal">DESC</code>
        order instruction would be ignored.
       (<a href="http://bugs.mysql.com/31001" target="_top">Bug#31001</a>)</p></li><li><p>
        A failed <code class="literal">HANDLER ... READ</code> operation could
        leave the table in a locked state.
       (<a href="http://bugs.mysql.com/30632" target="_top">Bug#30632</a>)</p></li><li><p>
        The optimization that uses a unique index to remove
        <code class="literal">GROUP BY</code> did not ensure that the index was
        actually used, thus violating the <code class="literal">ORDER BY</code>
        that is implied by <code class="literal">GROUP BY</code>.
       (<a href="http://bugs.mysql.com/30596" target="_top">Bug#30596</a>)</p></li><li><p>
        <code class="literal">SHOW STATUS LIKE 'Ssl_cipher_list'</code> from a
        MySQL client connected via SSL returned an empty string rather
        than a list of available ciphers.
       (<a href="http://bugs.mysql.com/30593" target="_top">Bug#30593</a>)</p></li><li><p>
        Issuing a <code class="literal">DELETE</code> statement having both an
        <code class="literal">ORDER BY</code> clause and a
        <code class="literal">LIMIT</code> clause could cause
        <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/30385" target="_top">Bug#30385</a>)</p></li><li><p>
        The <code class="literal">Last_query_cost</code> status variable value can
        be computed accurately only for simple “<span class="quote">flat</span>”
        queries, not complex queries such as those with subqueries or
        <code class="literal">UNION</code>. However, the value was not
        consistently being set to 0 for complex queries.
       (<a href="http://bugs.mysql.com/30377" target="_top">Bug#30377</a>)</p></li><li><p>
        Queries that had a <code class="literal">GROUP BY</code> clause and
        selected <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        <em class="replaceable"><code>bit_column</code></em>)</code></a> returned
        incorrect results.
       (<a href="http://bugs.mysql.com/30324" target="_top">Bug#30324</a>)</p></li><li><p>
        Using <code class="literal">DISTINCT</code> or <code class="literal">GROUP BY</code>
        on a <code class="literal">BIT</code> column in a
        <code class="literal">SELECT</code> statement caused the column to be cast
        internally as an integer, with incorrect results being returned
        from the query.
       (<a href="http://bugs.mysql.com/30245" target="_top">Bug#30245</a>)</p></li><li><p>
        Multiple-table <code class="literal">DELETE</code> statements could delete
        rows from the wrong table.
       (<a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>)</p></li><li><p>
        Short-format <span><strong class="command">mysql</strong></span> commands embedded within
        <code class="literal">/*! ... */</code> comments were parsed incorrectly
        by <span><strong class="command">mysql</strong></span>, which discarded the rest of the
        comment including the terminating <code class="literal">*/</code>
        characters. The result was a malformed (unclosed) comment. Now
        <span><strong class="command">mysql</strong></span> does not discard the
        <code class="literal">*/</code> characters.
       (<a href="http://bugs.mysql.com/30164" target="_top">Bug#30164</a>)</p></li><li><p>
        When <span><strong class="command">mysqldump</strong></span> wrote <code class="literal">DROP
        DATABASE</code> statements within version-specific comments,
        it included the terminating semicolon in the wrong place,
        causing following statements to fail when the dump file was
        reloaded.
       (<a href="http://bugs.mysql.com/30126" target="_top">Bug#30126</a>)</p></li><li><p>
        If a view used a function in its <code class="literal">SELECT</code>
        statement, the columns from the view were not inserted into the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table.
       (<a href="http://bugs.mysql.com/29408" target="_top">Bug#29408</a>)</p></li><li><p>
        Killing an SSL connection on platforms where MySQL is compiled
        with <code class="literal">-DSIGNAL_WITH_VIO_CLOSE</code> (Windows, Mac OS
        X, and some others) could crash the server.
       (<a href="http://bugs.mysql.com/28812" target="_top">Bug#28812</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> in one connection could be blocked
        by <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> in
        another connection even when
        <code class="literal">low_priority_updates</code> is set.
       (<a href="http://bugs.mysql.com/28587" target="_top">Bug#28587</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> could run binaries dynamically
        linked against incorrect versions of shared libraries.
       (<a href="http://bugs.mysql.com/28560" target="_top">Bug#28560</a>)</p></li><li><p>
        <code class="literal">SHOW COLUMNS</code> returned <code class="literal">NULL</code>
        instead of the empty string for the <code class="literal">Default</code>
        value of columns that had no default specified.
       (<a href="http://bugs.mysql.com/27747" target="_top">Bug#27747</a>)</p></li><li><p>
        With recent versions of DBD::mysql,
        <span><strong class="command">mysqlhotcopy</strong></span> generated table names that were
        doubly qualified with the database name.
       (<a href="http://bugs.mysql.com/27694" target="_top">Bug#27694</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">CREATE TABLE a AS
        SELECT * FROM A</code> would fail.
       (<a href="http://bugs.mysql.com/25164" target="_top">Bug#25164</a>)</p></li><li><p>
        Under heavy load with a large query cache, invalidating part of
        the cache could cause the server to freeze (that is, to be
        unable to service other operations until the invalidation was
        complete).
       (<a href="http://bugs.mysql.com/21074" target="_top">Bug#21074</a>)</p></li><li><p>
        Worked around an <span><strong class="command">icc</strong></span> problem with an
        incorrect machine instruction being generated in the context of
        software pre-fetching after a subroutine got in-lined.
        (Upgrading to <span><strong class="command">icc</strong></span> 10.0.026 makes the
        workaround unnecessary.)
       (<a href="http://bugs.mysql.com/20803" target="_top">Bug#20803</a>)</p></li><li><p>
        Parameters of type <code class="literal">DATETIME</code> or
        <code class="literal">DATE</code> in stored procedures were silently
        converted to <code class="literal">VARBINARY</code>.
       (<a href="http://bugs.mysql.com/13675" target="_top">Bug#13675</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-48"></a>C.1.10. Release Notes for  MySQL Enterprise 5.0.48 [MRU] (27 August 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          This release was withdrawn from production and is no longer
          available.
        </p></div><p>
      This section documents all changes and bugfixes that have been
      applied since the last last MySQL Enterprise Server release
      (5.0.46). If you would like to receive more fine-grained and
      personalized <span class="emphasis"><em>update alerts</em></span> about fixes that
      are relevant to the version and features you use, please consider
      subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial
      MySQL offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If a <code class="literal">MyISAM</code> table is created with no
        <code class="literal">DATA DIRECTORY</code> option, the
        <code class="filename">.MYD</code> file is created in the database
        directory. By default, if <code class="literal">MyISAM</code> finds an
        existing <code class="filename">.MYD</code> file in this case, it
        overwrites it. The same applies to <code class="filename">.MYI</code>
        files for tables created with no <code class="literal">INDEX
        DIRECTORY</code> option. To suppress this behavior, start the
        server with the new <code class="option">--keep_files_on_create</code>
        option, in which case <code class="literal">MyISAM</code> will not
        overwrite existing files and returns an error instead.
       (<a href="http://bugs.mysql.com/29325" target="_top">Bug#29325</a>)</p></li><li><p>
        The <code class="literal">EXAMPLE</code> storage engine is now enabled by
        default.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Warnings and errors generated by <span><strong class="command">ndb_config
        <code class="option">--config-file=<em class="replaceable"><code>file</code></em></code></strong></span>
        were sent to <code class="literal">stdout</code>, rather than to
        <code class="literal">stderr</code>.
       (<a href="http://bugs.mysql.com/25941" target="_top">Bug#25941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a cluster backup was terminated using the <code class="literal">ABORT
        BACKUP</code> command in the management client, a misleading
        error message <span class="errortext">Backup aborted by application:
        Permanent error: Internal error</span> was returned. The
        error message returned in such cases now reads <span class="errortext">Backup
        aborted by user request</span>.
       (<a href="http://bugs.mysql.com/21052" target="_top">Bug#21052</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Large file support did not work in AIX server binaries.
       (<a href="http://bugs.mysql.com/10776" target="_top">Bug#10776</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">SHOW SLAVE STATUS</code> failed when slave I/O was
        about to terminate.
       (<a href="http://bugs.mysql.com/34305" target="_top">Bug#34305</a>)</p></li><li><p>
        Memory corruption occurred for some queries with a top-level
        <code class="literal">OR</code> operation in the <code class="literal">WHERE</code>
        condition if they contained equality predicates and other
        sargable predicates in disjunctive parts of the condition.
       (<a href="http://bugs.mysql.com/30396" target="_top">Bug#30396</a>)</p></li><li><p>
        The server created temporary tables for filesort operations in
        the working directory, not in the directory specified by the
        <code class="literal">tmpdir</code> system variable.
       (<a href="http://bugs.mysql.com/30287" target="_top">Bug#30287</a>)</p></li><li><p>
        The query cache does not support retrieval of statements for
        which column level access control applies, but the server was
        still caching such statements, thus wasting memory.
       (<a href="http://bugs.mysql.com/30269" target="_top">Bug#30269</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on <code class="literal">BIT</code> columns
        produced incorrect results.
       (<a href="http://bugs.mysql.com/30219" target="_top">Bug#30219</a>)</p></li><li><p>
        Using <code class="literal">KILL QUERY</code> or <code class="literal">KILL
        CONNECTION</code> to kill a <code class="literal">SELECT</code>
        statement caused a server crash if the query cache was enabled.
       (<a href="http://bugs.mysql.com/30201" target="_top">Bug#30201</a>)</p></li><li><p>
        Prepared statements containing
        <a href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> could be written
        improperly to the binary log.
       (<a href="http://bugs.mysql.com/30200" target="_top">Bug#30200</a>)</p></li><li><p>
        When a thread executing a <code class="literal">DROP TABLE</code>
        statement was killed, the table name locks that had been
        acquired were not released.
       (<a href="http://bugs.mysql.com/30193" target="_top">Bug#30193</a>)</p></li><li><p>
        Use of local variables with non-ASCII names in stored procedures
        crashed the server.
       (<a href="http://bugs.mysql.com/30120" target="_top">Bug#30120</a>)</p></li><li><p>
        On Windows, client libraries lacked symbols required for
        linking.
       (<a href="http://bugs.mysql.com/30118" target="_top">Bug#30118</a>)</p></li><li><p>
        <code class="option">--myisam-recover=''</code> (empty option value) did
        not disable <code class="literal">MyISAM</code> recovery.
       (<a href="http://bugs.mysql.com/30088" target="_top">Bug#30088</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <code class="literal">INFORMATION_SCHEMA.VIEWS</code> table was not always
        set correctly.
       (<a href="http://bugs.mysql.com/30020" target="_top">Bug#30020</a>)</p></li><li><p>
        Statements within stored procedures ignored the value of the
        <code class="literal">low_priority_updates</code> system variable.
       (<a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a>)</p><p>See also <a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a></p></li><li><p>
        For <code class="literal">MyISAM</code> tables on Windows,
        <code class="literal">INSERT</code>, <code class="literal">DELETE</code>, or
        <code class="literal">UPDATE</code> followed by <code class="literal">ALTER
        TABLE</code> within <code class="literal">LOCK TABLES</code> could
        cause table corruption.
       (<a href="http://bugs.mysql.com/29957" target="_top">Bug#29957</a>)</p></li><li><p>
        With auto-reconnect enabled, row fetching for a prepared
        statement could crash after reconnect occurred because loss of
        the statement handler was not accounted for.
       (<a href="http://bugs.mysql.com/29948" target="_top">Bug#29948</a>)</p></li><li><p>
        LOCK TABLES did not pre-lock tables used in triggers of the
        locked tables. Unexpected locking behavior and statement
        failures similar to <span class="errortext">failed: 1100: Table
        '<em class="replaceable"><code>xx</code></em>' was not locked with LOCK
        TABLES</span> could result.
       (<a href="http://bugs.mysql.com/29929" target="_top">Bug#29929</a>)</p></li><li><p>
        <code class="literal">INSERT ... VALUES(CONNECTION_ID(), ...)</code>
        statements were written to the binary log in such a way that
        they could not be properly restored.
       (<a href="http://bugs.mysql.com/29928" target="_top">Bug#29928</a>)</p></li><li><p>
        Adding <code class="literal">DISTINCT</code> could cause incorrect rows to
        appear in a query result.
       (<a href="http://bugs.mysql.com/29911" target="_top">Bug#29911</a>)</p></li><li><p>
        Using the <a href="functions.html#function_date"><code class="literal">DATE()</code></a> function in a
        <code class="literal">WHERE</code> clause did not return any records after
        encountering <code class="literal">NULL</code>. However, using
        <code class="literal">TRIM</code> or <code class="literal">CAST</code> produced the
        correct results.
       (<a href="http://bugs.mysql.com/29898" target="_top">Bug#29898</a>)</p></li><li><p>
        Very long prepared statements in stored procedures could cause a
        server crash.
       (<a href="http://bugs.mysql.com/29856" target="_top">Bug#29856</a>)</p></li><li><p>
        If query execution involved a temporary table,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could return a
        result with an incorrect character set.
       (<a href="http://bugs.mysql.com/29850" target="_top">Bug#29850</a>)</p></li><li><p>
        If one thread was performing concurrent inserts, other threads
        reading from the same table using equality key searches could
        see the index values for new rows before the data values had
        been written, leading to reports of table corruption.
       (<a href="http://bugs.mysql.com/29838" target="_top">Bug#29838</a>)</p></li><li><p>
        Repeatedly accessing a view in a stored procedure (for example,
        in a loop) caused a small amount of memory to be allocated per
        access. Although this memory is deallocated on disconnect, it
        could be a problem for a long running stored procedures that
        make repeated access of views.
       (<a href="http://bugs.mysql.com/29834" target="_top">Bug#29834</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> produced output that incorrectly
        discarded the <code class="literal">NO_AUTO_VALUE_ON_ZERO</code> value of
        the <code class="literal">SQL_MODE</code> variable after dumping triggers.
       (<a href="http://bugs.mysql.com/29788" target="_top">Bug#29788</a>)</p></li><li><p>
        An assertion failure occurred within yaSSL for very long keys.
       (<a href="http://bugs.mysql.com/29784" target="_top">Bug#29784</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, the
        <code class="literal">index_merge</code> union access method could return
        incorrect results.
       (<a href="http://bugs.mysql.com/29740" target="_top">Bug#29740</a>)</p></li><li><p>
        Comparison of <code class="literal">TIME</code> values using the
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> operator led to string
        comparison, producing incorrect results in some cases. Now the
        values are compared as integers.
       (<a href="http://bugs.mysql.com/29739" target="_top">Bug#29739</a>)</p></li><li><p>
        The thread ID was not reset properly after execution of
        <a href="apis.html#mysql-change-user" title="23.2.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>, which
        could cause replication failure when replicating temporary
        tables.
       (<a href="http://bugs.mysql.com/29734" target="_top">Bug#29734</a>)</p></li><li><p>
        For a table with a <code class="literal">DATE</code> column
        <em class="replaceable"><code>date_col</code></em> such that selecting rows
        with <code class="literal">WHERE <em class="replaceable"><code>date_col</code></em> =
        '<em class="replaceable"><code>date_val</code></em> 00:00:00'</code> yielded
        a non-empty result, adding <code class="literal">GROUP BY
        <em class="replaceable"><code>date_col</code></em></code> caused the result
        to be empty.
       (<a href="http://bugs.mysql.com/29729" target="_top">Bug#29729</a>)</p></li><li><p>
        In some cases, <code class="literal">INSERT INTO ... SELECT ... GROUP
        BY</code> could insert rows even if the
        <code class="literal">SELECT</code> by itself produced an empty result.
       (<a href="http://bugs.mysql.com/29717" target="_top">Bug#29717</a>)</p></li><li><p>
        For the embedded server, the
        <a href="apis.html#mysql-stmt-store-result" title="23.2.7.27. mysql_stmt_store_result()"><code class="literal">mysql_stmt_store_result()</code></a> C API
        function caused a memory leak for empty result sets.
       (<a href="http://bugs.mysql.com/29687" target="_top">Bug#29687</a>)</p></li><li><p>
        <code class="literal">EXPLAIN</code> produced <code class="literal">Impossible
        where</code> for statements of the form <code class="literal">SELECT ...
        FROM t WHERE c=0</code>, where <code class="literal">c</code> was an
        <code class="literal">ENUM</code> column defined as a primary key.
       (<a href="http://bugs.mysql.com/29661" target="_top">Bug#29661</a>)</p></li><li><p>
        On Windows, <code class="literal">ALTER TABLE</code> hung if records were
        locked in share mode by a long-running transaction.
       (<a href="http://bugs.mysql.com/29644" target="_top">Bug#29644</a>)</p></li><li><p>
        A left join between two views could produce incorrect results.
       (<a href="http://bugs.mysql.com/29604" target="_top">Bug#29604</a>)</p></li><li><p>
        Certain statements with unions, subqueries, and joins could
        result in huge memory consumption.
       (<a href="http://bugs.mysql.com/29582" target="_top">Bug#29582</a>)</p></li><li><p>
        Clients using SSL could hang the server.
       (<a href="http://bugs.mysql.com/29579" target="_top">Bug#29579</a>)</p></li><li><p>
        A slave running with <code class="option">--log-slave-updates</code> would
        fail to write <code class="literal">INSERT DELAY IGNORE</code> statements
        to its binary log, resulting in different binary log contents on
        the master and slave.
       (<a href="http://bugs.mysql.com/29571" target="_top">Bug#29571</a>)</p></li><li><p>
        An incorrect result was returned when comparing string values
        that were converted to <code class="literal">TIME</code> values with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a>.
       (<a href="http://bugs.mysql.com/29555" target="_top">Bug#29555</a>)</p></li><li><p>
        Operations that used the time zone replicated the time zone only
        for successful operations, but did not replicate the time zone
        for errors that need to know it.
       (<a href="http://bugs.mysql.com/29536" target="_top">Bug#29536</a>)</p></li><li><p>
        Conversion of ASCII DEL (<code class="literal">0x7F</code>) to Unicode
        incorrectly resulted in QUESTION MARK (<code class="literal">0x3F</code>)
        rather than DEL.
       (<a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>)</p></li><li><p>
        A field packet with <code class="literal">NULL</code> fields caused a
        <code class="literal">libmysqlclient</code> crash.
       (<a href="http://bugs.mysql.com/29494" target="_top">Bug#29494</a>)</p></li><li><p>
        When using a combination of <code class="literal">HANDLER... READ</code>
        and <code class="literal">DELETE</code> on a table, MySQL continued to
        open new copies of the table every time, leading to an
        exhaustion of file descriptors.
       (<a href="http://bugs.mysql.com/29474" target="_top">Bug#29474</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21587" target="_top">Bug#21587</a></p></li><li><p>
        On Windows, the <span><strong class="command">mysql</strong></span> client died if the user
        entered a statement and Return after entering Control-C.
       (<a href="http://bugs.mysql.com/29469" target="_top">Bug#29469</a>)</p></li><li><p>
        Failure to consider collation when comparing space characters
        could lead to incorrect index entry order, making it impossible
        to find some index values.
       (<a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>)</p></li><li><p>
        Killing an <code class="literal">INSERT DELAYED</code> thread caused a
        server crash.
       (<a href="http://bugs.mysql.com/29431" target="_top">Bug#29431</a>)</p></li><li><p>
        The special “<span class="quote">zero</span>” <code class="literal">ENUM</code> value
        was coerced to the normal empty string <code class="literal">ENUM</code>
        value during a column-to-column copy. This affected
        <code class="literal">CREATE ... SELECT</code> statements and
        <code class="literal">SELECT</code> statements with aggregate functions on
        <code class="literal">ENUM</code> columns in the <code class="literal">GROUP
        BY</code> clause.
       (<a href="http://bugs.mysql.com/29360" target="_top">Bug#29360</a>)</p></li><li><p>
        Optimization of queries with <code class="literal">DETERMINISTIC</code>
        stored functions in the <code class="literal">WHERE</code> clause was
        ineffective: A sequential scan was always used.
       (<a href="http://bugs.mysql.com/29338" target="_top">Bug#29338</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> corruption could occur with the
        <code class="literal">cp932_japanese_ci</code> collation for the
        <code class="literal">cp932</code> character set due to incorrect
        comparison for trailing space.
       (<a href="http://bugs.mysql.com/29333" target="_top">Bug#29333</a>)</p></li><li><p>
        The <a href="apis.html#mysql-list-fields" title="23.2.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a> C API
        function incorrectly set
        <code class="literal">MYSQL_FIELD::decimals</code> for some view columns.
       (<a href="http://bugs.mysql.com/29306" target="_top">Bug#29306</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> refused to start on some versions of
        FreeBSD with LinuxThreads. This is fixed by enabling file
        locking on FreeBSD.
       (<a href="http://bugs.mysql.com/29155" target="_top">Bug#29155</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> statements on a master server
        are replicated as non-<code class="literal">DELAYED</code> inserts on
        slaves (which is normal, to preserve serialization), but the
        inserts on the slave did not use concurrent inserts. Now
        <code class="literal">INSERT DELAYED</code> on a slave is converted to a
        concurrent insert when possible, and to a normal insert
        otherwise.
       (<a href="http://bugs.mysql.com/29152" target="_top">Bug#29152</a>)</p></li><li><p>
        A maximum of 4TB <code class="literal">InnoDB</code> free space was
        reported by <code class="literal">SHOW TABLE STATUS,</code> which is
        incorrect on systems with more than 4TB space.
       (<a href="http://bugs.mysql.com/29097" target="_top">Bug#29097</a>)</p></li><li><p>
        A byte-order issue in writing a spatial index to disk caused bad
        index files on some systems.
       (<a href="http://bugs.mysql.com/29070" target="_top">Bug#29070</a>)</p></li><li><p>
        Creation of a legal stored procedure could fail if no default
        database had been selected.
       (<a href="http://bugs.mysql.com/29050" target="_top">Bug#29050</a>)</p></li><li><p>
        Coercion of ASCII values to character sets that are a superset
        of ASCII sometimes was not done, resulting in <span class="errortext">illegal
        mix of collations</span> errors. These cases now are
        resolved using repertoire, a new string expression attribute
        (see <a href="internationalization-localization.html#charset-repertoire" title="9.1.6. String Repertoire">Section 9.1.6, “String Repertoire”</a>).
       (<a href="http://bugs.mysql.com/28875" target="_top">Bug#28875</a>)</p></li><li><p>
        Fast <code class="literal">ALTER TABLE</code> (that works without
        rebuilding the table) acquired duplicate locks in the storage
        engine. In <code class="literal">MyISAM</code>, if <code class="literal">ALTER
        TABLE</code> was issued under <code class="literal">LOCK TABLE</code>,
        it caused all data inserted after <code class="literal">LOCK TABLE</code>
        to disappear.
       (<a href="http://bugs.mysql.com/28838" target="_top">Bug#28838</a>)</p></li><li><p>
        Tables using the <code class="literal">InnoDB</code> storage engine
        incremented <code class="literal">AUTO_INCREMENT</code> values incorrectly
        with <code class="literal">ON DUPLICATE KEY UPDATE</code>.
       (<a href="http://bugs.mysql.com/28781" target="_top">Bug#28781</a>)</p></li><li><p>
        Starting the server with an
        <code class="literal">innodb_force_recovery</code> value of 4 did not
        work.
       (<a href="http://bugs.mysql.com/28604" target="_top">Bug#28604</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, MySQL unnecessarily sorted
        records in certain cases when the records were retrieved by
        <code class="literal">InnoDB</code> in the proper order already.
       (<a href="http://bugs.mysql.com/28591" target="_top">Bug#28591</a>)</p></li><li><p>
        <span><strong class="command">mysql_install_db</strong></span> could fail to find script
        files that it needs.
       (<a href="http://bugs.mysql.com/28585" target="_top">Bug#28585</a>)</p></li><li><p>
        If a stored procedure was created and invoked prior to selecting
        a default database with <code class="literal">USE</code>, a <span class="errortext">No
        database selected</span> error occurred.
       (<a href="http://bugs.mysql.com/28551" target="_top">Bug#28551</a>)</p></li><li><p>
        On Mac OS X, shared-library installation pathnames were
        incorrect.
       (<a href="http://bugs.mysql.com/28544" target="_top">Bug#28544</a>)</p></li><li><p>
        Using the <code class="option">--skip-add-drop-table </code>option with
        <span><strong class="command">mysqldump</strong></span> generated incorrect SQL if the
        database included any views. The recreation of views requires
        the creation and removal of temporary tables. This option
        suppressed the removal of those temporary tables. The same
        applied to <code class="option">--compact</code> since this option also
        invokes <code class="option">--skip-add-drop-table</code>.
       (<a href="http://bugs.mysql.com/28524" target="_top">Bug#28524</a>)</p></li><li><p>
        A race condition in the interaction between
        <code class="literal">MyISAM</code> and the query cache code caused the
        query cache not to invalidate itself for concurrently inserted
        data.
       (<a href="http://bugs.mysql.com/28249" target="_top">Bug#28249</a>)</p></li><li><p>
        Indexing column prefixes in <code class="literal">InnoDB</code> tables
        could cause table corruption.
       (<a href="http://bugs.mysql.com/28138" target="_top">Bug#28138</a>)</p></li><li><p>
        Index creation could fail due to truncation of key values to the
        maximum key length rather than to a mulitiple of the maximum
        character length.
       (<a href="http://bugs.mysql.com/28125" target="_top">Bug#28125</a>)</p></li><li><p>
        On Windows, symbols for yaSSL and taocrypt were missing from
        <code class="filename">mysqlclient.lib</code>, resulting in unresolved
        symbol errors for clients linked against that library.
       (<a href="http://bugs.mysql.com/27861" target="_top">Bug#27861</a>)</p></li><li><p>
        Some <code class="literal">SHOW</code> statements and
        <code class="literal">INFORMATION_SCHEMA</code> queries could expose
        information not allowed by the user's access privileges.
       (<a href="http://bugs.mysql.com/27629" target="_top">Bug#27629</a>)</p></li><li><p>
        Some character mappings in the <code class="filename">ascii.xml</code>
        file were incorrect.
       (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>)</p></li><li><p>
        An error that happened inside <code class="literal">INSERT</code>,
        <code class="literal">UPDATE</code>, or <code class="literal">DELETE</code>
        statements performed from within a stored function or trigger
        could cause inconsistency between master and slave servers.
       (<a href="http://bugs.mysql.com/27417" target="_top">Bug#27417</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> with more than 31 nested dependent
        subqueries returned an incorrect result.
       (<a href="http://bugs.mysql.com/27352" target="_top">Bug#27352</a>)</p></li><li><p>
        <code class="literal">INSERT INTO ... SELECT</code> caused a crash if
        <code class="literal">innodb_locks_unsafe_for_binlog</code> was enabled.
       (<a href="http://bugs.mysql.com/27294" target="_top">Bug#27294</a>)</p></li><li><p>
        <code class="literal">FEDERATED</code> tables had an artificially low
        maximum of key length.
       (<a href="http://bugs.mysql.com/26909" target="_top">Bug#26909</a>)</p></li><li><p>
        After the first read of a <code class="literal">TEMPORARY</code> table,
        <code class="literal">CHECK TABLE</code> could report the table as being
        corrupt.
       (<a href="http://bugs.mysql.com/26325" target="_top">Bug#26325</a>)</p></li><li><p>
        If an operation had an <code class="literal">InnoDB</code> table, and two
        triggers, <code class="literal">AFTER UPDATE</code> and <code class="literal">AFTER
        INSERT</code>, competing for different resources (such as two
        distinct <code class="literal">MyISAM</code> tables), the triggers were
        unable to execute concurrently. In addition,
        <code class="literal">INSERT</code> and <code class="literal">UPDATE</code>
        statements for the <code class="literal">InnoDB</code> table were unable
        to run concurrently.
       (<a href="http://bugs.mysql.com/26141" target="_top">Bug#26141</a>)</p></li><li><p>
        <code class="literal">ALTER DATABASE</code> did not require at least one
        option.
       (<a href="http://bugs.mysql.com/25859" target="_top">Bug#25859</a>)</p></li><li><p>
        Using <code class="literal">HANDLER</code> to open a table having a
        storage engine not supported by <code class="literal">HANDLER</code>
        properly returned an error, but also improperly prevented the
        table from being dropped by other connections.
       (<a href="http://bugs.mysql.com/25856" target="_top">Bug#25856</a>)</p></li><li><p>
        When using a <code class="literal">FEDERATED</code> table, the value of
        <code class="literal">last_insert_id()</code> would not correctly update
        the C API interface, which would affect the autogenerated ID
        returned both through the C API and the MySQL protocol,
        affecting Connectors that used the protocol and/or C API.
       (<a href="http://bugs.mysql.com/25714" target="_top">Bug#25714</a>)</p></li><li><p>
        The server was blocked from opening other tables while the
        <code class="literal">FEDERATED</code> engine was attempting to open a
        remote table. Now the server does not check the correctness of a
        <code class="literal">FEDERATED</code> table at <code class="literal">CREATE
        TABLE</code> time, but waits until the table actually is
        accessed.
       (<a href="http://bugs.mysql.com/25679" target="_top">Bug#25679</a>)</p></li><li><p>
        Several <code class="literal">InnoDB</code> assertion failures were
        corrected.
       (<a href="http://bugs.mysql.com/25645" target="_top">Bug#25645</a>)</p></li><li><p>
        In a stored function or trigger, when <code class="literal">InnoDB</code>
        detected deadlock, it attempted rollback and displayed an
        incorrect error message (<span class="errortext">Explicit or implicit commit
        is not allowed in stored function or trigger</span>). Now
        <code class="literal">InnoDB</code> returns an error under these
        conditions and does not attempt rollback. Rollback is handled
        outside of <code class="literal">InnoDB</code> above the function/trigger
        level.
       (<a href="http://bugs.mysql.com/24989" target="_top">Bug#24989</a>)</p></li><li><p>
        Dropping a temporary <code class="literal">InnoDB</code> table that had
        been locked with <code class="literal">LOCK TABLES</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/24918" target="_top">Bug#24918</a>)</p></li><li><p>
        On Windows, executables did not include Vista manifests.
       (<a href="http://bugs.mysql.com/24732" target="_top">Bug#24732</a>)</p><p>See also <a href="http://bugs.mysql.com/22563" target="_top">Bug#22563</a></p></li><li><p>
        Slave servers could incorrectly interpret an out-of-memory error
        from the master and reconnect using the wrong binary log
        position.
       (<a href="http://bugs.mysql.com/24192" target="_top">Bug#24192</a>)</p></li><li><p>
        If MySQL/<code class="literal">InnoDB</code> crashed very quickly after
        starting up, it would not force a checkpoint. In this case,
        <code class="literal">InnoDB</code> would skip crash recovery at next
        startup, and the database would become corrupt. Fix: If the redo
        log scan at <code class="literal">InnoDB</code> startup goes past the last
        checkpoint, force crash recovery.
       (<a href="http://bugs.mysql.com/23710" target="_top">Bug#23710</a>)</p></li><li><p>
        <code class="literal">SHOW INNODB STATUS</code> caused an assertion
        failure under high load.
       (<a href="http://bugs.mysql.com/22819" target="_top">Bug#22819</a>)</p></li><li><p>
        A statement of the form <code class="literal">CREATE TABLE IF NOT EXISTS t1
        SELECT f1() AS i</code> failed with a deadlock error if the
        stored function <code class="literal">f1()</code> referred to a table with
        the same name as the to-be-created table. Now it correctly
        produces a message that the table already exists.
       (<a href="http://bugs.mysql.com/22427" target="_top">Bug#22427</a>)</p></li><li><p>
        Read lock requests that were blocked by a pending write lock
        request were not allowed to proceed if the statement requesting
        the write lock was killed.
       (<a href="http://bugs.mysql.com/21281" target="_top">Bug#21281</a>)</p></li><li><p>
        <span><strong class="command">mysql-stress-test.pl</strong></span> and
        <span><strong class="command">mysqld_multi.server.sh</strong></span> were missing from some
        binary distributions.
       (<a href="http://bugs.mysql.com/21023" target="_top">Bug#21023</a>, <a href="http://bugs.mysql.com/25486" target="_top">Bug#25486</a>)</p></li><li><p>
        On Windows, the server used 10MB of memory for each connection
        thread, resulting in memory exhaustion. Now each thread uses
        1MB.
       (<a href="http://bugs.mysql.com/20815" target="_top">Bug#20815</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> produced an unnecessary (and harmless)
        warning: <code class="literal">InnoDB: Error: trying to declare trx to enter
        InnoDB, but InnoDB: it already is declared</code>.
       (<a href="http://bugs.mysql.com/20090" target="_top">Bug#20090</a>)</p></li><li><p>
        <code class="literal">SQL_BIG_RESULT</code> had no effect for
        <code class="literal">CREATE TABLE ... SELECT SQL_BIG_RESULT ...</code>
        statements.
       (<a href="http://bugs.mysql.com/15130" target="_top">Bug#15130</a>)</p></li><li><p>
        <span><strong class="command">mysql_setpermission</strong></span> tried to grant
        global-only privileges at the database level.
       (<a href="http://bugs.mysql.com/14618" target="_top">Bug#14618</a>)</p></li><li><p>
        For the general query log, logging of prepared statements
        executed via the C API differed from logging of prepared
        statements performed with <code class="literal">PREPARE</code> and
        <code class="literal">EXECUTE</code>. Logging for the latter was missing
        the <code class="literal">Prepare</code> and <code class="literal">Execute</code>
        lines.
       (<a href="http://bugs.mysql.com/13326" target="_top">Bug#13326</a>)</p></li><li><p>
        Backup software can cause
        <code class="literal">ERROR_SHARING_VIOLATION</code> or
        <code class="literal">ERROR_LOCK_VIOLATION</code> conditions during file
        operations. <code class="literal">InnoDB</code> now retries forever until
        the condition goes away.
       (<a href="http://bugs.mysql.com/9709" target="_top">Bug#9709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-46"></a>C.1.11. Release Notes for  MySQL Enterprise 5.0.46 [MRU] (13 July 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bugfixes that have been
      applied since the last MySQL Enterprise Server release (5.0.44).
      If you would like to receive more fine-grained and personalized
      <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant
      to the version and features you use, please consider subscribing
      to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL
      offering). For more details please see
      <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">auto_increment_increment</code> and
        <code class="literal">auto_increment_offset</code> are now supported for
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/26342" target="_top">Bug#26342</a>)</p></li><li><p>
        If a <code class="literal">MERGE</code> table cannot be opened or used
        because of a problem with an underlying table, <code class="literal">CHECK
        TABLE</code> now displays information about which table
        caused the problem.
       (<a href="http://bugs.mysql.com/26976" target="_top">Bug#26976</a>)</p></li><li><p>
        The <code class="literal">SQL_MODE</code>,
        <code class="literal">FOREIGN_KEY_CHECKS</code>,
        <code class="literal">UNIQUE_CHECKS</code>, character set/collations, and
        <code class="literal">SQL_AUTO_IS_NULL</code> sesstion variables are
        written to the binary log and honoured during replication. See
        <a href="server-administration.html#binary-log" title="5.2.3. The Binary Log">Section 5.2.3, “The Binary Log”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When restarting a data node, queries could hang during that
        node's start phase 5, and continue only after the node had
        entered phase 6.
       (<a href="http://bugs.mysql.com/29364" target="_top">Bug#29364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Replica redo logs were inconsistently handled during a system
        restart.
       (<a href="http://bugs.mysql.com/29354" target="_top">Bug#29354</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client's response to <code class="literal">START BACKUP
        WAIT COMPLETED</code> did not include the backup ID.
       (<a href="http://bugs.mysql.com/27640" target="_top">Bug#27640</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <span><strong class="command">mysql_install_db</strong></span> script.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        <span><strong class="command">gcov</strong></span> coverage-testing information was not
        written if the server crashed.
       (<a href="http://bugs.mysql.com/29543" target="_top">Bug#29543</a>)</p></li><li><p>
        Corrupt data resulted from use of <code class="literal">SELECT ... INTO
        OUTFILE '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED
        BY '<em class="replaceable"><code>c</code></em>'</code>, where
        <em class="replaceable"><code>c</code></em> is a digit or minus sign, followed
        by <code class="literal">LOAD DATA INFILE
        '<em class="replaceable"><code>file_name</code></em>' FIELDS ENCLOSED BY
        '<em class="replaceable"><code>c</code></em>'</code>.
       (<a href="http://bugs.mysql.com/29442" target="_top">Bug#29442</a>)</p></li><li><p>
        Use of <code class="literal">SHOW BINLOG EVENTS</code> for a non-existent
        log file followed by <code class="literal">PURGE MASTER LOGS</code> caused
        a server crash.
       (<a href="http://bugs.mysql.com/29420" target="_top">Bug#29420</a>)</p></li><li><p>
        Assertion failure could occur for grouping queries that employed
        <code class="literal">DECIMAL</code> user variables with assignments to
        them.
       (<a href="http://bugs.mysql.com/29417" target="_top">Bug#29417</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
        DECIMAL(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>))</code></a>,
        the limits of 65 and 30 on the precision
        (<em class="replaceable"><code>M</code></em>) and scale
        (<em class="replaceable"><code>D</code></em>) were not enforced.
       (<a href="http://bugs.mysql.com/29415" target="_top">Bug#29415</a>)</p></li><li><p>
        Results for a select query that aliases the column names against
        a view could duplicate one column while omitting another. This
        bug could occur for a query over a multiple-table view that
        includes an <code class="literal">ORDER BY</code> clause in its
        definition.
       (<a href="http://bugs.mysql.com/29392" target="_top">Bug#29392</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> created a stray file when a given a
        too-long filename argument.
       (<a href="http://bugs.mysql.com/29361" target="_top">Bug#29361</a>)</p></li><li><p>
        <code class="literal">FULLTEXT</code> indexes could be corrupted by
        certain <code class="literal">gbk</code> characters.
       (<a href="http://bugs.mysql.com/29299" target="_top">Bug#29299</a>)</p></li><li><p>
        <code class="literal">SELECT ... INTO OUTFILE</code> followed by
        <code class="literal">LOAD DATA</code> could result in garbled characters
        when the <code class="literal">FIELDS ENCLOSED BY</code> clause named a
        delimiter of <code class="literal">'0'</code>, <code class="literal">'b'</code>,
        <code class="literal">'n'</code>, <code class="literal">'r'</code>,
        <code class="literal">'t'</code>, <code class="literal">'N'</code>, or
        <code class="literal">'Z'</code> due to an interaction of character
        encoding and doubling for data values containing the enclosed-by
        character.
       (<a href="http://bugs.mysql.com/29294" target="_top">Bug#29294</a>)</p></li><li><p>
        Sort order of the collation wasn't used when comparing trailing
        spaces. This could lead to incorrect comparison results,
        incorrectly created indexes, or incorrect result set order for
        queries that include an <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/29261" target="_top">Bug#29261</a>)</p></li><li><p>
        If an <code class="literal">ENUM</code> column contained
        <code class="literal">''</code> as one of its members (represented with
        numeric value greater than 0), and the column contained error
        values (represented as 0 and displayed as
        <code class="literal">''</code>), using <code class="literal">ALTER TABLE</code> to
        modify the column definition caused the 0 values to be given the
        numeric value of the non-zero <code class="literal">''</code> member.
       (<a href="http://bugs.mysql.com/29251" target="_top">Bug#29251</a>)</p></li><li><p>
        Calling <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> after
        <a href="apis.html#mysql-real-connect" title="23.2.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> could
        cause clients to crash.
       (<a href="http://bugs.mysql.com/29247" target="_top">Bug#29247</a>)</p></li><li><p>
        <code class="literal">CHECK TABLE</code> for <code class="literal">ARCHIVE</code>
        tables could falsely report table corruption or cause a server
        crash.
       (<a href="http://bugs.mysql.com/29207" target="_top">Bug#29207</a>)</p></li><li><p>
        Mixing binary and <code class="literal">utf8</code> columns in a union
        caused field lengths to be calculated incorrectly, resulting in
        truncation.
       (<a href="http://bugs.mysql.com/29205" target="_top">Bug#29205</a>)</p></li><li><p>
        <code class="literal">AsText()</code> could fail with a buffer overrun.
       (<a href="http://bugs.mysql.com/29166" target="_top">Bug#29166</a>)</p></li><li><p>
        <code class="literal">LOCK TABLES</code> was not atomic when more than one
        <code class="literal">InnoDB</code> tables were locked.
       (<a href="http://bugs.mysql.com/29154" target="_top">Bug#29154</a>)</p></li><li><p>
        A network structure was initialized incorrectly, leading to
        embedded server crashes.
       (<a href="http://bugs.mysql.com/29117" target="_top">Bug#29117</a>)</p></li><li><p>
        An assertion failure occurred if a query contained a conjunctive
        predicate of the form <code class="literal">
        <em class="replaceable"><code>view_column</code></em> = constant</code> in
        the <code class="literal">WHERE</code> clause and the <code class="literal">GROUP
        BY</code> clause contained a reference to a different view
        column. The fix also enables application of an optimization that
        was being skipped if a query contained a conjunctive predicate
        of the form <code class="literal"><em class="replaceable"><code>view_column</code></em> =
        constant</code> in the <code class="literal">WHERE</code> clause and
        the <code class="literal">GROUP BY</code> clause contained a reference to
        the same view column.
       (<a href="http://bugs.mysql.com/29104" target="_top">Bug#29104</a>)</p></li><li><p>
        If an <code class="literal">INSERT INTO ... SELECT</code> statement
        inserted into the same table that the <code class="literal">SELECT</code>
        retrieved from, and the <code class="literal">SELECT</code> included
        <code class="literal">ORDER BY</code> and <code class="literal">LIMIT</code>
        clauses, different data was inserted than the data produced by
        the <code class="literal">SELECT</code> executed by itself.
       (<a href="http://bugs.mysql.com/29095" target="_top">Bug#29095</a>)</p></li><li><p>
        Queries that performed a lookup into a <code class="literal">BINARY</code>
        index containing key values ending with spaces caused an
        assertion failure for debug builds and incorrect results for
        non-debug builds.
       (<a href="http://bugs.mysql.com/29087" target="_top">Bug#29087</a>)</p></li><li><p>
        The semantics of <code class="literal">BIGINT</code> depended on
        platform-specific characteristics.
       (<a href="http://bugs.mysql.com/29079" target="_top">Bug#29079</a>)</p></li><li><p>
        If one of the queries in a <code class="literal">UNION</code> used the
        <code class="literal">SQL_CACHE</code> option and another query in the
        <code class="literal">UNION</code> contained a nondeterministic function,
        the result was still cached. For example, this query was
        incorrectly cached:
</p><pre class="programlisting">          
SELECT NOW() FROM t1 UNION SELECT SQL_CACHE 1 FROM t1;
</pre><p>
       (<a href="http://bugs.mysql.com/29053" target="_top">Bug#29053</a>)</p></li><li><p>
        <code class="literal">DROP USER</code> statements that named multiple
        users, only some of which could be dropped, were replicated
        incorrectly.
       (<a href="http://bugs.mysql.com/29030" target="_top">Bug#29030</a>)</p></li><li><p>
        <code class="literal">REPLACE</code>, <code class="literal">INSERT IGNORE</code>,
        and <code class="literal">UPDATE IGNORE</code> did not work for
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/29019" target="_top">Bug#29019</a>)</p></li><li><p>
        Inserting into <code class="literal">InnoDB</code> tables and executing
        <code class="literal">RESET MASTER</code> in multiple threads cause
        assertion failure in debug server binaries.
       (<a href="http://bugs.mysql.com/28983" target="_top">Bug#28983</a>)</p></li><li><p>
        For a <code class="literal">ucs2</code> column,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> did not convert
        separators to the result character set before inserting them,
        producing a result containing a mixture of two different
        character sets.
       (<a href="http://bugs.mysql.com/28925" target="_top">Bug#28925</a>)</p></li><li><p>
        Queries using UDFs or stored functions were cached.
       (<a href="http://bugs.mysql.com/28921" target="_top">Bug#28921</a>)</p></li><li><p>
        For a join with <code class="literal">GROUP BY</code> and/or
        <code class="literal">ORDER BY</code> and a view reference in the
        <code class="literal">FROM</code> list, the query metadata erroneously
        showed empty table aliases and database names for the view
        columns.
       (<a href="http://bugs.mysql.com/28898" target="_top">Bug#28898</a>)</p></li><li><p>
        Non-<code class="literal">utf8</code> characters could get mangled when
        stored in <code class="literal">CSV</code> tables.
       (<a href="http://bugs.mysql.com/28862" target="_top">Bug#28862</a>)</p></li><li><p>
        <code class="literal">ALTER VIEW</code> is not supported as a prepared
        statement but was not being rejected. <code class="literal">ALTER
        VIEW</code> is now prohibited as a prepared statement or when
        called within stored routines.
       (<a href="http://bugs.mysql.com/28846" target="_top">Bug#28846</a>)</p></li><li><p>
        In strict SQL mode, errors silently stopped the SQL thread even
        for errors named using the <code class="option">--slave-skip-errors</code>
        option.
       (<a href="http://bugs.mysql.com/28839" target="_top">Bug#28839</a>)</p></li><li><p>
        Runtime changes to the
        <code class="literal">log_queries_not_using_indexes</code> system variable
        were ignored.
       (<a href="http://bugs.mysql.com/28808" target="_top">Bug#28808</a>)</p></li><li><p>
        Selecting a column not present in the selected-from table caused
        an extra error to be produced by <code class="literal">SHOW ERRORS</code>.
       (<a href="http://bugs.mysql.com/28677" target="_top">Bug#28677</a>)</p></li><li><p>
        For a statement of the form <code class="literal">CREATE t1 SELECT
        <em class="replaceable"><code>integer_constant</code></em></code>, the
        server created the column using the <code class="literal">DECIMAL</code>
        data type for large negative values that are within the range of
        <code class="literal">BIGINT</code>.
       (<a href="http://bugs.mysql.com/28625" target="_top">Bug#28625</a>)</p></li><li><p>
        When one thread attempts to lock two (or more) tables and
        another thread executes a statement that aborts these locks
        (such as <code class="literal">REPAIR TABLE</code>, <code class="literal">OPTIMIZE
        TABLE</code>, or <code class="literal">CHECK TABLE</code>), the thread
        might get a table object with an incorrect lock type in the
        table cache. The result is table corruption or a server crash.
       (<a href="http://bugs.mysql.com/28574" target="_top">Bug#28574</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog --hexdump</strong></span> generated incorrect
        output due to omission of the “<span class="quote"> <code class="literal">#</code>
        </span>” comment character for some comment lines.
       (<a href="http://bugs.mysql.com/28293" target="_top">Bug#28293</a>)</p></li><li><p>
        The <a href="functions.html#function_locate"><code class="literal">LOCATE()</code></a> function returned
        <code class="literal">NULL</code> if any of its arguments evaluated to
        <code class="literal">NULL</code>. Likewise, the predicate,
        <a href="functions.html#function_locate"><code class="literal">LOCATE(<em class="replaceable"><code>str</code></em>,NULL)
        IS NULL</code></a>, erroneously evaluated to
        <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/27932" target="_top">Bug#27932</a>)</p></li><li><p>
        The modification of a table by a partially completed
        multi-column update was not recorded in the binlog, rather than
        being marked by an event and a corresponding error code.
       (<a href="http://bugs.mysql.com/27716" target="_top">Bug#27716</a>)</p></li><li><p>
        A stack overrun could occur when storing
        <code class="literal">DATETIME</code> values using repeated prepared
        statements.
       (<a href="http://bugs.mysql.com/27592" target="_top">Bug#27592</a>)</p></li><li><p>
        Dropping a user-defined function could cause a server crash if
        the function was still in use by another thread.
       (<a href="http://bugs.mysql.com/27564" target="_top">Bug#27564</a>)</p></li><li><p>
        Fixed a case of unsafe aliasing in the source that caused a
        client library crash when compiled with <span><strong class="command">gcc</strong></span> 4
        at high optimization levels.
       (<a href="http://bugs.mysql.com/27383" target="_top">Bug#27383</a>)</p></li><li><p>
        Index-based range reads could fail for comparisons that involved
        contraction characters (such as <code class="literal">ch</code> in Czech
        or <code class="literal">ll</code> in Spanish).
       (<a href="http://bugs.mysql.com/27345" target="_top">Bug#27345</a>)</p></li><li><p>
        Aggregations in subqueries that refer to outer query columns
        were not always correctly referenced to the proper outer query.
       (<a href="http://bugs.mysql.com/27333" target="_top">Bug#27333</a>)</p></li><li><p>
        Error returns from the <code class="literal">time()</code> system call
        were ignored.
       (<a href="http://bugs.mysql.com/27198" target="_top">Bug#27198</a>)</p></li><li><p>
        Phantom reads could occur under <code class="literal">InnoDB</code>
        serializable isolation level.
       (<a href="http://bugs.mysql.com/27197" target="_top">Bug#27197</a>)</p></li><li><p>
        The <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> function
        returned the entire string instead of an empty string when it
        was called from a stored procedure and when the length parameter
        was specified by a variable with the value “<span class="quote">
        <code class="literal">0</code> </span>”.
       (<a href="http://bugs.mysql.com/27130" target="_top">Bug#27130</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> could cause
        <span><strong class="command">mysqld</strong></span> to crash when executed on a table
        containing on a <code class="literal">MyISAM</code> table containing
        billions of rows.
       (<a href="http://bugs.mysql.com/27029" target="_top">Bug#27029</a>)</p></li><li><p>
        Binary content <code class="literal">0x00</code> in a
        <code class="literal">BLOB</code> column sometimes became <code class="literal">0x5C
        0x00</code> following a dump and reload, which could cause
        problems with data using multi-byte character sets such as
        <code class="literal">GBK</code> (Chinese). This was due to a problem with
        <code class="literal">SELECT INTO OUTFILE</code> whereby <code class="literal">LOAD
        DATA</code> later incorrectly interpreted
        <code class="literal">0x5C</code> as the second byte of a multi-byte
        sequence rather than as the <code class="literal">SOLIDUS</code>
        (“<span class="quote">\</span>”) character, used by MySQL as the escape
        character.
       (<a href="http://bugs.mysql.com/26711" target="_top">Bug#26711</a>)</p></li><li><p>
        Index creation could corrupt the table definition in the
        <code class="filename">.frm</code> file: 1) A table with the maximum
        number of key segments and maximum length key name would have a
        corrupted <code class="filename">.frm</code> file, due to incorrect
        calculation of the total key length. 2)
        <code class="literal">MyISAM</code> would reject a table with the maximum
        number of keys and the maximum number of key segments in all
        keys. (It would allow one less than this total maximum.) Now
        <code class="literal">MyISAM</code> accepts a table defined with the
        maximum.
       (<a href="http://bugs.mysql.com/26642" target="_top">Bug#26642</a>)</p></li><li><p>
        The index merge union access algorithm could produce incorrect
        results with <code class="literal">InnoDB</code> tables. The problem could
        also occur for queries that used <code class="literal">DISTINCT</code>.
       (<a href="http://bugs.mysql.com/25798" target="_top">Bug#25798</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        could kill itself when attempting to kill other processes.
       (<a href="http://bugs.mysql.com/25657" target="_top">Bug#25657</a>)</p></li><li><p>
        A query with <code class="literal">DISTINCT</code> in the select list to
        which the loose-scan optimization for grouping queries was
        applied returned an incorrect result set when the query was used
        with the <code class="literal">SQL_BIG_RESULT</code> option.
       (<a href="http://bugs.mysql.com/25602" target="_top">Bug#25602</a>)</p></li><li><p>
        For a multiple-row insert into a <code class="literal">FEDERATED</code>
        table that refers to a remote transactional table, if the insert
        failed for a row due to constraint failure, the remote table
        would contain a partial commit (the rows preceding the failed
        one) instead of rolling back the statement completely. This
        occurred because the rows were treated as individual inserts.
      </p><p>
        Now <code class="literal">FEDERATED</code> performs bulk-insert handling
        such that multiple rows are sent to the remote table in a batch.
        This provides a performance improvement and enables the remote
        table to perform statement rollback properly should an error
        occur. This capability has the following limitations:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The size of the insert cannot exceed the maximum packet size
            between servers. If the insert exceeds this size, it is
            broken into multiple packets and the rollback problem can
            occur.
          </p></li><li><p>
            Bulk-insert handling does not occur for <code class="literal">INSERT ...
            ON DUPLICATE KEY UPDATE</code>.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/25513" target="_top">Bug#25513</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine failed silently
        for <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> if a
        duplicate key violation occurred. <code class="literal">FEDERATED</code>
        does not support <code class="literal">ON DUPLICATE KEY UPDATE</code>, so
        now it correctly returns an <code class="literal">ER_DUP_KEY</code> error
        if a duplicate key violation occurs.
       (<a href="http://bugs.mysql.com/25511" target="_top">Bug#25511</a>)</p></li><li><p>
        A too-long <code class="literal">shared-memory-base-name</code> value
        could cause a buffer overflow and crash the server or clients.
       (<a href="http://bugs.mysql.com/24924" target="_top">Bug#24924</a>)</p></li><li><p>
        The server deducted some bytes from the
        <code class="literal">key_cache_block_size</code> option value and reduced
        it to the next lower 512 byte boundary. The resulting block size
        was not a power of two. Setting the
        <code class="literal">key_cache_block_size</code> system variable to a
        value that is not a power of two resulted in
        <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/23068" target="_top">Bug#23068</a>, <a href="http://bugs.mysql.com/28478" target="_top">Bug#28478</a>, <a href="http://bugs.mysql.com/25853" target="_top">Bug#25853</a>)</p></li><li><p>
        <code class="literal">SHOW BINLOG EVENTS</code> displayed incorrect values
        of <code class="literal">End_log_pos</code> for events associated with
        transactional storage engines.
       (<a href="http://bugs.mysql.com/22540" target="_top">Bug#22540</a>)</p></li><li><p>
        Under ActiveState Perl, <code class="literal">mysql-test-run.pl</code>
        would not run.
       (<a href="http://bugs.mysql.com/18415" target="_top">Bug#18415</a>)</p></li><li><p>
        The server crashed when the size of an
        <code class="literal">ARCHIVE</code> table grew larger than 2GB.
       (<a href="http://bugs.mysql.com/15787" target="_top">Bug#15787</a>)</p></li><li><p>
        On 64-bit Windows systems, the Config Wizard failed to complete
        the setup because 64-bit Windows does not resolve dynamic
        linking of the 64-bit <code class="filename">libmysql.dll</code> to a
        32-bit application like the Config Wizard.
       (<a href="http://bugs.mysql.com/14649" target="_top">Bug#14649</a>)</p></li><li><p>
        The server returned data from <code class="literal">SHOW CREATE
        TABLE</code> statement or a <code class="literal">SELECT</code>
        statement on an INFORMATION_SCHEMA table using the
        <code class="literal">binary</code> character set.
       (<a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a>)</p></li><li><p>
        Bulk-insert handling does not occur for <code class="literal">INSERT ... ON
        DUPLICATE KEY UPDATE</code>.
      </p></li><li><p>
        The size of the insert cannot exceed the maximum packet size
        between servers. If the insert exceeds this size, it is broken
        into multiple packets and the rollback problem can occur.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-44sp1"></a>C.1.12. Release Notes for  MySQL Enterprise 5.0.44sp1 [QSP] (01 August 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.44).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server source tree now includes scripts to simplify building
        MySQL with SCI support. For more information about SCI
        interconnects and these build scripts, see
        <a href="mysql-cluster.html#mysql-cluster-sci-sockets" title="16.11.1. Configuring MySQL Cluster to use SCI Sockets">Section 16.11.1, “Configuring MySQL Cluster to use SCI Sockets”</a>.
       (<a href="http://bugs.mysql.com/25470" target="_top">Bug#25470</a>)</p></li><li><p>
        Enterprise builds did not include the <code class="literal">CSV</code>
        storage engine. <code class="literal">CSV</code> is now included in
        Enterprise builds for all platforms except Windows, QNX, and
        NetWare.
       (<a href="http://bugs.mysql.com/28844" target="_top">Bug#28844</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> statements on
        <code class="literal">BLACKHOLE</code> tables are now rejected, due to the
        fact that the <code class="literal">BLACKHOLE</code> storage engine does
        not support them.
       (<a href="http://bugs.mysql.com/27998" target="_top">Bug#27998</a>)</p></li><li><p>
        A new status variable, <code class="literal">Com_call_procedure</code>,
        indicates the number of calls to stored procedures.
       (<a href="http://bugs.mysql.com/27994" target="_top">Bug#27994</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malformed password packet in the connection protocol could
        cause the server to crash. Thanks for Dormando for reporting
        this bug, and for providing details and a proof of concept.
       (<a href="http://bugs.mysql.com/28984" target="_top">Bug#28984</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3780" target="_top">CVE-2007-3780</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">CREATE TABLE LIKE</code> did not require any
        privileges on the source table. Now it requires the
        <code class="literal">SELECT</code> privilege.
      </p><p>
        In addition, <code class="literal">CREATE TABLE LIKE</code> was not
        isolated from alteration by other connections, which resulted in
        various errors and incorrect binary log order when trying to
        execute concurrently a <code class="literal">CREATE TABLE LIKE</code>
        statement and either DDL statements on the source table or DML
        or DDL statements on the target table.
       (<a href="http://bugs.mysql.com/23667" target="_top">Bug#23667</a>, <a href="http://bugs.mysql.com/25578" target="_top">Bug#25578</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3781" target="_top">CVE-2007-3781</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        When <span><strong class="command">mysqldump</strong></span> was run with the
        <code class="option">--delete-master-logs</code> option, binary log files
        were deleted before it was known that the dump had succeeded,
        not after. (The method for removing log files used
        <code class="literal">RESET MASTER</code> prior to the dump. This also
        reset the binary log sequence numbering to
        <code class="literal">.000001</code>.) Now <span><strong class="command">mysqldump</strong></span>
        flushes the logs (which creates a new binary log number with the
        next sequence number), performs the dump, and then uses
        <code class="literal">PURGE MASTER LOGS</code> to remove the log files
        older than the new one. This also preserves log numbering
        because the new log with the next number is generated and only
        the preceding logs are removed. However, this may affect
        applications if they rely on the log numbering sequence being
        reset.
       (<a href="http://bugs.mysql.com/24733" target="_top">Bug#24733</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The use of an <code class="literal">ORDER BY</code> or
        <code class="literal">DISTINCT</code> clause with a query containing a
        call to the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function caused results from previous queries to be redisplayed
        in the current result. The fix for this includes replacing a
        <code class="literal">BLOB</code> value used internally for sorting with a
        <code class="literal">VARCHAR</code>. This means that for long results
        (more than 65,535 bytes), it is possible for truncation to
        occur; if so, an appropriate warning is issued.
       (<a href="http://bugs.mysql.com/23856" target="_top">Bug#23856</a>, <a href="http://bugs.mysql.com/28273" target="_top">Bug#28273</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A corrupt schema file could cause a <span class="errortext">File already
        open</span> error.
       (<a href="http://bugs.mysql.com/28770" target="_top">Bug#28770</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">InitialNoOpenFiles</code> equal to
        <code class="literal">MaxNoOfOpenFiles</code> caused an error. This was
        due to the fact that the actual value of
        <code class="literal">MaxNoOfOpenFiles</code> as used by the cluster was
        offset by 1 from the value set in
        <code class="filename">config.ini</code>.
       (<a href="http://bugs.mysql.com/28749" target="_top">Bug#28749</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> statements involving the
        primary keys of multiple tables could result in data corruption.
       (<a href="http://bugs.mysql.com/28719" target="_top">Bug#28719</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could result when non-master nodes (in addition
        to the master node) tried to update active status due to a local
        checkpoint (that is, between <code class="literal">NODE_FAILREP</code> and
        <code class="literal">COPY_GCIREQ</code> events). Now only the master
        updates the active status.
       (<a href="http://bugs.mysql.com/28717" target="_top">Bug#28717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A fast global checkpoint under high load with high usage of the
        redo buffer caused data nodes to fail.
       (<a href="http://bugs.mysql.com/28653" target="_top">Bug#28653</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When an API node sent more than 1024 signals in a single batch,
        <code class="literal">NDB</code> would process only the first 1024 of
        these, and then hang.
       (<a href="http://bugs.mysql.com/28443" target="_top">Bug#28443</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A delay in obtaining <code class="literal">AUTO_INCREMENT</code> IDs could
        lead to excess temporary errors.
       (<a href="http://bugs.mysql.com/28410" target="_top">Bug#28410</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A failure to release internal resources following an error could
        lead to problems with single user mode.
       (<a href="http://bugs.mysql.com/25818" target="_top">Bug#25818</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <span><strong class="command">mysql_install_db</strong></span> script. This problem was
        fixed in a repackaged distribution numbered 5.0.44b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        Long pathnames for internal temporary tables could cause stack
        overflows.
       (<a href="http://bugs.mysql.com/29015" target="_top">Bug#29015</a>)</p></li><li><p>
        Using an <code class="literal">INTEGER</code> column from a table to
        <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> a number produced
        different results than using a constant with the same value as
        the <code class="literal">INTEGER</code> column.
       (<a href="http://bugs.mysql.com/28980" target="_top">Bug#28980</a>)</p></li><li><p>
        If a program binds a given number of parameters to a prepared
        statement handle and then somehow changes
        <code class="literal">stmt-&gt;param_count</code> to a different number,
        <a href="apis.html#mysql-stmt-execute" title="23.2.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> could
        crash the client or server.
       (<a href="http://bugs.mysql.com/28934" target="_top">Bug#28934</a>)</p></li><li><p>
        <code class="literal">INSERT .. ON DUPLICATE KEY UPDATE</code> could under
        some circumstances silently update rows when it should not have.
       (<a href="http://bugs.mysql.com/28904" target="_top">Bug#28904</a>)</p></li><li><p>
        Queries that used <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> were
        incorrectly allowed into the query cache. (This should not
        happen because <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> is
        non-deterministic.)
       (<a href="http://bugs.mysql.com/28897" target="_top">Bug#28897</a>)</p></li><li><p>
        Using a <code class="literal">VIEW</code> created with a non-existing
        <code class="literal">DEFINER</code> could lead to incorrect results under
        some circumstances.
       (<a href="http://bugs.mysql.com/28895" target="_top">Bug#28895</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables that use the
        <code class="literal">utf8</code> character set, incorrect results could
        occur for DML statements such as <code class="literal">DELETE</code> or
        <code class="literal">UPDATE</code> that use an index on character-based
        columns.
       (<a href="http://bugs.mysql.com/28878" target="_top">Bug#28878</a>)</p><p>See also <a href="http://bugs.mysql.com/29449" target="_top">Bug#29449</a>, <a href="http://bugs.mysql.com/30485" target="_top">Bug#30485</a>, <a href="http://bugs.mysql.com/31395" target="_top">Bug#31395</a></p><p>This regression was introduced by <a href="http://bugs.mysql.com/13195" target="_top">Bug#13195</a></p></li><li><p>
        On Windows, <code class="literal">USE_TLS</code> was not defined for
        <code class="filename">mysqlclient.lib</code>.
       (<a href="http://bugs.mysql.com/28860" target="_top">Bug#28860</a>)</p></li><li><p>
        A subquery with <code class="literal">ORDER BY</code> and <code class="literal">LIMIT
        1</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/28811" target="_top">Bug#28811</a>)</p></li><li><p>
        Using <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with non-indexed
        date columns and short formats of the date string could return
        incorrect results.
       (<a href="http://bugs.mysql.com/28778" target="_top">Bug#28778</a>)</p></li><li><p>
        Selecting <code class="literal">GEOMETRY</code> columns in a
        <code class="literal">UNION</code> caused a server crash.
       (<a href="http://bugs.mysql.com/28763" target="_top">Bug#28763</a>)</p></li><li><p>
        When constructing the path to the original
        <code class="filename">.frm</code> file, <code class="literal">ALTER ..
        RENAME</code> was unnecessarily (and incorrectly) lowercasing
        the entire path when not on a case-insensitive filesystem,
        causing the statement to fail.
       (<a href="http://bugs.mysql.com/28754" target="_top">Bug#28754</a>)</p></li><li><p>
        Searches on indexed and non-indexed <code class="literal">ENUM</code>
        columns could return different results for empty strings.
       (<a href="http://bugs.mysql.com/28729" target="_top">Bug#28729</a>)</p></li><li><p>
        Executing <code class="literal">EXPLAIN EXTENDED</code> on a query using a
        derived table over a grouping subselect could lead to a server
        crash. This occurred only when materialization of the derived
        tables required creation of an auxiliary temporary table, an
        example being when a grouping operation was carried out with
        usage of a temporary table.
       (<a href="http://bugs.mysql.com/28728" target="_top">Bug#28728</a>)</p></li><li><p>
        The result of evaluation for a view's <code class="literal">CHECK
        OPTION</code> option over an updated record and records of
        merged tables was arbitrary and dependant on the order of
        records in the merged tables during the execution of the
        <code class="literal">SELECT</code> statement.
       (<a href="http://bugs.mysql.com/28716" target="_top">Bug#28716</a>)</p></li><li><p>
        The “<span class="quote">manager thread</span>” of the LinuxThreads
        implementation was unintentionally started before
        <span><strong class="command">mysqld</strong></span> had dropped privileges (to run as an
        unprivileged user). This caused signaling between threads in
        <span><strong class="command">mysqld</strong></span> to fail when the privileges were
        finally dropped.
       (<a href="http://bugs.mysql.com/28690" target="_top">Bug#28690</a>)</p></li><li><p>
        For debug builds, <code class="literal">ALTER TABLE</code> could trigger
        an assertion failure due to occurrence of a deadlock when
        committing changes.
       (<a href="http://bugs.mysql.com/28652" target="_top">Bug#28652</a>)</p></li><li><p>
        After an upgrade, the names of stored routines referenced by
        views were no longer displayed by <code class="literal">SHOW CREATE
        VIEW</code>.
       (<a href="http://bugs.mysql.com/28605" target="_top">Bug#28605</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a></p></li><li><p>
        Killing from one connection a long-running <code class="literal">EXPLAIN
        QUERY</code> started from another connection caused
        <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/28598" target="_top">Bug#28598</a>)</p></li><li><p>
        Outer join queries with <code class="literal">ON</code> conditions over
        constant outer tables did not return
        <code class="literal">NULL</code>-complemented rows when conditions were
        evaluated to <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/28571" target="_top">Bug#28571</a>)</p></li><li><p>
        An update on a multiple-table view with the CHECK OPTION clause
        and a subquery in the WHERE condition could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/28561" target="_top">Bug#28561</a>)</p></li><li><p>
        <code class="literal">PURGE MASTER LOGS BEFORE
        (<em class="replaceable"><code>subquery</code></em>)</code> caused a server
        crash. Subqueries are forbidden in the <code class="literal">BEFORE</code>
        clause now.
       (<a href="http://bugs.mysql.com/28553" target="_top">Bug#28553</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> calculated the required memory for
        a hex-blob string incorrectly causing a buffer overrun. This in
        turn caused <span><strong class="command">mysqldump</strong></span> to crash silently and
        produce incomplete output.
       (<a href="http://bugs.mysql.com/28522" target="_top">Bug#28522</a>)</p></li><li><p>
        Passing a <code class="literal">DECIMAL</code> value as a parameter of a
        statement prepared with <code class="literal">PREPARE</code> resulted in
        an error.
       (<a href="http://bugs.mysql.com/28509" target="_top">Bug#28509</a>)</p></li><li><p>
        <a href="apis.html#mysql-affected-rows" title="23.2.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return an incorrect result for <code class="literal">INSERT ... ON DUPLICATE
        KEY UPDATE</code> if the <code class="literal">CLIENT_FOUND_ROWS</code>
        flag was set.
       (<a href="http://bugs.mysql.com/28505" target="_top">Bug#28505</a>)</p></li><li><p>
        A query that grouped by the result of an expression returned a
        different result when the expression was assigned to a user
        variable.
       (<a href="http://bugs.mysql.com/28494" target="_top">Bug#28494</a>)</p></li><li><p>
        Subselects returning <code class="literal">LONG</code> values in MySQL
        versions later than 5.0.24a returned <code class="literal">LONGLONG</code>
        prior to this. The previous behavior was restored.
       (<a href="http://bugs.mysql.com/28492" target="_top">Bug#28492</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a></p></li><li><p>
        Forcing the use of an index on a <code class="literal">SELECT</code> query
        when the index had been disabled would raise an error without
        running the query. The query now executes, with a warning
        generated noting that the use of a disabled index has been
        ignored.
       (<a href="http://bugs.mysql.com/28476" target="_top">Bug#28476</a>)</p></li><li><p>
        The result of executing of a prepared statement created with
        <code class="literal">PREPARE s FROM "SELECT 1 LIMIT ?"</code>
        was not replicated correctly.
       (<a href="http://bugs.mysql.com/28464" target="_top">Bug#28464</a>)</p></li><li><p>
        The query <code class="literal">SELECT '2007-01-01' + INTERVAL
        <em class="replaceable"><code>column_name</code></em> DAY FROM
        <em class="replaceable"><code>table_name</code></em></code> caused
        <span><strong class="command">mysqld</strong></span> to fail.
       (<a href="http://bugs.mysql.com/28450" target="_top">Bug#28450</a>)</p></li><li><p>
        A server crash could happen under rare conditions such that a
        temporary table outgrew heap memory reserved for it and the
        remaining disk space was not big enough to store the table as a
        <code class="literal">MyISAM</code> table.
       (<a href="http://bugs.mysql.com/28449" target="_top">Bug#28449</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> failed if certain SQL modes
        were set. Now it sets the mode itself to avoid this problem.
       (<a href="http://bugs.mysql.com/28401" target="_top">Bug#28401</a>)</p></li><li><p>
        The test case for <span><strong class="command">mysqldump</strong></span> failed with
        <code class="literal">bin-log</code> disabled.
       (<a href="http://bugs.mysql.com/28372" target="_top">Bug#28372</a>)</p></li><li><p>
        Attempting to <code class="literal">LOAD_FILE</code> from an empty floppy
        drive under Windows, caused the server to hang. For example, if
        you opened a connection to the server and then issued the
        command <span><strong class="command">SELECT LOAD_FILE('a:test');</strong></span>, with no
        floppy in the drive, the server was inaccessible until the modal
        pop-up dialog box was dismissed.
       (<a href="http://bugs.mysql.com/28366" target="_top">Bug#28366</a>)</p></li><li><p>
        A buffer overflow could occur when using
        <code class="literal">DECIMAL</code> columns on Windows operating systems.
       (<a href="http://bugs.mysql.com/28361" target="_top">Bug#28361</a>)</p></li><li><p>
        <code class="literal">libmysql.dll</code> could not be dynamically loaded
        on Windows.
       (<a href="http://bugs.mysql.com/28358" target="_top">Bug#28358</a>)</p></li><li><p>
        Grouping queries with correlated subqueries in
        <code class="literal">WHERE</code> conditions could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/28337" target="_top">Bug#28337</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> used a too-large stack size on
        PPC/Debian Linux, causing thread-creation failure for tests that
        use many threads.
       (<a href="http://bugs.mysql.com/28333" target="_top">Bug#28333</a>)</p></li><li><p>
        <code class="literal">EXPLAIN</code> for a query on an empty table
        immediately after its creation could result in a server crash.
       (<a href="http://bugs.mysql.com/28272" target="_top">Bug#28272</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <code class="literal">INFORMATION_SCHEMA.VIEWS</code> table was not always
        set correctly.
       (<a href="http://bugs.mysql.com/28266" target="_top">Bug#28266</a>)</p></li><li><p>
        Comparing a <code class="literal">DATETIME</code> column value with a user
        variable yielded incorrect results.
       (<a href="http://bugs.mysql.com/28261" target="_top">Bug#28261</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of a
        <code class="literal">NULL</code> value with type
        <code class="literal">DECIMAL</code>, the return value was incorrectly
        initialized, producing a runtime error for binaries built using
        Visual C++ 2005.
       (<a href="http://bugs.mysql.com/28250" target="_top">Bug#28250</a>)</p></li><li><p>
        Recreating a view that already exists on the master would cause
        a replicating slave to terminate replication with a 'different
        error message on slave and master' error.
       (<a href="http://bugs.mysql.com/28244" target="_top">Bug#28244</a>)</p></li><li><p>
        Portability problems caused by use of <code class="literal">isinf()</code>
        were corrected.
       (<a href="http://bugs.mysql.com/28240" target="_top">Bug#28240</a>)</p></li><li><p>
        When dumping procedures, <span><strong class="command">mysqldump
        <code class="option">--compact</code> </strong></span> generated output that
        restored the session variable <code class="literal">SQL_MODE</code>
        without first capturing it. When dumping routines,
        <span><strong class="command">mysqldump <code class="option">--compact</code> </strong></span> neither
        set nor retrieved the value of <code class="literal">SQL_MODE</code>.
       (<a href="http://bugs.mysql.com/28223" target="_top">Bug#28223</a>)</p></li><li><p>
        Comparison of the string value of a date showed as unequal to
        <a href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>. Similar behavior was
        exhibited for <code class="literal">DATETIME</code> values.
       (<a href="http://bugs.mysql.com/28208" target="_top">Bug#28208</a>)</p></li><li><p>
        The <code class="literal">Bytes_received</code> and
        <code class="literal">Bytes_sent</code> status variables could hold only
        32-bit values (not 64-bit values) on some platforms.
       (<a href="http://bugs.mysql.com/28149" target="_top">Bug#28149</a>)</p></li><li><p>
        Storing a large number into a <code class="literal">FLOAT</code> or
        <code class="literal">DOUBLE</code> column with a fixed length could
        result in incorrect truncation of the number if the column's
        length was greater than 31.
       (<a href="http://bugs.mysql.com/28121" target="_top">Bug#28121</a>)</p></li><li><p>
        <code class="literal">DECIMAL</code> values beginning with nine
        <code class="literal">9</code> digits could be incorrectly rounded.
       (<a href="http://bugs.mysql.com/27984" target="_top">Bug#27984</a>)</p></li><li><p>
        The second execution of a prepared statement from a
        <code class="literal">UNION</code> query with <code class="literal">ORDER BY
        RAND()</code> caused the server to crash. This problem could
        also occur when invoking a stored procedure containing such a
        query.
       (<a href="http://bugs.mysql.com/27937" target="_top">Bug#27937</a>)</p></li><li><p>
        For attempts to open a non-existent table, the server should
        report <code class="literal">ER_NO_SUCH_TABLE</code> but sometimes
        reported <code class="literal">ER_TABLE_NOT_LOCKED</code>.
       (<a href="http://bugs.mysql.com/27907" target="_top">Bug#27907</a>)</p></li><li><p>
        A stored program that uses a variable name containing multibyte
        characters could fail to execute.
       (<a href="http://bugs.mysql.com/27876" target="_top">Bug#27876</a>)</p></li><li><p>
        <code class="literal">ON</code> conditions from <code class="literal">JOIN</code>
        expressions were ignored when checking the <code class="literal">CHECK
        OPTION</code> clause while updating a multiple-table view
        that included such a clause.
       (<a href="http://bugs.mysql.com/27827" target="_top">Bug#27827</a>)</p></li><li><p>
        On some systems, <code class="filename">udf_example.c</code> returned an
        incorrect result length. Also on some systems,
        <span><strong class="command">mysql-test-run.pl</strong></span> could not find the shared
        object built from <code class="filename">udf_example.c</code>.
       (<a href="http://bugs.mysql.com/27741" target="_top">Bug#27741</a>)</p></li><li><p>
        <code class="literal">HASH</code> indexes on <code class="literal">VARCHAR</code>
        columns with binary collations did not ignore trailing spaces
        from strings before comparisons. This could result in duplicate
        records being successfully inserted into a
        <code class="literal">MEMORY</code> table with unique key constraints. A
        consequence was that internal <code class="literal">MEMORY</code> tables
        used for <code class="literal">GROUP BY</code> calculation contained
        duplicate rows that resulted in duplicate-key errors when
        converting those temporary tables to <code class="literal">MyISAM</code>,
        and that error was incorrectly reported as a <code class="literal">table is
        full</code> error.
       (<a href="http://bugs.mysql.com/27643" target="_top">Bug#27643</a>)</p></li><li><p>
        An error occurred trying to connect to
        <span><strong class="command">mysqld-debug.exe</strong></span>.
       (<a href="http://bugs.mysql.com/27597" target="_top">Bug#27597</a>)</p></li><li><p>
        Selecting <a href="functions.html#function_min"><code class="literal">MIN()</code></a> on an indexed
        column that contained only <code class="literal">NULL</code> values caused
        <code class="literal">NULL</code> to be returned for other result columns.
       (<a href="http://bugs.mysql.com/27573" target="_top">Bug#27573</a>)</p></li><li><p>
        If a stored function or trigger was killed, it aborted but no
        error was thrown, allowing the calling statement to continue
        without noticing the problem. This could lead to incorrect
        results.
       (<a href="http://bugs.mysql.com/27563" target="_top">Bug#27563</a>)</p></li><li><p>
        When <code class="literal">ALTER TABLE</code> was used to add a new
        <code class="literal">DATE</code> column with no explicit default value,
        <code class="literal">'0000-00-00'</code> was used as the default even if
        the SQL mode included the <code class="literal">NO_ZERO_DATE</code> mode
        to prohibit that value. A similar problem occurred for
        <code class="literal">DATETIME</code> columns.
       (<a href="http://bugs.mysql.com/27507" target="_top">Bug#27507</a>)</p></li><li><p>
        Using a <code class="literal">TEXT</code> local variable in a stored
        routine in an expression such as <code class="literal">SET
        <em class="replaceable"><code>var</code></em> =
        SUBSTRING(<em class="replaceable"><code>var</code></em>, 3)</code> produced
        an incorrect result.
       (<a href="http://bugs.mysql.com/27415" target="_top">Bug#27415</a>)</p></li><li><p>
        The error message for error number <code class="literal">137</code> did
        not report which database/table combination reported the
        problem.
       (<a href="http://bugs.mysql.com/27173" target="_top">Bug#27173</a>)</p></li><li><p>
        A large filesort could result in a division by zero error and a
        server crash.
       (<a href="http://bugs.mysql.com/27119" target="_top">Bug#27119</a>)</p></li><li><p>
        Binary logging of prepared statements could produce
        syntactically incorrect queries in the binary log, replacing
        some parameters with variable names rather than variable values.
        This could lead to incorrect results on replication slaves.
       (<a href="http://bugs.mysql.com/26842" target="_top">Bug#26842</a>, <a href="http://bugs.mysql.com/12826" target="_top">Bug#12826</a>)</p></li><li><p>
        Connections from one <span><strong class="command">mysqld</strong></span> server to another
        failed on Mac OS X, affecting replication and
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/26664" target="_top">Bug#26664</a>)</p><p>See also <a href="http://bugs.mysql.com/29083" target="_top">Bug#29083</a></p></li><li><p>
        Some test suite files were missing from some MySQL-test
        packages.
       (<a href="http://bugs.mysql.com/26609" target="_top">Bug#26609</a>)</p></li><li><p>
        Statements within triggers ignored the value of the
        <code class="literal">low_priority_updates</code> system variable.
       (<a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>)</p><p>See also <a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a></p></li><li><p>
        Running <code class="literal">CHECK TABLE</code> concurrently with a
        <code class="literal">SELECT</code>, <code class="literal">INSERT</code> or other
        statement on Windows could corrupt a MyISAM table.
       (<a href="http://bugs.mysql.com/25712" target="_top">Bug#25712</a>)</p></li><li><p>
        On Windows, connection handlers did not properly decrement the
        server's thread count when exiting.
       (<a href="http://bugs.mysql.com/25621" target="_top">Bug#25621</a>)</p></li><li><p>
        Due to a race condition, executing <code class="literal">FLUSH
        PRIVILEGES</code> in one thread could cause brief table
        unavailability in other threads.
       (<a href="http://bugs.mysql.com/24988" target="_top">Bug#24988</a>)</p></li><li><p>
        When <span><strong class="command">mysqld</strong></span> was run as a Windows service,
        shared memory objects were not created in the global namespace
        and could not be used by clients to connect.
       (<a href="http://bugs.mysql.com/24731" target="_top">Bug#24731</a>)</p></li><li><p>
        On some Linux distributions where LinuxThreads and NPTL
        <code class="literal">glibc</code> versions both are available, statically
        built binaries can crash because the linker defaults to
        LinuxThreads when linking statically, but calls to external
        libraries (such as <code class="literal">libnss</code>) are resolved to
        NPTL versions. This cannot be worked around in the code, so
        instead if a crash occurs on such a binary/OS combination, print
        an error message that provides advice about how to fix the
        problem.
       (<a href="http://bugs.mysql.com/24611" target="_top">Bug#24611</a>)</p></li><li><p>
        Implicit conversion of <code class="literal">9912101</code> to
        <code class="literal">DATE</code> did not match
        <a href="functions.html#function_cast"><code class="literal">CAST(9912101 AS DATE)</code></a>.
       (<a href="http://bugs.mysql.com/23093" target="_top">Bug#23093</a>)</p></li><li><p>
        Conversion errors could occur when constructing the condition
        for an <code class="literal">IN</code> predicate. The predicate was
        treated as if the affected column contains
        <code class="literal">NULL</code>, but if the <code class="literal">IN</code>
        predicate is inside <code class="literal">NOT</code>, incorrect results
        could be returned.
       (<a href="http://bugs.mysql.com/22855" target="_top">Bug#22855</a>)</p></li><li><p>
        When using transactions and replication, shutting down the
        master in the middle of a transaction would cause all slaves to
        stop replicating.
       (<a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>)</p></li><li><p>
        Linux binaries were unable to dump core after executing a
        <code class="literal">setuid()</code> call.
       (<a href="http://bugs.mysql.com/21723" target="_top">Bug#21723</a>)</p></li><li><p>
        Stack overflow caused server crashes.
       (<a href="http://bugs.mysql.com/21476" target="_top">Bug#21476</a>)</p></li><li><p>
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> is less than
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>, either when comparing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> directly
        (<code class="literal">CURDATE() &lt; NOW()</code> is true) or when
        casting <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> to
        <code class="literal">DATE</code> (<code class="literal">CAST(CURDATE() AS DATE) &lt;
        NOW()</code> is true). However, storing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> in a
        <code class="literal">DATE</code> column and comparing <code class="literal">
        <em class="replaceable"><code>col_name</code></em> &lt; NOW()</code>
        incorrectly yielded false. This is fixed by comparing a
        <code class="literal">DATE</code> column as <code class="literal">DATETIME</code>
        for comparisons to a <code class="literal">DATETIME</code> constant.
       (<a href="http://bugs.mysql.com/21103" target="_top">Bug#21103</a>)</p></li><li><p>
        For dates with 4-digit year parts less than 200, an incorrect
        implicit conversion to add a century was applied for date
        arithmetic performed with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, <code class="literal">+
        INTERVAL</code>, and <code class="literal">- INTERVAL</code>. (For
        example, <a href="functions.html#function_date-add"><code class="literal">DATE_ADD('0050-01-01 00:00:00',
        INTERVAL 0 SECOND)</code></a> became <code class="literal">'2050-01-01
        00:00:00'</code>.)
       (<a href="http://bugs.mysql.com/18997" target="_top">Bug#18997</a>)</p></li><li><p>
        Using <code class="literal">CREATE TABLE LIKE ...</code> would raise an
        assertion when replicated to a slave.
       (<a href="http://bugs.mysql.com/18950" target="_top">Bug#18950</a>)</p></li><li><p>
        Granting access privileges to an individual table where the
        database or table name contained an underscore would fail.
       (<a href="http://bugs.mysql.com/18660" target="_top">Bug#18660</a>)</p></li><li><p>
        The <code class="literal">-lmtmalloc</code> library was removed from the
        output of <span><strong class="command">mysql_config</strong></span> on Solaris, as it
        caused problems when building <code class="literal">DBD::mysql</code> (and
        possibly other applications) on that platform that tried to use
        <span><strong class="command">dlopen()</strong></span> to access the client library.
       (<a href="http://bugs.mysql.com/18322" target="_top">Bug#18322</a>)</p></li><li><p>
        The <span><strong class="command">check-cpu</strong></span> script failed to detect AMD64
        Turion processors correctly.
       (<a href="http://bugs.mysql.com/17707" target="_top">Bug#17707</a>)</p></li><li><p>
        Trying to shut down the server following a failed <code class="literal">LOAD
        DATA INFILE</code> caused <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/17233" target="_top">Bug#17233</a>)</p></li><li><p>
        Using up-arrow for command-line recall in
        <span><strong class="command">mysql</strong></span> could cause a segmentation fault.
       (<a href="http://bugs.mysql.com/10218" target="_top">Bug#10218</a>)</p></li><li><p>
        The result for <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> when
        casting a value to <code class="literal">UNSIGNED</code> was limited to
        the maximum signed <code class="literal">BIGINT</code> value
        (9223372036854775808), rather than the maximum unsigned value
        (18446744073709551615).
       (<a href="http://bugs.mysql.com/8663" target="_top">Bug#8663</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-44"></a>C.1.13. Release Notes for  MySQL Enterprise 5.0.44 [MRU] (21 June 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.42).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server source tree now includes scripts to simplify building
        MySQL with SCI support. For more information about SCI
        interconnects and these build scripts, see
        <a href="mysql-cluster.html#mysql-cluster-sci-sockets" title="16.11.1. Configuring MySQL Cluster to use SCI Sockets">Section 16.11.1, “Configuring MySQL Cluster to use SCI Sockets”</a>.
       (<a href="http://bugs.mysql.com/25470" target="_top">Bug#25470</a>)</p></li><li><p>
        Enterprise builds did not include the <code class="literal">CSV</code>
        storage engine. <code class="literal">CSV</code> is now included in
        Enterprise builds for all platforms except Windows, QNX, and
        NetWare.
       (<a href="http://bugs.mysql.com/28844" target="_top">Bug#28844</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> statements on
        <code class="literal">BLACKHOLE</code> tables are now rejected, due to the
        fact that the <code class="literal">BLACKHOLE</code> storage engine does
        not support them.
       (<a href="http://bugs.mysql.com/27998" target="_top">Bug#27998</a>)</p></li><li><p>
        A new status variable, <code class="literal">Com_call_procedure</code>,
        indicates the number of calls to stored procedures.
       (<a href="http://bugs.mysql.com/27994" target="_top">Bug#27994</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malformed password packet in the connection protocol could
        cause the server to crash. Thanks for Dormando for reporting
        this bug, and for providing details and a proof of concept.
       (<a href="http://bugs.mysql.com/28984" target="_top">Bug#28984</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3780" target="_top">CVE-2007-3780</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <code class="literal">CREATE TABLE LIKE</code> did not require any
        privileges on the source table. Now it requires the
        <code class="literal">SELECT</code> privilege.
      </p><p>
        In addition, <code class="literal">CREATE TABLE LIKE</code> was not
        isolated from alteration by other connections, which resulted in
        various errors and incorrect binary log order when trying to
        execute concurrently a <code class="literal">CREATE TABLE LIKE</code>
        statement and either DDL statements on the source table or DML
        or DDL statements on the target table.
       (<a href="http://bugs.mysql.com/23667" target="_top">Bug#23667</a>, <a href="http://bugs.mysql.com/25578" target="_top">Bug#25578</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3781" target="_top">CVE-2007-3781</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        When <span><strong class="command">mysqldump</strong></span> was run with the
        <code class="option">--delete-master-logs</code> option, binary log files
        were deleted before it was known that the dump had succeeded,
        not after. (The method for removing log files used
        <code class="literal">RESET MASTER</code> prior to the dump. This also
        reset the binary log sequence numbering to
        <code class="literal">.000001</code>.) Now <span><strong class="command">mysqldump</strong></span>
        flushes the logs (which creates a new binary log number with the
        next sequence number), performs the dump, and then uses
        <code class="literal">PURGE MASTER LOGS</code> to remove the log files
        older than the new one. This also preserves log numbering
        because the new log with the next number is generated and only
        the preceding logs are removed. However, this may affect
        applications if they rely on the log numbering sequence being
        reset.
       (<a href="http://bugs.mysql.com/24733" target="_top">Bug#24733</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The use of an <code class="literal">ORDER BY</code> or
        <code class="literal">DISTINCT</code> clause with a query containing a
        call to the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function caused results from previous queries to be redisplayed
        in the current result. The fix for this includes replacing a
        <code class="literal">BLOB</code> value used internally for sorting with a
        <code class="literal">VARCHAR</code>. This means that for long results
        (more than 65,535 bytes), it is possible for truncation to
        occur; if so, an appropriate warning is issued.
       (<a href="http://bugs.mysql.com/23856" target="_top">Bug#23856</a>, <a href="http://bugs.mysql.com/28273" target="_top">Bug#28273</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A corrupt schema file could cause a <span class="errortext">File already
        open</span> error.
       (<a href="http://bugs.mysql.com/28770" target="_top">Bug#28770</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">InitialNoOpenFiles</code> equal to
        <code class="literal">MaxNoOfOpenFiles</code> caused an error. This was
        due to the fact that the actual value of
        <code class="literal">MaxNoOfOpenFiles</code> as used by the cluster was
        offset by 1 from the value set in
        <code class="filename">config.ini</code>.
       (<a href="http://bugs.mysql.com/28749" target="_top">Bug#28749</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> statements involving the
        primary keys of multiple tables could result in data corruption.
       (<a href="http://bugs.mysql.com/28719" target="_top">Bug#28719</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could result when non-master nodes (in addition
        to the master node) tried to update active status due to a local
        checkpoint (that is, between <code class="literal">NODE_FAILREP</code> and
        <code class="literal">COPY_GCIREQ</code> events). Now only the master
        updates the active status.
       (<a href="http://bugs.mysql.com/28717" target="_top">Bug#28717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A fast global checkpoint under high load with high usage of the
        redo buffer caused data nodes to fail.
       (<a href="http://bugs.mysql.com/28653" target="_top">Bug#28653</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When an API node sent more than 1024 signals in a single batch,
        <code class="literal">NDB</code> would process only the first 1024 of
        these, and then hang.
       (<a href="http://bugs.mysql.com/28443" target="_top">Bug#28443</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A delay in obtaining <code class="literal">AUTO_INCREMENT</code> IDs could
        lead to excess temporary errors.
       (<a href="http://bugs.mysql.com/28410" target="_top">Bug#28410</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A failure to release internal resources following an error could
        lead to problems with single user mode.
       (<a href="http://bugs.mysql.com/25818" target="_top">Bug#25818</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <span><strong class="command">mysql_install_db</strong></span> script. This problem was
        fixed in a repackaged distribution numbered 5.0.44b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        Long pathnames for internal temporary tables could cause stack
        overflows.
       (<a href="http://bugs.mysql.com/29015" target="_top">Bug#29015</a>)</p></li><li><p>
        Using an <code class="literal">INTEGER</code> column from a table to
        <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> a number produced
        different results than using a constant with the same value as
        the <code class="literal">INTEGER</code> column.
       (<a href="http://bugs.mysql.com/28980" target="_top">Bug#28980</a>)</p></li><li><p>
        If a program binds a given number of parameters to a prepared
        statement handle and then somehow changes
        <code class="literal">stmt-&gt;param_count</code> to a different number,
        <a href="apis.html#mysql-stmt-execute" title="23.2.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> could
        crash the client or server.
       (<a href="http://bugs.mysql.com/28934" target="_top">Bug#28934</a>)</p></li><li><p>
        <code class="literal">INSERT .. ON DUPLICATE KEY UPDATE</code> could under
        some circumstances silently update rows when it should not have.
       (<a href="http://bugs.mysql.com/28904" target="_top">Bug#28904</a>)</p></li><li><p>
        Queries that used <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> were
        incorrectly allowed into the query cache. (This should not
        happen because <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> is
        non-deterministic.)
       (<a href="http://bugs.mysql.com/28897" target="_top">Bug#28897</a>)</p></li><li><p>
        Using a <code class="literal">VIEW</code> created with a non-existing
        <code class="literal">DEFINER</code> could lead to incorrect results under
        some circumstances.
       (<a href="http://bugs.mysql.com/28895" target="_top">Bug#28895</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables that use the
        <code class="literal">utf8</code> character set, incorrect results could
        occur for DML statements such as <code class="literal">DELETE</code> or
        <code class="literal">UPDATE</code> that use an index on character-based
        columns.
       (<a href="http://bugs.mysql.com/28878" target="_top">Bug#28878</a>)</p><p>See also <a href="http://bugs.mysql.com/29449" target="_top">Bug#29449</a>, <a href="http://bugs.mysql.com/30485" target="_top">Bug#30485</a>, <a href="http://bugs.mysql.com/31395" target="_top">Bug#31395</a></p><p>This regression was introduced by <a href="http://bugs.mysql.com/13195" target="_top">Bug#13195</a></p></li><li><p>
        On Windows, <code class="literal">USE_TLS</code> was not defined for
        <code class="filename">mysqlclient.lib</code>.
       (<a href="http://bugs.mysql.com/28860" target="_top">Bug#28860</a>)</p></li><li><p>
        A subquery with <code class="literal">ORDER BY</code> and <code class="literal">LIMIT
        1</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/28811" target="_top">Bug#28811</a>)</p></li><li><p>
        Using <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> with non-indexed
        date columns and short formats of the date string could return
        incorrect results.
       (<a href="http://bugs.mysql.com/28778" target="_top">Bug#28778</a>)</p></li><li><p>
        Selecting <code class="literal">GEOMETRY</code> columns in a
        <code class="literal">UNION</code> caused a server crash.
       (<a href="http://bugs.mysql.com/28763" target="_top">Bug#28763</a>)</p></li><li><p>
        When constructing the path to the original
        <code class="filename">.frm</code> file, <code class="literal">ALTER ..
        RENAME</code> was unnecessarily (and incorrectly) lowercasing
        the entire path when not on a case-insensitive filesystem,
        causing the statement to fail.
       (<a href="http://bugs.mysql.com/28754" target="_top">Bug#28754</a>)</p></li><li><p>
        Searches on indexed and non-indexed <code class="literal">ENUM</code>
        columns could return different results for empty strings.
       (<a href="http://bugs.mysql.com/28729" target="_top">Bug#28729</a>)</p></li><li><p>
        Executing <code class="literal">EXPLAIN EXTENDED</code> on a query using a
        derived table over a grouping subselect could lead to a server
        crash. This occurred only when materialization of the derived
        tables required creation of an auxiliary temporary table, an
        example being when a grouping operation was carried out with
        usage of a temporary table.
       (<a href="http://bugs.mysql.com/28728" target="_top">Bug#28728</a>)</p></li><li><p>
        The result of evaluation for a view's <code class="literal">CHECK
        OPTION</code> option over an updated record and records of
        merged tables was arbitrary and dependant on the order of
        records in the merged tables during the execution of the
        <code class="literal">SELECT</code> statement.
       (<a href="http://bugs.mysql.com/28716" target="_top">Bug#28716</a>)</p></li><li><p>
        The “<span class="quote">manager thread</span>” of the LinuxThreads
        implementation was unintentionally started before
        <span><strong class="command">mysqld</strong></span> had dropped privileges (to run as an
        unprivileged user). This caused signaling between threads in
        <span><strong class="command">mysqld</strong></span> to fail when the privileges were
        finally dropped.
       (<a href="http://bugs.mysql.com/28690" target="_top">Bug#28690</a>)</p></li><li><p>
        For debug builds, <code class="literal">ALTER TABLE</code> could trigger
        an assertion failure due to occurrence of a deadlock when
        committing changes.
       (<a href="http://bugs.mysql.com/28652" target="_top">Bug#28652</a>)</p></li><li><p>
        After an upgrade, the names of stored routines referenced by
        views were no longer displayed by <code class="literal">SHOW CREATE
        VIEW</code>.
       (<a href="http://bugs.mysql.com/28605" target="_top">Bug#28605</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a></p></li><li><p>
        Killing from one connection a long-running <code class="literal">EXPLAIN
        QUERY</code> started from another connection caused
        <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/28598" target="_top">Bug#28598</a>)</p></li><li><p>
        Outer join queries with <code class="literal">ON</code> conditions over
        constant outer tables did not return
        <code class="literal">NULL</code>-complemented rows when conditions were
        evaluated to <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/28571" target="_top">Bug#28571</a>)</p></li><li><p>
        An update on a multiple-table view with the CHECK OPTION clause
        and a subquery in the WHERE condition could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/28561" target="_top">Bug#28561</a>)</p></li><li><p>
        <code class="literal">PURGE MASTER LOGS BEFORE
        (<em class="replaceable"><code>subquery</code></em>)</code> caused a server
        crash. Subqueries are forbidden in the <code class="literal">BEFORE</code>
        clause now.
       (<a href="http://bugs.mysql.com/28553" target="_top">Bug#28553</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> calculated the required memory for
        a hex-blob string incorrectly causing a buffer overrun. This in
        turn caused <span><strong class="command">mysqldump</strong></span> to crash silently and
        produce incomplete output.
       (<a href="http://bugs.mysql.com/28522" target="_top">Bug#28522</a>)</p></li><li><p>
        Passing a <code class="literal">DECIMAL</code> value as a parameter of a
        statement prepared with <code class="literal">PREPARE</code> resulted in
        an error.
       (<a href="http://bugs.mysql.com/28509" target="_top">Bug#28509</a>)</p></li><li><p>
        <a href="apis.html#mysql-affected-rows" title="23.2.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return an incorrect result for <code class="literal">INSERT ... ON DUPLICATE
        KEY UPDATE</code> if the <code class="literal">CLIENT_FOUND_ROWS</code>
        flag was set.
       (<a href="http://bugs.mysql.com/28505" target="_top">Bug#28505</a>)</p></li><li><p>
        A query that grouped by the result of an expression returned a
        different result when the expression was assigned to a user
        variable.
       (<a href="http://bugs.mysql.com/28494" target="_top">Bug#28494</a>)</p></li><li><p>
        Subselects returning <code class="literal">LONG</code> values in MySQL
        versions later than 5.0.24a returned <code class="literal">LONGLONG</code>
        prior to this. The previous behavior was restored.
       (<a href="http://bugs.mysql.com/28492" target="_top">Bug#28492</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a></p></li><li><p>
        Forcing the use of an index on a <code class="literal">SELECT</code> query
        when the index had been disabled would raise an error without
        running the query. The query now executes, with a warning
        generated noting that the use of a disabled index has been
        ignored.
       (<a href="http://bugs.mysql.com/28476" target="_top">Bug#28476</a>)</p></li><li><p>
        The result of executing of a prepared statement created with
        <code class="literal">PREPARE s FROM "SELECT 1 LIMIT ?"</code>
        was not replicated correctly.
       (<a href="http://bugs.mysql.com/28464" target="_top">Bug#28464</a>)</p></li><li><p>
        The query <code class="literal">SELECT '2007-01-01' + INTERVAL
        <em class="replaceable"><code>column_name</code></em> DAY FROM
        <em class="replaceable"><code>table_name</code></em></code> caused
        <span><strong class="command">mysqld</strong></span> to fail.
       (<a href="http://bugs.mysql.com/28450" target="_top">Bug#28450</a>)</p></li><li><p>
        A server crash could happen under rare conditions such that a
        temporary table outgrew heap memory reserved for it and the
        remaining disk space was not big enough to store the table as a
        <code class="literal">MyISAM</code> table.
       (<a href="http://bugs.mysql.com/28449" target="_top">Bug#28449</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> failed if certain SQL modes
        were set. Now it sets the mode itself to avoid this problem.
       (<a href="http://bugs.mysql.com/28401" target="_top">Bug#28401</a>)</p></li><li><p>
        The test case for <span><strong class="command">mysqldump</strong></span> failed with
        <code class="literal">bin-log</code> disabled.
       (<a href="http://bugs.mysql.com/28372" target="_top">Bug#28372</a>)</p></li><li><p>
        Attempting to <code class="literal">LOAD_FILE</code> from an empty floppy
        drive under Windows, caused the server to hang. For example, if
        you opened a connection to the server and then issued the
        command <span><strong class="command">SELECT LOAD_FILE('a:test');</strong></span>, with no
        floppy in the drive, the server was inaccessible until the modal
        pop-up dialog box was dismissed.
       (<a href="http://bugs.mysql.com/28366" target="_top">Bug#28366</a>)</p></li><li><p>
        A buffer overflow could occur when using
        <code class="literal">DECIMAL</code> columns on Windows operating systems.
       (<a href="http://bugs.mysql.com/28361" target="_top">Bug#28361</a>)</p></li><li><p>
        <code class="literal">libmysql.dll</code> could not be dynamically loaded
        on Windows.
       (<a href="http://bugs.mysql.com/28358" target="_top">Bug#28358</a>)</p></li><li><p>
        Grouping queries with correlated subqueries in
        <code class="literal">WHERE</code> conditions could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/28337" target="_top">Bug#28337</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> used a too-large stack size on
        PPC/Debian Linux, causing thread-creation failure for tests that
        use many threads.
       (<a href="http://bugs.mysql.com/28333" target="_top">Bug#28333</a>)</p></li><li><p>
        <code class="literal">EXPLAIN</code> for a query on an empty table
        immediately after its creation could result in a server crash.
       (<a href="http://bugs.mysql.com/28272" target="_top">Bug#28272</a>)</p></li><li><p>
        The <code class="literal">IS_UPDATABLE</code> column in the
        <code class="literal">INFORMATION_SCHEMA.VIEWS</code> table was not always
        set correctly.
       (<a href="http://bugs.mysql.com/28266" target="_top">Bug#28266</a>)</p></li><li><p>
        Comparing a <code class="literal">DATETIME</code> column value with a user
        variable yielded incorrect results.
       (<a href="http://bugs.mysql.com/28261" target="_top">Bug#28261</a>)</p></li><li><p>
        For <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of a
        <code class="literal">NULL</code> value with type
        <code class="literal">DECIMAL</code>, the return value was incorrectly
        initialized, producing a runtime error for binaries built using
        Visual C++ 2005.
       (<a href="http://bugs.mysql.com/28250" target="_top">Bug#28250</a>)</p></li><li><p>
        Recreating a view that already exists on the master would cause
        a replicating slave to terminate replication with a 'different
        error message on slave and master' error.
       (<a href="http://bugs.mysql.com/28244" target="_top">Bug#28244</a>)</p></li><li><p>
        Portability problems caused by use of <code class="literal">isinf()</code>
        were corrected.
       (<a href="http://bugs.mysql.com/28240" target="_top">Bug#28240</a>)</p></li><li><p>
        When dumping procedures, <span><strong class="command">mysqldump
        <code class="option">--compact</code> </strong></span> generated output that
        restored the session variable <code class="literal">SQL_MODE</code>
        without first capturing it. When dumping routines,
        <span><strong class="command">mysqldump <code class="option">--compact</code> </strong></span> neither
        set nor retrieved the value of <code class="literal">SQL_MODE</code>.
       (<a href="http://bugs.mysql.com/28223" target="_top">Bug#28223</a>)</p></li><li><p>
        Comparison of the string value of a date showed as unequal to
        <a href="functions.html#function_curtime"><code class="literal">CURTIME()</code></a>. Similar behavior was
        exhibited for <code class="literal">DATETIME</code> values.
       (<a href="http://bugs.mysql.com/28208" target="_top">Bug#28208</a>)</p></li><li><p>
        The <code class="literal">Bytes_received</code> and
        <code class="literal">Bytes_sent</code> status variables could hold only
        32-bit values (not 64-bit values) on some platforms.
       (<a href="http://bugs.mysql.com/28149" target="_top">Bug#28149</a>)</p></li><li><p>
        Storing a large number into a <code class="literal">FLOAT</code> or
        <code class="literal">DOUBLE</code> column with a fixed length could
        result in incorrect truncation of the number if the column's
        length was greater than 31.
       (<a href="http://bugs.mysql.com/28121" target="_top">Bug#28121</a>)</p></li><li><p>
        <code class="literal">DECIMAL</code> values beginning with nine
        <code class="literal">9</code> digits could be incorrectly rounded.
       (<a href="http://bugs.mysql.com/27984" target="_top">Bug#27984</a>)</p></li><li><p>
        The second execution of a prepared statement from a
        <code class="literal">UNION</code> query with <code class="literal">ORDER BY
        RAND()</code> caused the server to crash. This problem could
        also occur when invoking a stored procedure containing such a
        query.
       (<a href="http://bugs.mysql.com/27937" target="_top">Bug#27937</a>)</p></li><li><p>
        For attempts to open a non-existent table, the server should
        report <code class="literal">ER_NO_SUCH_TABLE</code> but sometimes
        reported <code class="literal">ER_TABLE_NOT_LOCKED</code>.
       (<a href="http://bugs.mysql.com/27907" target="_top">Bug#27907</a>)</p></li><li><p>
        A stored program that uses a variable name containing multibyte
        characters could fail to execute.
       (<a href="http://bugs.mysql.com/27876" target="_top">Bug#27876</a>)</p></li><li><p>
        <code class="literal">ON</code> conditions from <code class="literal">JOIN</code>
        expressions were ignored when checking the <code class="literal">CHECK
        OPTION</code> clause while updating a multiple-table view
        that included such a clause.
       (<a href="http://bugs.mysql.com/27827" target="_top">Bug#27827</a>)</p></li><li><p>
        On some systems, <code class="filename">udf_example.c</code> returned an
        incorrect result length. Also on some systems,
        <span><strong class="command">mysql-test-run.pl</strong></span> could not find the shared
        object built from <code class="filename">udf_example.c</code>.
       (<a href="http://bugs.mysql.com/27741" target="_top">Bug#27741</a>)</p></li><li><p>
        <code class="literal">HASH</code> indexes on <code class="literal">VARCHAR</code>
        columns with binary collations did not ignore trailing spaces
        from strings before comparisons. This could result in duplicate
        records being successfully inserted into a
        <code class="literal">MEMORY</code> table with unique key constraints. A
        consequence was that internal <code class="literal">MEMORY</code> tables
        used for <code class="literal">GROUP BY</code> calculation contained
        duplicate rows that resulted in duplicate-key errors when
        converting those temporary tables to <code class="literal">MyISAM</code>,
        and that error was incorrectly reported as a <code class="literal">table is
        full</code> error.
       (<a href="http://bugs.mysql.com/27643" target="_top">Bug#27643</a>)</p></li><li><p>
        An error occurred trying to connect to
        <span><strong class="command">mysqld-debug.exe</strong></span>.
       (<a href="http://bugs.mysql.com/27597" target="_top">Bug#27597</a>)</p></li><li><p>
        Selecting <a href="functions.html#function_min"><code class="literal">MIN()</code></a> on an indexed
        column that contained only <code class="literal">NULL</code> values caused
        <code class="literal">NULL</code> to be returned for other result columns.
       (<a href="http://bugs.mysql.com/27573" target="_top">Bug#27573</a>)</p></li><li><p>
        If a stored function or trigger was killed, it aborted but no
        error was thrown, allowing the calling statement to continue
        without noticing the problem. This could lead to incorrect
        results.
       (<a href="http://bugs.mysql.com/27563" target="_top">Bug#27563</a>)</p></li><li><p>
        When <code class="literal">ALTER TABLE</code> was used to add a new
        <code class="literal">DATE</code> column with no explicit default value,
        <code class="literal">'0000-00-00'</code> was used as the default even if
        the SQL mode included the <code class="literal">NO_ZERO_DATE</code> mode
        to prohibit that value. A similar problem occurred for
        <code class="literal">DATETIME</code> columns.
       (<a href="http://bugs.mysql.com/27507" target="_top">Bug#27507</a>)</p></li><li><p>
        Using a <code class="literal">TEXT</code> local variable in a stored
        routine in an expression such as <code class="literal">SET
        <em class="replaceable"><code>var</code></em> =
        SUBSTRING(<em class="replaceable"><code>var</code></em>, 3)</code> produced
        an incorrect result.
       (<a href="http://bugs.mysql.com/27415" target="_top">Bug#27415</a>)</p></li><li><p>
        The error message for error number <code class="literal">137</code> did
        not report which database/table combination reported the
        problem.
       (<a href="http://bugs.mysql.com/27173" target="_top">Bug#27173</a>)</p></li><li><p>
        A large filesort could result in a division by zero error and a
        server crash.
       (<a href="http://bugs.mysql.com/27119" target="_top">Bug#27119</a>)</p></li><li><p>
        Binary logging of prepared statements could produce
        syntactically incorrect queries in the binary log, replacing
        some parameters with variable names rather than variable values.
        This could lead to incorrect results on replication slaves.
       (<a href="http://bugs.mysql.com/26842" target="_top">Bug#26842</a>, <a href="http://bugs.mysql.com/12826" target="_top">Bug#12826</a>)</p></li><li><p>
        Connections from one <span><strong class="command">mysqld</strong></span> server to another
        failed on Mac OS X, affecting replication and
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/26664" target="_top">Bug#26664</a>)</p><p>See also <a href="http://bugs.mysql.com/29083" target="_top">Bug#29083</a></p></li><li><p>
        Some test suite files were missing from some MySQL-test
        packages.
       (<a href="http://bugs.mysql.com/26609" target="_top">Bug#26609</a>)</p></li><li><p>
        Statements within triggers ignored the value of the
        <code class="literal">low_priority_updates</code> system variable.
       (<a href="http://bugs.mysql.com/26162" target="_top">Bug#26162</a>)</p><p>See also <a href="http://bugs.mysql.com/29963" target="_top">Bug#29963</a></p></li><li><p>
        Running <code class="literal">CHECK TABLE</code> concurrently with a
        <code class="literal">SELECT</code>, <code class="literal">INSERT</code> or other
        statement on Windows could corrupt a MyISAM table.
       (<a href="http://bugs.mysql.com/25712" target="_top">Bug#25712</a>)</p></li><li><p>
        On Windows, connection handlers did not properly decrement the
        server's thread count when exiting.
       (<a href="http://bugs.mysql.com/25621" target="_top">Bug#25621</a>)</p></li><li><p>
        Due to a race condition, executing <code class="literal">FLUSH
        PRIVILEGES</code> in one thread could cause brief table
        unavailability in other threads.
       (<a href="http://bugs.mysql.com/24988" target="_top">Bug#24988</a>)</p></li><li><p>
        When <span><strong class="command">mysqld</strong></span> was run as a Windows service,
        shared memory objects were not created in the global namespace
        and could not be used by clients to connect.
       (<a href="http://bugs.mysql.com/24731" target="_top">Bug#24731</a>)</p></li><li><p>
        On some Linux distributions where LinuxThreads and NPTL
        <code class="literal">glibc</code> versions both are available, statically
        built binaries can crash because the linker defaults to
        LinuxThreads when linking statically, but calls to external
        libraries (such as <code class="literal">libnss</code>) are resolved to
        NPTL versions. This cannot be worked around in the code, so
        instead if a crash occurs on such a binary/OS combination, print
        an error message that provides advice about how to fix the
        problem.
       (<a href="http://bugs.mysql.com/24611" target="_top">Bug#24611</a>)</p></li><li><p>
        Implicit conversion of <code class="literal">9912101</code> to
        <code class="literal">DATE</code> did not match
        <a href="functions.html#function_cast"><code class="literal">CAST(9912101 AS DATE)</code></a>.
       (<a href="http://bugs.mysql.com/23093" target="_top">Bug#23093</a>)</p></li><li><p>
        Conversion errors could occur when constructing the condition
        for an <code class="literal">IN</code> predicate. The predicate was
        treated as if the affected column contains
        <code class="literal">NULL</code>, but if the <code class="literal">IN</code>
        predicate is inside <code class="literal">NOT</code>, incorrect results
        could be returned.
       (<a href="http://bugs.mysql.com/22855" target="_top">Bug#22855</a>)</p></li><li><p>
        When using transactions and replication, shutting down the
        master in the middle of a transaction would cause all slaves to
        stop replicating.
       (<a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>)</p></li><li><p>
        Linux binaries were unable to dump core after executing a
        <code class="literal">setuid()</code> call.
       (<a href="http://bugs.mysql.com/21723" target="_top">Bug#21723</a>)</p></li><li><p>
        Stack overflow caused server crashes.
       (<a href="http://bugs.mysql.com/21476" target="_top">Bug#21476</a>)</p></li><li><p>
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> is less than
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>, either when comparing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> directly
        (<code class="literal">CURDATE() &lt; NOW()</code> is true) or when
        casting <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> to
        <code class="literal">DATE</code> (<code class="literal">CAST(CURDATE() AS DATE) &lt;
        NOW()</code> is true). However, storing
        <a href="functions.html#function_curdate"><code class="literal">CURDATE()</code></a> in a
        <code class="literal">DATE</code> column and comparing <code class="literal">
        <em class="replaceable"><code>col_name</code></em> &lt; NOW()</code>
        incorrectly yielded false. This is fixed by comparing a
        <code class="literal">DATE</code> column as <code class="literal">DATETIME</code>
        for comparisons to a <code class="literal">DATETIME</code> constant.
       (<a href="http://bugs.mysql.com/21103" target="_top">Bug#21103</a>)</p></li><li><p>
        For dates with 4-digit year parts less than 200, an incorrect
        implicit conversion to add a century was applied for date
        arithmetic performed with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, <code class="literal">+
        INTERVAL</code>, and <code class="literal">- INTERVAL</code>. (For
        example, <a href="functions.html#function_date-add"><code class="literal">DATE_ADD('0050-01-01 00:00:00',
        INTERVAL 0 SECOND)</code></a> became <code class="literal">'2050-01-01
        00:00:00'</code>.)
       (<a href="http://bugs.mysql.com/18997" target="_top">Bug#18997</a>)</p></li><li><p>
        Using <code class="literal">CREATE TABLE LIKE ...</code> would raise an
        assertion when replicated to a slave.
       (<a href="http://bugs.mysql.com/18950" target="_top">Bug#18950</a>)</p></li><li><p>
        Granting access privileges to an individual table where the
        database or table name contained an underscore would fail.
       (<a href="http://bugs.mysql.com/18660" target="_top">Bug#18660</a>)</p></li><li><p>
        The <code class="literal">-lmtmalloc</code> library was removed from the
        output of <span><strong class="command">mysql_config</strong></span> on Solaris, as it
        caused problems when building <code class="literal">DBD::mysql</code> (and
        possibly other applications) on that platform that tried to use
        <span><strong class="command">dlopen()</strong></span> to access the client library.
       (<a href="http://bugs.mysql.com/18322" target="_top">Bug#18322</a>)</p></li><li><p>
        The <span><strong class="command">check-cpu</strong></span> script failed to detect AMD64
        Turion processors correctly.
       (<a href="http://bugs.mysql.com/17707" target="_top">Bug#17707</a>)</p></li><li><p>
        Trying to shut down the server following a failed <code class="literal">LOAD
        DATA INFILE</code> caused <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/17233" target="_top">Bug#17233</a>)</p></li><li><p>
        Using up-arrow for command-line recall in
        <span><strong class="command">mysql</strong></span> could cause a segmentation fault.
       (<a href="http://bugs.mysql.com/10218" target="_top">Bug#10218</a>)</p></li><li><p>
        The result for <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> when
        casting a value to <code class="literal">UNSIGNED</code> was limited to
        the maximum signed <code class="literal">BIGINT</code> value
        (9223372036854775808), rather than the maximum unsigned value
        (18446744073709551615).
       (<a href="http://bugs.mysql.com/8663" target="_top">Bug#8663</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-42"></a>C.1.14. Release Notes for  MySQL Enterprise 5.0.42 [MRU] (23 May 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.40).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">INSERT DELAYED</code> is now downgraded to a normal
        <code class="literal">INSERT</code> if the statement uses functions that
        access tables or triggers, or that is called from a function or
        a trigger.
      </p><p>
        This was done to resolve the following interrelated issues:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              The server could abort or deadlock for <code class="literal">INSERT
              DELAYED</code> statements for which another insert was
              performed implicitly (for example, via a stored function
              that inserted a row).
            </p></li><li><p>
              A trigger using an <code class="literal">INSERT DELAYED</code>
              caused the error <span class="errortext">INSERT DELAYED can't be used
              with table ... because it is locked with LOCK
              TABLES</span> although the target table was not
              actually locked.
            </p></li><li><p>
              <code class="literal">INSERT DELAYED</code> into a table with a
              <code class="literal">BEFORE INSERT</code> or <code class="literal">AFTER
              INSERT</code> trigger gave an incorrect
              <code class="literal">NEW</code> pseudocolumn value and caused the
              server to deadlock or abort.
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/21483" target="_top">Bug#21483</a>)</p><p>See also <a href="http://bugs.mysql.com/20497" target="_top">Bug#20497</a>, <a href="http://bugs.mysql.com/21714" target="_top">Bug#21714</a></p></li><li><p>
        Prior to this release, when <code class="literal">DATE</code> values were
        compared with <code class="literal">DATETIME</code> values the time
        portion of the <code class="literal">DATETIME</code> value was ignored.
        Now a <code class="literal">DATE</code> value is coerced to the
        <code class="literal">DATETIME</code> type by adding the time portion as
        “<span class="quote">00:00:00</span>”. To mimic the old behavior use the
        CAST() function in the following way: <code class="literal">SELECT
        <em class="replaceable"><code>date_field</code></em> = CAST(NOW() as
        DATE);</code>.
       (<a href="http://bugs.mysql.com/28929" target="_top">Bug#28929</a>)</p></li><li><p>
        <span><strong class="command">mysqld_multi</strong></span> now understands the
        <code class="option">--no-defaults</code>,
        <code class="option">--defaults-file</code>, and
        <code class="literal">--defaults-extra-file</code> options. The
        <code class="option">--config-file</code> option is deprecated; if given,
        it is treated like <code class="option">--defaults-extra-file</code>.
       (<a href="http://bugs.mysql.com/27390" target="_top">Bug#27390</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Use of a view could allow a user to gain update privileges for
        tables in other databases.
       (<a href="http://bugs.mysql.com/27878" target="_top">Bug#27878</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3782" target="_top">CVE-2007-3782</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        The requirement of the <code class="literal">DROP</code> privilege for
        <code class="literal">RENAME TABLE</code> was not enforced.
       (<a href="http://bugs.mysql.com/27515" target="_top">Bug#27515</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2691" target="_top">CVE-2007-2691</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        If a stored routine was declared using <code class="literal">SQL SECURITY
        INVOKER</code>, a user who invoked the routine could gain
        privileges.
       (<a href="http://bugs.mysql.com/27337" target="_top">Bug#27337</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2692" target="_top">CVE-2007-2692</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster waited 30 seconds instead of 30 milliseconds before
        reading table statistics.
       (<a href="http://bugs.mysql.com/28093" target="_top">Bug#28093</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">INSERT IGNORE</code> wrongly ignored
        <code class="literal">NULL</code> values in unique indexes.
       (<a href="http://bugs.mysql.com/27980" target="_top">Bug#27980</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The name of the month “<span class="quote">March</span>” was given incorrectly
        in the cluster error log.
       (<a href="http://bugs.mysql.com/27926" target="_top">Bug#27926</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to add a unique index to an
        <code class="literal">NDB</code> table while in single user mode.
       (<a href="http://bugs.mysql.com/27710" target="_top">Bug#27710</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated insertion of data generated by
        <span><strong class="command">mysqldump</strong></span> into <code class="literal">NDB</code> tables
        could eventually lead to failure of the cluster.
       (<a href="http://bugs.mysql.com/27437" target="_top">Bug#27437</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">ndb_connectstring</code> did not appear in the
        output of <code class="literal">SHOW VARIABLES</code>.
       (<a href="http://bugs.mysql.com/26675" target="_top">Bug#26675</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        For <code class="literal">BLOB</code> reads on operations with lock mode
        <code class="literal">LM_CommittedRead</code>, the lock mode was not
        upgraded to <code class="literal">LM_Read</code> before the state of the
        <code class="literal">BLOB</code> had already been calculated. The
        <code class="literal">NDB</code> API methods affected by this problem
        included the following:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">NdbOperation::readTuple()</code>
            </p></li><li><p>
              <code class="literal">NdbScanOperation::readTuples()</code>
            </p></li><li><p>
              <code class="literal">NdbIndexScanOperation::readTuples()</code>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/27320" target="_top">Bug#27320</a>)</p></li><li><p>
        On the IBM i5 platform, the installation script in the
        <code class="filename">.savf</code> binaries unconditionally executed the
        <span><strong class="command">mysql_install_db</strong></span> script. This problem was
        fixed in a repackaged distribution numbered 5.0.42b.
       (<a href="http://bugs.mysql.com/30084" target="_top">Bug#30084</a>)</p></li><li><p>
        A query with a <code class="literal">NOT IN</code> subquery predicate
        could cause a crash when the left operand of the predicate
        evaluated to <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/28375" target="_top">Bug#28375</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code>, in some rare cases the optimizer
        preferred a more expensive <code class="literal">ref</code> access to a
        less expensive range access.
       (<a href="http://bugs.mysql.com/28189" target="_top">Bug#28189</a>)</p></li><li><p>
        A performance degradation was observed for outer join queries to
        which a not-exists optimization was applied.
       (<a href="http://bugs.mysql.com/28188" target="_top">Bug#28188</a>)</p></li><li><p>
        <code class="literal">SELECT * INTO OUTFILE ... FROM
        INFORMATION_SCHEMA.SCHEMATA</code> failed with an
        <span class="errortext">Access denied</span> error, even for a user who
        had the <code class="literal">FILE</code> privilege.
       (<a href="http://bugs.mysql.com/28181" target="_top">Bug#28181</a>)</p></li><li><p>
        Comparisons of <code class="literal">DATE</code> or
        <code class="literal">DATETIME</code> values for the
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> function could yield
        incorrect results.
       (<a href="http://bugs.mysql.com/28133" target="_top">Bug#28133</a>)</p></li><li><p>
        The server could hang for <code class="literal">INSERT IGNORE ... ON
        DUPLICATE KEY UPDATE</code> if an update failed.
       (<a href="http://bugs.mysql.com/28000" target="_top">Bug#28000</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to
        <code class="literal">DECIMAL</code> did not check for overflow.
       (<a href="http://bugs.mysql.com/27957" target="_top">Bug#27957</a>)</p></li><li><p>
        For <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>
        statements that affected many rows, updates could be applied to
        the wrong rows.
       (<a href="http://bugs.mysql.com/27954" target="_top">Bug#27954</a>)</p></li><li><p>
        Early <code class="literal">NULL</code>-filtering optimization did not
        work for <code class="literal">eq_ref</code> table access.
       (<a href="http://bugs.mysql.com/27939" target="_top">Bug#27939</a>)</p></li><li><p>
        Views ignored precision for
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> operations.
       (<a href="http://bugs.mysql.com/27921" target="_top">Bug#27921</a>)</p></li><li><p>
        Non-grouped columns were allowed by <code class="literal">*</code> in
        <code class="literal">ONLY_FULL_GROUP_BY</code> SQL mode.
       (<a href="http://bugs.mysql.com/27874" target="_top">Bug#27874</a>)</p></li><li><p>
        Debug builds on Windows generated false alarms about
        uninitialized variables with some Visual Studio runtime
        libraries.
       (<a href="http://bugs.mysql.com/27811" target="_top">Bug#27811</a>)</p></li><li><p>
        Certain queries that used uncorrelated scalar subqueries caused
        <code class="literal">EXPLAIN</code> to crash.
       (<a href="http://bugs.mysql.com/27807" target="_top">Bug#27807</a>)</p></li><li><p>
        Changes to some system variables should invalidate statements in
        the query cache, but invalidation did not happen.
       (<a href="http://bugs.mysql.com/27792" target="_top">Bug#27792</a>)</p></li><li><p>
        Performing a <code class="literal">UNION</code> on two views that had
        <code class="literal">ORDER BY</code> clauses resulted in an
        <code class="literal">Unknown column</code> error.
       (<a href="http://bugs.mysql.com/27786" target="_top">Bug#27786</a>)</p></li><li><p>
        <span><strong class="command">mysql_install_db</strong></span> is supposed to detect
        existing system tables and create only those that do not exist.
        Instead, it was exiting with an error if tables already existed.
       (<a href="http://bugs.mysql.com/27783" target="_top">Bug#27783</a>)</p></li><li><p>
        <span><strong class="command">mysqld</strong></span> did not check the length of option
        values and could crash with a buffer overflow for long values.
       (<a href="http://bugs.mysql.com/27715" target="_top">Bug#27715</a>)</p></li><li><p>
        Comparisons using row constructors could fail for rows
        containing <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/27704" target="_top">Bug#27704</a>)</p></li><li><p>
        <code class="literal">LOAD DATA</code> did not use
        <code class="literal">CURRENT_TIMESTAMP</code> as the default value for a
        <code class="literal">TIMESTAMP</code> column for which no value was
        provided.
       (<a href="http://bugs.mysql.com/27670" target="_top">Bug#27670</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> could not connect using SSL.
       (<a href="http://bugs.mysql.com/27669" target="_top">Bug#27669</a>)</p></li><li><p>
        On Linux, the server could not create temporary tables if
        <code class="literal">lower_case_table_names</code> was set to 1 and the
        value of <code class="literal">tmpdir</code> was a directory name
        containing any uppercase letters.
       (<a href="http://bugs.mysql.com/27653" target="_top">Bug#27653</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, a multiple-row
        <code class="literal">INSERT</code> of the form <code class="literal">INSERT INTO t
        (id...) VALUES (NULL...) ON DUPLICATE KEY UPDATE
        id=VALUES(id)</code>, where <code class="literal">id</code> is an
        <code class="literal">AUTO_INCREMENT</code> column, could cause
        <code class="literal">ERROR 1062 (23000): Duplicate entry...</code> errors
        or lost rows.
       (<a href="http://bugs.mysql.com/27650" target="_top">Bug#27650</a>)</p></li><li><p>
        The XML output representing an empty result was an empty string
        rather than an empty <code class="literal">&lt;resultset/&gt;</code>
        element.
       (<a href="http://bugs.mysql.com/27608" target="_top">Bug#27608</a>)</p></li><li><p>
        Comparison of a <code class="literal">DATE</code> with a
        <code class="literal">DATETIME</code> did not treat the
        <code class="literal">DATE</code> as having a time part of
        <code class="literal">00:00:00</code>.
       (<a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>)</p><p>See also <a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a></p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/17212" target="_top">Bug#17212</a> provided correct sort order for
        misordered output of certain queries, but caused significant
        overall query performance degradation. (Results were correct
        (good), but returned much more slowly (bad).) The fix also
        affected performance of queries for which results were correct.
        The performance degradation has been addressed.
       (<a href="http://bugs.mysql.com/27531" target="_top">Bug#27531</a>)</p></li><li><p>
        The <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a> function returns an
        unsigned integer, but the metadata was signed, which could cause
        certain queries to return incorrect results. (For example,
        queries that selected a <a href="functions.html#function_crc32"><code class="literal">CRC32()</code></a>
        value and used that value in the <code class="literal">GROUP BY</code>
        clause.)
       (<a href="http://bugs.mysql.com/27530" target="_top">Bug#27530</a>)</p></li><li><p>
        An interaction between <code class="literal">SHOW TABLE STATUS</code> and
        other concurrent statements that modify the table could result
        in a divide-by-zero error and a server crash.
       (<a href="http://bugs.mysql.com/27516" target="_top">Bug#27516</a>)</p></li><li><p>
        A race condition between <code class="literal">DROP TABLE</code> and
        <code class="literal">SHOW TABLE STATUS</code> could cause the latter to
        display incorrect information.
       (<a href="http://bugs.mysql.com/27499" target="_top">Bug#27499</a>)</p></li><li><p>
        Nested aggregate functions could be improperly evaluated.
       (<a href="http://bugs.mysql.com/27363" target="_top">Bug#27363</a>)</p></li><li><p>
        A stored function invocation in the <code class="literal">WHERE</code>
        clause was treated as a constant.
       (<a href="http://bugs.mysql.com/27354" target="_top">Bug#27354</a>)</p></li><li><p>
        Failure to allocate memory associated with
        <code class="literal">transaction_prealloc_size</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/27322" target="_top">Bug#27322</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> crashed if it got no data from
        <code class="literal">SHOW CREATE PROCEDURE</code> (for example, when
        trying to dump a routine defined by a different user and for
        which the current user had no privileges). Now it prints a
        comment to indicate the problem. It also returns an error, or
        continues if the <code class="option">--force</code> option is given.
       (<a href="http://bugs.mysql.com/27293" target="_top">Bug#27293</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> produced different output with
        the <code class="option">-R</code> option than without it.
       (<a href="http://bugs.mysql.com/27171" target="_top">Bug#27171</a>)</p></li><li><p>
        Flow control optimization in stored routines could cause
        exception handlers to never return or execute incorrect logic.
       (<a href="http://bugs.mysql.com/26977" target="_top">Bug#26977</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> would not dump a view for which the
        <code class="literal">DEFINER</code> no longer exists.
       (<a href="http://bugs.mysql.com/26817" target="_top">Bug#26817</a>)</p></li><li><p>
        Creating a temporary table with InnoDB when using the
        one-file-per-table setting, and when the host filesystem for
        temporary tables was <code class="literal">tmpfs</code>, would cause an
        assertion within <code class="literal">mysqld</code>. This was due to the
        use of <code class="literal">O_DIRECT</code> when opening the temporary
        table file.
       (<a href="http://bugs.mysql.com/26662" target="_top">Bug#26662</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> did not detect failure of
        external commands that it runs.
       (<a href="http://bugs.mysql.com/26639" target="_top">Bug#26639</a>)</p></li><li><p>
        Aborting a statement on the master that applied to a
        non-transactional statement broke replication. The statement was
        written to the binary log but not completely executed on the
        master. Slaves receiving the statement executed it completely,
        resulting in loss of data synchrony. Now an error code is
        written to the error log so that the slaves stop without
        executing the aborted statement. (That is, replication stops,
        but synchrony to the point of the stop is preserved and you can
        investigate the problem.)
       (<a href="http://bugs.mysql.com/26551" target="_top">Bug#26551</a>)</p></li><li><p>
        Index hints (<code class="literal">USE INDEX</code>, <code class="literal">IGNORE
        INDEX</code>, <code class="literal">FORCE INDEX</code>) cannot be used
        with <code class="literal">FULLTEXT</code> indexes, but were not being
        ignored.
       (<a href="http://bugs.mysql.com/25951" target="_top">Bug#25951</a>)</p></li><li><p>
        If <code class="literal">CREATE TABLE t1 LIKE t2</code> failed due to a
        full disk, an empty <code class="filename">t2.frm</code> file could be
        created but not removed. This file then caused subsequent
        attempts to create a table named <code class="literal">t2</code> to fail.
        This is easily corrected at the filesystem level by removing the
        <code class="filename">t2.frm</code> file manually, but now the server
        removes the file if the create operation does not complete
        successfully.
       (<a href="http://bugs.mysql.com/25761" target="_top">Bug#25761</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> did not pass a password to
        <span><strong class="command">mysqlcheck</strong></span> if one was given.
       (<a href="http://bugs.mysql.com/25452" target="_top">Bug#25452</a>)</p></li><li><p>
        On Windows, <span><strong class="command">mysql_upgrade</strong></span> was sensitive to
        lettercase of the names of some required components.
       (<a href="http://bugs.mysql.com/25405" target="_top">Bug#25405</a>)</p></li><li><p>
        For storage engines that allow the current auto-increment value
        to be set, using <code class="literal">ALTER TABLE ... ENGINE</code> to
        convert a table from one such storage engine to another caused
        loss of the current value. (For storage engines that do not
        support setting the value, it cannot be retained anyway when
        changing the storage engine.)
       (<a href="http://bugs.mysql.com/25262" target="_top">Bug#25262</a>)</p></li><li><p>
        Restoration of the default database after stored routine or
        trigger execution on a slave could cause replication to stop if
        the database no longer existed.
       (<a href="http://bugs.mysql.com/25082" target="_top">Bug#25082</a>)</p></li><li><p>
        Several math functions produced incorrect results for large
        unsigned values. <a href="functions.html#function_round"><code class="literal">ROUND()</code></a>
        produced incorrect results or a crash for a large
        number-of-decimals argument.
       (<a href="http://bugs.mysql.com/24912" target="_top">Bug#24912</a>)</p></li><li><p>
        The result set of a query that used <code class="literal">WITH
        ROLLUP</code> and <code class="literal">DISTINCT</code> could lack some
        rollup rows (rows with <code class="literal">NULL</code> values for
        grouping attributes) if the <code class="literal">GROUP BY</code> list
        contained constant expressions.
       (<a href="http://bugs.mysql.com/24856" target="_top">Bug#24856</a>)</p></li><li><p>
        For queries that used <code class="literal">ORDER BY</code> with
        <code class="literal">InnoDB</code> tables, if the optimizer chose an
        index for accessing the table but found a covering index that
        enabled the <code class="literal">ORDER BY</code> to be skipped, no
        results were returned.
       (<a href="http://bugs.mysql.com/24778" target="_top">Bug#24778</a>)</p></li><li><p>
        Concurrent execution of <code class="literal">CREATE TABLE ...
        SELECT</code> and other statements involving the target table
        suffered from various race conditions, some of which might have
        led to deadlocks.
       (<a href="http://bugs.mysql.com/24738" target="_top">Bug#24738</a>)</p></li><li><p>
        An attempt to execute <code class="literal">CREATE TABLE ... SELECT</code>
        when a temporary table with the same name already existed led to
        the insertion of data into the temporary table and creation of
        an empty non-temporary table.
       (<a href="http://bugs.mysql.com/24508" target="_top">Bug#24508</a>)</p></li><li><p>
        The <code class="literal">MERGE</code> storage engine could return
        incorrect results when several index values that compare
        equality were present in an index (for example,
        <code class="literal">'gross'</code> and <code class="literal">'gross '</code>,
        which are considered equal but have different lengths).
       (<a href="http://bugs.mysql.com/24342" target="_top">Bug#24342</a>)</p></li><li><p>
        Some upgrade problems are detected and better error messages
        suggesting that <span><strong class="command">mysql_upgrade</strong></span> be run are
        produced.
       (<a href="http://bugs.mysql.com/24248" target="_top">Bug#24248</a>)</p></li><li><p>
        Some views could not be created even when the user had the
        requisite privileges.
       (<a href="http://bugs.mysql.com/24040" target="_top">Bug#24040</a>)</p></li><li><p>
        Using <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> to convert
        <code class="literal">DATETIME</code> values to numeric values did not
        work.
       (<a href="http://bugs.mysql.com/23656" target="_top">Bug#23656</a>)</p></li><li><p>
        The <code class="literal">AUTO_INCREMENT</code> value would not be
        correctly reported for InnoDB tables when using <code class="literal">SHOW
        CREATE TABLE</code> statement or <span><strong class="command">mysqldump</strong></span>
        command.
       (<a href="http://bugs.mysql.com/23313" target="_top">Bug#23313</a>)</p></li><li><p>
        <code class="literal">SELECT COUNT(*)</code> from a table containing a
        <code class="literal">DATETIME NOT NULL</code> column could produce
        spurious warnings with the <code class="literal">NO_ZERO_DATE</code> SQL
        mode enabled.
       (<a href="http://bugs.mysql.com/22824" target="_top">Bug#22824</a>)</p></li><li><p>
        Using <code class="literal">SET GLOBAL</code> to change the
        <code class="literal">lc_time_names</code> system variable had no effect
        on new connections.
       (<a href="http://bugs.mysql.com/22648" target="_top">Bug#22648</a>)</p></li><li><p>
        A multiple-table <code class="literal">UPDATE</code> could return an
        incorrect rows-matched value if, during insertion of rows into a
        temporary table, the table had to be converted from a
        <code class="literal">MEMORY</code> table to a <code class="literal">MyISAM</code>
        table.
       (<a href="http://bugs.mysql.com/22364" target="_top">Bug#22364</a>)</p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        A slave that used <code class="option">--master-ssl-cipher</code> could not
        connect to the master.
       (<a href="http://bugs.mysql.com/21611" target="_top">Bug#21611</a>)</p></li><li><p>
        Quoted labels in stored routines were mishandled, rendering the
        routines unusable.
       (<a href="http://bugs.mysql.com/21513" target="_top">Bug#21513</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE IF NOT EXISTS ... SELECT</code> caused
        a server crash if the target table already existed and had a
        <code class="literal">BEFORE INSERT</code> trigger.
       (<a href="http://bugs.mysql.com/20903" target="_top">Bug#20903</a>)</p></li><li><p>
        Deadlock occurred for attempts to execute <code class="literal">CREATE TABLE
        IF NOT EXISTS ... SELECT</code> when <code class="literal">LOCK
        TABLES</code> had been used to acquire a read lock on the
        target table.
       (<a href="http://bugs.mysql.com/20662" target="_top">Bug#20662</a>, <a href="http://bugs.mysql.com/15522" target="_top">Bug#15522</a>)</p></li><li><p>
        Changing a <code class="literal">utf8</code> column in an
        <code class="literal">InnoDB</code> table to a shorter length did not
        shorten the data values.
       (<a href="http://bugs.mysql.com/20095" target="_top">Bug#20095</a>)</p></li><li><p>
        The omission of leading zeros in dates could lead to erroneous
        results when these were compared with the output of certain date
        and time functions.
       (<a href="http://bugs.mysql.com/16377" target="_top">Bug#16377</a>)</p></li><li><p>
        <code class="literal">INSERT...ON DUPLICATE KEY UPDATE</code> could cause
        <code class="literal">Error 1032: Can't find record in ...</code> for
        inserts into an <code class="literal">InnoDB</code> table unique index
        using key column prefixes with an underlying
        <code class="literal">utf8</code> string column.
       (<a href="http://bugs.mysql.com/13191" target="_top">Bug#13191</a>)</p></li><li><p>
        Having the <code class="literal">EXECUTE</code> privilege for a routine in
        a database should make it possible to <code class="literal">USE</code>
        that database, but the server returned an error instead. This
        has been corrected. As a result of the change, <code class="literal">SHOW
        TABLES</code> for a database in which you have only the
        <code class="literal">EXECUTE</code> privilege returns an empty set rather
        than an error.
       (<a href="http://bugs.mysql.com/9504" target="_top">Bug#9504</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-40"></a>C.1.15. Release Notes for  MySQL Enterprise 5.0.40 [MRU] (17 April 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.38).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The behavior of the <span><strong class="command">ndb_restore</strong></span> utility has
        been changed as follows:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              It is now possible to restore selected databases or tables
              using <span><strong class="command">ndb_restore</strong></span>.
            </p></li><li><p>
              Several options have been added for use with
              <span><strong class="command">ndb_restore <code class="option">--print_data</code>
              </strong></span> to facilitate the creation of structured data
              dump files. These options can be used to make dumps made
              using <span><strong class="command">ndb_restore</strong></span> more like those
              produced by <span><strong class="command">mysqldump</strong></span>.
            </p></li></ul></div><p>
        For details of these changes, see
        <a href="mysql-cluster.html#mysql-cluster-restore" title="16.9.3. ndb_restore — Restore a Cluster Backup">Section 16.9.3, “<span><strong class="command">ndb_restore</strong></span> — Restore a Cluster Backup”</a>.
       (<a href="http://bugs.mysql.com/26899" target="_top">Bug#26899</a>, <a href="http://bugs.mysql.com/26900" target="_top">Bug#26900</a>)</p></li><li><p>
        If a set function <em class="replaceable"><code>S</code></em> with an outer
        reference <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        cannot be aggregated in the outer query against which the outer
        reference has been resolved, MySQL interprets <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>outer_ref</code></em>)</code>
        the same way that it would interpret <code class="literal">
        <em class="replaceable"><code>S</code></em>(<em class="replaceable"><code>const</code></em>)</code>.
        However, standard SQL requires throwing an error in this
        situation. An error now is thrown for such queries if the
        <code class="literal">ANSI</code> SQL mode is enabled.
       (<a href="http://bugs.mysql.com/27348" target="_top">Bug#27348</a>)</p></li><li><p>
        Added the <code class="option">--service-startup-timeout</code> option for
        <span><strong class="command">mysql.server</strong></span> to specify how long to wait for
        the server to start. If the server does not start within the
        timeout period, <span><strong class="command">mysql.server</strong></span> exits with an
        error.
       (<a href="http://bugs.mysql.com/26952" target="_top">Bug#26952</a>)</p></li><li><p>
        Prefix lengths for columns in <code class="literal">SPATIAL</code> indexes
        are no longer displayed in <code class="literal">SHOW CREATE TABLE</code>
        output. <span><strong class="command">mysqldump</strong></span> uses that statement, so if
        a table with <code class="literal">SPATIAL</code> indexes containing
        prefixed columns is dumped and reloaded, the index is created
        with no prefixes. (The full column width of each column is
        indexed.)
       (<a href="http://bugs.mysql.com/26794" target="_top">Bug#26794</a>)</p></li><li><p>
        The output of <span><strong class="command">mysql <code class="option">--xml</code> </strong></span>
        and <span><strong class="command">mysqldump <code class="option">--xml</code> </strong></span> now
        includes a valid XML namespace.
       (<a href="http://bugs.mysql.com/25946" target="_top">Bug#25946</a>)</p></li><li><p>
        If you use SSL for a client connection, you can tell the client
        not to authenticate the server certificate by specifying neither
        <code class="option">--ssl-ca</code> nor <code class="option">--ssl-capath</code>. The
        server still verifies the client according to any applicable
        requirements established via <code class="literal">GRANT</code> statements
        for the client, and it still uses any
        <code class="option">--ssl-ca</code>/<code class="option">--ssl-capath</code> values
        that were passed to server at startup time.
       (<a href="http://bugs.mysql.com/25309" target="_top">Bug#25309</a>)</p></li><li><p>
        The syntax for index hints has been extended to enable explicit
        specification that the hint applies only to join processing. See
        <a href="sql-syntax.html#index-hints" title="12.2.7.2. Index Hint Syntax">Section 12.2.7.2, “Index Hint Syntax”</a>.
      </p><p>
        This is a new fix for this issue, and replaces the fix made in
        MySQL 5.0.25 and reverted in 5.0.26.
       (<a href="http://bugs.mysql.com/21174" target="_top">Bug#21174</a>)</p></li><li><p>
        The <span><strong class="command">mysql_create_system_tables</strong></span> script was
        removed because <span><strong class="command">mysql_install_db</strong></span> no longer
        uses it in MySQL 5.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Note</strong></span>: 
        The parser accepted invalid code in SQL condition handlers,
        leading to server crashes or unexpected execution behavior in
        stored programs. Specifically, the parser allowed a condition
        handler to refer to labels for blocks that enclose the handler
        declaration. This was incorrect because block label scope does
        not include the code for handlers declared within the labeled
        block.
      </p><p>
        The parser now rejects this invalid construct, but if you
        upgrade in place (without dumping and reloading your databases),
        existing handlers that contain the construct are still invalid
        — <span class="emphasis"><em>even if they appear to function as you
        expect</em></span> — and should be rewritten.
      </p><p>
        To find affected handlers, use <span><strong class="command">mysqldump</strong></span> to
        dump all stored functions and procedures, triggers, and events.
        Then attempt to reload them into an upgraded server. Handlers
        that contain illegal label references will be rejected.
      </p><p>
        For more information about condition handlers and writing them
        to avoid invalid jumps, see <a href="stored-procedures.html#declare-handlers" title="18.2.8.2. DECLARE Handlers">Section 18.2.8.2, “<code class="literal">DECLARE</code> Handlers”</a>.
       (<a href="http://bugs.mysql.com/26503" target="_top">Bug#26503</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables having <code class="literal">MEDIUMINT
        AUTO_INCREMENT</code> columns were not restored correctly by
        <span><strong class="command">ndb_restore</strong></span>, causing spurious duplicate key
        errors. This issue did not affect <code class="literal">TINYINT</code>,
        <code class="literal">INT</code>, or <code class="literal">BIGINT</code> columns
        with <code class="literal">AUTO_INCREMENT</code>.
       (<a href="http://bugs.mysql.com/27775" target="_top">Bug#27775</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables with indexes whose names contained
        space characters were not restored correctly by
        <span><strong class="command">ndb_restore</strong></span> (the index names were truncated).
       (<a href="http://bugs.mysql.com/27758" target="_top">Bug#27758</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain rare circumstances performing a <code class="literal">DROP
        TABLE</code> or <code class="literal">TRUNCATE</code> on an
        <code class="literal">NDB</code> table could cause a node failure or
        forced cluster shutdown.
       (<a href="http://bugs.mysql.com/27581" target="_top">Bug#27581</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory usage of a <span><strong class="command">mysqld</strong></span> process grew even
        while idle.
       (<a href="http://bugs.mysql.com/27560" target="_top">Bug#27560</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to set
        <code class="literal">LockPagesInMainMemory</code> equal to
        <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/27291" target="_top">Bug#27291</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A race condition could sometimes occur if the node acting as
        master failed while node IDs were still being allocated during
        startup.
       (<a href="http://bugs.mysql.com/27286" target="_top">Bug#27286</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was taking over as the master node, a race
        condition could sometimes occur as the node was assuming
        responsibility for handling of global checkpoints.
       (<a href="http://bugs.mysql.com/27283" target="_top">Bug#27283</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages displayed when running in single user mode were
        inconsistent.
       (<a href="http://bugs.mysql.com/27021" target="_top">Bug#27021</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node while restarting could cause other
        data nodes to hang or crash.
       (<a href="http://bugs.mysql.com/27003" target="_top">Bug#27003</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On Solaris, the value of an <code class="literal">NDB</code> table column
        declared as <code class="literal">BIT(33)</code> was always displayed as
        <code class="literal">0</code>.
       (<a href="http://bugs.mysql.com/26986" target="_top">Bug#26986</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">mysqld</strong></span> processes would sometimes crash under
        high load.
       (<a href="http://bugs.mysql.com/26825" target="_top">Bug#26825</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output from <span><strong class="command">ndb_restore
        <code class="option">--print_data</code></strong></span> was incorrect for a
        backup made of a database containing tables with
        <code class="literal">TINYINT</code> or <code class="literal">SMALLINT</code>
        columns.
       (<a href="http://bugs.mysql.com/26740" target="_top">Bug#26740</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, <code class="literal">AFTER UPDATE</code> and
        <code class="literal">AFTER DELETE</code> triggers on
        <code class="literal">NDB</code> tables that referenced subject table did
        not see the results of operation which caused invocation of the
        trigger, but rather saw the row as it was prior to the update or
        delete operation.
      </p><p>
        This was most noticeable when an update operation used a
        subquery to obtain the rows to be updated. An example would be
        <code class="literal">UPDATE tbl1 SET col2 = val1 WHERE tbl1.col1 IN (SELECT
        col3 FROM tbl2 WHERE c4 = val2)</code> where there was an
        <code class="literal">AFTER UPDATE</code> trigger on table
        <code class="literal">tbl1</code>. In such cases, the trigger would fail
        to execute.
      </p><p>
        The problem occurred because the actual update or delete
        operations were deferred to be able to perform them later as one
        batch. The fix for this bug solves the problem by disabling this
        optimization for a given update or delete if the table has an
        <code class="literal">AFTER</code> trigger defined for this operation.
       (<a href="http://bugs.mysql.com/26242" target="_top">Bug#26242</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work with prepared statements.
       (<a href="http://bugs.mysql.com/26225" target="_top">Bug#26225</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Joins on multiple tables containing <code class="literal">BLOB</code>
        columns could cause data nodes run out of memory, and to crash
        with the error <span class="errortext">NdbObjectIdMap::expand unable to
        expand</span>.
       (<a href="http://bugs.mysql.com/26176" target="_top">Bug#26176</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        After entering single user mode it was not possible to alter
        non-<code class="literal">NDB</code> tables on any SQL nodes other than
        the one having sole access to the cluster.
       (<a href="http://bugs.mysql.com/25275" target="_top">Bug#25275</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a cluster data node suffered a “<span class="quote">hard</span>” failure
        (such as a power failure or loss of a network connection) TCP
        sockets to the missing node were maintained indefinitely. Now
        socket-based transporters check for a response and terminate the
        socket if there is no activity on the socket after 2 hours.
       (<a href="http://bugs.mysql.com/24793" target="_top">Bug#24793</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">
        <em class="replaceable"><code>node_id</code></em> STATUS</code> displayed
        the message <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
        not connected</code> when <em class="replaceable"><code>node_id</code></em>
        was not the node ID of a data node.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The <code class="literal">ALL STATUS</code> command in the cluster
          management client still displays status information for data
          nodes only. This is by design. See
          <a href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="16.7.2. Commands in the MySQL Cluster Management Client">Section 16.7.2, “Commands in the MySQL Cluster Management Client”</a>, for more
          information.
        </p></div><p>(<a href="http://bugs.mysql.com/21715" target="_top">Bug#21715</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some values of <code class="literal">MaxNoOfTables</code> caused the error
        <span class="errortext">Job buffer congestion</span> to occur.
       (<a href="http://bugs.mysql.com/19378" target="_top">Bug#19378</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When trying to create tables on an SQL node not connected to the
        cluster, a misleading error message <span class="errortext">Table
        '<em class="replaceable"><code>tbl_name</code></em>' already exists</span>
        was generated. The error now generated is <span class="errortext">Could not
        connect to storage engine</span>.
       (<a href="http://bugs.mysql.com/18676" target="_top">Bug#18676</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some queries that updated multiple tables were not backed up
        correctly.
       (<a href="http://bugs.mysql.com/27748" target="_top">Bug#27748</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Out-of-memory errors were not reported. Now they are written to
        the error log.
       (<a href="http://bugs.mysql.com/26844" target="_top">Bug#26844</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <code class="literal">NdbBlob::writeData()</code> to write data in
        the middle of an existing blob value (that is, updating the
        value) could overwrite some data past the end of the data to be
        changed.
       (<a href="http://bugs.mysql.com/27018" target="_top">Bug#27018</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        After defining a delete operation (using
        <code class="literal">NdbOperation::deleteTuple()</code>) on a nonexistent
        primary key of a table having a <code class="literal">BLOB</code> or
        <code class="literal">TEXT</code> column, invoking
        <code class="literal">NdbTransaction::execute()</code> caused the calling
        application to enter an endless loop rather than raising an
        error.
      </p><p>
        This issue also affected <span><strong class="command">ndb_restore</strong></span>; when
        restoring tables containing <code class="literal">BLOB</code> or
        <code class="literal">TEXT</code> columns, this could cause it to consume
        all available memory and then crash.
       (<a href="http://bugs.mysql.com/24028" target="_top">Bug#24028</a>)</p><p>See also <a href="http://bugs.mysql.com/27308" target="_top">Bug#27308</a>, <a href="http://bugs.mysql.com/30177" target="_top">Bug#30177</a></p></li><li><p>
        Some equi-joins containing a <code class="literal">WHERE</code> clause
        that included a <code class="literal">NOT IN</code> subquery caused a
        server crash.
       (<a href="http://bugs.mysql.com/27870" target="_top">Bug#27870</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT</code> could return incorrect
        results if the select list contained duplicated columns.
       (<a href="http://bugs.mysql.com/27659" target="_top">Bug#27659</a>)</p></li><li><p>
        With <code class="literal">NO_AUTO_VALUE_ON_ZERO</code> SQL mode enabled,
        <code class="literal">LOAD DATA</code> operations could assign incorrect
        <code class="literal">AUTO_INCREMENT</code> values.
       (<a href="http://bugs.mysql.com/27586" target="_top">Bug#27586</a>)</p></li><li><p>
        Incorrect results could be returned for some queries that
        contained a select list expression with <code class="literal">IN</code> or
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> together with an
        <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code> on
        the same expression using <code class="literal">NOT IN</code> or
        <code class="literal">NOT BETWEEN</code>.
       (<a href="http://bugs.mysql.com/27532" target="_top">Bug#27532</a>)</p></li><li><p>
        Evaluation of an <code class="literal">IN()</code> predicate containing a
        decimal-valued argument caused a server crash.
       (<a href="http://bugs.mysql.com/27513" target="_top">Bug#27513</a>, <a href="http://bugs.mysql.com/27362" target="_top">Bug#27362</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2583" target="_top">CVE-2007-2583</a>)</p></li><li><p>
        In out-of-memory conditions, the server might crash or otherwise
        not report an error to the Windows event log.
       (<a href="http://bugs.mysql.com/27490" target="_top">Bug#27490</a>)</p></li><li><p>
        Passing nested row expressions with different structures to an
        <code class="literal">IN</code> predicate caused a server crash.
       (<a href="http://bugs.mysql.com/27484" target="_top">Bug#27484</a>)</p></li><li><p>
        The <code class="filename">decimal.h</code> header file was incorrectly
        omitted from binary distributions.
       (<a href="http://bugs.mysql.com/27456" target="_top">Bug#27456</a>)</p></li><li><p>
        With <code class="literal">innodb_file_per_table</code> enabled,
        attempting to rename an <code class="literal">InnoDB</code> table to a
        non-existent database caused the server to exit.
       (<a href="http://bugs.mysql.com/27381" target="_top">Bug#27381</a>)</p></li><li><p>
        A subquery could get incorrect values for references to outer
        query columns when it contained aggregate functions that were
        aggregated in outer context.
       (<a href="http://bugs.mysql.com/27321" target="_top">Bug#27321</a>)</p></li><li><p>
        The server did not shut down cleanly.
       (<a href="http://bugs.mysql.com/27310" target="_top">Bug#27310</a>)</p></li><li><p>
        In a view, a column that was defined using a
        <code class="literal">GEOMETRY</code> function was treated as having the
        <code class="literal">LONGBLOB</code> data type rather than the
        <code class="literal">GEOMETRY</code> type.
       (<a href="http://bugs.mysql.com/27300" target="_top">Bug#27300</a>)</p></li><li><p>
        Queries containing subqueries with
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> aggregated in an outer
        context returned incorrect results. This happened only if the
        subquery did not contain any references to outer columns.
       (<a href="http://bugs.mysql.com/27257" target="_top">Bug#27257</a>)</p></li><li><p>
        Use of an aggregate function from an outer context as an
        argument to <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        caused a server crash.
       (<a href="http://bugs.mysql.com/27229" target="_top">Bug#27229</a>)</p></li><li><p>
        String truncation upon insertion into an integer or year column
        did not generate a warning (or an error in strict mode).
       (<a href="http://bugs.mysql.com/27176" target="_top">Bug#27176</a>, <a href="http://bugs.mysql.com/26359" target="_top">Bug#26359</a>)</p></li><li><p>
        Storing <code class="literal">NULL</code> values in spatial fields caused
        excessive memory allocation and crashes on some systems.
       (<a href="http://bugs.mysql.com/27164" target="_top">Bug#27164</a>)</p></li><li><p>
        Row equalities in <code class="literal">WHERE</code> clauses could cause
        memory corruption.
       (<a href="http://bugs.mysql.com/27154" target="_top">Bug#27154</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on a <code class="literal">ucs2</code> column
        caused a server crash when there was at least one empty string
        in the column.
       (<a href="http://bugs.mysql.com/27079" target="_top">Bug#27079</a>)</p></li><li><p>
        Duplicate members in <code class="literal">SET</code> definitions were not
        detected. Now they result in a warning; if strict SQL mode is
        enabled, an error occurs instead.
       (<a href="http://bugs.mysql.com/27069" target="_top">Bug#27069</a>)</p></li><li><p>
        For <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>
        statements on tables containing
        <code class="literal">AUTO_INCREMENT</code> columns,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was reset to 0
        if no rows were successfully inserted or changed. “<span class="quote">Not
        changed</span>” includes the case where a row was updated to its
        current values, but in that case,
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> should not be
        reset to 0. Now <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
        is reset to 0 only if no rows were successfully inserted or
        touched, whether or not touched rows were changed.
       (<a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>)</p><p>See also <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>, <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a></p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a></p></li><li><p>
        <span><strong class="command">mysql_install_db</strong></span> could terminate with an
        error after failing to determine that a system table already
        existed.
       (<a href="http://bugs.mysql.com/27022" target="_top">Bug#27022</a>)</p></li><li><p>
        In a <code class="literal">MEMORY</code> table, using a
        <code class="literal">BTREE</code> index to scan for updatable rows could
        lead to an infinite loop.
       (<a href="http://bugs.mysql.com/26996" target="_top">Bug#26996</a>)</p></li><li><p>
        Invalid optimization of pushdown conditions for queries where an
        outer join was guaranteed to read only one row from the outer
        table led to results with too few rows.
       (<a href="http://bugs.mysql.com/26963" target="_top">Bug#26963</a>)</p></li><li><p>
        Windows binaries contained no debug symbol file. Now
        <code class="filename">.map</code> and <code class="literal">.pdb</code> files are
        included in 32-bit builds for <span><strong class="command">mysqld-nt.exe</strong></span>,
        <span><strong class="command">mysqld-debug.exe</strong></span>, and
        <span><strong class="command">mysqlmanager.exe</strong></span>.
       (<a href="http://bugs.mysql.com/26893" target="_top">Bug#26893</a>)</p></li><li><p>
        Improved out-of-memory detection when sending logs from a master
        server to slaves, and log a message when allocation fails.
       (<a href="http://bugs.mysql.com/26837" target="_top">Bug#26837</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables having a clustered index
        that began with a <code class="literal">CHAR</code> or
        <code class="literal">VARCHAR</code> column, deleting a record and then
        inserting another before the deleted record was purged could
        result in table corruption.
       (<a href="http://bugs.mysql.com/26835" target="_top">Bug#26835</a>)</p></li><li><p>
        Duplicates were not properly identified among (potentially) long
        strings used as arguments for
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(DISTINCT)</code></a>.
       (<a href="http://bugs.mysql.com/26815" target="_top">Bug#26815</a>)</p></li><li><p>
        <code class="literal">ALTER VIEW</code> requires the <code class="literal">CREATE
        VIEW</code> and <code class="literal">DROP</code> privileges for the
        view. However, if the view was created by another user, the
        server erroneously required the <code class="literal">SUPER</code>
        privilege.
       (<a href="http://bugs.mysql.com/26813" target="_top">Bug#26813</a>)</p></li><li><p>
        A result set column formed by concatention of string literals
        was incomplete when the column was produced by a subquery in the
        <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/26738" target="_top">Bug#26738</a>)</p></li><li><p>
        When using the result of
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> for time value
        greater than 24 hours in an <code class="literal">ORDER BY</code> clause,
        either directly or through a column alias, the rows were sorted
        incorrectly as strings.
       (<a href="http://bugs.mysql.com/26672" target="_top">Bug#26672</a>)</p></li><li><p>
        The range optimizer could cause the server to run out of memory.
       (<a href="http://bugs.mysql.com/26625" target="_top">Bug#26625</a>)</p></li><li><p>
        The range optimizer could consume a combinatorial amount of
        memory for certain classes of <code class="literal">WHERE</code> clauses.
       (<a href="http://bugs.mysql.com/26624" target="_top">Bug#26624</a>)</p></li><li><p>
        <code class="literal">mysqldump</code> could crash or exhibit incorrect
        behavior when some options were given very long values, such as
        <code class="option">--fields-terminated-by="<em class="replaceable"><code>some very long
        string</code></em>"</code>. The code has been cleaned
        up to remove a number of fixed-sized buffers and to be more
        careful about error conditions in memory allocation.
       (<a href="http://bugs.mysql.com/26346" target="_top">Bug#26346</a>)</p></li><li><p>
        If the server was started with
        <code class="option">--skip-grant-tables</code>, Selecting from
        <code class="literal">INFORMATION_SCHEMA</code> tables causes a server
        crash.
       (<a href="http://bugs.mysql.com/26285" target="_top">Bug#26285</a>)</p></li><li><p>
        For an <code class="literal">INSERT</code> statement that should fail due
        to a column with no default value not being assigned a value,
        the statement succeeded with no error if the column was assigned
        a value in an <code class="literal">ON DUPLICATE KEY UPDATE</code> clause,
        even if that clause was not used.
       (<a href="http://bugs.mysql.com/26261" target="_top">Bug#26261</a>)</p></li><li><p>
        The temporary file-creation code was cleaned up on Windows to
        improve server stability.
       (<a href="http://bugs.mysql.com/26233" target="_top">Bug#26233</a>)</p></li><li><p>
        For <code class="literal">MyISAM</code> tables,
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> could return an
        incorrect value if the <code class="literal">WHERE</code> clause compared
        an indexed <code class="literal">TEXT</code> column to the empty string
        (<code class="literal">''</code>). This happened if the column contained
        empty strings and also strings starting with control characters
        such as tab or newline.
       (<a href="http://bugs.mysql.com/26231" target="_top">Bug#26231</a>)</p></li><li><p>
        For <code class="literal">INSERT INTO ... SELECT</code> where index
        searches used column prefixes, insert errors could occur when
        key value type conversion was done.
       (<a href="http://bugs.mysql.com/26207" target="_top">Bug#26207</a>)</p></li><li><p>
        For <code class="literal">DELETE FROM <code class="literal">tbl_name</code> ORDER BY
        <em class="replaceable"><code>col_name</code></em></code> (with no
        <code class="literal">WHERE</code> or <code class="literal">LIMIT</code> clause),
        the server did not check whether
        <em class="replaceable"><code>col_name</code></em> was a valid column in the
        table.
       (<a href="http://bugs.mysql.com/26186" target="_top">Bug#26186</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE ... USE_FRM</code> with an
        <code class="literal">ARCHIVE</code> table deleted all records from the
        table.
       (<a href="http://bugs.mysql.com/26138" target="_top">Bug#26138</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> crashed for
        <code class="literal">MERGE</code> tables if the
        <code class="option">--complete-insert</code> (<code class="option">-c</code>) option
        was given.
       (<a href="http://bugs.mysql.com/25993" target="_top">Bug#25993</a>)</p></li><li><p>
        Setting a column to <code class="literal">NOT NULL</code> with an
        <code class="literal">ON DELETE SET NULL</code> clause foreign key crashes
        the server.
       (<a href="http://bugs.mysql.com/25927" target="_top">Bug#25927</a>)</p></li><li><p>
        On Windows, debug builds of <span><strong class="command">mysqld</strong></span> could fail
        with heap assertions.
       (<a href="http://bugs.mysql.com/25765" target="_top">Bug#25765</a>)</p></li><li><p>
        In certain situations, <code class="literal">MATCH ... AGAINST</code>
        returned false hits for <code class="literal">NULL</code> values produced
        by <code class="literal">LEFT JOIN</code> when no full-text index was
        available.
       (<a href="http://bugs.mysql.com/25729" target="_top">Bug#25729</a>)</p></li><li><p>
        When <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> was called multiple
        times inside a stored procedure, the server did not write the
        correct random seed values to the binary log, resulting in
        incorrect replication.
       (<a href="http://bugs.mysql.com/25543" target="_top">Bug#25543</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE TABLE</code> might fail on Windows when it
        attempts to rename a temporary file to the original name if the
        original file had been opened, resulting in loss of the
        <code class="filename">.MYD</code> file.
       (<a href="http://bugs.mysql.com/25521" target="_top">Bug#25521</a>)</p></li><li><p>
        For <code class="literal">SHOW ENGINE INNODB STATUS</code>, the
        <code class="literal">LATEST DEADLOCK INFORMATION</code> was not always
        cleared properly.
       (<a href="http://bugs.mysql.com/25494" target="_top">Bug#25494</a>)</p></li><li><p>
        <a href="apis.html#mysql-stmt-fetch" title="23.2.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> did an
        invalid memory deallocation when used with the embedded server.
       (<a href="http://bugs.mysql.com/25492" target="_top">Bug#25492</a>)</p></li><li><p>
        <code class="literal">GRANT</code> statements were not replicated if the
        server was started with the
        <code class="option">--replicate-ignore-table</code> or
        <code class="option">--replicate-wild-ignore-table</code> option.
       (<a href="http://bugs.mysql.com/25482" target="_top">Bug#25482</a>)</p></li><li><p>
        Difficult repair or optimization operations could cause an
        assertion failure, resulting in a server crash.
       (<a href="http://bugs.mysql.com/25289" target="_top">Bug#25289</a>)</p></li><li><p>
        Duplicate entries were not assessed correctly in a
        <code class="literal">MEMORY</code> table with a <code class="literal">BTREE</code>
        primary key on a <code class="literal">utf8</code> <code class="literal">ENUM</code>
        column.
       (<a href="http://bugs.mysql.com/24985" target="_top">Bug#24985</a>)</p></li><li><p>
        Selecting the result of <a href="functions.html#function_avg"><code class="literal">AVG()</code></a>
        within a <code class="literal">UNION</code> could produce incorrect
        values.
       (<a href="http://bugs.mysql.com/24791" target="_top">Bug#24791</a>)</p></li><li><p>
        <code class="literal">MBROverlaps()</code> returned incorrect values in
        some cases.
       (<a href="http://bugs.mysql.com/24563" target="_top">Bug#24563</a>)</p></li><li><p>
        Increasing the width of a <code class="literal">DECIMAL</code> column
        could cause column values to be changed.
       (<a href="http://bugs.mysql.com/24558" target="_top">Bug#24558</a>)</p></li><li><p>
        A problem in handling of aggregate functions in subqueries
        caused predicates containing aggregate functions to be ignored
        during query execution.
       (<a href="http://bugs.mysql.com/24484" target="_top">Bug#24484</a>)</p></li><li><p>
        The test for the
        <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code> option for
        <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> was performed
        incorrectly. Also changed as a result of this bugfix: The
        <code class="literal">arg</code> option for the
        <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API function
        was changed from <code class="literal">char *</code> to <code class="literal">void
        *</code>.
       (<a href="http://bugs.mysql.com/24121" target="_top">Bug#24121</a>)</p></li><li><p>
        Replication between master and slave would infinitely retry
        binary log transmission where the
        <code class="option">max_allowed_packet</code> on the master was larger
        than that on the slave if the size of the transfer was between
        these two values.
       (<a href="http://bugs.mysql.com/23775" target="_top">Bug#23775</a>)</p></li><li><p>
        On Windows, debug builds of <span><strong class="command">mysqlbinlog</strong></span> could
        fail with a memory error.
       (<a href="http://bugs.mysql.com/23736" target="_top">Bug#23736</a>)</p></li><li><p>
        The values displayed for the
        <code class="literal">Innodb_row_lock_time</code>,
        <code class="literal">Innodb_row_lock_time_avg</code>, and
        <code class="literal">Innodb_row_lock_time_max</code> status variables
        were incorrect.
       (<a href="http://bugs.mysql.com/23666" target="_top">Bug#23666</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE VIEW</code> qualified references to
        stored functions in the view definition with the function's
        database name, even when the database was the default database.
        This affected <span><strong class="command">mysqldump</strong></span> (which uses
        <code class="literal">SHOW CREATE VIEW</code> to dump views) because the
        resulting dump file could not be used to reload the database
        into a different database. <code class="literal">SHOW CREATE VIEW</code>
        now suppresses the database name for references to functions in
        the default database.
       (<a href="http://bugs.mysql.com/23491" target="_top">Bug#23491</a>)</p></li><li><p>
        An <code class="literal">INTO OUTFILE</code> clause is allowed only for
        the final <code class="literal">SELECT</code> of a
        <code class="literal">UNION</code>, but this restriction was not being
        enforced correctly.
       (<a href="http://bugs.mysql.com/23345" target="_top">Bug#23345</a>)</p></li><li><p>
        With the <code class="literal">NO_AUTO_VALUE_ON_ZERO</code> SQL mode
        enabled, <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> could
        return 0 after <code class="literal">INSERT ... ON DUPLICATE KEY
        UPDATE</code>. Additionally, the next rows inserted (by the
        same <code class="literal">INSERT</code>, or the following
        <code class="literal">INSERT</code> with or without <code class="literal">ON DUPLICATE
        KEY UPDATE</code>), would insert 0 for the auto-generated
        value if the value for the <code class="literal">AUTO_INCREMENT</code>
        column was <code class="literal">NULL</code> or missing.
       (<a href="http://bugs.mysql.com/23233" target="_top">Bug#23233</a>)</p></li><li><p>
        <a href="functions.html#function_soundex"><code class="literal">SOUNDEX()</code></a> returned an invalid
        string for international characters in multi-byte character
        sets.
       (<a href="http://bugs.mysql.com/22638" target="_top">Bug#22638</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(<em class="replaceable"><code>decimal_expr</code></em>)</code></a>
        sometimes generated a spurious truncation warning.
       (<a href="http://bugs.mysql.com/21976" target="_top">Bug#21976</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code>, fixed consistent-read behavior of
        the first read statement, if the read was served from the query
        cache, for the <code class="literal">READ COMMITTED</code> isolation
        level.
       (<a href="http://bugs.mysql.com/21409" target="_top">Bug#21409</a>)</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT</code>
        statement that used a complicated join with an
        <code class="literal">ON</code> expression, the expression could be
        ignored during re-execution of the procedure, yielding an
        incorrect result.
       (<a href="http://bugs.mysql.com/20492" target="_top">Bug#20492</a>)</p></li><li><p>
        In some cases, the optimizer preferred a range or full index
        scan access method over lookup access methods when the latter
        were much cheaper.
       (<a href="http://bugs.mysql.com/19372" target="_top">Bug#19372</a>)</p></li><li><p>
        Conversion of <code class="literal">DATETIME</code> values in numeric
        contexts sometimes did not produce a double
        (<code class="literal">YYYYMMDDHHMMSS.uuuuuu</code>) value.
       (<a href="http://bugs.mysql.com/16546" target="_top">Bug#16546</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-38"></a>C.1.16. Release Notes for  MySQL Enterprise 5.0.38 [MRU] (20 March 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.36).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The server now includes a timestamp in error messages that are
        logged as a result of unhandled signals (such as <code class="literal">mysqld
        got signal 11</code> messages).
       (<a href="http://bugs.mysql.com/24878" target="_top">Bug#24878</a>)</p></li><li><p>
        Added the <code class="option">--secure-file-priv</code> option for
        <span><strong class="command">mysqld</strong></span>, which limits the effect of the
        <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> function and the
        <code class="literal">LOAD DATA</code> and <code class="literal">SELECT ... INTO
        OUTFILE</code> statements to work only with files in a given
        directory.
       (<a href="http://bugs.mysql.com/18628" target="_top">Bug#18628</a>)</p></li><li><p>
        Added the <code class="literal">hostname</code> system variable, which the
        server sets at startup to the server hostname.
      </p></li><li><p>
        To satisfy different user requirements, we provide several
        servers. <span><strong class="command">mysqld</strong></span> is an optimized server that
        is a smaller, faster binary. Each package now also includes
        <span><strong class="command">mysqld-debug</strong></span>, which is compiled with
        debugging support but is otherwise configured identically to the
        non-debug server.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">INSERT DELAYED</code> statements are not supported
        for <code class="literal">MERGE</code> tables, but the
        <code class="literal">MERGE</code> storage engine was not rejecting such
        statements, resulting in table corruption. Applications
        previously using <code class="literal">INSERT DELAYED</code> into
        <code class="literal">MERGE</code> table will break when upgrading to
        versions with this fix. To avoid the problem, remove
        <code class="literal">DELAYED</code> from such statements.
       (<a href="http://bugs.mysql.com/26464" target="_top">Bug#26464</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An inadvertent use of unaligned data caused
        <span><strong class="command">ndb_restore</strong></span> to fail on some 64-bit platforms,
        including Sparc and Itanium-2.
       (<a href="http://bugs.mysql.com/26739" target="_top">Bug#26739</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An infinite loop in an internal logging function could cause
        trace logs to fill up with <span class="errortext">Unknown Signal
        type</span> error messages and thus grow to unreasonable
        sizes.
       (<a href="http://bugs.mysql.com/26720" target="_top">Bug#26720</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An invalid pointer was returned following a
        <code class="literal">FSCLOSECONF</code> signal when accessing the REDO
        logs during a node restart or system restart.
       (<a href="http://bugs.mysql.com/26515" target="_top">Bug#26515</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node when restarting it with
        <code class="option">--initial</code> could lead to failures of subsequent
        data node restarts.
       (<a href="http://bugs.mysql.com/26481" target="_top">Bug#26481</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Takeover for local checkpointing due to multiple failures of
        master nodes was sometimes incorrectly handled.
       (<a href="http://bugs.mysql.com/26457" target="_top">Bug#26457</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> parameter was not
        read until after distributed communication had already started
        between cluster nodes. When the value of this parameter was
        <code class="literal">1</code>, this could sometimes result in data node
        failure due to missed heartbeats.
       (<a href="http://bugs.mysql.com/26454" target="_top">Bug#26454</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, following the restart of a management
        node, all data nodes would connect to it normally, but some of
        them subsequently failed to log any events to the management
        node.
       (<a href="http://bugs.mysql.com/26293" target="_top">Bug#26293</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The message <span class="errortext">Error 0 in readAutoIncrementValue(): no
        Error</span> was written to the error log whenever
        <code class="literal">SHOW TABLE STATUS</code> was performed on a Cluster
        table that did not have an <code class="literal">AUTO_INCREMENT</code>
        column.
       (<a href="http://bugs.mysql.com/21033" target="_top">Bug#21033</a>)</p></li><li><p>
        <code class="literal">SELECT ... INTO OUTFILE</code> with a long
        <code class="literal">FIELDS ENCLOSED BY</code> value could crash the
        server.
       (<a href="http://bugs.mysql.com/27231" target="_top">Bug#27231</a>)</p></li><li><p>
        An <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>
        statement might modify values in a table but not flush affected
        data from the query cache, causing subsequent selects to return
        stale results. This made the combination of query cache plus
        <code class="literal">ON DUPLICATE KEY UPDATE</code> very unreliable.
       (<a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a>)</p><p>See also <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>, <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a></p><p>This regression was introduced by <a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a></p></li><li><p>
        For <code class="literal">MERGE</code> tables defined on underlying tables
        that contained a short <code class="literal">VARCHAR</code> column
        (shorter than four characters), using <code class="literal">ALTER
        TABLE</code> on at least one but not all of the underlying
        tables caused the table definitions to be considered different
        from that of the <code class="literal">MERGE</code> table, even if the
        <code class="literal">ALTER TABLE</code> did not change the definition.
       (<a href="http://bugs.mysql.com/26881" target="_top">Bug#26881</a>)</p></li><li><p>
        Use of a subquery containing <code class="literal">GROUP BY</code> and
        <code class="literal">WITH ROLLUP</code> caused a server crash.
       (<a href="http://bugs.mysql.com/26830" target="_top">Bug#26830</a>)</p></li><li><p>
        Added support for <code class="option">--debugger=dbx</code> for
        <span><strong class="command">mysql-test-run.pl</strong></span> and fixed support for
        <code class="option">--debugger=devenv</code>,
        <code class="option">--debugger=DevEnv</code>, and
        <code class="option">--debugger=<em class="replaceable"><code>/path/to</code></em>/devenv</code>.
       (<a href="http://bugs.mysql.com/26792" target="_top">Bug#26792</a>)</p></li><li><p>
        SSL connections failed on Windows.
       (<a href="http://bugs.mysql.com/26678" target="_top">Bug#26678</a>)</p></li><li><p>
        Use of a subquery containing a <code class="literal">UNION</code> with an
        invalid <code class="literal">ORDER BY</code> clause caused a server
        crash.
       (<a href="http://bugs.mysql.com/26661" target="_top">Bug#26661</a>)</p></li><li><p>
        In some error messages, inconsistent format specifiers were used
        for the translations in different languages.
        <span><strong class="command">comp_err</strong></span> (the error message compiler) now
        checks for mismatches.
       (<a href="http://bugs.mysql.com/26571" target="_top">Bug#26571</a>)</p></li><li><p>
        Views that used a scalar correlated subquery returned incorrect
        results.
       (<a href="http://bugs.mysql.com/26560" target="_top">Bug#26560</a>)</p></li><li><p>
        <code class="literal">UNHEX() IS NULL</code> comparisons failed when
        <a href="functions.html#function_unhex"><code class="literal">UNHEX()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26537" target="_top">Bug#26537</a>)</p></li><li><p>
        On 64-bit Windows, large timestamp values could be handled
        incorrectly.
       (<a href="http://bugs.mysql.com/26536" target="_top">Bug#26536</a>)</p></li><li><p>
        For some values of the position argument, the
        <a href="functions.html#function_insert"><code class="literal">INSERT()</code></a> function could insert a
        NUL byte into the result.
       (<a href="http://bugs.mysql.com/26281" target="_top">Bug#26281</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> statements inserted incorrect
        values into <code class="literal">BIT</code> columns.
       (<a href="http://bugs.mysql.com/26238" target="_top">Bug#26238</a>)</p></li><li><p>
        A multiple-row delayed insert with an auto-increment column
        could cause duplicate entries to be created on the slave in a
        replication environment.
       (<a href="http://bugs.mysql.com/26116" target="_top">Bug#26116</a>, <a href="http://bugs.mysql.com/25507" target="_top">Bug#25507</a>)</p></li><li><p>
        <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> did not work
        correctly for expressions that produced a
        <code class="literal">DECIMAL</code> result.
       (<a href="http://bugs.mysql.com/26093" target="_top">Bug#26093</a>)</p></li><li><p>
        <code class="literal">LOAD DATA INFILE</code> sent an okay to the client
        before writing the binary log and committing the changes to the
        table had finished, thus violating ACID requirements.
       (<a href="http://bugs.mysql.com/26050" target="_top">Bug#26050</a>)</p></li><li><p>
        <code class="literal">X() IS NULL</code> and <code class="literal">Y() IS
        NULL</code> comparisons failed when
        <a href="spatial-extensions.html#function_x"><code class="literal">X()</code></a> and
        <a href="spatial-extensions.html#function_y"><code class="literal">Y()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/26038" target="_top">Bug#26038</a>)</p></li><li><p>
        Indexes on <code class="literal">TEXT</code> columns were ignored when
        <code class="literal">ref</code> accesses were evaluated.
       (<a href="http://bugs.mysql.com/25971" target="_top">Bug#25971</a>)</p></li><li><p>
        If a thread previously serviced a connection that was killed,
        excessive memory and CPU use by the thread occurred if it later
        serviced a connection that had to wait for a table lock.
       (<a href="http://bugs.mysql.com/25966" target="_top">Bug#25966</a>)</p></li><li><p>
        <code class="literal">VIEW</code> restrictions were applied to
        <code class="literal">SELECT</code> statements after a <code class="literal">CREATE
        VIEW</code> statement failed, as though the
        <code class="literal">CREATE</code> had succeeded.
       (<a href="http://bugs.mysql.com/25897" target="_top">Bug#25897</a>)</p></li><li><p>
        Several deficiencies in resolution of column names for
        <code class="literal">INSERT ... SELECT</code> statements were corrected.
       (<a href="http://bugs.mysql.com/25831" target="_top">Bug#25831</a>)</p></li><li><p>
        Inserting <code class="literal">utf8</code> data into a
        <code class="literal">TEXT</code> column that used a single-byte character
        set could result in spurious warnings about truncated data.
       (<a href="http://bugs.mysql.com/25815" target="_top">Bug#25815</a>)</p></li><li><p>
        In certain cases it could happen that deleting a row corrupted
        an <code class="literal">RTREE</code> index. This affected indexes on
        spatial columns.
       (<a href="http://bugs.mysql.com/25673" target="_top">Bug#25673</a>)</p></li><li><p>
        Expressions involving <a href="functions.html#function_sum"><code class="literal">SUM()</code></a>,
        when used in an <code class="literal">ORDER BY</code> clause, could lead
        to out-of-order results.
       (<a href="http://bugs.mysql.com/25376" target="_top">Bug#25376</a>)</p></li><li><p>
        Use of a <code class="literal">GROUP BY</code> clause that referred to a
        stored function result together with <code class="literal">WITH
        ROLLUP</code> caused incorrect results.
       (<a href="http://bugs.mysql.com/25373" target="_top">Bug#25373</a>)</p></li><li><p>
        A stored procedure that made use of cursors failed when the
        procedure was invoked from a stored function.
       (<a href="http://bugs.mysql.com/25345" target="_top">Bug#25345</a>)</p></li><li><p>
        On Windows, the server exhibited a file-handle leak after
        reaching the limit on the number of open file descriptors.
       (<a href="http://bugs.mysql.com/25222" target="_top">Bug#25222</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function did not
        allow a column name as the <em class="replaceable"><code>count</code></em>
        parameter.
       (<a href="http://bugs.mysql.com/25197" target="_top">Bug#25197</a>)</p></li><li><p>
        Duplicating the usage of a user variable in a stored procedure
        or trigger would not be replicated correctly to the slave.
       (<a href="http://bugs.mysql.com/25167" target="_top">Bug#25167</a>)</p></li><li><p>
        A reference to a non-existent column in the <code class="literal">ORDER
        BY</code> clause of an <code class="literal">UPDATE ... ORDER BY</code>
        statement could cause a server crash.
       (<a href="http://bugs.mysql.com/25126" target="_top">Bug#25126</a>)</p></li><li><p>
        A view on a join is insertable for <code class="literal">INSERT</code>
        statements that store values into only one table of the join.
        However, inserts were being rejected if the inserted-into table
        was used in a self-join because MySQL incorrectly was
        considering the insert to modify multiple tables of the view.
       (<a href="http://bugs.mysql.com/25122" target="_top">Bug#25122</a>)</p></li><li><p>
        MySQL would not compile when configured using
        <code class="option">--without-query-cache</code>.
       (<a href="http://bugs.mysql.com/25075" target="_top">Bug#25075</a>)</p></li><li><p>
        IF(<em class="replaceable"><code>expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>,
        <em class="replaceable"><code>unsigned_expr</code></em>) was evaluated to a
        signed result, not unsigned. This has been corrected. The fix
        also affects constructs of the form <code class="literal">IS [NOT]
        {TRUE|FALSE}</code>, which were transformed internally into
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expressions that evaluated
        to a signed result.
      </p><p>
        For existing views that were defined using <code class="literal">IS [NOT]
        {TRUE|FALSE}</code> constructs, there is a related
        implication. The definitions of such views were stored using the
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the
        original construct. This is manifest in that <code class="literal">SHOW
        CREATE VIEW</code> shows the transformed
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> expression, not the
        original one. Existing views will evaluate correctly after the
        fix, but if you want <code class="literal">SHOW CREATE VIEW</code> to
        display the original construct, you must drop the view and
        re-create it using its original definition. New views will
        retain the construct in their definition.
       (<a href="http://bugs.mysql.com/24532" target="_top">Bug#24532</a>)</p></li><li><p>
        <code class="literal">DROP TRIGGER</code> statements would not be filtered
        on the slave when using the
        <code class="literal">replication-wild-do-table</code> option.
       (<a href="http://bugs.mysql.com/24478" target="_top">Bug#24478</a>)</p></li><li><p>
        For <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>
        statements where some <code class="literal">AUTO_INCREMENT</code> values
        were generated automatically for inserts and some rows were
        updated, one auto-generated value was lost per updated row,
        leading to faster exhaustion of the range of the
        <code class="literal">AUTO_INCREMENT</code> column.
      </p><p>
        Because the original problem can affect replication (different
        values on master and slave), it is recommended that the master
        and its slaves be upgraded to the current version.
       (<a href="http://bugs.mysql.com/24432" target="_top">Bug#24432</a>)</p></li><li><p>
        A user-defined variable could be assigned an incorrect value if
        a temporary table was employed in obtaining the result of the
        query used to determine its value.
       (<a href="http://bugs.mysql.com/24010" target="_top">Bug#24010</a>)</p></li><li><p>
        Queries that used a temporary table for the outer query when
        evaluating a correlated subquery could return incorrect results.
       (<a href="http://bugs.mysql.com/23800" target="_top">Bug#23800</a>)</p></li><li><p>
        When using certain server SQL modes, the
        <code class="literal">mysql.proc</code> table was not created by
        <span><strong class="command">mysql_install_db</strong></span>.
       (<a href="http://bugs.mysql.com/23669" target="_top">Bug#23669</a>)</p></li><li><p>
        <code class="literal">DOUBLE</code> values such as
        <code class="literal">20070202191048.000000</code> were being treated as
        illegal arguments by <a href="functions.html#function_week"><code class="literal">WEEK()</code></a>.
       (<a href="http://bugs.mysql.com/23616" target="_top">Bug#23616</a>)</p></li><li><p>
        The server could crash if two or more threads initiated query
        cache resize operation at moments very close in time.
       (<a href="http://bugs.mysql.com/23527" target="_top">Bug#23527</a>)</p></li><li><p>
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> returned the wrong value
        in statements executed at server startup with the
        <code class="option">--init-file</code> option.
       (<a href="http://bugs.mysql.com/23240" target="_top">Bug#23240</a>)</p></li><li><p>
        When nesting stored procedures within a trigger on a table, a
        false dependency error was thrown when one of the nested
        procedures contained a <code class="literal">DROP TABLE</code> statement.
       (<a href="http://bugs.mysql.com/22580" target="_top">Bug#22580</a>)</p></li><li><p>
        Instance Manager did not remove the angel PID file on a clean
        shutdown.
       (<a href="http://bugs.mysql.com/22511" target="_top">Bug#22511</a>)</p></li><li><p>
        <code class="literal">EXPLAIN EXTENDED</code> did not show
        <code class="literal">WHERE</code> conditions that were optimized away.
       (<a href="http://bugs.mysql.com/22331" target="_top">Bug#22331</a>)</p></li><li><p>
        <code class="literal">IN ((<em class="replaceable"><code>subquery</code></em>))</code>,
        <code class="literal">IN (((<em class="replaceable"><code>subquery</code></em>)))</code>,
        and so forth, are equivalent to <code class="literal">IN
        (<em class="replaceable"><code>subquery</code></em>)</code>, which is always
        interpreted as a table subquery (so that it is allowed to return
        more than one row). MySQL was treating the
        “<span class="quote">over-parenthesized</span>” subquery as a single-row
        subquery and rejecting it if it returned more than one row. This
        bug primarily affected automatically generated code (such as
        queries generated by Hibernate), because humans rarely write the
        over-parenthesized forms.
       (<a href="http://bugs.mysql.com/21904" target="_top">Bug#21904</a>)</p></li><li><p>
        An <code class="literal">INSERT</code> trigger invoking a stored routine
        that inserted into a table other than the one on which the
        trigger was defined would fail with a <span class="errortext">Table '...'
        doesn't exist</span> referring to the second table when
        attempting to delete records from the first table.
       (<a href="http://bugs.mysql.com/21825" target="_top">Bug#21825</a>)</p></li><li><p>
        When a stored routine attempted to execute a statement accessing
        a nonexistent table, the error was not caught by the routine's
        exception handler.
       (<a href="http://bugs.mysql.com/20713" target="_top">Bug#20713</a>, <a href="http://bugs.mysql.com/8407" target="_top">Bug#8407</a>)</p></li><li><p>
        The conditions checked by the optimizer to allow use of indexes
        in <code class="literal">IN</code> predicate calculations were
        unnecessarily tight and were relaxed.
       (<a href="http://bugs.mysql.com/20420" target="_top">Bug#20420</a>)</p></li><li><p>
        When a <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> expression
        was used as a column in a <code class="literal">GROUP BY</code> clause,
        the expression result was truncated.
       (<a href="http://bugs.mysql.com/20293" target="_top">Bug#20293</a>)</p></li><li><p>
        The creation of MySQL system tables was not checked for by
        <span><strong class="command">mysql-test-run.pl</strong></span>.
       (<a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>)</p></li><li><p>
        For index reads, the <code class="literal">BLACKHOLE</code> engine did not
        return end-of-file (which it must because
        <code class="literal">BLACKHOLE</code> tables contain no rows), causing
        some queries to crash.
       (<a href="http://bugs.mysql.com/19717" target="_top">Bug#19717</a>)</p></li><li><p>
        For <code class="literal"><em class="replaceable"><code>expr</code></em>
        IN(<em class="replaceable"><code>value_list</code></em>)</code>, the result
        could be incorrect if <code class="literal">BIGINT UNSIGNED</code> values
        were used for <em class="replaceable"><code>expr</code></em> or in the value
        list.
       (<a href="http://bugs.mysql.com/19342" target="_top">Bug#19342</a>)</p></li><li><p>
        When attempting to call a stored procedure creating a table from
        a trigger on a table <code class="literal">tbl</code> in a database
        <code class="literal">db</code>, the trigger failed with <span class="errortext">ERROR
        1146 (42S02): Table 'db.tbl' doesn't exist</span>. However,
        the actual reason that such a trigger fails is due to the fact
        that <code class="literal">CREATE TABLE</code> causes an implicit
        <code class="literal">COMMIT</code>, and so a trigger cannot invoke a
        stored routine containing this statement. A trigger which does
        so now fails with <span class="errortext">ERROR 1422 (HY000): Explicit or
        implicit commit is not allowed in stored function or
        trigger</span>, which makes clear the reason for the
        trigger's failure.
       (<a href="http://bugs.mysql.com/18914" target="_top">Bug#18914</a>)</p></li><li><p>
        The update columns for <code class="literal">INSERT ... SELECT ... ON
        DUPLICATE KEY UPDATE</code> could be assigned incorrect
        values if a temporary table was used to evaluate the
        <code class="literal">SELECT</code>.
       (<a href="http://bugs.mysql.com/16630" target="_top">Bug#16630</a>)</p></li><li><p>
        For <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> evaluation using
        a temporary table, when
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> was used on a
        LONGTEXT column, the <code class="literal">max_length</code> metadata
        value of the result was incorrectly calculated and set to 0.
        Consequently, an empty string was returned instead of the
        correct result.
       (<a href="http://bugs.mysql.com/15757" target="_top">Bug#15757</a>)</p></li><li><p>
        Loading data using <code class="literal">LOAD DATA INFILE</code> may not
        replicate correctly (due to character set incompatibilities) if
        the <code class="literal">character_set_database</code> variable is set
        before the data is loaded.
       (<a href="http://bugs.mysql.com/15126" target="_top">Bug#15126</a>)</p></li><li><p>
        User defined variables used within stored procedures and
        triggers are not replicated correctly when operating in
        statement-based replication mode.
       (<a href="http://bugs.mysql.com/14914" target="_top">Bug#14914</a>, <a href="http://bugs.mysql.com/20141" target="_top">Bug#20141</a>)</p></li><li><p>
        Local variables in stored routines or triggers, when declared as
        the <code class="literal">BIT</code> type, were interpreted as strings.
       (<a href="http://bugs.mysql.com/12976" target="_top">Bug#12976</a>)</p></li><li><p>
        <code class="literal">CONNECTION</code> is no longer treated as a reserved
        word.
       (<a href="http://bugs.mysql.com/12204" target="_top">Bug#12204</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-36sp1"></a>C.1.17. Release Notes for  MySQL Enterprise 5.0.36sp1 [QSP] (12 April 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.36).
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">SELECT ... INTO OUTFILE</code> with a long
        <code class="literal">FIELDS ENCLOSED BY</code> value could crash the
        server.
       (<a href="http://bugs.mysql.com/27231" target="_top">Bug#27231</a>)</p></li><li><p>
        For <code class="literal">MERGE</code> tables defined on underlying tables
        that contained a short <code class="literal">VARCHAR</code> column
        (shorter than four characters), using <code class="literal">ALTER
        TABLE</code> on at least one but not all of the underlying
        tables caused the table definitions to be considered different
        from that of the <code class="literal">MERGE</code> table, even if the
        <code class="literal">ALTER TABLE</code> did not change the definition.
       (<a href="http://bugs.mysql.com/26881" target="_top">Bug#26881</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-36"></a>C.1.18. Release Notes for  MySQL Enterprise 5.0.36 [MRU] (20 February 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          After release, a trigger failure problem was found to have
          been introduced. (<a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>) Users affected by this issue
          should upgrade to MySQL 5.0.38, which corrects the problem.
        </p></div><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.34).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">LockPagesInMainMemory</code> configuration
        parameter has changed its type and possible values. For more
        information, see
        <code class="literal"><a href="mysql-cluster.html#mysql-cluster-param-ndbd-definition-lockpagesinmainmemory">LockPagesInMainMemory</a></code>.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          The values <code class="literal">true</code> and
          <code class="literal">false</code> are no longer accepted for this
          parameter. If you were using this parameter and had it set to
          <code class="literal">false</code> in a previous release, you must
          change it to <code class="literal">0</code>. If you had this parameter
          set to <code class="literal">true</code>, you should instead use
          <code class="literal">1</code> to obtain the same behavior as
          previously, or <code class="literal">2</code> to take advantage of new
          functionality introduced with this release, as described in
          the section cited above.
        </p></div><p>(<a href="http://bugs.mysql.com/25686" target="_top">Bug#25686</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Previously, the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>
        function returned a binary string. Now it returns a string with
        a character set and collation given by
        <code class="literal">character_set_connection</code> and
        <code class="literal">collation_connection</code> so that it can return
        month and weekday names containing non-ASCII characters.
       (<a href="http://bugs.mysql.com/22646" target="_top">Bug#22646</a>)</p></li><li><p>
        The <code class="literal">localhost</code> anonymous user account created
        during MySQL installation on Windows now has no global
        privileges. Formerly this account had all global privileges. For
        operations that require global privileges, the
        <code class="literal">root</code> account can be used instead.
       (<a href="http://bugs.mysql.com/24496" target="_top">Bug#24496</a>)</p></li><li><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          When using <code class="literal">MERGE</code> tables the definition of
          the <code class="literal">MERGE</code> table and the
          <code class="literal">MyISAM</code> tables are checked each time the
          tables are opened for access (including any
          <code class="literal">SELECT</code> or <code class="literal">INSERT</code>
          statement. Each table is compared for column order, types,
          sizes and associated. If there is a difference in any one of
          the tables then the statement will fail.
        </p></div></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.8.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using an <code class="literal">INFORMATION_SCHEMA</code> table with
        <code class="literal">ORDER BY</code> in a subquery could cause a server
        crash.
      </p><p>
        We would like to thank Oren Isacson of Flowgate Security
        Consulting and Stefan Streichsbier of SEC Consult for informing
        us of this problem.
       (<a href="http://bugs.mysql.com/24630" target="_top">Bug#24630</a>, <a href="http://bugs.mysql.com/26556" target="_top">Bug#26556</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-1420" target="_top">CVE-2007-1420</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <code class="literal">ENUM</code> columns that had enumeration values
        containing commas, the commas were mapped to
        <code class="literal">0xff</code> internally. However, this rendered the
        commas indistinguishable from true <code class="literal">0xff</code>
        characters in the values. This no longer occurs. However, the
        fix requires that you dump and reload any tables that have
        <code class="literal">ENUM</code> columns containing any true
        <code class="literal">0xff</code> values. Dump the tables using
        <span><strong class="command">mysqldump</strong></span> with the current server before
        upgrading from a version of MySQL 5.0 older than 5.0.36 to
        version 5.0.36 or newer.
       (<a href="http://bugs.mysql.com/24660" target="_top">Bug#24660</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query with an <code class="literal">IN</code> clause against an
        <code class="literal">NDB</code> table employing explicit user-defined
        partitioning did not always return all matching rows.
       (<a href="http://bugs.mysql.com/25821" target="_top">Bug#25821</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was not possible to create an <code class="literal">NDB</code> table
        with a key on two <code class="literal">VARCHAR</code> columns where both
        columns had a storage length in excess of 256.
       (<a href="http://bugs.mysql.com/25746" target="_top">Bug#25746</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some circumstances, shutting down the cluster could cause
        connected <span><strong class="command">mysqld</strong></span> processes to crash.
       (<a href="http://bugs.mysql.com/25668" target="_top">Bug#25668</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Memory allocations for <code class="literal">TEXT</code> columns were
        calculated incorrectly, resulting in space being wasted and
        other issues.
       (<a href="http://bugs.mysql.com/25562" target="_top">Bug#25562</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a master node during a node restart could lead to
        a resource leak, causing later node failures.
       (<a href="http://bugs.mysql.com/25554" target="_top">Bug#25554</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <code class="literal">UPDATE</code> using an <code class="literal">IN</code>
        clause on an <code class="literal">NDB</code> table on which there was a
        trigger caused <span><strong class="command">mysqld</strong></span> to crash.
       (<a href="http://bugs.mysql.com/25522" target="_top">Bug#25522</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node shutdown occurred if the master failed during a commit.
       (<a href="http://bugs.mysql.com/25364" target="_top">Bug#25364</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Creating a non-unique index with the <code class="literal">USING
        HASH</code> clause silently created an ordered index instead
        of issuing a warning.
       (<a href="http://bugs.mysql.com/24820" target="_top">Bug#24820</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="filename">ndb_size.tmpl</code> file (necessary for using
        the <code class="filename">ndb_size.pl</code> script) was missing from
        binary distributions.
       (<a href="http://bugs.mysql.com/24191" target="_top">Bug#24191</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management server did not handle logging of node shutdown
        events correctly in certain cases.
       (<a href="http://bugs.mysql.com/22013" target="_top">Bug#22013</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">SELECT</code> statements with a
        <code class="literal">BLOB</code> or <code class="literal">TEXT</code> column in the
        selected column list and a <code class="literal">WHERE</code> condition
        including a primary key lookup on a <code class="literal">VARCHAR</code>
        primary key produced empty result sets.
       (<a href="http://bugs.mysql.com/19956" target="_top">Bug#19956</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The loss of one or more data nodes could sometimes cause
        <span><strong class="command">ndb_mgmd</strong></span> to use a high amount of CPU (15
        percent or more, as opposed to 1 to 2 percent normally).
      </p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Deletion of an <code class="literal">Ndb_cluster_connection</code> object
        took a very long time.
       (<a href="http://bugs.mysql.com/25487" target="_top">Bug#25487</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        <code class="filename">libndbclient.so</code> was not versioned.
       (<a href="http://bugs.mysql.com/13522" target="_top">Bug#13522</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        could yield different results when selecting from a view and
        selecting from the underlying table.
       (<a href="http://bugs.mysql.com/26209" target="_top">Bug#26209</a>)</p></li><li><p>
        <code class="literal">DISTINCT</code> queries that were executed using a
        loose scan for an <code class="literal">InnoDB</code> table that had been
        emptied caused a server crash.
       (<a href="http://bugs.mysql.com/26159" target="_top">Bug#26159</a>)</p></li><li><p>
        A <code class="literal">WHERE</code> clause that used
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> for
        <code class="literal">DATETIME</code> values could be treated differently
        for a <code class="literal">SELECT</code> and a view defined as that
        <code class="literal">SELECT</code>.
       (<a href="http://bugs.mysql.com/26124" target="_top">Bug#26124</a>)</p></li><li><p>
        Collation for <code class="literal">LEFT JOIN</code> comparisons could be
        evaluated incorrectly, leading to improper query results.
       (<a href="http://bugs.mysql.com/26017" target="_top">Bug#26017</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> clause for views was
        ignored for updates of multiple-table views when the updates
        could not be performed on fly and the rows to update had to be
        put into temporary tables first.
       (<a href="http://bugs.mysql.com/25931" target="_top">Bug#25931</a>)</p></li><li><p>
        <code class="literal">LOAD DATA INFILE</code> did not work with pipes.
       (<a href="http://bugs.mysql.com/25807" target="_top">Bug#25807</a>)</p></li><li><p>
        The <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> and
        <a href="functions.html#function_quarter"><code class="literal">QUARTER()</code></a> functions sometimes
        did not handle <code class="literal">NULL</code> values correctly.
       (<a href="http://bugs.mysql.com/25643" target="_top">Bug#25643</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code> parser sometimes did not account
        for null bytes, causing spurious failure of some queries.
       (<a href="http://bugs.mysql.com/25596" target="_top">Bug#25596</a>)</p></li><li><p>
        View definitions that used the <code class="literal">!</code> operator
        were treated as containing the <code class="literal">NOT</code> operator,
        which has a different precedence and can produce different
        results. .
       (<a href="http://bugs.mysql.com/25580" target="_top">Bug#25580</a>)</p></li><li><p>
        An error in the name resolution of nested <code class="literal">JOIN ...
        USING</code> constructs was corrected.
       (<a href="http://bugs.mysql.com/25575" target="_top">Bug#25575</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> and <code class="literal">DISTINCT</code> did
        not group <code class="literal">NULL</code> values for columns that have a
        <code class="literal">UNIQUE</code> index. .
       (<a href="http://bugs.mysql.com/25551" target="_top">Bug#25551</a>)</p></li><li><p>
        The <code class="option">--with-readline</code> option for
        <span><strong class="command">configure</strong></span> did not work for commercial source
        packages, but no error message was printed to that effect. Now a
        message is printed.
       (<a href="http://bugs.mysql.com/25530" target="_top">Bug#25530</a>)</p></li><li><p>
        A yaSSL program named <span><strong class="command">test</strong></span> was installed,
        causing conflicts with the <span><strong class="command">test</strong></span> system
        utility. It is no longer installed.
       (<a href="http://bugs.mysql.com/25417" target="_top">Bug#25417</a>)</p></li><li><p>
        For a <code class="literal">UNIQUE</code> index containing many
        <code class="literal">NULL</code> values, the optimizer would prefer the
        index for <code class="literal"><em class="replaceable"><code>col</code></em> IS
        NULL</code> conditions over other more selective indexes. .
       (<a href="http://bugs.mysql.com/25407" target="_top">Bug#25407</a>)</p></li><li><p>
        An <code class="literal">AFTER UPDATE</code> trigger on an
        <code class="literal">InnoDB</code> table with a composite primary key
        caused the server to crash.
       (<a href="http://bugs.mysql.com/25398" target="_top">Bug#25398</a>)</p></li><li><p>
        Passing a <code class="literal">NULL</code> value to a user-defined
        function from within a stored procedure crashes the server.
       (<a href="http://bugs.mysql.com/25382" target="_top">Bug#25382</a>)</p></li><li><p>
        <span><strong class="command">perror</strong></span> crashed on some platforms due to
        failure to handle a <code class="literal">NULL</code> pointer.
       (<a href="http://bugs.mysql.com/25344" target="_top">Bug#25344</a>)</p></li><li><p>
        <span><strong class="command">mysql.server stop</strong></span> timed out too quickly (35
        seconds) waiting for the server to exit. Now it waits up to 15
        minutes, to ensure that the server exits.
       (<a href="http://bugs.mysql.com/25341" target="_top">Bug#25341</a>)</p></li><li><p>
        A query that contained an <code class="literal">EXIST</code> subquery with
        a <code class="literal">UNION</code> over correlated and uncorrelated
        <code class="literal">SELECT</code> queries could cause the server to
        crash.
       (<a href="http://bugs.mysql.com/25219" target="_top">Bug#25219</a>)</p></li><li><p>
        <a href="apis.html#mysql-kill" title="23.2.3.38. mysql_kill()"><code class="literal">mysql_kill()</code></a> caused a server
        crash when used on an SSL connection.
       (<a href="http://bugs.mysql.com/25203" target="_top">Bug#25203</a>)</p></li><li><p>
        yaSSL was sensitive to the presence of whitespace at the ends of
        lines in PEM-encoded certificates, causing a server crash.
       (<a href="http://bugs.mysql.com/25189" target="_top">Bug#25189</a>)</p></li><li><p>
        A query with <code class="literal">ORDER BY</code> and <code class="literal">GROUP
        BY</code> clauses where the <code class="literal">ORDER BY</code>
        clause had more elements than the <code class="literal">GROUP BY</code>
        clause caused a memory overrun leading to a crash of the server.
       (<a href="http://bugs.mysql.com/25172" target="_top">Bug#25172</a>)</p></li><li><p>
        Use of <code class="literal">ON DUPLICATE KEY UPDATE</code> defeated the
        usual restriction against inserting into a join-based view
        unless only one of the underlying tables is used.
       (<a href="http://bugs.mysql.com/25123" target="_top">Bug#25123</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ENABLE KEYS</code> acquired a global
        lock, preventing concurrent execution of other statements that
        use tables. .
       (<a href="http://bugs.mysql.com/25044" target="_top">Bug#25044</a>)</p></li><li><p>
        A return value of <code class="literal">-1</code> from user-defined
        handlers was not handled well and could result in conflicts with
        server code.
       (<a href="http://bugs.mysql.com/24987" target="_top">Bug#24987</a>)</p></li><li><p>
        Accessing a fixed record format table with a crashed key
        definition results in server/<span><strong class="command">myisamchk</strong></span>
        segmentation fault.
       (<a href="http://bugs.mysql.com/24855" target="_top">Bug#24855</a>)</p></li><li><p>
        <span><strong class="command">mysqld_multi</strong></span> and
        <span><strong class="command">mysqlaccess</strong></span> looked for option files in
        <code class="filename">/etc</code> even if the
        <code class="option">--sysconfdir</code> option for
        <span><strong class="command">configure</strong></span> had been given to specify a
        different directory.
       (<a href="http://bugs.mysql.com/24780" target="_top">Bug#24780</a>)</p></li><li><p>
        If there was insufficient memory available to
        <span><strong class="command">mysqld</strong></span>, this could sometimes cause the server
        to hang during startup.
       (<a href="http://bugs.mysql.com/24751" target="_top">Bug#24751</a>)</p></li><li><p>
        If an <code class="literal">ORDER BY</code> or <code class="literal">GROUP BY</code>
        list included a constant expression being optimized away and, at
        the same time, containing single-row subselects that returned
        more that one row, no error was reported. If a query required
        sorting by expressions containing single-row subselects that
        returned more than one row, execution of the query could cause a
        server crash.
       (<a href="http://bugs.mysql.com/24653" target="_top">Bug#24653</a>)</p></li><li><p>
        For <code class="literal">ALTER TABLE</code>, using <code class="literal">ORDER BY
        <em class="replaceable"><code>expression</code></em></code> could cause a
        server crash. Now the <code class="literal">ORDER BY</code> clause allows
        only column names to be specified as sort criteria (which was
        the only documented syntax, anyway).
       (<a href="http://bugs.mysql.com/24562" target="_top">Bug#24562</a>)</p></li><li><p>
        A workaround was implemented to avoid a race condition in the
        NPTL <code class="literal">pthread_exit()</code> implementation.
       (<a href="http://bugs.mysql.com/24507" target="_top">Bug#24507</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> crashed with a stack overflow.
       (<a href="http://bugs.mysql.com/24498" target="_top">Bug#24498</a>)</p></li><li><p>
        Within stored routines or prepared statements, inconsistent
        results occurred with multiple use of <code class="literal">INSERT ... SELECT
        ... ON DUPLICATE KEY UPDATE</code> when the <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause erroneously tried to
        assign a value to a column mentioned only in its
        <code class="literal">SELECT</code> part.
       (<a href="http://bugs.mysql.com/24491" target="_top">Bug#24491</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT a, MIN(b)
        FROM t GROUP BY a)</code> could produce incorrect results
        when column <code class="literal">a</code> of table <code class="literal">t</code>
        contained <code class="literal">NULL</code> values while column
        <code class="literal">b</code> did not.
       (<a href="http://bugs.mysql.com/24420" target="_top">Bug#24420</a>)</p></li><li><p>
        If a prepared statement accessed a view, access to the tables
        listed in the query after that view was checked in the security
        context of the view.
       (<a href="http://bugs.mysql.com/24404" target="_top">Bug#24404</a>)</p></li><li><p>
        Attempts to access a <code class="literal">MyISAM</code> table with a
        corrupt column definition caused a server crash.
       (<a href="http://bugs.mysql.com/24401" target="_top">Bug#24401</a>)</p></li><li><p>
        When opening a corrupted <code class="filename">.frm</code> file during a
        query, the server crashes.
       (<a href="http://bugs.mysql.com/24358" target="_top">Bug#24358</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        <em class="replaceable"><code>unsigned_column</code></em> NOT IN
        ('<em class="replaceable"><code>negative_value</code></em>')</code> could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/24261" target="_top">Bug#24261</a>)</p></li><li><p>
        When <code class="literal">SET PASSWORD</code> was written to the binary
        log double quotes were included in the statement. If the slave
        was running in with the server SQL mode set to
        <code class="literal">ANSI_QUOTES</code>, then the event failed, which
        halted the replication process.
       (<a href="http://bugs.mysql.com/24158" target="_top">Bug#24158</a>)</p></li><li><p>
        Expressions of the form <code class="literal">(a, b) IN (SELECT c, d
        ...)</code> could produce incorrect results if
        <code class="literal">a</code>, <code class="literal">b</code>, or both were
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/24127" target="_top">Bug#24127</a>)</p></li><li><p>
        A <code class="literal">FETCH</code> statement using a cursor on a table
        which was not in the table cache could sometimes cause the
        server to crash.
       (<a href="http://bugs.mysql.com/24117" target="_top">Bug#24117</a>)</p></li><li><p>
        Queries that evaluate <code class="literal">NULL IN (SELECT ... UNION SELECT
        ...)</code> could produce an incorrect result
        (<code class="literal">FALSE</code> instead of <code class="literal">NULL</code>).
       (<a href="http://bugs.mysql.com/24085" target="_top">Bug#24085</a>)</p></li><li><p>
        Hebrew-to-Unicode conversion failed for some characters.
        Definitions for the following Hebrew characters (as specified by
        the ISO/IEC 8859-8:1999) were added: LEFT-TO-RIGHT MARK (LRM),
        RIGHT-TO-LEFT MARK (RLM)
       (<a href="http://bugs.mysql.com/24037" target="_top">Bug#24037</a>)</p></li><li><p>
        Some <code class="literal">UPDATE</code> statements were slower than in
        previous versions when the search key could not be converted to
        a valid value for the type of the search column.
       (<a href="http://bugs.mysql.com/24035" target="_top">Bug#24035</a>)</p></li><li><p>
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(DATE(NULL))</code></a> and
        <a href="functions.html#function_isnull"><code class="literal">ISNULL(CAST(NULL AS DATE))</code></a>
        erroneously returned false.
       (<a href="http://bugs.mysql.com/23938" target="_top">Bug#23938</a>)</p></li><li><p>
        Within a stored routine, accessing a declared routine variable
        with <code class="literal">PROCEDURE ANALYSE()</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/23782" target="_top">Bug#23782</a>)</p></li><li><p>
        When reading from the standard input on Windows,
        <span><strong class="command">mysqlbinlog</strong></span> opened the input in text mode
        rather than binary mode and consequently misinterpreted some
        characters such as Control-Z.
       (<a href="http://bugs.mysql.com/23735" target="_top">Bug#23735</a>)</p></li><li><p>
        A stored procedure, executed from a connection using a binary
        character set, and which wrote multibyte data, would write
        incorrectly escaped entries to the binary log. This caused
        syntax errors, and caused replication to fail.
       (<a href="http://bugs.mysql.com/23619" target="_top">Bug#23619</a>, <a href="http://bugs.mysql.com/24492" target="_top">Bug#24492</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table with any <code class="literal">ON
        DELETE</code> trigger, <code class="literal">TRUNCATE TABLE</code>
        mapped to <code class="literal">DELETE</code> and activated triggers. Now
        a fast truncation occurs and triggers are not activated. .
       (<a href="http://bugs.mysql.com/23556" target="_top">Bug#23556</a>)</p></li><li><p>
        The row count for <code class="literal">MyISAM</code> tables was not
        updated properly, causing <code class="literal">SHOW TABLE STATUS</code>
        to report incorrect values.
       (<a href="http://bugs.mysql.com/23526" target="_top">Bug#23526</a>)</p></li><li><p>
        With <code class="literal">ONLY_FULL_GROUP_BY</code> enables, the server
        was too strict: Some expressions involving only aggregate values
        were rejected as non-aggregate (for example,
        <a href="functions.html#function_max"><code class="literal">MAX(a)</code></a> –
        <a href="functions.html#function_min"><code class="literal">MIN(a)</code></a>).
       (<a href="http://bugs.mysql.com/23417" target="_top">Bug#23417</a>)</p></li><li><p>
        The arguments to the <a href="functions.html#function_encode"><code class="literal">ENCODE()</code></a>
        and the <a href="functions.html#function_decode"><code class="literal">DECODE()</code></a> functions were
        not printed correctly, causing problems in the output of
        <code class="literal">EXPLAIN EXTENDED</code> and in view definitions.
       (<a href="http://bugs.mysql.com/23409" target="_top">Bug#23409</a>)</p></li><li><p>
        Some queries against <code class="literal">INFORMATION_SCHEMA</code> that
        used subqueries failed. .
       (<a href="http://bugs.mysql.com/23299" target="_top">Bug#23299</a>)</p></li><li><p>
        <code class="literal">readline</code> detection did not work correctly on
        NetBSD.
       (<a href="http://bugs.mysql.com/23293" target="_top">Bug#23293</a>)</p></li><li><p>
        If there was insufficient memory to store or update a blob
        record in a <code class="literal">MyISAM</code> table then the table will
        marked as crashed.
       (<a href="http://bugs.mysql.com/23196" target="_top">Bug#23196</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> was not reset
        to 0 if <code class="literal">INSERT ... SELECT</code> inserted no rows.
       (<a href="http://bugs.mysql.com/23170" target="_top">Bug#23170</a>)</p></li><li><p>
        The number of <code class="literal">setsockopt()</code> calls performed
        for reads and writes to the network socket was reduced to
        decrease system call overhead.
       (<a href="http://bugs.mysql.com/22943" target="_top">Bug#22943</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> failed when called with a
        <code class="literal">basedir</code> pathname containing spaces.
       (<a href="http://bugs.mysql.com/22801" target="_top">Bug#22801</a>)</p></li><li><p>
        <code class="literal">SET lc_time_names = <em class="replaceable"><code>value</code></em>
        </code> allowed only exact literal values, not expression
        values.
       (<a href="http://bugs.mysql.com/22647" target="_top">Bug#22647</a>)</p></li><li><p>
        Changes to the <code class="literal">lc_time_names</code> system variable
        were not replicated.
       (<a href="http://bugs.mysql.com/22645" target="_top">Bug#22645</a>)</p></li><li><p>
        The <a href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> function returned a
        positive value for data sets consisting of a single value.
       (<a href="http://bugs.mysql.com/22555" target="_top">Bug#22555</a>)</p></li><li><p>
        Storing values specified as hexadecimal values 64 or more bits
        long in <code class="literal">BIT(64)</code>, <code class="literal">BIGINT</code>,
        or <code class="literal">BIGINT UNSIGNED</code> columns did not raise any
        warning or error if the value was out of range.
       (<a href="http://bugs.mysql.com/22533" target="_top">Bug#22533</a>)</p></li><li><p>
        <code class="literal">SHOW COLUMNS</code> reported some <code class="literal">NOT
        NULL</code> columns as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/22377" target="_top">Bug#22377</a>)</p></li><li><p>
        Type conversion errors during formation of index search
        conditions were not correctly checked, leading to incorrect
        query results.
       (<a href="http://bugs.mysql.com/22344" target="_top">Bug#22344</a>)</p></li><li><p>
        The code for generating <code class="literal">USE</code> statements for
        binary logging of <code class="literal">CREATE PROCEDURE</code> statements
        resulted in confusing output from <span><strong class="command">mysqlbinlog</strong></span>
        for <code class="literal">DROP PROCEDURE</code> statements.
       (<a href="http://bugs.mysql.com/22043" target="_top">Bug#22043</a>)</p></li><li><p>
        For the <a href="functions.html#function_if"><code class="literal">IF()</code></a> and
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> function and
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expressions, large
        unsigned integer values could be mishandled and result in
        warnings.
       (<a href="http://bugs.mysql.com/22026" target="_top">Bug#22026</a>)</p></li><li><p>
        SSL connections could hang at connection shutdown.
       (<a href="http://bugs.mysql.com/21781" target="_top">Bug#21781</a>, <a href="http://bugs.mysql.com/24148" target="_top">Bug#24148</a>)</p></li><li><p>
        When updating a table that used a <code class="literal">JOIN</code> of the
        table itself (for example, when building trees) and the table
        was modified on one side of the expression, the table would
        either be reported as crashed or the wrong rows in the table
        would be updated.
       (<a href="http://bugs.mysql.com/21310" target="_top">Bug#21310</a>)</p></li><li><p>
        Inserting <code class="literal">DEFAULT</code> into a column with no
        default value could result in garbage in the column. Now the
        same result occurs as when inserting <code class="literal">NULL</code>
        into a <code class="literal">NOT NULL</code> column.
       (<a href="http://bugs.mysql.com/20691" target="_top">Bug#20691</a>)</p></li><li><p>
        A stored routine containing semicolon in its body could not be
        reloaded from a dump of a binary log.
       (<a href="http://bugs.mysql.com/20396" target="_top">Bug#20396</a>)</p></li><li><p>
        <code class="literal">SELECT ... FOR UPDATE</code>, <code class="literal">SELECT ...
        LOCK IN SHARE MODE</code>, <code class="literal">DELETE</code>, and
        <code class="literal">UPDATE</code> statements executed using a full table
        scan were not releasing locks on rows that did not satisfy the
        <code class="literal">WHERE</code> condition.
       (<a href="http://bugs.mysql.com/20390" target="_top">Bug#20390</a>)</p></li><li><p>
        On Windows, if the server was installed as a service, it did not
        auto-detect the location of the data directory.
       (<a href="http://bugs.mysql.com/20376" target="_top">Bug#20376</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> script did not recognize
        Celeron processors.
       (<a href="http://bugs.mysql.com/20061" target="_top">Bug#20061</a>)</p></li><li><p>
        If a duplicate key value was present in the table,
        <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> reported a
        row count indicating that a record was updated, even when no
        record actually changed due to the old and new values being the
        same. Now it reports a row count of zero.
       (<a href="http://bugs.mysql.com/19978" target="_top">Bug#19978</a>)</p><p>See also <a href="http://bugs.mysql.com/27006" target="_top">Bug#27006</a>, <a href="http://bugs.mysql.com/27033" target="_top">Bug#27033</a>, <a href="http://bugs.mysql.com/27210" target="_top">Bug#27210</a></p></li><li><p>
        For <code class="literal">SET</code>, <code class="literal">SELECT</code>, and
        <code class="literal">DO</code> statements that invoked a stored function
        from a database other than the default database, the function
        invocation could fail to be replicated.
       (<a href="http://bugs.mysql.com/19725" target="_top">Bug#19725</a>)</p></li><li><p>
        <code class="literal">ORDER BY</code> values of the
        <code class="literal">DOUBLE</code> or <code class="literal">DECIMAL</code> types
        could change the result returned by a query.
       (<a href="http://bugs.mysql.com/19690" target="_top">Bug#19690</a>)</p></li><li><p>
        The <code class="literal">readline</code> library wrote to uninitialized
        memory, causing <span><strong class="command">mysql</strong></span> to crash.
       (<a href="http://bugs.mysql.com/19474" target="_top">Bug#19474</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> incorrectly tried to retrieve
        result sets for some queries where no result set was available.
       (<a href="http://bugs.mysql.com/19410" target="_top">Bug#19410</a>)</p></li><li><p>
        Use of already freed memory caused SSL connections to hang
        forever.
       (<a href="http://bugs.mysql.com/19209" target="_top">Bug#19209</a>)</p></li><li><p>
        The server might fail to use an appropriate index for
        <code class="literal">DELETE</code> when <code class="literal">ORDER BY</code>,
        <code class="literal">LIMIT</code>, and a non-restricting
        <code class="literal">WHERE</code> are present.
       (<a href="http://bugs.mysql.com/17711" target="_top">Bug#17711</a>)</p></li><li><p>
        No warning was issued for use of the <code class="literal">DATA
        DIRECTORY</code> or <code class="literal">INDEX DIRECTORY</code> table
        options on a platform that does not support them.
       (<a href="http://bugs.mysql.com/17498" target="_top">Bug#17498</a>)</p></li><li><p>
        When a prepared statement failed during the prepare operation,
        the error code was not cleared when it was reused, even if the
        subsequent use was successful.
       (<a href="http://bugs.mysql.com/15518" target="_top">Bug#15518</a>)</p></li><li><p>
        On Windows, the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> function
        could sleep too long, especially after a change to the system
        clock.
       (<a href="http://bugs.mysql.com/14094" target="_top">Bug#14094</a>, <a href="http://bugs.mysql.com/24686" target="_top">Bug#24686</a>, <a href="http://bugs.mysql.com/17635" target="_top">Bug#17635</a>)</p></li><li><p>
        <span><strong class="command">mysqldump --order-by-primary</strong></span> failed if the
        primary key name was an identifier that required quoting.
       (<a href="http://bugs.mysql.com/13926" target="_top">Bug#13926</a>)</p></li><li><p>
        To enable installation of MySQL RPMs on Linux systems running
        RHEL 4 (which includes SE-Linux) additional information was
        provided to specify some actions that are allowed to the MySQL
        binaries.
       (<a href="http://bugs.mysql.com/12676" target="_top">Bug#12676</a>)</p></li><li><p>
        The presence of <code class="literal">ORDER BY</code> in a view definition
        prevented the <code class="literal">MERGE</code> algorithm from being used
        to resolve the view even if nothing else in the definition
        required the <code class="literal">TEMPTABLE</code> algorithm.
       (<a href="http://bugs.mysql.com/12122" target="_top">Bug#12122</a>)</p></li><li><p>
        If a slave server closed its relay log (for example, due to an
        error during log rotation), the I/O thread did not recognize
        this and still tried to write to the log, causing a server
        crash.
       (<a href="http://bugs.mysql.com/10798" target="_top">Bug#10798</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-34"></a>C.1.19. Release Notes for  MySQL Enterprise 5.0.34 [MRU] (17 January 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.32).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="option">--skip-thread-priority</code> option now is
        enabled by default for binary Mac OS X distributions. Use of
        thread priorities degrades performance on Mac OS X.
       (<a href="http://bugs.mysql.com/18526" target="_top">Bug#18526</a>)</p></li><li><p>
        Added the <code class="option">--disable-grant-options</code> option to
        <span><strong class="command">configure</strong></span>. If <span><strong class="command">configure</strong></span> is
        run with this option, the <code class="option">--bootstrap</code>,
        <code class="option">--skip-grant-tables</code>, and
        <code class="option">--init-file</code> options for
        <span><strong class="command">mysqld</strong></span> are disabled and cannot be used. For
        Windows, the <span><strong class="command">configure.js</strong></span> script recognizes
        the <code class="literal">DISABLE_GRANT_OPTIONS</code> flag, which has the
        same effect.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Hosts in clusters with large numbers of nodes could experience
        excessive CPU usage while obtaining configuration data.
       (<a href="http://bugs.mysql.com/25711" target="_top">Bug#25711</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a data node was shut down using the management client
        <code class="literal">STOP</code> command, a connection event
        (<code class="literal">NDB_LE_Connected</code>) was logged instead of a
        disconnection event (<code class="literal">NDB_LE_Disconnected</code>).
       (<a href="http://bugs.mysql.com/22773" target="_top">Bug#22773</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Invoking the <code class="literal">NdbTransaction::execute()</code> method
        using execution type <code class="literal">Commit</code> and abort option
        <code class="literal">AO_IgnoreError</code> could lead to a crash of the
        transaction coordinator (<code class="literal">DBTC</code>).
       (<a href="http://bugs.mysql.com/25090" target="_top">Bug#25090</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        A unique index lookup on a non-existent tuple could lead to a
        data node timeout (error 4012).
       (<a href="http://bugs.mysql.com/25059" target="_top">Bug#25059</a>)</p></li><li><p>
        Referencing an ambiguous column alias in an expression in the
        <code class="literal">ORDER BY</code> clause of a query caused the server
        to crash.
       (<a href="http://bugs.mysql.com/25427" target="_top">Bug#25427</a>)</p></li><li><p>
        Using a view in combination with a <code class="literal">USING</code>
        clause caused column aliases to be ignored.
       (<a href="http://bugs.mysql.com/25106" target="_top">Bug#25106</a>)</p></li><li><p>
        A multiple-table <code class="literal">DELETE QUICK</code> could sometimes
        cause one of the affected tables to become corrupted.
       (<a href="http://bugs.mysql.com/25048" target="_top">Bug#25048</a>)</p></li><li><p>
        An assertion failed incorrectly for prepared statements that
        contained a single-row uncorrelated subquery that was used as an
        argument of the <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
        predicate.
       (<a href="http://bugs.mysql.com/25027" target="_top">Bug#25027</a>)</p></li><li><p>
        Optimizations that are legal only for subqueries without tables
        and <code class="literal">WHERE</code> conditions were applied for any
        subquery without tables.
       (<a href="http://bugs.mysql.com/24670" target="_top">Bug#24670</a>)</p></li><li><p>
        Some joins in which one of the joined tables was a view could
        return erroneous results or crash the server.
       (<a href="http://bugs.mysql.com/24345" target="_top">Bug#24345</a>)</p></li><li><p>
        A view was not handled correctly if the
        <code class="literal">SELECT</code> part contained “<span class="quote">
        <code class="literal">\Z</code> </span>”.
       (<a href="http://bugs.mysql.com/24293" target="_top">Bug#24293</a>)</p></li><li><p>
        The server was built even when <span><strong class="command">configure</strong></span> was
        run with the <code class="option">--without-server</code> option.
       (<a href="http://bugs.mysql.com/23973" target="_top">Bug#23973</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE TABLE</code> tried to sort R-tree indexes
        such as spatial indexes, although this is not possible (see
        <a href="sql-syntax.html#optimize-table" title="12.5.2.5. OPTIMIZE TABLE Syntax">Section 12.5.2.5, “<code class="literal">OPTIMIZE TABLE</code> Syntax”</a>).
       (<a href="http://bugs.mysql.com/23578" target="_top">Bug#23578</a>)</p></li><li><p>
        User-defined variables could consume excess memory, leading to a
        crash caused by the exhaustion of resources available to the
        <code class="literal">MEMORY</code> storage engine, due to the fact that
        this engine is used by MySQL for variable storage and
        intermediate results of <code class="literal">GROUP BY</code> queries.
        Where <code class="literal">SET</code> had been used, such a condition
        could instead give rise to the misleading error message
        <span class="errortext">You may only use constant expressions with
        SET</span>, rather than <span class="errortext">Out of memory (Needed
        NNNNNN bytes)</span>.
       (<a href="http://bugs.mysql.com/23443" target="_top">Bug#23443</a>)</p></li><li><p>
        A table created with the <code class="literal">ROW_FORMAT = FIXED</code>
        table option lost the option if an index was added or dropped
        with <code class="literal">CREATE INDEX</code> or <code class="literal">DROP
        INDEX</code>.
       (<a href="http://bugs.mysql.com/23404" target="_top">Bug#23404</a>)</p></li><li><p>
        A deadlock could occur, with the server hanging on
        <code class="literal">Closing tables</code>, with a sufficient number of
        concurrent <code class="literal">INSERT DELAYED</code>, <code class="literal">FLUSH
        TABLES</code>, and <code class="literal">ALTER TABLE</code> operations.
       (<a href="http://bugs.mysql.com/23312" target="_top">Bug#23312</a>)</p></li><li><p>
        A compressed <code class="literal">MyISAM</code> table that became
        corrupted could crash <span><strong class="command">myisamchk</strong></span> and possibly
        the MySQL Server.
       (<a href="http://bugs.mysql.com/23139" target="_top">Bug#23139</a>)</p></li><li><p>
        Changing the value of <code class="literal">MI_KEY_BLOCK_LENGTH</code> in
        <code class="filename">myisam.h</code> and recompiling MySQL resulted in
        a <span><strong class="command">myisamchk</strong></span> that saw existing
        <code class="literal">MyISAM</code> tables as corrupt.
       (<a href="http://bugs.mysql.com/22119" target="_top">Bug#22119</a>)</p></li><li><p>
        A crash of the MySQL Server could occur when unpacking a
        <code class="literal">BLOB</code> column from a row in a corrupted MyISAM
        table. This could happen when trying to repair a table using
        either <code class="literal">REPAIR TABLE</code> or
        <span><strong class="command">myisamchk</strong></span>; it could also happen when trying
        to access such a “<span class="quote">broken</span>” row using statements like
        <code class="literal">SELECT</code> if the table was not marked as
        crashed.
       (<a href="http://bugs.mysql.com/22053" target="_top">Bug#22053</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">euckr</code> character set.
       (<a href="http://bugs.mysql.com/21556" target="_top">Bug#21556</a>)</p></li><li><p>
        <code class="filename">mysqld_error.h</code> was not installed when only
        the client libraries were built.
       (<a href="http://bugs.mysql.com/21265" target="_top">Bug#21265</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: During a restart of the MySQL Server
        that followed the creation of a temporary table using the
        <code class="literal">InnoDB</code> storage engine, MySQL failed to clean
        up in such a way that <code class="literal">InnoDB</code> still attempted
        to find the files associated with such tables.
       (<a href="http://bugs.mysql.com/20867" target="_top">Bug#20867</a>)</p></li><li><p>
        Some <code class="literal">CASE</code> statements inside stored routines
        could lead to excessive resource usage or a crash of the server.
       (<a href="http://bugs.mysql.com/19194" target="_top">Bug#19194</a>, <a href="http://bugs.mysql.com/24854" target="_top">Bug#24854</a>)</p></li><li><p>
        Instance Manager could crash during shutdown.
       (<a href="http://bugs.mysql.com/19044" target="_top">Bug#19044</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not support
        the <code class="literal">utf8</code> character set.
       (<a href="http://bugs.mysql.com/17044" target="_top">Bug#17044</a>)</p></li><li><p>
        The optimizer removes expressions from <code class="literal">GROUP
        BY</code> and <code class="literal">DISTINCT</code> clauses if they
        happen to participate in <code class="literal">
        <em class="replaceable"><code>expression</code></em> =
        <em class="replaceable"><code>constant</code></em></code> predicates of the
        <code class="literal">WHERE</code> clause, the idea being that, if the
        expression is equal to a constant, then it cannot take on
        multiple values. However, for predicates where the expression
        and the constant item are of different result types (for
        example, when a string column is compared to 0), this is not
        valid, and can lead to invalid results in such cases. The
        optimizer now performs an additional check of the result types
        of the expression and the constant; if their types differ, then
        the expression is not removed from the <code class="literal">GROUP
        BY</code> list.
       (<a href="http://bugs.mysql.com/15881" target="_top">Bug#15881</a>)</p></li><li><p>
        Dropping a user-defined function sometimes did not remove the
        UDF entry from the <code class="literal">mysql.proc</code> table.
       (<a href="http://bugs.mysql.com/15439" target="_top">Bug#15439</a>)</p></li><li><p>
        Inserting a row into a table without specifying a value for a
        <code class="literal">BINARY(<em class="replaceable"><code>N</code></em>) NOT NULL</code>
        column caused the column to be set to spaces, not zeroes.
       (<a href="http://bugs.mysql.com/14171" target="_top">Bug#14171</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-32"></a>C.1.20. Release Notes for  MySQL Enterprise 5.0.32 [MRU] (20 December 2006)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.30).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">InnoDB</code> rolls back only the last statement on
        a transaction timeout. A new option,
        <code class="option">--innodb_rollback_on_timeout</code>, causes
        <code class="literal">InnoDB</code> to abort and roll back the entire
        transaction if a transaction timeout occurs (the same behavior
        as in MySQL 5.0.13 and earlier).
       (<a href="http://bugs.mysql.com/24200" target="_top">Bug#24200</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">prepared_stmt_count</code> system variable has
        been converted to the <code class="literal">Prepared_stmt_count</code>
        global status variable (viewable with the <code class="literal">SHOW GLOBAL
        STATUS</code> statement).
       (<a href="http://bugs.mysql.com/23159" target="_top">Bug#23159</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting the configuration parameter
        <code class="literal">LockPagesInMainMemory</code> had no effect.
       (<a href="http://bugs.mysql.com/24461" target="_top">Bug#24461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to create a unique hashed index on a column
        that is not defined as <code class="literal">NOT NULL</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change applies only to tables using the
          <code class="literal">NDB</code> storage engine.
        </p></div><p>
        Unique indexes on columns in <code class="literal">NDB</code> tables do
        not store null values because they are mapped to primary keys in
        an internal index table (and primary keys cannot contain nulls).
      </p><p>
        Normally, an additional ordered index is created when one
        creates unique indexes on <code class="literal">NDB</code> table columns;
        this can be used to search for <code class="literal">NULL</code> values.
        However, if <code class="literal">USING HASH</code> is specified when such
        an index is created, no ordered index is created.
      </p><p>
        The reason for permitting unique hash indexes with null values
        is that, in some cases, the user wants to save space if a large
        number of records are pre-allocated but not fully initialized.
        This also assumes that the user will <span class="emphasis"><em>not</em></span>
        try to search for null values. Since MySQL does not support
        indexes that are not allowed to be searched in some cases, the
        <code class="literal">NDB</code> storage engine uses a full table scan
        with pushed conditions for the referenced index columns to
        return the correct result.
      </p><p>
        A warning is returned if one creates a unique nullable hash
        index, since the query optimizer should be provided a hint not
        to use it with <code class="literal">NULL</code> values if this can be
        avoided.
       (<a href="http://bugs.mysql.com/21507" target="_top">Bug#21507</a>)</p></li><li><p>
        <code class="literal">DROP TRIGGER</code> now supports an <code class="literal">IF
        EXISTS</code> clause.
       (<a href="http://bugs.mysql.com/23703" target="_top">Bug#23703</a>)</p></li><li><p>
        The <code class="literal">Com_create_user</code> status variable was added
        (for counting <code class="literal">CREATE USER</code> statements).
       (<a href="http://bugs.mysql.com/22958" target="_top">Bug#22958</a>)</p></li><li><p>
        The <code class="option">--memlock</code> option relies on system calls
        that are unreliable on some operating systems. If a crash
        occurs, the server now checks whether <code class="option">--memlock</code>
        was specified and if so issues some information about possible
        workarounds.
       (<a href="http://bugs.mysql.com/22860" target="_top">Bug#22860</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> now accepts the
        <code class="option">--debug-info</code> option, which displays debugging
        information and memory and CPU usage statistics at program exit.
      </p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.5.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node failure during a schema operation
        could lead to additional node failures.
       (<a href="http://bugs.mysql.com/24752" target="_top">Bug#24752</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A committed read could be attempted before a data node had time
        to connect, causing a timeout error.
       (<a href="http://bugs.mysql.com/24717" target="_top">Bug#24717</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Sudden disconnection of an SQL or data node could lead to
        shutdown of data nodes with the error <span class="errortext">failed
        ndbrequire</span>.
       (<a href="http://bugs.mysql.com/24447" target="_top">Bug#24447</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_config</strong></span> failed when trying to use 2
        management servers and node IDs.
       (<a href="http://bugs.mysql.com/23887" target="_top">Bug#23887</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If the value set for <code class="literal">MaxNoOfAttributes</code> is
        excessive, a suitable error message is now returned.
       (<a href="http://bugs.mysql.com/19352" target="_top">Bug#19352</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A unique constraint violation was not ignored by an
        <code class="literal">UPDATE IGNORE</code> statement when the constraint
        violation occurred on a non-primary key.
       (<a href="http://bugs.mysql.com/18487" target="_top">Bug#18487</a>, <a href="http://bugs.mysql.com/24303" target="_top">Bug#24303</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Using <code class="literal">BIT</code> values with any of the comparison
        methods of the <code class="literal">NdbScanFilter</code> class caused
        data nodes to fail.
       (<a href="http://bugs.mysql.com/24503" target="_top">Bug#24503</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Some MGM API function calls could yield incorrect return values
        in certain cases where the cluster was operating under a very
        high load, or experienced timeouts in inter-node communications.
       (<a href="http://bugs.mysql.com/24011" target="_top">Bug#24011</a>)</p></li><li><p>
        The <a href="functions.html#function_repeat"><code class="literal">REPEAT()</code></a> function could
        return <code class="literal">NULL</code> when passed a column for the
        count argument.
       (<a href="http://bugs.mysql.com/24947" target="_top">Bug#24947</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> failed if the
        <code class="literal">--password</code> (or <code class="option">-p</code>) option
        was given.
       (<a href="http://bugs.mysql.com/24896" target="_top">Bug#24896</a>)</p></li><li><p>
        With <code class="literal">innodb_file_per_table</code> enabled,
        <code class="literal">InnoDB</code> displayed incorrect file times in the
        output from <code class="literal">SHOW TABLE STATUS</code>.
       (<a href="http://bugs.mysql.com/24712" target="_top">Bug#24712</a>)</p></li><li><p>
        <code class="literal">ALTER ENABLE KEYS</code> or <code class="literal">ALTER TABLE
        DISABLE KEYS</code> combined with another <code class="literal">ALTER
        TABLE</code> option other than <code class="literal">RENAME TO</code>
        did nothing. In addition, if ALTER TABLE was used on a table
        having disabled keys, the keys of the resulting table were
        enabled.
       (<a href="http://bugs.mysql.com/24395" target="_top">Bug#24395</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code> mutex structure was simplified to
        reduce memory load.
       (<a href="http://bugs.mysql.com/24386" target="_top">Bug#24386</a>)</p></li><li><p>
        The <code class="option">--extern</code> option for
        <span><strong class="command">mysql-test-run.pl</strong></span> did not function correctly.
       (<a href="http://bugs.mysql.com/24354" target="_top">Bug#24354</a>)</p></li><li><p>
        Foreign key identifiers for <code class="literal">InnoDB</code> tables
        could not contain certain characters.
       (<a href="http://bugs.mysql.com/24299" target="_top">Bug#24299</a>)</p></li><li><p>
        The <span><strong class="command">mysql.server</strong></span> script used the
        <span><strong class="command">source</strong></span> command, which is less portable than
        the <span><strong class="command">.</strong></span> command; it now uses
        <span><strong class="command">.</strong></span> instead.
       (<a href="http://bugs.mysql.com/24294" target="_top">Bug#24294</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE</code> statements that performed both
        <code class="literal">RENAME TO</code> and <code class="literal">{ENABLE|DISABLE}
        KEYS</code> operations caused a server crash.
       (<a href="http://bugs.mysql.com/24219" target="_top">Bug#24219</a>)</p></li><li><p>
        The loose index scan optimization for <code class="literal">GROUP
        BY</code> with <code class="literal">MIN</code> or
        <code class="literal">MAX</code> was not applied within other queries,
        such as <code class="literal">CREATE TABLE ... SELECT ...</code>,
        <code class="literal">INSERT ... SELECT ...</code>, or in the
        <code class="literal">FROM</code> clauses of subqueries.
       (<a href="http://bugs.mysql.com/24156" target="_top">Bug#24156</a>)</p></li><li><p>
        Subqueries for which a pushed-down condition did not produce
        exactly one key field could cause a server crash.
       (<a href="http://bugs.mysql.com/24056" target="_top">Bug#24056</a>)</p></li><li><p>
        The size of <code class="literal">MEMORY</code> tables and internal
        temporary tables was limited to 4GB on 64-bit Windows systems.
       (<a href="http://bugs.mysql.com/24052" target="_top">Bug#24052</a>)</p></li><li><p>
        <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> did not work
        properly as an argument to a stored procedure.
       (<a href="http://bugs.mysql.com/23760" target="_top">Bug#23760</a>)</p></li><li><p>
        <a href="functions.html#function_last-day"><code class="literal">LAST_DAY('0000-00-00')</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/23653" target="_top">Bug#23653</a>)</p></li><li><p>
        A trigger that invoked a stored function could cause a server
        crash when activated by different client connections.
       (<a href="http://bugs.mysql.com/23651" target="_top">Bug#23651</a>)</p></li><li><p>
        The stack size for NetWare binaries was increased to 128KB to
        prevent problems caused by insufficient stack size.
       (<a href="http://bugs.mysql.com/23504" target="_top">Bug#23504</a>)</p></li><li><p>
        If elements in a non-top-level <code class="literal">IN</code> subquery
        were accessed by an index and the subquery result set included a
        <code class="literal">NULL</code> value, the quantified predicate that
        contained the subquery was evaluated to <code class="literal">NULL</code>
        when it should return a non-<code class="literal">NULL</code> value.
       (<a href="http://bugs.mysql.com/23478" target="_top">Bug#23478</a>)</p></li><li><p>
        When applying the <code class="literal">group_concat_max_len</code> limit,
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could truncate
        multi-byte characters in the middle.
       (<a href="http://bugs.mysql.com/23451" target="_top">Bug#23451</a>)</p></li><li><p>
        <a href="apis.html#mysql-affected-rows" title="23.2.3.1. mysql_affected_rows()"><code class="literal">mysql_affected_rows()</code></a> could
        return values different from
        <a href="apis.html#mysql-stmt-affected-rows" title="23.2.7.1. mysql_stmt_affected_rows()"><code class="literal">mysql_stmt_affected_rows()</code></a> for
        the same sequence of statements.
       (<a href="http://bugs.mysql.com/23383" target="_top">Bug#23383</a>)</p></li><li><p>
        Accuracy was improved for comparisons between
        <code class="literal">DECIMAL</code> columns and numbers represented as
        strings.
       (<a href="http://bugs.mysql.com/23260" target="_top">Bug#23260</a>)</p></li><li><p>
        Calculation of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a>,
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>, or
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> when they are
        referenced more than once in a single query with <code class="literal">GROUP
        BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/23184" target="_top">Bug#23184</a>)</p></li><li><p>
        Changes to character set variables prior to an action on a
        replication-ignored table were forgotten by slave servers.
       (<a href="http://bugs.mysql.com/22877" target="_top">Bug#22877</a>)</p></li><li><p>
        Queries using a column alias in an expression as part of an
        <code class="literal">ORDER BY</code> clause failed, an example of such a
        query being <code class="literal">SELECT mycol + 1 AS mynum FROM mytable
        ORDER BY 30 - mynum</code>.
       (<a href="http://bugs.mysql.com/22457" target="_top">Bug#22457</a>)</p></li><li><p>
        Using <code class="literal">EXPLAIN</code> caused a server crash for
        queries that selected from <code class="literal">INFORMATION_SCHEMA</code>
        in a subquery in the <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/22413" target="_top">Bug#22413</a>)</p></li><li><p>
        A server crash occurred when using <code class="literal">LOAD DATA</code>
        to load a table containing a <code class="literal">NOT NULL</code> spatial
        column, when the statement did not load the spatial column. Now
        a <code class="literal">NULL supplied to NOT NULL column</code> error
        occurs.
       (<a href="http://bugs.mysql.com/22372" target="_top">Bug#22372</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> requires complete
        dates with no “<span class="quote">zero</span>” parts, but sometimes did not
        return <code class="literal">NULL</code> when given such a date.
       (<a href="http://bugs.mysql.com/22229" target="_top">Bug#22229</a>)</p></li><li><p>
        Some small double precision numbers (such as
        <code class="literal">1.00000001e-300</code>) that should have been
        accepted were truncated to zero.
       (<a href="http://bugs.mysql.com/22129" target="_top">Bug#22129</a>)</p></li><li><p>
        For a nonexistent table, <code class="literal">DROP TEMPORARY TABLE</code>
        failed with an incorrect error message if
        <code class="literal">read_only</code> was enabled.
       (<a href="http://bugs.mysql.com/22077" target="_top">Bug#22077</a>)</p></li><li><p>
        Trailing spaces were not removed from Unicode
        <code class="literal">CHAR</code> column values when used in indexes. This
        resulted in excessive usage of storage space, and could affect
        the results of some <code class="literal">ORDER BY</code> queries that
        made use of such indexes.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          When upgrading, it is necessary to re-create any existing
          indexes on Unicode <code class="literal">CHAR</code> columns in order to
          take advantage of the fix. This can be done by using a
          <code class="literal">REPAIR TABLE</code> statement on each affected
          table.
        </p></div><p>(<a href="http://bugs.mysql.com/22052" target="_top">Bug#22052</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> returned
        <code class="literal">NULL</code> if the format string contained a space
        following a non-format character.
       (<a href="http://bugs.mysql.com/22029" target="_top">Bug#22029</a>)</p></li><li><p>
        In some cases, the parser failed to distinguish a user-defined
        function from a stored function.
       (<a href="http://bugs.mysql.com/21809" target="_top">Bug#21809</a>)</p></li><li><p>
        Inserting a default or invalid value into a spatial column could
        fail with <code class="literal">Unknown error</code> rather than a more
        appropriate error.
       (<a href="http://bugs.mysql.com/21790" target="_top">Bug#21790</a>)</p></li><li><p>
        It was possible to use <code class="literal">DATETIME</code> values whose
        year, month, and day parts were all zeroes but whose hour,
        minute, and second parts contained nonzero values, an example of
        such an illegal <code class="literal">DATETIME</code> being
        <code class="literal">'0000-00-00 11:23:45'</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/21789" target="_top">Bug#21789</a>)</p><p>See also <a href="http://bugs.mysql.com/25301" target="_top">Bug#25301</a></p></li><li><p>
        yaSSL crashed on pre-Pentium Intel CPUs.
       (<a href="http://bugs.mysql.com/21765" target="_top">Bug#21765</a>)</p></li><li><p>
        Evaluation of subqueries that require the filesort algorithm
        were allocating and freeing the
        <code class="literal">sort_buffer_size</code> buffer many times, resulting
        in slow performance. Now the buffer is allocated once and
        reused.
       (<a href="http://bugs.mysql.com/21727" target="_top">Bug#21727</a>)</p></li><li><p>
        Through the C API, the member strings in
        <code class="literal">MYSQL_FIELD</code> for a query that contains
        expressions may return incorrect results.
       (<a href="http://bugs.mysql.com/21635" target="_top">Bug#21635</a>)</p></li><li><p>
        Using <code class="literal">FLUSH TABLES</code> in one connection while
        another connection is using <code class="literal">HANDLER</code>
        statements caused a server crash.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.48
        </p></div><p>(<a href="http://bugs.mysql.com/21587" target="_top">Bug#21587</a>)</p><p>See also <a href="http://bugs.mysql.com/29474" target="_top">Bug#29474</a></p></li><li><p>
        View columns were always handled as having implicit derivation,
        leading to <code class="literal">illegal mix of collation errors</code>
        for some views in <code class="literal">UNION</code> operations. Now view
        column derivation comes from the original expression given in
        the view definition.
       (<a href="http://bugs.mysql.com/21505" target="_top">Bug#21505</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> crashed while performing XA recovery
        of prepared transactions.
       (<a href="http://bugs.mysql.com/21468" target="_top">Bug#21468</a>)</p></li><li><p>
        <a href="functions.html#function_inet-aton"><code class="literal">INET_ATON()</code></a> returned a signed
        <code class="literal">BIGINT</code> value, not an unsigned value.
       (<a href="http://bugs.mysql.com/21466" target="_top">Bug#21466</a>)</p></li><li><p>
        It was possible to set the backslash character (“<span class="quote">
        <code class="literal">\</code> </span>”) as the delimiter character using
        <code class="literal">DELIMITER</code>, but not actually possible to use
        it as the delimiter.
       (<a href="http://bugs.mysql.com/21412" target="_top">Bug#21412</a>)</p></li><li><p>
        Selecting into variables sometimes returned incorrect wrong
        results.
       (<a href="http://bugs.mysql.com/20836" target="_top">Bug#20836</a>)</p></li><li><p>
        On slave servers, transactions that exceeded the lock wait
        timeout failed to roll back properly.
       (<a href="http://bugs.mysql.com/20697" target="_top">Bug#20697</a>)</p></li><li><p>
        <code class="literal">CONCURRENT</code> did not work correctly for
        <code class="literal">LOAD DATA INFILE</code>.
       (<a href="http://bugs.mysql.com/20637" target="_top">Bug#20637</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> altered the
        <code class="literal">table_privs.table_priv</code> column to contain too
        few privileges, causing loss of the <code class="literal">CREATE
        VIEW</code> and <code class="literal">SHOW VIEW</code> privileges.
       (<a href="http://bugs.mysql.com/20589" target="_top">Bug#20589</a>)</p></li><li><p>
        With <code class="literal">lower_case_table_names</code> set to 1,
        <code class="literal">SHOW CREATE TABLE</code> printed incorrect output
        for table names containing Turkish I (LATIN CAPITAL LETTER I
        WITH DOT ABOVE).
       (<a href="http://bugs.mysql.com/20404" target="_top">Bug#20404</a>)</p></li><li><p>
        A query with a subquery that references columns of a view from
        the outer <code class="literal">SELECT</code> could return an incorrect
        result if used from a prepared statement.
       (<a href="http://bugs.mysql.com/20327" target="_top">Bug#20327</a>)</p></li><li><p>
        For queries that select from a view, the server was returning
        <code class="literal">MYSQL_FIELD</code> metadata inconsistently for view
        names and table names. For view columns, the server now returns
        the view name in the <code class="literal">table</code> field and, if the
        column selects from an underlying table, the table name in the
        <code class="literal">org_table</code> field.
       (<a href="http://bugs.mysql.com/20191" target="_top">Bug#20191</a>)</p></li><li><p>
        Invalidating the query cache caused a server crash for
        <code class="literal">INSERT INTO ... SELECT</code> statements that
        selected from a view.
       (<a href="http://bugs.mysql.com/20045" target="_top">Bug#20045</a>)</p></li><li><p>
        Unsigned <code class="literal">BIGINT</code> values treated as signed
        values by the <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function.
       (<a href="http://bugs.mysql.com/19955" target="_top">Bug#19955</a>)</p></li><li><p>
        Compiling PHP 5.1 with the MySQL static libraries failed on some
        versions of Linux.
       (<a href="http://bugs.mysql.com/19817" target="_top">Bug#19817</a>)</p></li><li><p>
        The <code class="literal">DELIMITER</code> statement did not work
        correctly when used in an SQL file run using the
        <code class="literal">SOURCE</code> statement.
       (<a href="http://bugs.mysql.com/19799" target="_top">Bug#19799</a>)</p></li><li><p>
        For a cast of a <code class="literal">DATETIME</code> value containing
        microseconds to <code class="literal">DECIMAL</code>, the microseconds
        part was truncated without generating a warning. Now the
        microseconds part is preserved.
       (<a href="http://bugs.mysql.com/19491" target="_top">Bug#19491</a>)</p></li><li><p>
        SQL statements close to the size of
        <code class="literal">max_allowed_packet</code> could produce binary log
        events larger than <code class="literal">max_allowed_packet</code> that
        could not be read by slave servers.
       (<a href="http://bugs.mysql.com/19402" target="_top">Bug#19402</a>)</p></li><li><p>
        <code class="literal">VARBINARY</code> column values inserted on a MySQL
        4.1 server had trailing zeroes following upgrade to MySQL 5.0 or
        later.
       (<a href="http://bugs.mysql.com/19371" target="_top">Bug#19371</a>)</p></li><li><p>
        The server could send incorrect column count information to the
        client for queries that produce a larger number of columns than
        can fit in a two-byte number.
       (<a href="http://bugs.mysql.com/19216" target="_top">Bug#19216</a>)</p></li><li><p>
        For some problems relating to character set conversion or
        incorrect string values for <code class="literal">INSERT</code> or
        <code class="literal">UPDATE</code>, the server was reporting truncation
        or length errors instead.
       (<a href="http://bugs.mysql.com/18908" target="_top">Bug#18908</a>)</p></li><li><p>
        Constant expressions and some numeric constants used as input
        parameters to user-defined functions were not treated as
        constants.
       (<a href="http://bugs.mysql.com/18761" target="_top">Bug#18761</a>)</p></li><li><p>
        <span><strong class="command">myisampack</strong></span> wrote to unallocated memory,
        causing a crash.
       (<a href="http://bugs.mysql.com/17951" target="_top">Bug#17951</a>)</p></li><li><p>
        <code class="literal">FLUSH LOGS</code> or <span><strong class="command">mysqladmin
        flush-logs</strong></span> caused a server crash if the binary log was
        not open.
       (<a href="http://bugs.mysql.com/17733" target="_top">Bug#17733</a>)</p></li><li><p>
        <span><strong class="command">mysql_fix_privilege_tables</strong></span> did not handle a
        password containing embedded space or apostrophe characters.
       (<a href="http://bugs.mysql.com/17700" target="_top">Bug#17700</a>)</p></li><li><p>
        Attempting to use a view containing <code class="literal">DEFINER</code>
        information for a non-existent user resulted in an error message
        that revealed the definer account. Now the definer is revealed
        only to superusers. Other users receive only an <code class="literal">access
        denied</code> message.
       (<a href="http://bugs.mysql.com/17254" target="_top">Bug#17254</a>)</p></li><li><p>
        <a href="functions.html#function_in"><code class="literal">IN()</code></a> and
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> can return
        <code class="literal">NULL</code>, but did not signal that to the query
        processor, causing incorrect results for
        <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a>
        operations.
       (<a href="http://bugs.mysql.com/17047" target="_top">Bug#17047</a>)</p></li><li><p>
        Slave servers would retry the execution of a SQL statement an
        infinite number of times, ignoring the value
        <code class="literal">SLAVE_TRANSACTION_RETRIES</code> when using the NDB
        engine.
       (<a href="http://bugs.mysql.com/16228" target="_top">Bug#16228</a>)</p></li><li><p>
        Warnings were generated when explicitly casting a character to a
        number (for example, <a href="functions.html#function_cast"><code class="literal">CAST('x' AS
        SIGNED)</code></a>), but not for implicit conversions in simple
        arithmetic operations (such as <code class="literal">'x' + 0</code>). Now
        warnings are generated in all cases.
       (<a href="http://bugs.mysql.com/11927" target="_top">Bug#11927</a>)</p></li><li><p>
        Metadata for columns calculated from scalar subqueries was
        limited to integer, double, or string, even if the actual type
        of the column was different.
       (<a href="http://bugs.mysql.com/11032" target="_top">Bug#11032</a>)</p></li><li><p>
        Subqueries of the form <code class="literal">NULL IN (SELECT ...)</code>
        returned invalid results.
       (<a href="http://bugs.mysql.com/8804" target="_top">Bug#8804</a>, <a href="http://bugs.mysql.com/23485" target="_top">Bug#23485</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-30sp1"></a>C.1.21. Release Notes for  MySQL Enterprise 5.0.30sp1 [QSP] (19 January 2007)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Service Pack</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.30).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">InnoDB</code> rolls back only the last statement on
        a transaction timeout. A new option,
        <code class="option">--innodb_rollback_on_timeout</code>, causes
        <code class="literal">InnoDB</code> to abort and roll back the entire
        transaction if a transaction timeout occurs (the same behavior
        as in MySQL 5.0.13 and earlier).
       (<a href="http://bugs.mysql.com/24200" target="_top">Bug#24200</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The loose index scan optimization for <code class="literal">GROUP
        BY</code> with <code class="literal">MIN</code> or
        <code class="literal">MAX</code> was not applied within other queries,
        such as <code class="literal">CREATE TABLE ... SELECT ...</code>,
        <code class="literal">INSERT ... SELECT ...</code>, or in the
        <code class="literal">FROM</code> clauses of subqueries.
       (<a href="http://bugs.mysql.com/24156" target="_top">Bug#24156</a>)</p></li><li><p>
        The size of <code class="literal">MEMORY</code> tables and internal
        temporary tables was limited to 4GB on 64-bit Windows systems.
       (<a href="http://bugs.mysql.com/24052" target="_top">Bug#24052</a>)</p></li><li><p>
        A stored procedure, executed from a connection using a binary
        character set, and which wrote multibyte data, would write
        incorrectly escaped entries to the binary log. This caused
        syntax errors, and caused replication to fail.
       (<a href="http://bugs.mysql.com/23619" target="_top">Bug#23619</a>, <a href="http://bugs.mysql.com/24492" target="_top">Bug#24492</a>)</p></li><li><p>
        Accuracy was improved for comparisons between
        <code class="literal">DECIMAL</code> columns and numbers represented as
        strings.
       (<a href="http://bugs.mysql.com/23260" target="_top">Bug#23260</a>)</p></li><li><p>
        Calculation of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a>,
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>, or
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> when they are
        referenced more than once in a single query with <code class="literal">GROUP
        BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/23184" target="_top">Bug#23184</a>)</p></li><li><p>
        Evaluation of subqueries that require the filesort algorithm
        were allocating and freeing the
        <code class="literal">sort_buffer_size</code> buffer many times, resulting
        in slow performance. Now the buffer is allocated once and
        reused.
       (<a href="http://bugs.mysql.com/21727" target="_top">Bug#21727</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> crashed while performing XA recovery
        of prepared transactions.
       (<a href="http://bugs.mysql.com/21468" target="_top">Bug#21468</a>)</p></li><li><p>
        Certain malformed <code class="literal">INSERT</code> statements could
        crash the <span><strong class="command">mysql</strong></span> client.
       (<a href="http://bugs.mysql.com/21142" target="_top">Bug#21142</a>)</p></li><li><p>
        <code class="literal">CONCURRENT</code> did not work correctly for
        <code class="literal">LOAD DATA INFILE</code>.
       (<a href="http://bugs.mysql.com/20637" target="_top">Bug#20637</a>)</p></li><li><p>
        Several string functions could return incorrect results when
        given very large length arguments.
       (<a href="http://bugs.mysql.com/10963" target="_top">Bug#10963</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-30"></a>C.1.22. Release Notes for  MySQL Enterprise 5.0.30 [MRU] (14 November 2006)</h3></div></div></div><p class="releaselevel">This is a <span class="emphasis"><em>Monthly Rapid Update</em></span> release of the MySQL Enterprise Server 5.0.</p><p>
      This section documents all changes and bug fixes that have been
      applied since the last MySQL Enterprise Server release (5.0.28).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility now accepts
        <code class="option">-c</code> as a short form of the
        <code class="option">--ndb-connectstring</code> option.
       (<a href="http://bugs.mysql.com/22295" target="_top">Bug#22295</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added the --bind-address option for <span><strong class="command">ndbd</strong></span>.
        This allows a data node process to be bound to a specific
        network interface.
       (<a href="http://bugs.mysql.com/22195" target="_top">Bug#22195</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine could leak memory
        during file operations.
       (<a href="http://bugs.mysql.com/21858" target="_top">Bug#21858</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">Ndb_number_of_storage_nodes</code> system
        variable was renamed to
        <code class="literal">Ndb_number_of_data_nodes</code>.
       (<a href="http://bugs.mysql.com/20848" target="_top">Bug#20848</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">HELP</code> command in the Cluster management
        client now provides command-specific help. For example,
        <code class="literal">HELP RESTART</code> in <span><strong class="command">ndb_mgm</strong></span>
        provides detailed information about the
        <code class="literal">RESTART</code> command.
       (<a href="http://bugs.mysql.com/19620" target="_top">Bug#19620</a>)</p></li><li><p>
        If the user specified the server options
        <code class="option">--max-connections=<em class="replaceable"><code>N</code></em> </code>
        or <code class="option">--table-open-cache=<em class="replaceable"><code>M</code></em>
        </code>, a warning would be given in some cases that some
        values were recalculated, with the result that
        <code class="option">--table-open-cache</code> could be assigned greater
        value.
      </p><p>
        It should be noted that, in such cases, both the warning and the
        increase in the <code class="option">--table-open-cache</code> value were
        completely harmless. Note also that it is not possible for the
        MySQL Server to predict or to control limitations on the maximum
        number of open files, since this is determined by the operating
        system.
      </p><p>
        The recalculation code has now been fixed to ensure that the
        value of <code class="option">--table-open-cache</code> is no longer
        increased automatically, and that a warning is now given only if
        some values had to be decreased due to operating system limits.
       (<a href="http://bugs.mysql.com/21915" target="_top">Bug#21915</a>)</p></li><li><p>
        For the <code class="literal">CALL</code> statement, stored procedures
        that take no arguments now can be invoked without parentheses.
        That is, <code class="literal">CALL p()</code> and <code class="literal">CALL
        p</code> are equivalent.
       (<a href="http://bugs.mysql.com/21462" target="_top">Bug#21462</a>)</p></li><li><p>
        <code class="literal">mysql_upgrade</code> now passes all the parameters
        specified on the command line to both
        <code class="literal">mysqlcheck</code> and <code class="literal">mysql</code> using
        the <code class="filename">upgrade_defaults</code> file.
       (<a href="http://bugs.mysql.com/20100" target="_top">Bug#20100</a>)</p></li><li><p>
        <code class="literal">SHOW STATUS</code> is no longer logged to the slow
        query log.
       (<a href="http://bugs.mysql.com/19764" target="_top">Bug#19764</a>)</p></li><li><p>
        <span><strong class="command">mysqldump --single-transaction</strong></span> now uses
        <code class="literal">START TRANSACTION /*!40100 WITH CONSISTENT SNAPSHOT
        */</code> rather than <code class="literal">BEGIN</code> to start a
        transaction, so that a consistent snapshot will be used on those
        servers that support it.
       (<a href="http://bugs.mysql.com/19660" target="_top">Bug#19660</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Backup of a cluster failed if there were any tables with 128 or
        more columns.
       (<a href="http://bugs.mysql.com/23502" target="_top">Bug#23502</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster backups failed when there were more than 2048 schema
        objects in the cluster.
       (<a href="http://bugs.mysql.com/23499" target="_top">Bug#23499</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client command <code class="literal">ALL DUMP 1000</code>
        would cause the cluster to crash if data nodes were connected to
        the cluster but not yret fully started.
       (<a href="http://bugs.mysql.com/23203" target="_top">Bug#23203</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> on an
        <code class="literal">NDB</code> table could lead to deadlocks and memory
        leaks.
       (<a href="http://bugs.mysql.com/23200" target="_top">Bug#23200</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Inacivity timeouts for scans were not correctly
        handled.
       (<a href="http://bugs.mysql.com/23107" target="_top">Bug#23107</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If a node restart could not be performed from the REDO log, no
        node takeover took place. This could cause partitions to be left
        empty during a system restart.
       (<a href="http://bugs.mysql.com/22893" target="_top">Bug#22893</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Multiple node restarts in rapid succession could cause a system
        restart to fail , or induce a race condition.
       (<a href="http://bugs.mysql.com/22892" target="_top">Bug#22892</a>, <a href="http://bugs.mysql.com/23210" target="_top">Bug#23210</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Attempting to read a nonexistent tuple using
        <code class="literal">Commit</code> mode for
        <code class="literal">NdbTransaction::execute()</code> caused node
        failures.
       (<a href="http://bugs.mysql.com/22672" target="_top">Bug#22672</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="option">--help</code> output from <code class="literal">NDB</code>
        binaries did not include file-related options.
       (<a href="http://bugs.mysql.com/21994" target="_top">Bug#21994</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDB API): Scans closed before being executed were still placed
        in the send queue.
       (<a href="http://bugs.mysql.com/21941" target="_top">Bug#21941</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A scan timeout returned Error 4028 (<span class="errortext">Node failure
        caused abort of transaction</span>) instead of Error 4008
        (<span class="errortext">Node failure caused abort of
        transaction...</span>).
       (<a href="http://bugs.mysql.com/21799" target="_top">Bug#21799</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The node recovery algorithm was missing a version check for
        tables in the <code class="literal">ALTER_TABLE_COMMITTED</code> state (as
        opposed to the <code class="literal">TABLE_ADD_COMMITTED</code> state,
        which has the version check). This could cause inconsistent
        schemas across nodes following node recovery.
       (<a href="http://bugs.mysql.com/21756" target="_top">Bug#21756</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Partition distribution keys were updated only for the primary
        and starting replicas during node recovery. This could lead to
        node failure recovery for clusters having an odd number of
        replicas.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          We recommend values for <code class="literal">NumberOfReplicas</code>
          that are even powers of 2, for best results.
        </p></div><p>(<a href="http://bugs.mysql.com/21535" target="_top">Bug#21535</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> management client did not set the
        exit status on errors, always returning 0 instead.
       (<a href="http://bugs.mysql.com/21530" target="_top">Bug#21530</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to create an <code class="literal">NDB</code> table on a MySQL
        with an existing non-Cluster table with the same name in the
        same database could result in data loss or corruption. MySQL now
        issues a warning when a <code class="literal">SHOW TABLES</code> or other
        statement causing table discovery finds such a table.
       (<a href="http://bugs.mysql.com/21378" target="_top">Bug#21378</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster logs were not rotated following the first rotation
        cycle.
       (<a href="http://bugs.mysql.com/21345" target="_top">Bug#21345</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When inserting a row into an <code class="literal">NDB</code> table with a
        duplicate value for a non-primary unique key, the error issued
        would reference the wrong key.
       (<a href="http://bugs.mysql.com/21072" target="_top">Bug#21072</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Condition pushdown did not work correctly with
        <code class="literal">DATETIME</code> columns.
       (<a href="http://bugs.mysql.com/21056" target="_top">Bug#21056</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, local checkpointing would hang,
        keeping any unstarted nodes from being started.
       (<a href="http://bugs.mysql.com/20895" target="_top">Bug#20895</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using an invalid node ID with the management client
        <code class="literal">STOP</code> command could cause
        <span><strong class="command">ndb_mgm</strong></span> to hang.
       (<a href="http://bugs.mysql.com/20575" target="_top">Bug#20575</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data nodes added while the cluster was running in single user
        mode were all assigned node ID 0, which could later cause
        multiple node failures. Adding nodes while in single user mode
        is no longer possible.
       (<a href="http://bugs.mysql.com/20395" target="_top">Bug#20395</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases where <code class="literal">SELECT COUNT(*)</code> from an
        <code class="literal">NDB</code> table should have yielded an error,
        <code class="literal">MAX_INT</code> was returned instead.
       (<a href="http://bugs.mysql.com/19914" target="_top">Bug#19914</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following the restart of a management node, the Cluster
        management client did not automatically reconnect.
       (<a href="http://bugs.mysql.com/19873" target="_top">Bug#19873</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Error messages given when trying to make online changes
        parameters such as <code class="literal">NoOfReplicas</code> thast can
        only be changed via a complete shutdown and restart of the
        cluster did not indicate the true nature of the problem.
       (<a href="http://bugs.mysql.com/19787" target="_top">Bug#19787</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_restore</strong></span> did not always make clear that it
        had recovered successfully from temporary errors while restoring
        a cluster backup.
       (<a href="http://bugs.mysql.com/19651" target="_top">Bug#19651</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In rare situations with resource shortages, a crash could result
        from insufficient <code class="literal">IndexScanOperations</code>.
       (<a href="http://bugs.mysql.com/19198" target="_top">Bug#19198</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -e show | head</strong></span> would hang after
        displaying the first 10 lines of output.
       (<a href="http://bugs.mysql.com/19047" target="_top">Bug#19047</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The error returned by the cluster when too many nodes were
        defined did not make clear the nature of the problem.
       (<a href="http://bugs.mysql.com/19045" target="_top">Bug#19045</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_config</strong></span> utility did not perform host
        lookups correctly when using the <code class="option">--host</code> option
       (<a href="http://bugs.mysql.com/17582" target="_top">Bug#17582</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A problem with takeover during a system restart caused ordered
        indexes to be rebuilt incorrectly.
       (<a href="http://bugs.mysql.com/15303" target="_top">Bug#15303</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        The <code class="literal">NdbOperation::getBlobHandle()</code> method,
        when called with the name of a nonexistent column, caused a
        segmentation fault.
       (<a href="http://bugs.mysql.com/21036" target="_top">Bug#21036</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        When multiple processes or threads in parallel performed the
        same ordered scan with exclusive lock and updated the retrieved
        records, the scan could skip some records, which as a result
        were not updated.
       (<a href="http://bugs.mysql.com/20446" target="_top">Bug#20446</a>)</p></li><li><p>
        There was a race condition in the <code class="literal">InnoDB</code>
        <code class="literal">fil_flush_file_spaces()</code> function.
       (<a href="http://bugs.mysql.com/24089" target="_top">Bug#24089</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/15653" target="_top">Bug#15653</a></p></li><li><p>
        Some yaSSL-related memory leaks detected by Valgrind were fixed.
       (<a href="http://bugs.mysql.com/23981" target="_top">Bug#23981</a>)</p></li><li><p>
        The internal SQL interpreter of <code class="literal">InnoDB</code> placed
        an unnecessary lock on the supremum record when
        <code class="literal">innodb_locks_unsafe_for_binlog=1</code>. This caused
        an assertion failure when <code class="literal">InnoDB</code> was built
        with debugging enabled.
       (<a href="http://bugs.mysql.com/23769" target="_top">Bug#23769</a>)</p></li><li><p>
        <code class="literal"><em class="replaceable"><code>M</code></em> % 0</code> returns
        <code class="literal">NULL</code>, but (<code class="literal">
        <em class="replaceable"><code>M</code></em> % 0) IS NULL</code> evaluated to
        false.
       (<a href="http://bugs.mysql.com/23411" target="_top">Bug#23411</a>)</p></li><li><p>
        For not-yet-authenticated connections, the
        <code class="literal">Time</code> column in <code class="literal">SHOW
        PROCESSLIST</code> was a random value rather than
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23379" target="_top">Bug#23379</a>)</p></li><li><p>
        MySQL failed to build on Linux/Alpha.
       (<a href="http://bugs.mysql.com/23256" target="_top">Bug#23256</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21250" target="_top">Bug#21250</a></p></li><li><p>
        If <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> returned
        <code class="literal">NULL</code>, subsequent invocations of
        <a href="functions.html#function_compress"><code class="literal">COMPRESS()</code></a> within a result set
        or within a trigger also returned <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/23254" target="_top">Bug#23254</a>)</p></li><li><p>
        Insufficient memory (<code class="literal">myisam_sort_buffer_size</code>)
        could cause a server crash for several operations on
        <code class="literal">MyISAM</code> tables: repair table, create index by
        sort, repair by sort, parallel repair, bulk insert.
       (<a href="http://bugs.mysql.com/23175" target="_top">Bug#23175</a>)</p></li><li><p>
        The column default value in the output from <code class="literal">SHOW
        COLUMNS</code> or <code class="literal">SELECT FROM
        INFORMATION_SCHEMA.COLUMNS</code> was truncated to 64
        characters.
       (<a href="http://bugs.mysql.com/23037" target="_top">Bug#23037</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> did not check for errors when fetching
        data during result set printing.
       (<a href="http://bugs.mysql.com/22913" target="_top">Bug#22913</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> exhibited thread thrashing with more
        than 50 concurrent connections under an update-intensive
        workload.
       (<a href="http://bugs.mysql.com/22868" target="_top">Bug#22868</a>)</p></li><li><p>
        The return value from <code class="literal">my_seek()</code> was ignored.
       (<a href="http://bugs.mysql.com/22828" target="_top">Bug#22828</a>)</p></li><li><p>
        The optimizer failed to use equality propagation for
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> and
        <code class="literal">IN</code> predicates with string arguments.
       (<a href="http://bugs.mysql.com/22753" target="_top">Bug#22753</a>)</p></li><li><p>
        The <code class="literal">Handler_rollback</code> status variable
        sometimes was incremented when no rollback had taken place.
       (<a href="http://bugs.mysql.com/22728" target="_top">Bug#22728</a>)</p></li><li><p>
        The <code class="literal">Host</code> column in <code class="literal">SHOW
        PROCESSLIST</code> output was blank when the server was
        started with the <code class="option">--skip-grant-tables</code> option.
       (<a href="http://bugs.mysql.com/22723" target="_top">Bug#22723</a>)</p></li><li><p>
        If a table contains an <code class="literal">AUTO_INCREMENT</code> column,
        inserting into an insertable view on the table that does not
        include the <code class="literal">AUTO_INCREMENT</code> column should not
        change the value of
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>, because the
        side effects of inserting default values into columns not part
        of the view should not be visible. MySQL was incorrectly setting
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to zero.
       (<a href="http://bugs.mysql.com/22584" target="_top">Bug#22584</a>)</p></li><li><p>
        Instance Manager had a race condition involving <span><strong class="command">
        mysqld</strong></span> PID file removal.
       (<a href="http://bugs.mysql.com/22379" target="_top">Bug#22379</a>)</p></li><li><p>
        The optimizer used the <code class="literal">ref</code> join type rather
        than <code class="literal">eq_ref</code> for a simple join on strings.
       (<a href="http://bugs.mysql.com/22367" target="_top">Bug#22367</a>)</p></li><li><p>
        Some queries that used <a href="functions.html#function_max"><code class="literal">MAX()</code></a> and
        <code class="literal">GROUP BY</code> could incorrectly return an empty
        result.
       (<a href="http://bugs.mysql.com/22342" target="_top">Bug#22342</a>)</p></li><li><p>
        If an <code class="literal">init_connect</code> SQL statement produced an
        error, the connection was silently terminated with no error
        message. Now the server writes a warning to the error log.
       (<a href="http://bugs.mysql.com/22158" target="_top">Bug#22158</a>)</p></li><li><p>
        Use of a DES-encrypted SSL certificate file caused a server
        crash.
       (<a href="http://bugs.mysql.com/21868" target="_top">Bug#21868</a>)</p></li><li><p>
        Use of <code class="literal">PREPARE</code> with a <code class="literal">CREATE
        PROCEDURE</code> statement that contained a syntax error
        caused a server crash.
       (<a href="http://bugs.mysql.com/21856" target="_top">Bug#21856</a>)</p></li><li><p>
        Adding a day, month, or year interval to a
        <code class="literal">DATE</code> value produced a
        <code class="literal">DATE</code>, but adding a week interval produced a
        <code class="literal">DATETIME</code> value. Now all produce a
        <code class="literal">DATE</code> value.
       (<a href="http://bugs.mysql.com/21811" target="_top">Bug#21811</a>)</p></li><li><p>
        Use of a subquery that invoked a function in the column list of
        the outer query resulted in a memory leak.
       (<a href="http://bugs.mysql.com/21798" target="_top">Bug#21798</a>)</p></li><li><p>
        Selecting from a <code class="literal">MERGE</code> table could result in
        a server crash if the underlying tables had fewer indexes than
        the <code class="literal">MERGE</code> table itself.
       (<a href="http://bugs.mysql.com/21617" target="_top">Bug#21617</a>, <a href="http://bugs.mysql.com/22937" target="_top">Bug#22937</a>)</p></li><li><p>
        After <code class="literal">FLUSH TABLES WITH READ LOCK</code> followed by
        <code class="literal">UNLOCK TABLES</code>, attempts to drop or alter a
        stored routine failed with an error that the routine did not
        exist, and attempts to execute the routine failed with a lock
        conflict error.
       (<a href="http://bugs.mysql.com/21414" target="_top">Bug#21414</a>)</p></li><li><p>
        For multiple-table <code class="literal">UPDATE</code> statements, storage
        engines were not notified of duplicate-key errors.
       (<a href="http://bugs.mysql.com/21381" target="_top">Bug#21381</a>)</p></li><li><p>
        Within a prepared statement, <code class="literal">SELECT (COUNT(*) =
        1)</code> (or similar use of other aggregate functions) did
        not return the correct result for statement re-execution.
       (<a href="http://bugs.mysql.com/21354" target="_top">Bug#21354</a>)</p></li><li><p>
        It was possible for a stored routine with a
        non-<code class="literal">latin1</code> name to cause a stack overrun.
       (<a href="http://bugs.mysql.com/21311" target="_top">Bug#21311</a>)</p></li><li><p>
        Creating a <code class="literal">TEMPORARY</code> table with the same name
        as an existing table that was locked by another client could
        result in a lock conflict for <code class="literal">DROP TEMPORARY
        TABLE</code> because the server unnecessarily tried to
        acquire a name lock.
       (<a href="http://bugs.mysql.com/21096" target="_top">Bug#21096</a>)</p></li><li><p>
        Incorrect results could be obtained from re-execution of a
        parametrized prepared statement or a stored routine with a
        <code class="literal">SELECT</code> that uses <code class="literal">LEFT JOIN</code>
        with a second table having only one row.
       (<a href="http://bugs.mysql.com/21081" target="_top">Bug#21081</a>)</p></li><li><p>
        Within a stored routine, a view definition cannot refer to
        routine parameters or local variables. However, an error did not
        occur until the routine was called. Now it occurs during parsing
        of the routine creation statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          A side effect of this fix is that if you have already created
          such routines, and error will occur if you execute
          <code class="literal">SHOW CREATE PROCEDURE</code> or <code class="literal">SHOW
          CREATE FUNCTION</code>. You should drop these routines
          because they are erroneous.
        </p></div><p>(<a href="http://bugs.mysql.com/20953" target="_top">Bug#20953</a>)</p></li><li><p>
        In <span><strong class="command">mysql</strong></span>, invoking <code class="literal">connect</code>
        or <code class="literal">\r</code> with very long
        <em class="replaceable"><code>db_name</code></em> or
        <em class="replaceable"><code>host_name</code></em> parameters caused buffer
        overflow.
       (<a href="http://bugs.mysql.com/20894" target="_top">Bug#20894</a>)</p></li><li><p>
        <code class="literal">SHOW VARIABLES</code> truncated the
        <code class="literal">Value</code> field to 256 characters.
       (<a href="http://bugs.mysql.com/20862" target="_top">Bug#20862</a>)</p></li><li><p>
        <code class="literal">WITH ROLLUP</code> could group unequal values.
       (<a href="http://bugs.mysql.com/20825" target="_top">Bug#20825</a>)</p></li><li><p>
        Range searches on columns with an index prefix could miss
        records.
       (<a href="http://bugs.mysql.com/20732" target="_top">Bug#20732</a>)</p></li><li><p>
        An <code class="literal">UPDATE</code> that referred to a key column in
        the <code class="literal">WHERE</code> clause and activated a trigger that
        modified the column resulted in a loop.
       (<a href="http://bugs.mysql.com/20670" target="_top">Bug#20670</a>)</p></li><li><p>
        <code class="literal">LIKE</code> searches failed for indexed
        <code class="literal">utf8</code> character columns.
       (<a href="http://bugs.mysql.com/20471" target="_top">Bug#20471</a>)</p></li><li><p>
        With <code class="literal">SQL_MODE=TRADITIONAL</code>, MySQL incorrectly
        aborted on warnings within stored routines and triggers.
       (<a href="http://bugs.mysql.com/20028" target="_top">Bug#20028</a>)</p></li><li><p>
        <span><strong class="command">mysqldump --xml</strong></span> produced invalid XML for
        <code class="literal">BLOB</code> data.
       (<a href="http://bugs.mysql.com/19745" target="_top">Bug#19745</a>)</p></li><li><p>
        Column names were not quoted properly for replicated views.
       (<a href="http://bugs.mysql.com/19736" target="_top">Bug#19736</a>)</p></li><li><p>
        <code class="literal">FLUSH INSTANCES</code> in Instance Manager triggered
        an assertion failure.
       (<a href="http://bugs.mysql.com/19368" target="_top">Bug#19368</a>)</p></li><li><p>
        For a debug server, a reference to an undefined user variable in
        a prepared statment executed with <code class="literal">EXECUTE</code>
        caused an assertion failure.
       (<a href="http://bugs.mysql.com/19356" target="_top">Bug#19356</a>)</p></li><li><p>
        Within a trigger for a base table, selecting from a view on that
        base table failed.
       (<a href="http://bugs.mysql.com/19111" target="_top">Bug#19111</a>)</p></li><li><p>
        The value of the <code class="literal">warning_count</code> system
        variable was not being calculated correctly (also affecting
        <code class="literal">SHOW COUNT(*) WARNINGS</code>).
       (<a href="http://bugs.mysql.com/19024" target="_top">Bug#19024</a>)</p></li><li><p>
        <code class="literal">DELETE IGNORE</code> could hang for foreign key
        parent deletes.
       (<a href="http://bugs.mysql.com/18819" target="_top">Bug#18819</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> used table locks (not row locks)
        within stored functions.
       (<a href="http://bugs.mysql.com/18077" target="_top">Bug#18077</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> would lose its connection to the server
        if its standard output was not writable.
       (<a href="http://bugs.mysql.com/17583" target="_top">Bug#17583</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> did not work correctly for
        RPM-based installations.
       (<a href="http://bugs.mysql.com/17194" target="_top">Bug#17194</a>)</p></li><li><p>
        A client library crash was caused by executing a statement such
        as <code class="literal">SELECT * FROM t1 PROCEDURE ANALYSE()</code> using
        a server side cursor on a table <code class="literal">t1</code> that does
        not have the same number of columns as the output from
        <code class="literal">PROCEDURE ANALYSE()</code>.
       (<a href="http://bugs.mysql.com/17039" target="_top">Bug#17039</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> for a view failed to
        prevent storing invalid column values for
        <code class="literal">UPDATE</code> statements.
       (<a href="http://bugs.mysql.com/16813" target="_top">Bug#16813</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> showed substandard performance with
        multiple queries running concurrently.
       (<a href="http://bugs.mysql.com/15815" target="_top">Bug#15815</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE</code> was not able to rename a view.
       (<a href="http://bugs.mysql.com/14959" target="_top">Bug#14959</a>)</p></li><li><p>
        Statements such as <code class="literal">DROP PROCEDURE</code> and
        <code class="literal">DROP VIEW</code> were written to the binary log too
        late due to a race condition.
       (<a href="http://bugs.mysql.com/14262" target="_top">Bug#14262</a>)</p></li><li><p>
        A literal string in a <code class="literal">GROUP BY</code> clause could
        be interpreted as a column name.
       (<a href="http://bugs.mysql.com/14019" target="_top">Bug#14019</a>)</p></li><li><p>
        Instance Manager didn't close the client socket file when
        starting a new <span><strong class="command">mysqld</strong></span> instance.
        <span><strong class="command">mysqld</strong></span> inherited the socket, causing clients
        connected to Instance Manager to hang.
       (<a href="http://bugs.mysql.com/12751" target="_top">Bug#12751</a>)</p></li><li><p>
        Entries in the slow query log could have an incorrect
        <code class="literal">Rows_examined</code> value.
       (<a href="http://bugs.mysql.com/12240" target="_top">Bug#12240</a>)</p></li><li><p>
        Lack of validation for input and output <code class="literal">TIME</code>
        values resulted in several problems:
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> in some cases did
        not clip large values to the <code class="literal">TIME</code> range
        appropriately; <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a>
        treated <code class="literal">BIGINT UNSIGNED</code> values as signed;
        only truncation warnings were produced when both truncation and
        out-of-range <code class="literal">TIME</code> values occurred.
       (<a href="http://bugs.mysql.com/11655" target="_top">Bug#11655</a>, <a href="http://bugs.mysql.com/20927" target="_top">Bug#20927</a>)</p></li><li><p>
        A locking safety check in <code class="literal">InnoDB</code> reported a
        spurious error <span class="errortext">stored_select_lock_type is 0 inside
        ::start_stmt()</span> for <code class="literal">INSERT ...
        SELECT</code> statements in
        <code class="literal">innodb_locks_unsafe_for_binlog</code> mode. The
        safety check was removed.
       (<a href="http://bugs.mysql.com/10746" target="_top">Bug#10746</a>)</p></li><li><p>
        <a href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> did not accept
        arguments up to <a href="functions.html#function_power"><code class="literal">POWER(2,31)-1</code></a>,
        which it had previously.
       (<a href="http://bugs.mysql.com/9191" target="_top">Bug#9191</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE TABLE</code> with
        <code class="literal">myisam_repair_threads</code> &gt; 1 could result in
        <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/8283" target="_top">Bug#8283</a>)</p></li><li><p>
        Transient errors in replication from master to slave may trigger
        multiple <code class="literal">Got fatal error 1236: 'binlog truncated in the
        middle of event'</code> errors on the slave.
       (<a href="http://bugs.mysql.com/4053" target="_top">Bug#4053</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="releasenotes-es-5-0-28"></a>C.1.23. Release Notes for  MySQL Enterprise 5.0.28 (24 October 2006)</h3></div></div></div><p class="release-level">
      This is the first <span class="emphasis"><em>MySQL Enterprise Server</em></span>
      release, following the last Community Server release (5.0.27).
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Binary MySQL distributions no longer include a
        <span><strong class="command">mysqld-max</strong></span> server, except for RPM
        distributions. Instead, distributions contain a
        <span><strong class="command">mysqld</strong></span> binary that includes the features
        previously included in the <span><strong class="command">mysqld-max</strong></span> binary.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL 5.0.26 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.26 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/23427" target="_top">Bug#23427</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Reduced optimization level for
        Windows 64 builds to handle possible memory overrun.
       (<a href="http://bugs.mysql.com/19424" target="_top">Bug#19424</a>)</p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="releasenotes-cs.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix B. Errors, Error Codes, and Common Problems </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix D. MySQL Community Server Enhancements and Release Notes</td></tr></table></div></body></html>
