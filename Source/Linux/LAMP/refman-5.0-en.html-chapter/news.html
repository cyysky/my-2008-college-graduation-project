<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Appendix E. MySQL Change History</title><link rel="stylesheet" href="mysql-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="up" href="index.html" title="MySQL 5.0 Reference Manual"><link rel="prev" href="releasenotes-cs.html" title="Appendix D. MySQL Community Server Enhancements and Release Notes"><link rel="next" href="restrictions.html" title="Appendix F. Restrictions and Limits"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix E. MySQL Change History</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="releasenotes-cs.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr></table><hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="news"></a>Appendix E. MySQL Change History</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="news.html#news-5-0-x">E.1. Changes in release 5.0.x (Production)</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-5-0-27">E.1.1. Changes for release 5.0.27 and up</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-26">E.1.2. Changes in  MySQL 5.0.26 (03 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-25">E.1.3. Changes in  MySQL 5.0.25 (15 September 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24a">E.1.4. Changes in  MySQL 5.0.24a (25 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24">E.1.5. Changes in  MySQL 5.0.24 (27 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-23">E.1.6. Changes in  MySQL 5.0.23 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-22">E.1.7. Changes in  MySQL 5.0.22 (24 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-21">E.1.8. Changes in  MySQL 5.0.21 (02 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20a">E.1.9. Changes in  MySQL 5.0.20a (18 April 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20">E.1.10. Changes in  MySQL 5.0.20 (31 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-19">E.1.11. Changes in  MySQL 5.0.19 (04 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-18">E.1.12. Changes in  MySQL 5.0.18 (21 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-17">E.1.13. Changes in  MySQL 5.0.17 (14 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-16">E.1.14. Changes in  MySQL 5.0.16 (10 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-15">E.1.15. Changes in  MySQL 5.0.15 (19 October 2005: Production)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-14">E.1.16. Changes in  MySQL 5.0.14 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-13">E.1.17. Changes in  MySQL 5.0.13 (22 September 2005: Release Candidate)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-12">E.1.18. Changes in  MySQL 5.0.12 (02 September 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-11">E.1.19. Changes in  MySQL 5.0.11 (06 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-10">E.1.20. Changes in  MySQL 5.0.10 (27 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-9">E.1.21. Changes in  MySQL 5.0.9 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-8">E.1.22. Changes in  MySQL 5.0.8 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-7">E.1.23. Changes in  MySQL 5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-6">E.1.24. Changes in  MySQL 5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-5">E.1.25. Changes in  MySQL 5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-4">E.1.26. Changes in  MySQL 5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-3">E.1.27. Changes in  MySQL 5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-2">E.1.28. Changes in  MySQL 5.0.2 (01 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-1">E.1.29. Changes in  MySQL 5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-0">E.1.30. Changes in  MySQL 5.0.0 (22 December 2003: Alpha)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mysql-cluster-change-history">E.2. Changes in MySQL Cluster</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-7">E.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-6">E.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-5">E.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-4">E.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-3">E.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-1">E.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-13">E.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-12">E.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-11">E.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-10">E.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-9">E.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-8">E.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-7">E.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-6">E.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-5">E.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-4">E.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-3">E.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#myodbc-news">E.3. MySQL Connector/ODBC (MyODBC) Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#myodbc-news-5-1-3">E.3.1. Changes in  MySQL Connector/ODBC 5.1.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-2">E.3.2. Changes in  MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-1">E.3.3. Changes in  MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-0">E.3.4. Changes in  MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-12">E.3.5. Changes in  MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-11">E.3.6. Changes in  MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-10">E.3.7. Changes in  MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-9">E.3.8. Changes in  MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-8">E.3.9. Changes in  MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-7">E.3.10. Changes in  MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-6">E.3.11. Changes in  MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-5">E.3.12. Changes in  MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-3">E.3.13. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-2">E.3.14. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-1">E.3.15. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-24">E.3.16. Changes in  MySQL Connector/ODBC 3.51.24 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-23">E.3.17. Changes in  MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-22">E.3.18. Changes in  MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-21">E.3.19. Changes in  MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-20">E.3.20. Changes in  MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-19">E.3.21. Changes in  MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-18">E.3.22. Changes in  MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-17">E.3.23. Changes in  MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-16">E.3.24. Changes in  MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-15">E.3.25. Changes in  MySQL Connector/ODBC 3.51.15 (7 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-14">E.3.26. Changes in  MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-13">E.3.27. Changes in  MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-12">E.3.28. Changes in  MySQL Connector/ODBC 3.51.12 (11 Febrauary 2005)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-11">E.3.29. Changes in  MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#connector-net-news">E.4. MySQL Connector/NET Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#connector-net-news-5-2-2">E.4.1. Changes in  MySQL Connector/NET 5.2.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-1">E.4.2. Changes in  MySQL Connector/NET 5.2.1 (27 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-0">E.4.3. Changes in  MySQL Connector/NET 5.2.0 (11 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-6">E.4.4. Changes in  MySQL Connector/NET 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-5">E.4.5. Changes in  MySQL Connector/NET 5.1.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-4">E.4.6. Changes in  MySQL Connector/NET 5.1.4 (20 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-3">E.4.7. Changes in  MySQL Connector/NET 5.1.3 (21 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-2">E.4.8. Changes in  MySQL Connector/NET 5.1.2 (18 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-1">E.4.9. Changes in  MySQL Connector/NET 5.1.1 (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-0">E.4.10. Changes in  MySQL Connector/NET 5.1.0 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-9">E.4.11. Changes in  MySQL Connector/NET 5.0.9 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-8">E.4.12. Changes in  MySQL Connector/NET 5.0.8 (21 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-7">E.4.13. Changes in  MySQL Connector/NET 5.0.7 (18 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-6">E.4.14. Changes in  MySQL Connector/NET 5.0.6 (22 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-5">E.4.15. Changes in  MySQL Connector/NET 5.0.5 (07 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-4">E.4.16. Changes in  MySQL Connector/NET 5.0.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-3">E.4.17. Changes in  MySQL Connector/NET 5.0.3 (05 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-2">E.4.18. Changes in  MySQL Connector/NET 5.0.2 (06 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-1">E.4.19. Changes in  MySQL Connector/NET 5.0.1 (01 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-0">E.4.20. Changes in  MySQL Connector/NET 5.0.0 (08 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-11">E.4.21. Changes in  MySQL Connector/NET 1.0.11 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-10">E.4.22. Changes in  MySQL Connector/NET 1.0.10 (24 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-9">E.4.23. Changes in  MySQL Connector/NET 1.0.9 (02 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-8">E.4.24. Changes in  MySQL Connector/NET 1.0.8 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-7">E.4.25. Changes in  MySQL Connector/NET 1.0.7 (21 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-6">E.4.26. Changes in  MySQL Connector/NET 1.0.6 (03 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-5">E.4.27. Changes in  MySQL Connector/NET 1.0.5 (29 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-4">E.4.28. Changes in  MySQL Connector/NET 1.0.4 (20 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-3">E.4.29. Changes in  MySQL Connector/NET 1.0.3 (12 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-2">E.4.30. Changes in  MySQL Connector/NET 1.0.2 (15 November 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-1">E.4.31. Changes in  MySQL Connector/NET 1.0.1 (27 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-0">E.4.32. Changes in  MySQL Connector/NET 1.0.0 (01 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">E.4.33. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">E.4.34. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">E.4.35. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">E.4.36. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">E.4.37. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">E.4.38. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">E.4.39. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">E.4.40. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">E.4.41. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">E.4.42. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#vstudio-plugin-news">E.5. MySQL Visual Studio Plugin Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">E.5.1. Changes in  MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">E.5.2. Changes in  MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">E.5.3. Changes in  MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">E.5.4. Changes in  MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#cj-news">E.6. MySQL Connector/J Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#cj-news-5-1">E.6.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">E.6.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">E.6.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">E.6.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">E.6.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">E.6.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">E.6.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#news-connector-mxj">E.7. MySQL Connector/MXJ Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">E.7.1. Changes in  MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">E.7.2. Changes in  MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">E.7.3. Changes in  MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">E.7.4. Changes in  MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">E.7.5. Changes in  MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">E.7.6. Changes in  MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">E.7.7. Changes in  MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mysql-proxy-news">E.8. MySQL Proxy Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">E.8.1. Changes in  MySQL Proxy 0.6.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">E.8.2. Changes in  MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">E.8.3. Changes in  MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id4748898"></a><a class="indexterm" name="id4748907"></a><a class="indexterm" name="id4748919"></a><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      This appendix lists the changes from version to version in the
      MySQL 5.0 source code through MySQL 5.0.26. For changes made to
      versions following 5.0.26, see <a href="releasenotes-es.html" title="Appendix C. MySQL Enterprise Release Notes">Appendix C, <i>MySQL Enterprise Release Notes</i></a>,
      and <a href="releasenotes-cs.html" title="Appendix D. MySQL Community Server Enhancements and Release Notes">Appendix D, <i>MySQL Community Server Enhancements and Release Notes</i></a>.
    </p></div><p>
    Starting with MySQL 5.0, we began offering a new version of the
    Manual for each new series of MySQL releases (5.0, 5.1, and so on).
    For information about changes in previous release series of the
    MySQL database software, see the corresponding version of this
    Manual. For information about legacy versions of the MySQL software
    through the 4.1 series, see <em class="citetitle">MySQL 3.23, 4.0, 4.1
    Reference Manual</em>.
  </p><p>
    We update this section as we add new features in the
    5.0 series, so that everybody can follow the
    development process.
  </p><p>
    Note that we tend to update the manual at the same time we make
    changes to MySQL. If you find a recent version of MySQL listed here
    that you can't find on our download page
    (<a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>), it means that the version has
    not yet been released.
  </p><p>
    The date mentioned with a release version is the date of the last
    BitKeeper ChangeSet on which the release was based, not the date
    when the packages were made available. The binaries are usually made
    available a few days after the date of the tagged ChangeSet, because
    building and testing all packages takes some time.
  </p><p>
    The manual included in the source and binary distributions may not
    be fully accurate when it comes to the release changelog entries,
    because the integration of the manual happens at build time. For the
    most up-to-date release changelog, please refer to the online
    version instead.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-5-0-x"></a>E.1. Changes in release 5.0.x (Production)</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-5-0-27">E.1.1. Changes for release 5.0.27 and up</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-26">E.1.2. Changes in  MySQL 5.0.26 (03 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-25">E.1.3. Changes in  MySQL 5.0.25 (15 September 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24a">E.1.4. Changes in  MySQL 5.0.24a (25 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-24">E.1.5. Changes in  MySQL 5.0.24 (27 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-23">E.1.6. Changes in  MySQL 5.0.23 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-22">E.1.7. Changes in  MySQL 5.0.22 (24 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-21">E.1.8. Changes in  MySQL 5.0.21 (02 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20a">E.1.9. Changes in  MySQL 5.0.20a (18 April 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-20">E.1.10. Changes in  MySQL 5.0.20 (31 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-19">E.1.11. Changes in  MySQL 5.0.19 (04 March 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-18">E.1.12. Changes in  MySQL 5.0.18 (21 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-17">E.1.13. Changes in  MySQL 5.0.17 (14 December 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-16">E.1.14. Changes in  MySQL 5.0.16 (10 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-15">E.1.15. Changes in  MySQL 5.0.15 (19 October 2005: Production)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-14">E.1.16. Changes in  MySQL 5.0.14 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-13">E.1.17. Changes in  MySQL 5.0.13 (22 September 2005: Release Candidate)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-12">E.1.18. Changes in  MySQL 5.0.12 (02 September 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-11">E.1.19. Changes in  MySQL 5.0.11 (06 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-10">E.1.20. Changes in  MySQL 5.0.10 (27 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-9">E.1.21. Changes in  MySQL 5.0.9 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-8">E.1.22. Changes in  MySQL 5.0.8 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-7">E.1.23. Changes in  MySQL 5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-6">E.1.24. Changes in  MySQL 5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-5">E.1.25. Changes in  MySQL 5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-4">E.1.26. Changes in  MySQL 5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-3">E.1.27. Changes in  MySQL 5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-2">E.1.28. Changes in  MySQL 5.0.2 (01 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-1">E.1.29. Changes in  MySQL 5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#news-5-0-0">E.1.30. Changes in  MySQL 5.0.0 (22 December 2003: Alpha)</a></span></dt></dl></div><a class="indexterm" name="id4749021"></a><p>
    The following changelog shows what has been done in the 5.0 tree:
  </p><div class="itemizedlist"><ul type="disc"><li><p>
        Basic support for read-only server side cursors. For information
        about using cursors within stored routines, see
        <a href="stored-procedures.html#cursors" title="18.2.9. Cursors">Section 18.2.9, “Cursors”</a>. For information about using cursors
        from within the C API, see
        <a href="apis.html#mysql-stmt-attr-set" title="23.2.7.3. mysql_stmt_attr_set()">Section 23.2.7.3, “<code class="literal">mysql_stmt_attr_set()</code>”</a>.
      </p></li><li><p>
        Basic support for (updatable) views. See, for example,
        <a href="views.html#create-view" title="20.2. CREATE VIEW Syntax">Section 20.2, “<code class="literal">CREATE VIEW</code> Syntax”</a>.
      </p></li><li><p>
        Basic support for stored procedures and functions (SQL:2003
        style). See <a href="stored-procedures.html" title="Chapter 18. Stored Procedures and Functions">Chapter 18, <i>Stored Procedures and Functions</i></a>.
      </p></li><li><p>
        Initial support for rudimentary triggers.
      </p></li><li><p>
        Added <code class="literal">SELECT INTO
        <em class="replaceable"><code>list_of_vars</code></em></code>, which can be
        of mixed (that is, global and local) types. See
        <a href="stored-procedures.html#select-into-statement" title="18.2.7.3. SELECT ... INTO Statement">Section 18.2.7.3, “<code class="literal">SELECT ... INTO</code> Statement”</a>.
      </p></li><li><p>
        Removed the update log. It is fully replaced by the binary log.
        If the MySQL server is started with
        <code class="option">--log-update</code>, it is translated to
        <code class="option">--log-bin</code> (or ignored if the server is
        explicitly started with <code class="option">--log-bin</code>), and a
        warning message is written to the error log. Setting
        <code class="literal">SQL_LOG_UPDATE</code> silently sets
        <code class="literal">SQL_LOG_BIN</code> instead (or do nothing if the
        server is explicitly started with <code class="option">--log-bin</code>).
      </p></li><li><p>
        Support for the <code class="literal">ISAM</code> storage engine has been
        removed. If you have <code class="literal">ISAM</code> tables, you should
        convert them before upgrading. See
        <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        Support for <code class="literal">RAID</code> options in
        <code class="literal">MyISAM</code> tables has been removed. If you have
        tables that use these options, you should convert them before
        upgrading. See <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        User variable names are now case insensitive: If you do
        <code class="literal">SET @a=10;</code> then <code class="literal">SELECT @A;</code>
        now returns <code class="literal">10</code>. Case sensitivity of a
        variable's value depends on the collation of the value.
      </p></li><li><p>
        Strict mode, which in essence means that you get an error
        instead of a warning when inserting an incorrect value into a
        column. See <a href="server-administration.html#server-sql-mode" title="5.1.6. SQL Modes">Section 5.1.6, “SQL Modes”</a>.
      </p></li><li><p>
        <code class="literal">VARCHAR</code> and <code class="literal">VARBINARY</code>
        columns remember end space. A <code class="literal">VARCHAR()</code> or
        <code class="literal">VARBINARY</code> column can contain up to 65,535
        characters or bytes, respectively.
      </p></li><li><p>
        <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) tables can
        have <code class="literal">VARCHAR</code> columns.
      </p></li><li><p>
        When using a constant string or a function that generates a
        string result in <code class="literal">CREATE ... SELECT</code>, MySQL
        creates the result column based on the maximum length of the
        string or expression:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><span class="bold"><strong>Maximum Length</strong></span></td><td><span class="bold"><strong>Data type</strong></span></td></tr><tr><td>= 0</td><td><code class="literal">CHAR(0)</code></td></tr><tr><td>&lt; 512</td><td><code class="literal">VARCHAR(<em class="replaceable"><code>max_length</code></em>)</code></td></tr><tr><td>&gt;= 512</td><td><code class="literal">TEXT</code></td></tr></tbody></table></div></li><li><p>
        A fixed-point math library is introduced that supports precision
        math, resulting in more accurate results when working with the
        <code class="literal">DECIMAL</code> and <code class="literal">NUMERIC</code> data
        types. For details, see <a href="precision-math.html" title="Chapter 22. Precision Math">Chapter 22, <i>Precision Math</i></a>.
      </p></li></ul></div><p>
    For a full list of changes, please refer to the changelog sections
    for each individual 5.0.x release.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-27"></a>E.1.1. Changes for release 5.0.27 and up</h3></div></div></div><p>
      Beginning with MySQL 5.0.27, change notes are listed separately
      for MySQL Enterprise and MySQL Community Server. See
      <a href="releasenotes-es.html" title="Appendix C. MySQL Enterprise Release Notes">Appendix C, <i>MySQL Enterprise Release Notes</i></a>, and
      <a href="releasenotes-cs.html" title="Appendix D. MySQL Community Server Enhancements and Release Notes">Appendix D, <i>MySQL Community Server Enhancements and Release Notes</i></a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-26"></a>E.1.2. Changes in  MySQL 5.0.26 (03 October 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">LOAD DATA INFILE</code> no longer causes an implicit
        commit for all storage engines. It now causes an implicit commit
        only for tables using the <code class="literal">NDB</code> storage engine.
       (<a href="http://bugs.mysql.com/11151" target="_top">Bug#11151</a>)</p></li><li><p>
        The number of <code class="literal">InnoDB</code> threads is no longer
        limited to 1,000 on Windows.
       (<a href="http://bugs.mysql.com/22268" target="_top">Bug#22268</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> now has a
        <code class="option">--flush-privileges</code> option. It causes
        <span><strong class="command">mysqldump</strong></span> to emit a <code class="literal">FLUSH
        PRIVILEGES</code> statement after dumping the
        <code class="literal">mysql</code> database. This option should be used
        any time the dump contains the <code class="literal">mysql</code> database
        and any other database that depends on the data in the
        <code class="literal">mysql</code> database for proper restoration.
       (<a href="http://bugs.mysql.com/21424" target="_top">Bug#21424</a>)</p></li><li><p>
        The output generated by the server when using the
        <code class="option">--xml</code> option has changed with regard to null
        values. It now matches the output from <span><strong class="command">mysqldump
        <code class="option">--xml</code> </strong></span>. That is, a column containing
        a <code class="literal">NULL</code> value is now reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>" xsi:nil="true" /&gt;
</pre><p>
        whereas a column containing the string value
        <code class="literal">'NULL'</code> is reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;NULL&lt;/field&gt;
</pre><p>
        and a column containing an empty string is reported as
      </p><pre class="programlisting">&lt;field name="<em class="replaceable"><code>column_name</code></em>"&gt;&gt;/field&gt;
</pre><p>(<a href="http://bugs.mysql.com/21263" target="_top">Bug#21263</a>)</p></li><li><p>
        The source distribution has been updated so that the UDF example
        can be compiled under Windows with CMake. See
        <a href="extending-mysql.html#udf-compiling" title="26.2.4.5. Compiling and Installing User-Defined Functions">Section 26.2.4.5, “Compiling and Installing User-Defined Functions”</a>.
       (<a href="http://bugs.mysql.com/19121" target="_top">Bug#19121</a>)</p></li><li><p>
        The <code class="literal">LOAD DATA FROM MASTER</code> and <code class="literal">LOAD
        TABLE FROM MASTER</code> statements are deprecated. See
        <a href="sql-syntax.html#load-data-from-master" title="12.6.2.2. LOAD DATA FROM MASTER Syntax">Section 12.6.2.2, “<code class="literal">LOAD DATA FROM MASTER</code> Syntax”</a>, for recommended
        alternatives.
       (<a href="http://bugs.mysql.com/9125" target="_top">Bug#9125</a>, <a href="http://bugs.mysql.com/20596" target="_top">Bug#20596</a>, <a href="http://bugs.mysql.com/14399" target="_top">Bug#14399</a>, <a href="http://bugs.mysql.com/12187" target="_top">Bug#12187</a>, <a href="http://bugs.mysql.com/15025" target="_top">Bug#15025</a>, <a href="http://bugs.mysql.com/18822" target="_top">Bug#18822</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Deleting entries from a large <code class="literal">MyISAM</code> index
        could cause index corruption when it needed to shrink. Deletes
        from an index can happen when a record is deleted, when a key
        changes and must be moved, and when a key must be un-inserted
        because of a duplicate key. This can also happen in
        <code class="literal">REPAIR TABLE</code> when a duplicate key is found
        and in <span><strong class="command">myisamchk</strong></span> when sorting the records by
        an index.
       (<a href="http://bugs.mysql.com/22384" target="_top">Bug#22384</a>)</p></li><li><p>
        yaSSL had a conflicting definition for
        <code class="literal">socklen_t</code> on hurd-i386 systems.
       (<a href="http://bugs.mysql.com/22326" target="_top">Bug#22326</a>)</p></li><li><p>
        Conversion of values inserted into a <code class="literal">BIT</code>
        column could affect adjacent columns.
       (<a href="http://bugs.mysql.com/22271" target="_top">Bug#22271</a>)</p></li><li><p>
        <code class="filename">mysql_com.h</code> unnecessarily referred to the
        <code class="literal">ulong</code> type.
       (<a href="http://bugs.mysql.com/22227" target="_top">Bug#22227</a>)</p></li><li><p>
        The source distribution would not build on Windows due to a
        spurious dependency on <code class="filename">ib_config.h</code>.
       (<a href="http://bugs.mysql.com/22224" target="_top">Bug#22224</a>)</p></li><li><p>
        Execution of a prepared statement that uses an
        <code class="literal">IN</code> subquery with aggregate functions in the
        <code class="literal">HAVING</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/22085" target="_top">Bug#22085</a>)</p></li><li><p>
        Using <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> on the
        result of a subquery in the <code class="literal">FROM</code> clause that
        itself used <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/22015" target="_top">Bug#22015</a>)</p></li><li><p>
        A query that used <code class="literal">GROUP BY</code> and an
        <code class="literal">ALL</code> or <code class="literal">ANY</code> quantified
        subquery in a <code class="literal">HAVING</code> clause could trigger an
        assertion failure.
       (<a href="http://bugs.mysql.com/21853" target="_top">Bug#21853</a>)</p></li><li><p>
        <code class="literal">UPGRADE</code> was treated as a reserved word,
        although it is not.
       (<a href="http://bugs.mysql.com/21772" target="_top">Bug#21772</a>)</p></li><li><p>
        The value of <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>
        was not always updated correctly within stored routines.
       (<a href="http://bugs.mysql.com/21726" target="_top">Bug#21726</a>)</p></li><li><p>
        A function result in a comparison was replaced with a constant
        by the optimizer under some circumstances when this optimization
        was invalid.
       (<a href="http://bugs.mysql.com/21698" target="_top">Bug#21698</a>)</p></li><li><p>
        If <code class="literal">mysqld</code> was linked against a
        system-installed <code class="literal">zlib</code> library compiled
        without large-file support, it would likely exit with a
        <code class="literal">SIGXFSZ</code> (file size exceeded) signal if an
        <code class="literal">ARCHIVE</code> table reached 2GB. The server now
        checks for space before writing.
       (<a href="http://bugs.mysql.com/21675" target="_top">Bug#21675</a>)</p></li><li><p>
        The presence of a subquery in the <code class="literal">ON</code> clause
        of a join in a view definition prevented the
        <code class="literal">MERGE</code> algorithm from being used for the view
        in cases where it should be allowed.
       (<a href="http://bugs.mysql.com/21646" target="_top">Bug#21646</a>)</p></li><li><p>
        When records are merged from the insert buffer and the page
        needs to be reorganized, <code class="literal">InnoDB</code> used
        incorrect column length information when interpreting the
        records of the page. This caused a server crash due to apparent
        corruption of secondary indexes in
        <code class="literal">ROW_FORMAT=COMPACT</code> that contain prefix
        indexes of fixed-length columns. Data files should not be
        corrupted, but the crash was likely to repeat every time the
        server was restarted.
       (<a href="http://bugs.mysql.com/21638" target="_top">Bug#21638</a>)</p></li><li><p>
        For character sets having a <code class="literal">mbmaxlen</code> value of
        2, any <code class="literal">ALTER TABLE</code> statement changed
        <code class="literal">TEXT</code> columns to
        <code class="literal">MEDIUMTEXT</code>.
       (<a href="http://bugs.mysql.com/21620" target="_top">Bug#21620</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> displayed an empty string for
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/21618" target="_top">Bug#21618</a>)</p></li><li><p>
        For <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code>, use
        of
        <a href="functions.html#function_values"><code class="literal">VALUES(<em class="replaceable"><code>col_name</code></em>)</code></a>
        within the <code class="literal">UPDATE</code> clause sometimes was
        handled incorrectly.
       (<a href="http://bugs.mysql.com/21555" target="_top">Bug#21555</a>)</p></li><li><p>
        Subqueries with aggregate functions but no
        <code class="literal">FROM</code> clause could return incorrect results.
       (<a href="http://bugs.mysql.com/21540" target="_top">Bug#21540</a>)</p></li><li><p>
        The server could crash for the second execution of a function
        containing a <code class="literal">SELECT</code> statement that uses an
        aggregating <code class="literal">IN</code> subquery.
       (<a href="http://bugs.mysql.com/21493" target="_top">Bug#21493</a>)</p></li><li><p>
        <span><strong class="command">myisam_ftdump</strong></span> produced bad counts for common
        words.
       (<a href="http://bugs.mysql.com/21459" target="_top">Bug#21459</a>)</p></li><li><p>
        The URL into the online manual that is printed in the stack
        trace message by the server was out of date.
       (<a href="http://bugs.mysql.com/21449" target="_top">Bug#21449</a>)</p></li><li><p>
        Table aliases in multiple-table <code class="literal">DELETE</code>
        statements sometimes were not resolved.
       (<a href="http://bugs.mysql.com/21392" target="_top">Bug#21392</a>)</p></li><li><p>
        <span><strong class="command">mysql_config --libmysqld-libs</strong></span> did not produce
        any SSL options necessary for linking
        <code class="literal">libmysqld</code> with SSL support enabled.
       (<a href="http://bugs.mysql.com/21239" target="_top">Bug#21239</a>)</p></li><li><p>
        In the package of pre-built time zone tables that is available
        for download at <a href="timezones.html" target="_top">timezones.html</a>, the tables now
        explicitly use the <code class="literal">utf8</code> character set so that
        they work the same way regardless of the system character set
        value.
       (<a href="http://bugs.mysql.com/21208" target="_top">Bug#21208</a>)</p></li><li><p>
        A subquery that uses an index for both the
        <code class="literal">WHERE</code> and <code class="literal">ORDER BY</code> clauses
        produced an empty result.
       (<a href="http://bugs.mysql.com/21180" target="_top">Bug#21180</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> produced a malformed
        <code class="filename">upgrade_defaults</code> file by overwriting the
        <code class="literal">[client]</code> group header with a
        <code class="literal">password</code> option. This prevented
        <span><strong class="command">mysqlcheck</strong></span> from running successfully when
        invoked by <span><strong class="command">mysql_upgrade</strong></span>.
       (<a href="http://bugs.mysql.com/21011" target="_top">Bug#21011</a>)</p></li><li><p>
        On Windows, inserting into a <code class="literal">MERGE</code> table
        after renaming an underlying <code class="literal">MyISAM</code> table
        caused a server crash.
       (<a href="http://bugs.mysql.com/20789" target="_top">Bug#20789</a>)</p></li><li><p>
        Within stored routines, some error messages were printed
        incorrectly. A non-null-terminated string was passed to a
        message-printing routine that expected a null-terminated string.
       (<a href="http://bugs.mysql.com/20778" target="_top">Bug#20778</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> did not honor <code class="literal">SET
        INSERT_ID</code> or the <code class="literal">auto_increment_*</code>
        system variables.
       (<a href="http://bugs.mysql.com/20627" target="_top">Bug#20627</a>, <a href="http://bugs.mysql.com/20830" target="_top">Bug#20830</a>)</p></li><li><p>
        If the <code class="literal">auto_increment_offset</code> setting causes
        MySQL to generate a value larger than the column's maximum
        possible value, the <code class="literal">INSERT</code> statement is
        accepted in strict SQL mode, whereas but should fail with an
        error.
       (<a href="http://bugs.mysql.com/20573" target="_top">Bug#20573</a>)</p></li><li><p>
        User names have a maximum length of 16 characters (even if they
        contain multi-byte characters), but were being truncated to 16
        bytes.
       (<a href="http://bugs.mysql.com/20393" target="_top">Bug#20393</a>)</p></li><li><p>
        <code class="literal">PROCEDURE ANALYSE()</code> returned incorrect values
        of <em class="replaceable"><code>M</code></em>
        <code class="literal">FLOAT(<em class="replaceable"><code>M</code></em>,
        <em class="replaceable"><code>D</code></em>)</code> and
        <code class="literal">DOUBLE(<em class="replaceable"><code>M</code></em>,
        <em class="replaceable"><code>D</code></em>)</code>.
       (<a href="http://bugs.mysql.com/20305" target="_top">Bug#20305</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table locked with <code class="literal">LOCK
        TABLES ...WRITE</code>, queries optimized using the
        <code class="literal">index_merge</code> method did not show rows inserted
        with the lock in place.
       (<a href="http://bugs.mysql.com/20256" target="_top">Bug#20256</a>)</p></li><li><p>
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> results sometimes
        were stored improperly into a temporary table when multi-byte
        character sets were used.
       (<a href="http://bugs.mysql.com/20204" target="_top">Bug#20204</a>)</p></li><li><p>
        For an <code class="literal">ENUM</code> column that used the
        <code class="literal">ucs2</code> character set, using <code class="literal">ALTER
        TABLE</code> to modify the column definition caused the
        default value to be lost.
       (<a href="http://bugs.mysql.com/20108" target="_top">Bug#20108</a>)</p></li><li><p>
        Join conditions using index prefixes on <code class="literal">utf8</code>
        columns of <code class="literal">InnoDB</code> tables incorrectly ignored
        rows where the length of the actual value was greater than the
        length of the index prefix.
       (<a href="http://bugs.mysql.com/19960" target="_top">Bug#19960</a>)</p></li><li><p>
        <span><strong class="command">make install</strong></span> tried to build files that should
        already have been built by <span><strong class="command">make all</strong></span>, causing
        a failure if installation was performed using a different
        account than the one used for the initial build.
       (<a href="http://bugs.mysql.com/19738" target="_top">Bug#19738</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with a
        <code class="literal">FULLTEXT</code> index, compression with
        <span><strong class="command">myisampack</strong></span> or a check with
        <span><strong class="command">myisamchk</strong></span> after compression resulted in table
        corruption.
       (<a href="http://bugs.mysql.com/19702" target="_top">Bug#19702</a>)</p></li><li><p>
        Column names supplied for a view created on a master server
        could be lost on a slave server.
       (<a href="http://bugs.mysql.com/19419" target="_top">Bug#19419</a>)</p></li><li><p>
        The build process incorrectly tried to overwrite
        <code class="filename">sql/lex_hash.h</code>. This caused the build to
        fail when using a shadow link tree pointing to original sources
        that were owned by another account.
       (<a href="http://bugs.mysql.com/18888" target="_top">Bug#18888</a>)</p></li><li><p>
        Linking the <code class="literal">pthreads</code> library to
        single-threaded MySQL libraries caused
        <code class="literal">dlopen()</code> to fail at runtime on HP-UX.
       (<a href="http://bugs.mysql.com/18267" target="_top">Bug#18267</a>)</p></li><li><p>
        The source distribution failed to compile when configured with
        the <code class="option">--with-libwrap</code> option.
       (<a href="http://bugs.mysql.com/18246" target="_top">Bug#18246</a>)</p></li><li><p>
        Queries containing a subquery that used aggregate functions
        could return incorrect results.
       (<a href="http://bugs.mysql.com/16792" target="_top">Bug#16792</a>)</p></li><li><p>
        Row equalities (such as <code class="literal">WHERE (a,b) = (c,d)</code>
        were not taken into account by the optimizer, resulting in slow
        query execution. Now they are treated as conjunctions of
        equalities between row elements.
       (<a href="http://bugs.mysql.com/16081" target="_top">Bug#16081</a>)</p></li><li><p>
        <a href="functions.html#function_bin"><code class="literal">BIN()</code></a>,
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a>, and
        <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> did not work with BIT
        values.
       (<a href="http://bugs.mysql.com/15583" target="_top">Bug#15583</a>)</p></li><li><p>
        The parser rejected queries that selected from a table twice
        using a <code class="literal">UNION</code> within a subquery. The parser
        now supports arbitrary subquery, join, and parenthesis
        operations within <code class="literal">EXISTS</code> subqueries. A
        limitation still exists for scalar subqueries: If the subquery
        contains <code class="literal">UNION</code>, the first
        <code class="literal">SELECT</code> of the <code class="literal">UNION</code> cannot
        be within parentheses. For example, <code class="literal">SELECT (SELECT a
        FROM t1 UNION SELECT b FROM t2)</code> will work, but
        <code class="literal">SELECT ((SELECT a FROM t1) UNION (SELECT b FROM
        t2))</code> will not.
       (<a href="http://bugs.mysql.com/14654" target="_top">Bug#14654</a>)</p></li><li><p>
        On Mac OS X, zero-byte <code class="literal">read()</code> or
        <code class="literal">write()</code> calls to an SMB-mounted filesystem
        could return a non-standard return value, leading to data
        corruption. Now such calls are avoided.
       (<a href="http://bugs.mysql.com/12620" target="_top">Bug#12620</a>)</p></li><li><p>
        The server returns a more informative error message when it
        attempts to open a <code class="literal">MERGE</code> table that has been
        defined to use non-<code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/10974" target="_top">Bug#10974</a>)</p></li><li><p>
        With <code class="literal">TRADITIONAL</code> SQL mode, assignment of
        out-of-bound values and rounding of assigned values was done
        correctly, but assignment of the same numbers represented as
        strings sometimes was handled differently.
       (<a href="http://bugs.mysql.com/6147" target="_top">Bug#6147</a>)</p></li><li><p>
        On an <code class="literal">INSERT</code> into an updatable but
        non-insertable view, an error message was issued stating that
        the view was not updatable. Now the message says the view is not
        insertable-into.
       (<a href="http://bugs.mysql.com/5505" target="_top">Bug#5505</a>)</p></li><li><p>
        <code class="literal">EXPLAIN</code> sometimes returned an incorrect
        <code class="literal">select_type</code> for a <code class="literal">SELECT</code>
        from a view, compared to the <code class="literal">select_type</code> for
        the equivalent <code class="literal">SELECT</code> from the base table.
       (<a href="http://bugs.mysql.com/5500" target="_top">Bug#5500</a>)</p></li><li><p>
        Incorporated some portability fixes into the definition of
        <code class="literal">__attribute__</code> in
        <code class="filename">my_global.h</code>.
       (<a href="http://bugs.mysql.com/2717" target="_top">Bug#2717</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-25"></a>E.1.3. Changes in  MySQL 5.0.25 (15 September 2006)</h3></div></div></div><p class="depnote"><b>End of Product Lifecycle</b>Active development and support for MySQL database server versions 3.23, 4.0, and 4.1 has ended. However, for MySQL 4.0 and 4.1, there is still extended support available. For details, see <a href="http://www.mysql.com/company/legal/lifecycle/#calendar" target="_top">http://www.mysql.com/company/legal/lifecycle/#calendar</a>. According to the MySQL Lifecycle Policy (see <a href="http://www.mysql.com/company/legal/lifecycle/#policy" target="_top">http://www.mysql.com/company/legal/lifecycle/#policy</a>), only Security and Severity Level 1 issues will still be fixed for MySQL 4.0 and 4.1. Please consider upgrading to a recent version (MySQL 5.0 or 5.1).</p><p class="release-level">
      This is a bugfix release for the current production release
      family. This version was released as MySQL Classic 5.0.25 to
      commercial customers only.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL now can do stack dumps on <code class="literal">x86_64</code> and
        <code class="literal">i386/NPTL</code> systems.
       (<a href="http://bugs.mysql.com/21250" target="_top">Bug#21250</a>)</p></li><li><p>
        The <span><strong class="command">mysqld</strong></span> and
        <span><strong class="command">mysqlmanager</strong></span> manpages have been reclassified
        from volume 1 to volume 8.
       (<a href="http://bugs.mysql.com/21220" target="_top">Bug#21220</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> now honors <code class="literal">IGNORE
        INDEX</code>. Perviously using <code class="literal">IGNORE
        INDEX</code> in cases where an index sort would be slower
        than a filesort had no effect when used with
        <code class="literal">InnoDB</code> tables.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.26, and a new fix made in
          MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/21174" target="_top">Bug#21174</a>)</p></li><li><p>
        <code class="literal">TIMESTAMP</code> columns that are <code class="literal">NOT
        NULL</code> now are reported that way by <code class="literal">SHOW
        COLUMNS</code> and <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/20910" target="_top">Bug#20910</a>)</p></li><li><p>
        The MySQL distribution now compiles on UnixWare 7.13.
       (<a href="http://bugs.mysql.com/20190" target="_top">Bug#20190</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> now defines the symbol
        <code class="literal">DBUG_ON</code> in <code class="filename">config.h</code> to
        indicate whether the source tree is configured to be compiled
        with debugging support.
       (<a href="http://bugs.mysql.com/19517" target="_top">Bug#19517</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> no longer reads the
        <code class="literal">[client]</code> option file group because it is not
        a client and did not understand client options such as
        <code class="literal">host</code>. Now it reads only the
        <code class="literal">[mysql_upgrade]</code> group.
       (<a href="http://bugs.mysql.com/19452" target="_top">Bug#19452</a>)</p></li><li><p>
        For <span><strong class="command">mysqlshow</strong></span>, if a database name argument
        contains wildcard characters (such as “<span class="quote">
        <code class="literal">_</code> </span>”) but matches a single database
        name exactly, treat the name as a literal name. This allows a
        command such as <span><strong class="command">mysqlshow information_schema</strong></span>
        work without having to escape the wildcard character.
       (<a href="http://bugs.mysql.com/19147" target="_top">Bug#19147</a>)</p></li><li><p>
        On Windows, typing Control-C while a query was running caused
        the <span><strong class="command">mysql</strong></span> client to crash. Now it causes
        <span><strong class="command">mysql</strong></span> to attempt to kill the current
        statement. If this cannot be done, or Control-C is typed again
        before the statement is killed, <span><strong class="command">mysql</strong></span> exits.
        (In other words, <span><strong class="command">mysql</strong></span>'s behavior with
        regard to Control-C is now the same as it is on Unix platforms.)
       (<a href="http://bugs.mysql.com/17926" target="_top">Bug#17926</a>)</p><p>See also <a href="http://bugs.mysql.com/1989" target="_top">Bug#1989</a></p></li><li><p>
        The <code class="literal">VIEW_DEFINITION</code> column of the
        <code class="literal">INFORMATION_SCHEMA</code> <code class="literal">VIEWS</code>
        table now contains information about the view algorithm.
       (<a href="http://bugs.mysql.com/16832" target="_top">Bug#16832</a>)</p></li><li><p>
        The bundled yaSSL library licensing has added a FLOSS exception
        similar to MySQL to resolve licensing incompatibilities with
        MySQL. (See the
        <code class="filename">extra/yassl/FLOSS-EXCEPTIONS</code> file in a
        MySQL source distribution for details.)
       (<a href="http://bugs.mysql.com/16755" target="_top">Bug#16755</a>)</p></li><li><p>
        Table comments longer than 60 characters and column comments
        longer than 255 characters were truncated silently. Now a
        warning is issued, or an error in strict mode.
       (<a href="http://bugs.mysql.com/13934" target="_top">Bug#13934</a>)</p></li><li><p>
        The <span><strong class="command">mysql</strong></span> client used the default character
        set if it automatically reconnected to the server, which is
        incorrect if the character set had been changed. To enable the
        character set to remain synchronized on the client and server,
        the <span><strong class="command">mysql</strong></span> command <code class="literal">charset</code>
        (or <code class="literal">\C</code>) that changes the default character
        set and now also issues a <code class="literal">SET NAMES</code>
        statement. The changed character set is used for reconnects.
       (<a href="http://bugs.mysql.com/11972" target="_top">Bug#11972</a>)</p></li><li><p>
        If a <code class="literal">DROP VIEW</code> statement named multiple
        views, it stopped with an error if a non-existent view was named
        and did not drop the remaining views. Now it continues on and
        reports an error at the end, similar to <code class="literal">DROP
        TABLE</code>.
       (<a href="http://bugs.mysql.com/11551" target="_top">Bug#11551</a>)</p></li><li><p>
        The server now issues a warning if it removes leading spaces
        from an alias.
       (<a href="http://bugs.mysql.com/10977" target="_top">Bug#10977</a>)</p></li><li><p>
        For a successful dump, <span><strong class="command">mysqldump</strong></span> now writes a
        SQL comment to the end of the dump file in the following format:
      </p><pre class="programlisting">-- Dump completed on YYYY-MM-DD hh:mm:ss
</pre><p>(<a href="http://bugs.mysql.com/10877" target="_top">Bug#10877</a>)</p></li><li><p>
        For spatial data types, the server formerly returned these as
        <code class="literal">VARSTRING</code> values with a binary collation. Now
        the server returns spatial values as <code class="literal">BLOB</code>
        values.
       (<a href="http://bugs.mysql.com/10166" target="_top">Bug#10166</a>)</p></li><li><p>
        A new system variable, <code class="literal">lc_time_names</code>,
        specifies the locale that controls the language used to display
        day and month names and abbreviations. This variable affects the
        output from the <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a>,
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> and
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> functions. See
        <a href="internationalization-localization.html#locale-support" title="9.7. MySQL Server Locale Support">Section 9.7, “MySQL Server Locale Support”</a>.
      </p></li><li><p>
        Using <code class="option">--with-debug</code> to configure MySQL with
        debugging support enables you to use the
        <code class="option">--debug="d,parser_debug"</code> option when
        you start the server. This causes the Bison parser that is used
        to process SQL statements to dump a parser trace to the server's
        standard error output. Typically, this output is written to the
        error log.
      </p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.3.7.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A stored routine created by one user and then made accessible to
        a different user using <code class="literal">GRANT EXECUTE</code> could be
        executed by that user with the privileges of the routine's
        definer.
       (<a href="http://bugs.mysql.com/18630" target="_top">Bug#18630</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4227" target="_top">CVE-2006-4227</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        On Linux, and possibly other platforms using case-sensitive
        filesystems, it was possible for a user granted rights on a
        database to create or access a database whose name differed only
        from that of the first by the case of one or more letters.
       (<a href="http://bugs.mysql.com/17647" target="_top">Bug#17647</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4226" target="_top">CVE-2006-4226</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> program was included in both the
        <code class="literal">MySQL-ndb-tools</code> and
        <code class="literal">MySQL-ndb-management</code> RPM packages, resulting
        in a conflict if both were installed. Now
        <span><strong class="command">ndb_mgm</strong></span> is included only in
        <code class="literal">MySQL-ndb-tools</code>.
       (<a href="http://bugs.mysql.com/21058" target="_top">Bug#21058</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">TransactionDeadlockDetectionTimeout</code>
        to a value greater than 12000 would cause scans to deadlock,
        time out, fail to release scan records, until the cluster ran
        out of scan records and stopped processing.
       (<a href="http://bugs.mysql.com/21800" target="_top">Bug#21800</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A memory leak occurred when running <span><strong class="command">ndb_mgm -e
        "SHOW"</strong></span>.
       (<a href="http://bugs.mysql.com/21670" target="_top">Bug#21670</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server provided a non-descriptive error message when
        encountering a fatally corrupted REDO log.
       (<a href="http://bugs.mysql.com/21615" target="_top">Bug#21615</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A partial rollback could lead to node restart failures.
       (<a href="http://bugs.mysql.com/21536" target="_top">Bug#21536</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a unique index read due to an invalid schema
        version could be handled incorrectly in some cases, leading to
        unpredictable results.
       (<a href="http://bugs.mysql.com/21384" target="_top">Bug#21384</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In a cluster with more than 2 replicas, a manual restart of one
        of the data nodes could fail and cause the other nodes in the
        same node group to shut down.
       (<a href="http://bugs.mysql.com/21213" target="_top">Bug#21213</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some queries involving joins on very large
        <code class="literal">NDB</code> tables could crash the MySQL server.
       (<a href="http://bugs.mysql.com/21059" target="_top">Bug#21059</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restarting a data node while DDL operations were in progress on
        the cluster could cause other data nodes to fail. This could
        also lead to <span><strong class="command">mysqld</strong></span> hanging or crashing under
        some circumstances.
       (<a href="http://bugs.mysql.com/21017" target="_top">Bug#21017</a>, <a href="http://bugs.mysql.com/21050" target="_top">Bug#21050</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some situations with a high disk-load, writing of the redo
        log could hang, causing a crash with the error message
        <span class="errortext">GCP STOP detected</span>.
       (<a href="http://bugs.mysql.com/20904" target="_top">Bug#20904</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When the redo buffer ran out of space, a <span class="errortext">Pointer too
        large</span> error was raised and the cluster could become
        unusable until restarted with <code class="option">--initial</code>.
       (<a href="http://bugs.mysql.com/20892" target="_top">Bug#20892</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A vague error message was returned when reading both schema
        files during a restart of the cluster.
       (<a href="http://bugs.mysql.com/20860" target="_top">Bug#20860</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Incorrect values were inserted into
        <code class="literal">AUTO_INCREMENT</code> columns of tables restored
        from a cluster backup.
       (<a href="http://bugs.mysql.com/20820" target="_top">Bug#20820</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to restart the cluster following a data import,
        the cluster failed during Phase 4 of the restart with
        <span class="errortext">Error 2334: Job buffer congestion</span>.
       (<a href="http://bugs.mysql.com/20774" target="_top">Bug#20774</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">REPLACE</code> statements did not work correctly on
        an <code class="literal">NDB</code> table having both a primary key and a
        unique key. In such cases, proper values were not set for
        columns which were not explicitly referenced in the statement.
       (<a href="http://bugs.mysql.com/20728" target="_top">Bug#20728</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server did not honor the value set for
        <code class="literal">ndb_cache_check_time</code> in the
        <code class="filename">my.cnf</code> file.
       (<a href="http://bugs.mysql.com/20708" target="_top">Bug#20708</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_size.pl</strong></span> and
        <span><strong class="command">ndb_error_reporter</strong></span> were missing from RPM
        packages.
       (<a href="http://bugs.mysql.com/20426" target="_top">Bug#20426</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <span><strong class="command">ndbd</strong></span>
        <code class="option">--nowait-nodes=<em class="replaceable"><code>id</code></em> </code>
        where <em class="replaceable"><code>id</code></em> was the node ID of a node
        that was already running would fail with an invalid error
        message.
       (<a href="http://bugs.mysql.com/20419" target="_top">Bug#20419</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (Direct APIs): <code class="literal">NdbScanOperation::readTuples()</code>
        and <code class="literal">NdbIndexScanOperation::readTuples()</code>
        ignored the <em class="replaceable"><code>batch</code></em> parameter.
       (<a href="http://bugs.mysql.com/20252" target="_top">Bug#20252</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node failure during a scan could sometime cause the node to
        crash when restarting too quickly following the failure.
       (<a href="http://bugs.mysql.com/20197" target="_top">Bug#20197</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible to use port numbers greater than 65535 for
        <code class="literal">ServerPort</code> in the
        <code class="filename">config.ini</code> file.
       (<a href="http://bugs.mysql.com/19164" target="_top">Bug#19164</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain circumstances, a node that was shut down then
        restarted could hang during the restart.
       (<a href="http://bugs.mysql.com/18863" target="_top">Bug#18863</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to create or drop a table while a node was restarting
        caused the node to crash. This is now handled by raising an
        error.
       (<a href="http://bugs.mysql.com/18781" target="_top">Bug#18781</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server failed with a non-descriptive error message when out
        of data memory.
       (<a href="http://bugs.mysql.com/18475" target="_top">Bug#18475</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        For <code class="literal">NDB</code> and possibly
        <code class="literal">InnoDB</code> tables, a <code class="literal">BEFORE
        UPDATE</code> trigger could insert incorrect values.
       (<a href="http://bugs.mysql.com/18437" target="_top">Bug#18437</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">SELECT ... FOR UPDATE</code> failed to lock the
        selected rows.
       (<a href="http://bugs.mysql.com/18184" target="_top">Bug#18184</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">perror</strong></span> did not properly report
        <code class="literal">NDB</code> error codes.
       (<a href="http://bugs.mysql.com/16561" target="_top">Bug#16561</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A Cluster whose storage nodes were installed from the
        <code class="filename">MySQL-ndb-storage-<em class="replaceable"><code>*</code></em>
        </code> RPMs could not perform <code class="literal">CREATE</code> or
        <code class="literal">ALTER</code> operations that made use of non-default
        character sets or collations.
       (<a href="http://bugs.mysql.com/14918" target="_top">Bug#14918</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client <code class="literal">ALL STATUS</code> command
        could sometimes report the status of some data nodes
        incorrectly.
       (<a href="http://bugs.mysql.com/13985" target="_top">Bug#13985</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An issue that arose from a patch for <a href="http://bugs.mysql.com/19852" target="_top">Bug#19852</a> made in MySQL
        5.0.23 was corrected. (See <a href="news.html#news-5-0-23" title="E.1.6. Changes in  MySQL 5.0.23 (Not released)">Section E.1.6, “Changes in  MySQL 5.0.23 (Not released)”</a>.)
      </p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        In some cases, a large number of MySQL servers sending requests
        to the cluster simultaneously could cause the cluster to crash.
        This could also be triggered by many <code class="literal">NDB</code> API
        clients making simultaneous event subscriptions or
        unsubscriptions.
       (<a href="http://bugs.mysql.com/20683" target="_top">Bug#20683</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Invoking the MGM API function
        <code class="literal">ndb_mgm_listen_event()</code> caused a memory leak.
       (<a href="http://bugs.mysql.com/21671" target="_top">Bug#21671</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        The MGM API function <code class="literal">ndb_logevent_get_fd()</code>
        was not implemented.
       (<a href="http://bugs.mysql.com/21129" target="_top">Bug#21129</a>)</p></li><li><p>
        Some Linux-x86_64-icc packages (of previous releases) mistakenly
        contained 32-bit binaries. Only <span><strong class="command">ICC</strong></span> builds
        are affected, not <span><strong class="command">gcc</strong></span> builds. Solaris and
        FreeBSD x86_64 builds are not affected.
       (<a href="http://bugs.mysql.com/22238" target="_top">Bug#22238</a>)</p></li><li><p>
        Running <code class="literal">SHOW MASTER LOGS</code> at the same time as
        binary log files were being switched would cause
        <code class="literal">mysqld</code> to hang.
       (<a href="http://bugs.mysql.com/21965" target="_top">Bug#21965</a>)</p></li><li><p>
        <code class="literal">libmysqlclient</code> defined a symbol
        <code class="literal">BN_bin2bn</code> which belongs to OpenSSL. This
        could break applications that also linked against OpenSSL's
        <code class="literal">libcrypto</code> library. The fix required
        correcting an error in a build script that was failing to add
        rename macros for some functions.
       (<a href="http://bugs.mysql.com/21930" target="_top">Bug#21930</a>)</p></li><li><p>
        <code class="literal">character_set_results</code> can be
        <code class="literal">NULL</code> to signify “<span class="quote">no conversion,</span>”
        but some code did not check for <code class="literal">NULL</code>,
        resulting in a server crash.
       (<a href="http://bugs.mysql.com/21913" target="_top">Bug#21913</a>)</p></li><li><p>
        A <code class="literal">NUL</code> byte within a prepared statement string
        caused the rest of the string not to be written to the query
        log, allowing logging to be bypassed.
       (<a href="http://bugs.mysql.com/21813" target="_top">Bug#21813</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> queries with
        <code class="literal">ORDER BY</code> and <code class="literal">LIMIT</code> could
        return the wrong result.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This problem was introduced by the fix for <a href="http://bugs.mysql.com/9676" target="_top">Bug#9676</a>, which
          limited the rows stored in a temporary table to the
          <code class="literal">LIMIT</code> clause. This optimization is not
          applicable to non-group queries with aggregate functions. The
          current fix disables the optimization in such cases.
        </p></div><p>(<a href="http://bugs.mysql.com/21787" target="_top">Bug#21787</a>)</p></li><li><p>
        <code class="literal">INSERT ... SELECT</code> sometimes generated a
        spurious <code class="literal">Column count doesn't match value
        count</code> error.
       (<a href="http://bugs.mysql.com/21774" target="_top">Bug#21774</a>)</p></li><li><p>
        <a href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a> did not accept
        arguments with coercible character sets.
       (<a href="http://bugs.mysql.com/21531" target="_top">Bug#21531</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> incorrectly tried to use
        <code class="literal">LOCK TABLES</code> for tables in the
        <code class="literal">INFORMATION_SCHEMA</code> database.
       (<a href="http://bugs.mysql.com/21527" target="_top">Bug#21527</a>)</p></li><li><p>
        Memory overruns could occur for certain kinds of subqueries.
       (<a href="http://bugs.mysql.com/21477" target="_top">Bug#21477</a>)</p></li><li><p>
        A <code class="literal">DATE</code> can be represented as an integer (such
        as <code class="literal">20060101</code>) or as a string (such as
        <code class="literal">'2006.01.01'</code>). When a <code class="literal">DATE</code>
        (or <code class="literal">TIME</code>) column is compared in one
        <code class="literal">SELECT</code> against both representations, constant
        propagation by the optimizer led to comparison of
        <code class="literal">DATE</code> as a string against
        <code class="literal">DATE</code> as an integer. This could result in
        integer comparisons such as <code class="literal">2006</code> against
        <code class="literal">20060101</code>, erroneously producing a false
        result.
       (<a href="http://bugs.mysql.com/21475" target="_top">Bug#21475</a>)</p></li><li><p>
        Adding <code class="literal">ORDER BY</code> to a <code class="literal">SELECT
        DISTINCT(<em class="replaceable"><code>expr</code></em>)</code> query could
        produce incorrect results.
       (<a href="http://bugs.mysql.com/21456" target="_top">Bug#21456</a>)</p></li><li><p>
        Database and table names have a maximum length of 64 characters
        (even if they contain multi-byte characters), but were truncated
        to 64 bytes.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.26.
        </p></div><p>(<a href="http://bugs.mysql.com/21432" target="_top">Bug#21432</a>)</p></li><li><p>
        With <code class="literal">max_sp_recursion</code> set to 0, a stored
        procedure that executed a <code class="literal">SHOW CREATE
        PROCEDURE</code> statement for itself triggered a recursion
        limit exceeded error, though the statement involves no
        recursion.
       (<a href="http://bugs.mysql.com/21416" target="_top">Bug#21416</a>)</p></li><li><p>
        On 64-bit Windows, a missing table generated error 1017, not the
        correct value of 1146.
       (<a href="http://bugs.mysql.com/21396" target="_top">Bug#21396</a>)</p></li><li><p>
        The optimizer sometimes produced an incorrect row-count estimate
        after elimination of <code class="literal">const</code> tables. This
        resulted in choosing extremely inefficient execution plans in
        same cases when distribution of data in joins were skewed.
       (<a href="http://bugs.mysql.com/21390" target="_top">Bug#21390</a>)</p></li><li><p>
        A query result could be sorted improperly when using
        <code class="literal">ORDER BY</code> for the second table in a join.
       (<a href="http://bugs.mysql.com/21302" target="_top">Bug#21302</a>)</p></li><li><p>
        Query results could be incorrect if the <code class="literal">WHERE</code>
        clause contained <code class="literal">t.<em class="replaceable"><code>key_part</code></em>
        NOT IN (<em class="replaceable"><code>val_list</code></em>)</code>, where
        <em class="replaceable"><code>val_list</code></em> is a list of more than 1000
        constants.
       (<a href="http://bugs.mysql.com/21282" target="_top">Bug#21282</a>)</p></li><li><p>
        For user-defined functions created with <code class="literal">CREATE
        FUNCTION</code>, the <code class="literal">DEFINER</code> clause is not
        legal, but no error was generated.
       (<a href="http://bugs.mysql.com/21269" target="_top">Bug#21269</a>)</p></li><li><p>
        The <code class="literal">SELECT</code> privilege was required for an
        insert on a view, instead of the <code class="literal">INSERT</code>
        privilege.
       (<a href="http://bugs.mysql.com/21261" target="_top">Bug#21261</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20989" target="_top">Bug#20989</a></p></li><li><p>
        Subqueries on <code class="literal">INFORMATION_SCHEMA</code> tables could
        erroneously return an empty result.
       (<a href="http://bugs.mysql.com/21231" target="_top">Bug#21231</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> created temporary files in a
        possibly insecure way.
       (<a href="http://bugs.mysql.com/21224" target="_top">Bug#21224</a>)</p></li><li><p>
        When <code class="literal">DROP DATABASE</code> or <code class="literal">SHOW OPEN
        TABLES</code> was issued while concurrently in another
        connection issuing <code class="literal">DROP TABLE</code>,
        <code class="literal">RENAME TABLE</code>, <code class="literal">CREATE TABLE
        LIKE</code> or any other statement that required a name lock,
        the server crashed.
       (<a href="http://bugs.mysql.com/21216" target="_top">Bug#21216</a>, <a href="http://bugs.mysql.com/19403" target="_top">Bug#19403</a>)</p></li><li><p>
        The <code class="option">--master-data</code> option for
        <span><strong class="command">mysqldump</strong></span> requires certain privileges, but
        <span><strong class="command">mysqldump</strong></span> generated a truncated dump file
        without producing an appropriate error message or exit status if
        the invoking user did not have those privileges.
       (<a href="http://bugs.mysql.com/21215" target="_top">Bug#21215</a>)</p></li><li><p>
        Some prepared statements caused a server crash when executed a
        second time.
       (<a href="http://bugs.mysql.com/21166" target="_top">Bug#21166</a>)</p></li><li><p>
        The optimizer assumed that if <code class="literal">(a=x AND b=x)</code>
        is true, <code class="literal">(a=x AND b=x) AND a=b</code> is also true.
        But that is not always so if <code class="literal">a</code> and
        <code class="literal">b</code> have different data types.
       (<a href="http://bugs.mysql.com/21159" target="_top">Bug#21159</a>)</p></li><li><p>
        <code class="literal">SHOW INNODB STATUS</code> contained some duplicate
        output.
       (<a href="http://bugs.mysql.com/21113" target="_top">Bug#21113</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> was slow with more than 100,000
        <code class="filename">.idb</code> files.
       (<a href="http://bugs.mysql.com/21112" target="_top">Bug#21112</a>)</p></li><li><p>
        Performing an <code class="literal">INSERT</code> on a view that was
        defined using a <code class="literal">SELECT</code> that specified a
        collation and a column alias caused the server to crash .
       (<a href="http://bugs.mysql.com/21086" target="_top">Bug#21086</a>)</p></li><li><p>
        <code class="literal">ALTER VIEW</code> did not retain existing values of
        attributes that had been originally specified but were not
        changed in the <code class="literal">ALTER VIEW</code> statement.
       (<a href="http://bugs.mysql.com/21080" target="_top">Bug#21080</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, the server could crash
        when executing <code class="literal">NOT IN(...)</code> subqueries.
       (<a href="http://bugs.mysql.com/21077" target="_top">Bug#21077</a>)</p></li><li><p>
        The <code class="literal">myisam_stats_method</code> variable was
        mishandled when set from an option file or on the command line.
       (<a href="http://bugs.mysql.com/21054" target="_top">Bug#21054</a>)</p></li><li><p>
        With <code class="literal">query_cache_type</code> set to 0,
        <code class="literal">RESET QUERY CACHE</code> was very slow and other
        threads were blocked during the operation. Now a cache reset is
        faster and non-blocking.
       (<a href="http://bugs.mysql.com/21051" target="_top">Bug#21051</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> crashed for very long arguments to the
        <code class="literal">connect</code> command.
       (<a href="http://bugs.mysql.com/21042" target="_top">Bug#21042</a>)</p></li><li><p>
        A query using <code class="literal">WHERE <em class="replaceable"><code>column</code></em> =
        <em class="replaceable"><code>constant</code></em> OR
        <em class="replaceable"><code>column</code></em> IS NULL</code> did not
        return consistent results on successive invocations. The
        <em class="replaceable"><code>column</code></em> in each part of the
        <code class="literal">WHERE</code> clause could be either the same column,
        or two different columns, for the effect to be observed.
       (<a href="http://bugs.mysql.com/21019" target="_top">Bug#21019</a>)</p></li><li><p>
        Performance during an import on a table with a trigger that
        called a stored procedure was severely degraded. This issue
        first arose in MySQL 5.0.18.
       (<a href="http://bugs.mysql.com/21013" target="_top">Bug#21013</a>)</p></li><li><p>
        A query of the form shown here caused the server to crash:
      </p><pre class="programlisting">SELECT * FROM t1 NATURAL JOIN (
    t2 JOIN (
        t3 NATURAL JOIN t4,
        t5 NATURAL JOIN t6
    )
    ON (t3.id3 = t2.id3 AND t5.id5 = t2.id5)
);
</pre><p>(<a href="http://bugs.mysql.com/21007" target="_top">Bug#21007</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> sometimes would
        return <code class="literal">NULL</code> if the <code class="literal">%D</code>
        format specifier was not the last specifier in the format
        string.
       (<a href="http://bugs.mysql.com/20987" target="_top">Bug#20987</a>)</p></li><li><p>
        A query using <code class="literal">WHERE NOT
        (<em class="replaceable"><code>column</code></em> &lt; ANY
        (<em class="replaceable"><code>subquery</code></em>))</code> yielded a
        different result from the same query using the same
        <em class="replaceable"><code>column</code></em> and
        <em class="replaceable"><code>subquery</code></em> with <code class="literal">WHERE
        (<em class="replaceable"><code>column</code></em> &gt; ANY
        (<em class="replaceable"><code>subquery</code></em>))</code>.
       (<a href="http://bugs.mysql.com/20975" target="_top">Bug#20975</a>)</p></li><li><p>
        In debugging mode, <span><strong class="command">mysqld</strong></span> printed
        <code class="literal">server_init</code> rather than
        <code class="literal">network_init</code> during network initialization.
       (<a href="http://bugs.mysql.com/20968" target="_top">Bug#20968</a>)</p></li><li><p>
        Under certain circumstances,
        <a href="functions.html#function_avg"><code class="literal">AVG(<em class="replaceable"><code>key_val</code></em>)</code></a>
        returned a value but
        <a href="functions.html#function_max"><code class="literal">MAX(<em class="replaceable"><code>key_val</code></em>)</code></a>
        returned an empty set due to incorrect application of
        <a href="functions.html#function_min"><code class="literal">MIN()/MAX()</code></a> optimization.
       (<a href="http://bugs.mysql.com/20954" target="_top">Bug#20954</a>)</p></li><li><p>
        On Windows, <span><strong class="command">mysql_upgrade.exe</strong></span> could not find
        <span><strong class="command">mysqlcheck.exe</strong></span>.
       (<a href="http://bugs.mysql.com/20950" target="_top">Bug#20950</a>)</p></li><li><p>
        Use of zero-length variable names caused a server crash.
       (<a href="http://bugs.mysql.com/20908" target="_top">Bug#20908</a>)</p></li><li><p>
        The server crashed when using the range access method to execut
        a subquery with a <code class="literal">ORDER BY DESC</code> clause.
       (<a href="http://bugs.mysql.com/20869" target="_top">Bug#20869</a>)</p></li><li><p>
        For certain queries, the server incorrectly resolved a reference
        to an aggregate function and crashed.
       (<a href="http://bugs.mysql.com/20868" target="_top">Bug#20868</a>)</p></li><li><p>
        Using aggregate functions in subqueries yielded incorrect
        results under certain circumstances due to incorrect application
        of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/20792" target="_top">Bug#20792</a>)</p></li><li><p>
        If a column definition contained a character set declaration,
        but a <code class="literal">DEFAULT</code> value began with an introducer,
        the introducer character set was used as the column character
        set.
       (<a href="http://bugs.mysql.com/20695" target="_top">Bug#20695</a>)</p></li><li><p>
        Multiplication of <code class="literal">DECIMAL</code> values could
        produce incorrect fractional part and trailing garbage caused by
        signed overflow.
       (<a href="http://bugs.mysql.com/20569" target="_top">Bug#20569</a>)</p></li><li><p>
        Users who had the <code class="literal">SHOW VIEW</code> privilege for a
        view and privileges on one of the view's base tables could
        not see records in <code class="literal">INFORMATION_SCHEMA</code> tables
        relating to the base table.
       (<a href="http://bugs.mysql.com/20543" target="_top">Bug#20543</a>)</p></li><li><p>
        The <a href="functions.html#function_md5"><code class="literal">MD5()</code></a>,
        <a href="functions.html#function_sha1"><code class="literal">SHA1()</code></a>, and
        <a href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> functions should
        return a binary string, but the result sometimes was converted
        to the character set of the argument.
        <a href="functions.html#function_make-set"><code class="literal">MAKE_SET()</code></a> and
        <a href="functions.html#function_export-set"><code class="literal">EXPORT_SET()</code></a> now use the correct
        character set for their default separators, resulting in
        consistent result strings which can be coerced according to
        normal character set rules.
       (<a href="http://bugs.mysql.com/20536" target="_top">Bug#20536</a>)</p></li><li><p>
        A subquery that contained <code class="literal">LIMIT
        <em class="replaceable"><code>N</code></em>,1</code> could return more than
        one row.
       (<a href="http://bugs.mysql.com/20519" target="_top">Bug#20519</a>)</p></li><li><p>
        Creation of a view as a join of views or tables could fail if
        the views or tables are in different databases.
       (<a href="http://bugs.mysql.com/20482" target="_top">Bug#20482</a>)</p></li><li><p>
        <code class="literal">SELECT</code> statements using <code class="literal">GROUP
        BY</code> against a view could have missing columns in the
        output when there was a trigger defined on one of the base
        tables for the view.
       (<a href="http://bugs.mysql.com/20466" target="_top">Bug#20466</a>)</p></li><li><p>
        <code class="literal">CREATE PROCEDURE</code>, <code class="literal">CREATE
        FUNTION</code>, <code class="literal">CREATE TRIGGER</code>, and
        <code class="literal">CREATE VIEW</code> statements containing multi-line
        comments (<code class="literal">/* ... */</code>) could not be replicated.
       (<a href="http://bugs.mysql.com/20438" target="_top">Bug#20438</a>)</p></li><li><p>
        For connections that required a <code class="literal">SUBJECT</code>
        value, a check was performed to verify that the value was
        correct, but the connection was not refused if not.
       (<a href="http://bugs.mysql.com/20411" target="_top">Bug#20411</a>)</p></li><li><p>
        Some user-level errors were being written to the server's error
        log, which is for server errors.
       (<a href="http://bugs.mysql.com/20402" target="_top">Bug#20402</a>)</p></li><li><p>
        <span><strong class="command">perror</strong></span> crashed on Solaris due to
        <code class="literal">NULL</code> return value of
        <code class="literal">strerror()</code> system call.
       (<a href="http://bugs.mysql.com/20145" target="_top">Bug#20145</a>)</p></li><li><p>
        For <span><strong class="command">mysql</strong></span>, escaping with backslash sometimes
        did not work.
       (<a href="http://bugs.mysql.com/20103" target="_top">Bug#20103</a>)</p></li><li><p>
        Use of <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> with <code class="literal">GROUP
        BY</code> on a <code class="literal">ucs2</code> column could cause a
        server crash.
       (<a href="http://bugs.mysql.com/20076" target="_top">Bug#20076</a>)</p></li><li><p>
        <span><strong class="command">mysqld --flush</strong></span> failed to flush
        <code class="literal">MyISAM</code> table changes to disk following an
        <code class="literal">UPDATE</code> statement for which no updated column
        had an index.
       (<a href="http://bugs.mysql.com/20060" target="_top">Bug#20060</a>)</p></li><li><p>
        A user-defined function that is called on each row of a returned
        result set, could receive an <code class="literal">in_null</code> state
        that is set, if it was set previously. Now, the
        <code class="literal">is_null</code> state is reset to false before each
        invocation of a UDF.
       (<a href="http://bugs.mysql.com/19904" target="_top">Bug#19904</a>)</p></li><li><p>
        The <code class="literal">query</code> command for
        <span><strong class="command">mysqltest</strong></span> did not work.
       (<a href="http://bugs.mysql.com/19890" target="_top">Bug#19890</a>)</p></li><li><p>
        When executing a <code class="literal">SELECT</code> with <code class="literal">ORDER
        BY</code> on a view that is constructed from a
        <code class="literal">SELECT</code> statement containing a stored
        function, the stored function was evaluated too many times.
       (<a href="http://bugs.mysql.com/19862" target="_top">Bug#19862</a>)</p></li><li><p>
        The first time a user who had been granted the <code class="literal">CREATE
        ROUTINE</code> privilege used that privilege to create a
        stored function or procedure, the <code class="literal">Password</code>
        column in that user's row in the <code class="literal">mysql.user</code>
        table was set to <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/19857" target="_top">Bug#19857</a>)</p></li><li><p>
        For <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a>, the
        <code class="literal">%H</code> and <code class="literal">%k</code> format
        specifiers can return values larger than two digits (if the hour
        is greater than 99), but for some query results that contained
        three-character hours, column values were truncated.
       (<a href="http://bugs.mysql.com/19844" target="_top">Bug#19844</a>)</p></li><li><p>
        Using <code class="literal">SELECT</code> on a corrupt
        <code class="literal">MyISAM</code> table using the dynamic record format
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19835" target="_top">Bug#19835</a>)</p></li><li><p>
        Using cursors with <code class="literal">READ COMMITTED</code> isolation
        level could cause <code class="literal">InnoDB</code> to crash.
       (<a href="http://bugs.mysql.com/19834" target="_top">Bug#19834</a>)</p></li><li><p>
        The yaSSL library bundled with <code class="literal">libmysqlclient</code>
        had some conflicts with OpenSSL. Now macros are used to rename
        the conflicting symbols to have a prefix of
        <code class="literal">ya</code>.
       (<a href="http://bugs.mysql.com/19810" target="_top">Bug#19810</a>)</p></li><li><p>
        On 64-bit systems, use of the <code class="literal">cp1250</code>
        character set with a primary key column in a
        <code class="literal">LIKE</code> clause caused a server crash for
        patterns having letters in the range 128..255.
       (<a href="http://bugs.mysql.com/19741" target="_top">Bug#19741</a>)</p></li><li><p>
        <code class="literal">DESCRIBE</code> returned the type
        <code class="literal">BIGINT</code> for a column of a view if the column
        was specified by an expression over values of the type
        <code class="literal">INT</code>.
       (<a href="http://bugs.mysql.com/19714" target="_top">Bug#19714</a>)</p></li><li><p>
        An issue with yaSSL prevented Connector/J clients from
        connecting to the server using a certificate.
       (<a href="http://bugs.mysql.com/19705" target="_top">Bug#19705</a>)</p></li><li><p>
        A cast problem caused incorrect results for prepared statements
        that returned float values when MySQL was compiled with
        <span><strong class="command">gcc</strong></span> 4.0.
       (<a href="http://bugs.mysql.com/19694" target="_top">Bug#19694</a>)</p></li><li><p>
        The <a href="apis.html#mysql-list-fields" title="23.2.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a> C API
        function returned the incorrect table name for views.
       (<a href="http://bugs.mysql.com/19671" target="_top">Bug#19671</a>)</p></li><li><p>
        If a query had a condition of the form <code class="literal">
        <em class="replaceable"><code>tableX</code></em>.<em class="replaceable"><code>key</code></em>
        =
        <em class="replaceable"><code>tableY</code></em>.<em class="replaceable"><code>key</code></em>
        </code>, which participated in equality propagation and also
        was used for <code class="literal">ref</code> access, then early
        <code class="literal">ref</code>-access <code class="literal">NULL</code> filtering
        was not peformed for the condition. This could make query
        execution slower.
       (<a href="http://bugs.mysql.com/19649" target="_top">Bug#19649</a>)</p></li><li><p>
        Repeated <code class="literal">DROP TABLE</code> statements in a stored
        procedure could sometimes cause the server to crash.
       (<a href="http://bugs.mysql.com/19399" target="_top">Bug#19399</a>)</p></li><li><p>
        When not running in strict mode, the server failed to convert
        the invalid years portion of a <code class="literal">DATE</code> or
        <code class="literal">DATETIME</code> value to <code class="literal">'0000'</code>
        when inserting it into a table.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This fix was reverted in MySQL 5.0.40.
        </p></div><p>(<a href="http://bugs.mysql.com/19370" target="_top">Bug#19370</a>)</p><p>See also <a href="http://bugs.mysql.com/25301" target="_top">Bug#25301</a></p></li><li><p>
        The final parenthesis of a <code class="literal">CREATE INDEX</code>
        statement occurring in a stored procedure was omitted from the
        binary log when the stored procedure was called.
       (<a href="http://bugs.mysql.com/19207" target="_top">Bug#19207</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> with a subquery that was bound to
        the outer query over multiple columns returned different results
        when a constant was used instead of one of the dependant
        columns.
       (<a href="http://bugs.mysql.com/18925" target="_top">Bug#18925</a>)</p></li><li><p>
        Setting <code class="literal">myisam_repair_threads</code> caused any
        repair operation on a <code class="literal">MyISAM</code> table to fail to
        update the cardinality of indexes, instead making them always
        equal to 1.
       (<a href="http://bugs.mysql.com/18874" target="_top">Bug#18874</a>)</p></li><li><p>
        <code class="literal">FEDERATED</code> tables raised invalid duplicate key
        errors when attempting on one server to insert rows having the
        same primary key values as rows that had been deleted from the
        linked table on the other server.
       (<a href="http://bugs.mysql.com/18764" target="_top">Bug#18764</a>)</p></li><li><p>
        The implementation for
        <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> did not indicate
        that it could return <code class="literal">NULL</code>, causing the
        optimizer to do the wrong thing.
       (<a href="http://bugs.mysql.com/18539" target="_top">Bug#18539</a>)</p></li><li><p>
        Using <code class="literal">&gt; ALL</code> with subqueries that return no
        rows yielded incorrect results under certain circumstances due
        to incorrect application of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/18503" target="_top">Bug#18503</a>)</p></li><li><p>
        Referring to a stored function qualified with the name of one
        database and tables in another database caused a “<span class="quote">table
        doesn't exist</span>” error.
       (<a href="http://bugs.mysql.com/18444" target="_top">Bug#18444</a>)</p></li><li><p>
        Triggers on tables in the <code class="literal">mysql</code> database
        caused a server crash. Triggers for tables in this database now
        are disallowed.
       (<a href="http://bugs.mysql.com/18361" target="_top">Bug#18361</a>, <a href="http://bugs.mysql.com/18005" target="_top">Bug#18005</a>)</p></li><li><p>
        The length of the pattern string prefix for
        <code class="literal">LIKE</code> operations was calculated incorrectly
        for multi-byte character sets. As a result, the scanned range
        was wider than necessary if the prefix contained any multi-byte
        characters, and rows could be missing from the result set.
       (<a href="http://bugs.mysql.com/18359" target="_top">Bug#18359</a>, <a href="http://bugs.mysql.com/16674" target="_top">Bug#16674</a>)</p></li><li><p>
        Multiple invocations of the
        <a href="functions.html#function_reverse"><code class="literal">REVERSE()</code></a> function could return
        different results.
       (<a href="http://bugs.mysql.com/18243" target="_top">Bug#18243</a>)</p></li><li><p>
        The optimizer did not take advantage of indexes on columns used
        for the second or third arguments of
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a>.
       (<a href="http://bugs.mysql.com/18165" target="_top">Bug#18165</a>)</p></li><li><p>
        For table-format output, <span><strong class="command">mysql</strong></span> did not always
        calculate columns widths correctly for columns containing
        multi-byte characters in the column name or contents.
       (<a href="http://bugs.mysql.com/17939" target="_top">Bug#17939</a>)</p></li><li><p>
        The character set was not being properly initialized for
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> with a type like
        <code class="literal">CHAR(2) BINARY</code>, which resulted in incorrect
        results or even a server crash.
       (<a href="http://bugs.mysql.com/17903" target="_top">Bug#17903</a>)</p></li><li><p>
        Checking a <code class="literal">MyISAM</code> table (using <code class="literal">CHECK
        TABLE</code>) having a spatial index and only one row would
        wrongly indicate that the table was corrupted.
       (<a href="http://bugs.mysql.com/17877" target="_top">Bug#17877</a>)</p></li><li><p>
        A stored procedure that created and invoked a prepared statement
        was not executed when called in a mysqld init-file.
       (<a href="http://bugs.mysql.com/17843" target="_top">Bug#17843</a>)</p></li><li><p>
        It is possible to create <code class="literal">MERGE</code> tables into
        which data cannot be inserted (by not specifying a
        <code class="literal">UNION</code> clause. However, when an insert was
        attempted, the error message was confusing. Now an error occurs
        indicating that the table is read-only.
       (<a href="http://bugs.mysql.com/17766" target="_top">Bug#17766</a>)</p></li><li><p>
        Attempting to insert a string of greater than 4096 bytes into a
        <code class="literal">FEDERATED</code> table resulted in the error
        <span class="errortext">ERROR 1296 (HY000) at line 2: Got error 10000 'Error
        on remote system: 1054: Unknown column
        '<em class="replaceable"><code>string-value</code></em>' from
        FEDERATED</span>. This error was raised regardless of the
        type of column involved (<code class="literal">VARCHAR</code>,
        <code class="literal">TEXT</code>, and so on.)
       (<a href="http://bugs.mysql.com/17608" target="_top">Bug#17608</a>)</p></li><li><p>
        Views could not be updated within a stored function or trigger.
       (<a href="http://bugs.mysql.com/17591" target="_top">Bug#17591</a>)</p></li><li><p>
        Use of the <code class="option">--prompt</code> option or
        <code class="literal">prompt</code> command caused
        <span><strong class="command">mysql</strong></span> to be unable to connect to the Instance
        Manager.
       (<a href="http://bugs.mysql.com/17485" target="_top">Bug#17485</a>)</p></li><li><p>
        <code class="literal">N'xxx'</code> and <code class="literal">_utf8'xxx'</code> were
        not treated as equivalent because <code class="literal">N'xxx'</code>
        failed to unescape backslashes (<code class="literal">\</code>) and
        doubled apostrophe/single quote characters
        (<code class="literal">''</code>).
       (<a href="http://bugs.mysql.com/17313" target="_top">Bug#17313</a>)</p></li><li><p>
        Use of the join cache in favor of an index for <code class="literal">ORDER
        BY</code> operations could cause incorrect result sorting.
       (<a href="http://bugs.mysql.com/17212" target="_top">Bug#17212</a>)</p></li><li><p>
        The <a href="functions.html#function_password"><code class="literal">PASSWORD()</code></a> function returned
        invalid results when used in some <code class="literal">UNION</code>
        queries.
       (<a href="http://bugs.mysql.com/16881" target="_top">Bug#16881</a>)</p></li><li><p>
        <code class="literal">ORDER BY RAND() LIMIT 1</code> always set a user
        variable to the last possible value from the table.
       (<a href="http://bugs.mysql.com/16861" target="_top">Bug#16861</a>)</p></li><li><p>
        When performing a
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>, the server
        transformed <code class="literal">BLOB</code> columns
        <code class="literal">VARCHAR</code> columns, which could cause erroneous
        results when using Connector/J and possibly other MySQL APIs.
       (<a href="http://bugs.mysql.com/16712" target="_top">Bug#16712</a>)</p></li><li><p>
        Stored procedures did not use the character set defined for the
        database in which they were created.
       (<a href="http://bugs.mysql.com/16676" target="_top">Bug#16676</a>)</p></li><li><p>
        Some server errors were not reported to the client, causing both
        to try to read from the connection until a hang or crash
        resulted.
       (<a href="http://bugs.mysql.com/16581" target="_top">Bug#16581</a>)</p></li><li><p>
        On Windows, a definition for
        <a href="apis.html#mysql-set-server-option" title="23.2.3.64. mysql_set_server_option()"><code class="literal">mysql_set_server_option()</code></a> was
        missing from the C client library.
       (<a href="http://bugs.mysql.com/16513" target="_top">Bug#16513</a>)</p></li><li><p>
        Updating a column of a <code class="literal">FEDERATED</code> table to
        <code class="literal">NULL</code> sometimes failed.
       (<a href="http://bugs.mysql.com/16494" target="_top">Bug#16494</a>)</p></li><li><p>
        For <code class="literal">SELECT ... FOR UPDATE</code> statements that
        used <code class="literal">DISTINCT</code> or <code class="literal">GROUP BY</code>
        over all key parts of a unique index (or primary key), the
        optimizer unnecessarily created a temporary table, thus losing
        the linkage to the underlying unique index values. This caused a
        <code class="literal">Result set not updatable</code> error. (The
        temporary table is unnecessary because under these circumstances
        the distinct or grouped columns must also be unique.)
       (<a href="http://bugs.mysql.com/16458" target="_top">Bug#16458</a>)</p></li><li><p>
        Using <code class="literal">ANY</code> with “<span class="quote">non-table</span>”
        subqueries such as <code class="literal">SELECT 1</code> yielded incorrect
        results under certain circumstances due to incorrect application
        of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        optimization.
       (<a href="http://bugs.mysql.com/16302" target="_top">Bug#16302</a>)</p></li><li><p>
        A subquery in the <code class="literal">WHERE</code> clause of the outer
        query and using <code class="literal">IN</code> and <code class="literal">GROUP
        BY</code> returned an incorrect result.
       (<a href="http://bugs.mysql.com/16255" target="_top">Bug#16255</a>)</p></li><li><p>
        A query could produce different results with and without and
        index, if the <code class="literal">WHERE</code> clause contained a range
        condition that used an invalid <code class="literal">DATETIME</code>
        constant.
       (<a href="http://bugs.mysql.com/16249" target="_top">Bug#16249</a>)</p></li><li><p>
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> examined only
        the date and ignored the time when the requested difference unit
        was months or quarters.
       (<a href="http://bugs.mysql.com/16226" target="_top">Bug#16226</a>)</p></li><li><p>
        Using tables from MySQL 4.x in MySQL 5.x, in particular those
        with <code class="literal">VARCHAR</code> fields and using <code class="literal">INSERT
        DELAYED</code> to update data in the table would result in
        either data corruption or a server crash.
       (<a href="http://bugs.mysql.com/16218" target="_top">Bug#16218</a>, <a href="http://bugs.mysql.com/17294" target="_top">Bug#17294</a>, <a href="http://bugs.mysql.com/16611" target="_top">Bug#16611</a>)</p></li><li><p>
        The value returned by a stored function returning a string value
        was not of the declared character set.
       (<a href="http://bugs.mysql.com/16211" target="_top">Bug#16211</a>)</p></li><li><p>
        The
        <code class="literal">index_merge</code>/<code class="literal">Intersection</code>
        optimizer could experience a memory overrun when the number of
        table columns covered by an index was sufficiently large,
        possibly resulting in a server crash.
       (<a href="http://bugs.mysql.com/16201" target="_top">Bug#16201</a>)</p></li><li><p>
        <code class="literal">DECIMAL</code> columns were handled incorrectly in
        two respects :
      </p><div class="orderedlist"><ol type="1"><li><p>
            When the precision of the column was too small for the
            value. In this case, the original value was returned instead
            of an error.
          </p></li><li><p>
            When the scale of the column was set to 0. In this case, the
            value. In this case, the value was treated as though the
            scale had been defined as 2.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/16172" target="_top">Bug#16172</a>)</p></li><li><p>
        Certain queries having a <code class="literal">WHERE</code> clause that
        included conditions on multi-part keys with more than 2 key
        parts could produce incorrect results and send <span class="errortext">[Note]
        Use_count: Wrong count for key at...</span> messages to
        <code class="literal">STDERR</code>.
       (<a href="http://bugs.mysql.com/16168" target="_top">Bug#16168</a>)</p></li><li><p>
        When a row was inserted through a view but did not specify a
        value for a column that had no default value in the base table,
        no warning or error occurred. Now a warning occurs, or an error
        in strict SQL mode.
       (<a href="http://bugs.mysql.com/16110" target="_top">Bug#16110</a>)</p></li><li><p>
        When <a href="functions.html#function_now"><code class="literal">NOW()</code></a> was used in a
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> clause of the
        definition for a view, it was replaced with a constant in the
        view.
       (<a href="http://bugs.mysql.com/15950" target="_top">Bug#15950</a>)</p></li><li><p>
        The C API failed to return a status message when invoking a
        stored procedure.
       (<a href="http://bugs.mysql.com/15752" target="_top">Bug#15752</a>)</p></li><li><p>
        <span><strong class="command">mysqlimport</strong></span> sends a <code class="literal">set
        @@character_set_database=binary</code> statement to the
        server, but this is not understood by pre-4.1 servers. Now
        <span><strong class="command">mysqlimport</strong></span> encloses the statement within a
        <code class="literal">/*!40101 ... */</code> comment so that old servers
        will ignore it.
       (<a href="http://bugs.mysql.com/15690" target="_top">Bug#15690</a>)</p></li><li><p>
        For the <code class="literal">CSV</code> storage engine, memory-mapped
        pages of the data file were not invalidated when new data was
        appended to the file via traditional (file descriptor-based) I/O
        primitives.
       (<a href="http://bugs.mysql.com/15669" target="_top">Bug#15669</a>)</p></li><li><p>
        <code class="literal">SHOW GRANTS FOR CURRENT_USER</code> did not return
        definer grants when executed in <code class="literal">DEFINER</code>
        context (such as within a stored prodedure defined with
        <code class="literal">SQL SECURITY DEFINER</code>), it returned the
        invoker grants.
       (<a href="http://bugs.mysql.com/15298" target="_top">Bug#15298</a>)</p></li><li><p>
        The <code class="option">--collation-server</code> server option was being
        ignored. With the fix for this problem, if you choose a
        non-default character set with
        <code class="option">--character-set-server</code>, you should also use
        <code class="option">--collation-server</code> to specify the collation.
       (<a href="http://bugs.mysql.com/15276" target="_top">Bug#15276</a>)</p></li><li><p>
        The server crashed if it tried to access a
        <code class="literal">CSV</code> table for which the data file had been
        removed.
       (<a href="http://bugs.mysql.com/15205" target="_top">Bug#15205</a>)</p></li><li><p>
        Tables created with the <code class="literal">FEDERATED</code> storage
        engine did not permit indexes using <code class="literal">NULL</code>
        columns.
       (<a href="http://bugs.mysql.com/15133" target="_top">Bug#15133</a>)</p></li><li><p>
        When using tables containing <code class="literal">VARCHAR</code> columns
        created under MySQL 4.1 with a 5.0 or later server, for some
        queries the metadata sent to the client could have an empty
        column name.
       (<a href="http://bugs.mysql.com/14897" target="_top">Bug#14897</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... SELECT</code> statements that
        selected <code class="literal">GEOMETRY</code> values resulted in a table
        that contained <code class="literal">BLOB</code> columns, not
        <code class="literal">GEOMETRY</code> columns.
       (<a href="http://bugs.mysql.com/14807" target="_top">Bug#14807</a>)</p></li><li><p>
        When setting a column to its implicit default value as the
        result of inserting a <code class="literal">NULL</code> into a
        <code class="literal">NOT NULL</code> column as part of a multi-row insert
        or <code class="literal">LOAD DATA</code> operation, the server returned a
        misleading warning message.
       (<a href="http://bugs.mysql.com/14770" target="_top">Bug#14770</a>)</p></li><li><p>
        The use of <code class="literal">WHERE <em class="replaceable"><code>col_name</code></em> IS
        NULL</code> in <code class="literal">SELECT</code> statements reset the
        value of <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> to
        zero.
       (<a href="http://bugs.mysql.com/14553" target="_top">Bug#14553</a>)</p></li><li><p>
        Inserts into <code class="literal">BIT</code> columns of
        <code class="literal">FEDERATED</code> tables did not work.
       (<a href="http://bugs.mysql.com/14532" target="_top">Bug#14532</a>)</p></li><li><p>
        Using <code class="literal">SELECT</code> and a table join while running a
        concurrent <code class="literal">INSERT</code> operation would join
        incorrect rows.
       (<a href="http://bugs.mysql.com/14400" target="_top">Bug#14400</a>)</p></li><li><p>
        Prepared statements caused general log and server memory
        corruption.
       (<a href="http://bugs.mysql.com/14346" target="_top">Bug#14346</a>)</p></li><li><p>
        <code class="literal">libmysqld</code> produced some warnings to
        <code class="literal">stderr</code> which could not be silenced. These
        warnings now are suppressed.
       (<a href="http://bugs.mysql.com/13717" target="_top">Bug#13717</a>)</p></li><li><p>
        The Instance Manager allowed <code class="literal">STOP INSTANCE</code> to
        be used on a server instance that was not running.
       (<a href="http://bugs.mysql.com/12673" target="_top">Bug#12673</a>)</p></li><li><p>
        For very complex <code class="literal">SELECT</code> statements could
        create temporary tables that were too large, and for which the
        temporary files were not removed, causing subsequent queries to
        fail.
       (<a href="http://bugs.mysql.com/11824" target="_top">Bug#11824</a>)</p></li><li><p>
        <code class="literal">USE</code> did not refresh database privileges when
        employed to re-select the current database.
       (<a href="http://bugs.mysql.com/10979" target="_top">Bug#10979</a>)</p></li><li><p>
        The type of the value returned by the
        <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> function varied
        according to the type of the input value. The function should
        always return a <code class="literal">DOUBLE</code> value.
       (<a href="http://bugs.mysql.com/10966" target="_top">Bug#10966</a>)</p></li><li><p>
        The same trigger error message was produced under two
        conditions: The trigger duplicated an existing trigger name, or
        the trigger duplicated an existing combination of action and
        event. Now different messages are produced for the two
        conditions so as to be more informative.
       (<a href="http://bugs.mysql.com/10946" target="_top">Bug#10946</a>)</p></li><li><p>
        <code class="literal">CREATE USER</code> did not respect the 16-character
        username limit.
       (<a href="http://bugs.mysql.com/10668" target="_top">Bug#10668</a>)</p></li><li><p>
        A server or network failure with an open client connection would
        cause the client to hang even though the server was no longer
        available.
      </p><p>
        As a result of this change, the
        <code class="literal">MYSQL_OPT_READ_TIMEOUT</code> and
        <code class="literal">MYSQL_OPT_WRITE_TIMEOUT</code> options for
        <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> now apply to
        TCP/IP connections on all platforms. Previously, they applied
        only to Windows.
       (<a href="http://bugs.mysql.com/9678" target="_top">Bug#9678</a>)</p></li><li><p>
        <code class="literal">INSERT INTO ... SELECT ... LIMIT 1</code> could be
        slow because the <code class="literal">LIMIT</code> was ignored when
        selecting candidate rows.
       (<a href="http://bugs.mysql.com/9676" target="_top">Bug#9676</a>)</p></li><li><p>
        The optimizer could produce an incorrect result after
        <code class="literal">AND</code> with collations such as
        <code class="literal">latin1_german2_ci</code>,
        <code class="literal">utf8_czech_ci</code>, and
        <code class="literal">utf8_lithianian_ci</code>.
       (<a href="http://bugs.mysql.com/9509" target="_top">Bug#9509</a>)</p></li><li><p>
        A stored procedure with a <code class="literal">CONTINUE</code> handler
        that encountered an error continued to execute a statement that
        caused an error, rather with the next statement following the
        one that caused the error.
       (<a href="http://bugs.mysql.com/8153" target="_top">Bug#8153</a>)</p></li><li><p>
        For ODBC compatibility, MySQL supports use of <code class="literal">WHERE
        <em class="replaceable"><code>col_name</code></em> IS NULL</code> for
        <code class="literal">DATE</code> or <code class="literal">DATETIME</code> columns
        that are <code class="literal">NOT NULL</code>, to allow column values of
        <code class="literal">'0000-00-00'</code> or <code class="literal">'0000-00-00
        00:00:00'</code> to be selected. However, this was not
        working for <code class="literal">WHERE</code> clauses in
        <code class="literal">DELETE</code> statements.
       (<a href="http://bugs.mysql.com/8143" target="_top">Bug#8143</a>)</p></li><li><p>
        A user variable set to a value selected from an unsigned column
        was stored as a signed value.
       (<a href="http://bugs.mysql.com/7498" target="_top">Bug#7498</a>)</p></li><li><p>
        The <code class="option">--with-collation</code> option was not honored for
        client connections.
       (<a href="http://bugs.mysql.com/7192" target="_top">Bug#7192</a>)</p></li><li><p>
        When the precision of the column was too small for the value. In
        this case, the original value was returned instead of an error.
      </p></li><li><p>
        When the scale of the column was set to 0. In this case, the
        value. In this case, the value was treated as though the scale
        had been defined as 2.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-24a"></a>E.1.4. Changes in  MySQL 5.0.24a (25 August 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family. It replaces MySQL 5.0.24.
    </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The shared compatibility RPM files were missing some files.
       (<a href="http://bugs.mysql.com/22251" target="_top">Bug#22251</a>)</p></li><li><p>
        <span><strong class="command">mysqld</strong></span> could crash when closing temporary
        tables.
       (<a href="http://bugs.mysql.com/21582" target="_top">Bug#21582</a>)</p></li><li><p>
        MySQL 5.0.24 introduced an ABI incompatibility, which this
        release reverts. Programs compiled against 5.0.24 are not
        compatible with any other version and must be recompiled.
       (<a href="http://bugs.mysql.com/21543" target="_top">Bug#21543</a>)</p></li><li><p>
        Pathname separator and device characters were not correctly
        parameterized for NetWare, causing <span><strong class="command">mysqld</strong></span>
        startup errors.
       (<a href="http://bugs.mysql.com/21537" target="_top">Bug#21537</a>)</p></li><li><p>
        Closing of temporary tables failed if binary logging was not
        enabled.
       (<a href="http://bugs.mysql.com/20919" target="_top">Bug#20919</a>)</p></li><li><p>
        For statements that have a <code class="literal">DEFINER</code> clause
        such as <code class="literal">CREATE TRIGGER</code> or <code class="literal">CREATE
        VIEW</code>, long usernames or hostnames could cause a buffer
        overflow.
       (<a href="http://bugs.mysql.com/16899" target="_top">Bug#16899</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-24"></a>E.1.5. Changes in  MySQL 5.0.24 (27 July 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        In the <code class="literal">INFORMATION_SCHEMA.ROUTINES</code> table the
        <code class="literal">ROUTINE_DEFINITION</code> column now is defined as
        <code class="literal">NULL</code> rather than <code class="literal">NOT NULL</code>.
        Also, <code class="literal">NULL</code> rather than the empty string is
        returned as the column value if the user does not have
        sufficient privileges to see the routine definition.
       (<a href="http://bugs.mysql.com/20230" target="_top">Bug#20230</a>)</p></li><li><p>
        The <a href="functions.html#function_left"><code class="literal">LEFT()</code></a> and
        <a href="functions.html#function_right"><code class="literal">RIGHT()</code></a> functions return
        <code class="literal">NULL</code> if any argument is
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/11728" target="_top">Bug#11728</a>)</p></li><li><p>
        Program Database files (extension <code class="filename">pdf</code>) are
        now included by default in Windows distributions. These can be
        used to help diagnose problems with <span><strong class="command">mysqld</strong></span>
        and other tools. See <a href="extending-mysql.html#debugging-server" title="26.4.1. Debugging a MySQL Server">Section 26.4.1, “Debugging a MySQL Server”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        If a user has access to <code class="literal">MyISAM</code> table
        <em class="replaceable"><code>t</code></em>, that user can create a
        <code class="literal">MERGE</code> table <em class="replaceable"><code>m</code></em> that
        accesses <em class="replaceable"><code>t</code></em>. However, if the user's
        privileges on <em class="replaceable"><code>t</code></em> are subsequently
        revoked, the user can continue to access
        <em class="replaceable"><code>t</code></em> by doing so through
        <em class="replaceable"><code>m</code></em>. If this behavior is undesirable,
        you can start the server with the new
        <code class="option">--skip-merge</code> option to disable the
        <code class="literal">MERGE</code> storage engine.
       (<a href="http://bugs.mysql.com/15195" target="_top">Bug#15195</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4031" target="_top">CVE-2006-4031</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_size.pl</strong></span> script did not account for
        <code class="literal">TEXT</code> and <code class="literal">BLOB</code> column
        values correctly.
       (<a href="http://bugs.mysql.com/21204" target="_top">Bug#21204</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The repeated creating and dropping of a table would eventually
        lead to <code class="literal">NDB</code> Error 826, <span class="errortext">Too many
        tables and attributes ... Insufficient space</span>.
       (<a href="http://bugs.mysql.com/20847" target="_top">Bug#20847</a>)</p></li><li><p>
        Under heavy load (executing more than 1024 simultaneous complex
        queries), a problem in the code that handles internal temporary
        tables could lead to writing beyond allocated space and memory
        corruption.
      </p><p>
        Use of more than 1024 simultaneous cursors server wide also
        could lead to memory corruption. This applies to both stored
        procedure cursors and C API cursors.
       (<a href="http://bugs.mysql.com/21206" target="_top">Bug#21206</a>)</p></li><li><p>
        Failure to account for a <code class="literal">NULL</code> table pointer
        on big-endian machines could cause a server crash during type
        conversion.
       (<a href="http://bugs.mysql.com/21135" target="_top">Bug#21135</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> sometimes did not select the
        correct database before trying to dump views from it, resulting
        in an empty result set that caused <span><strong class="command">mysqldump</strong></span>
        to die with a segmentation fault.
       (<a href="http://bugs.mysql.com/21014" target="_top">Bug#21014</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> that used a subquery in the
        <code class="literal">FROM</code> clause that did not select from a table
        failed when the subquery was used in a join.
       (<a href="http://bugs.mysql.com/21002" target="_top">Bug#21002</a>)</p></li><li><p>
        <code class="literal">REPLACE ... SELECT</code> for a view required the
        <code class="literal">INSERT</code> privilege for tables other than the
        table being modified.
       (<a href="http://bugs.mysql.com/20989" target="_top">Bug#20989</a>)</p></li><li><p>
        A race condition during slave server shutdown caused an assert
        failure.
       (<a href="http://bugs.mysql.com/20850" target="_top">Bug#20850</a>)</p></li><li><p>
        Issuing a <code class="literal">SHOW CREATE FUNCTION</code> or
        <code class="literal">SHOW CREATE PROCEDURE</code> statement without
        sufficient privileges could crash the <span><strong class="command">mysql</strong></span>
        client.
       (<a href="http://bugs.mysql.com/20664" target="_top">Bug#20664</a>)</p></li><li><p>
        In a view defined with <code class="literal">SQL SECURITY DEFINER</code>,
        the <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function
        returned the invoker, not the definer.
       (<a href="http://bugs.mysql.com/20570" target="_top">Bug#20570</a>)</p></li><li><p>
        With the <code class="literal">auto_increment_increment</code> system
        variable set larger than 1, if the next generated
        <code class="literal">AUTO_INCREMENT</code> value would be larger than the
        column's maximum value, the value would be clipped down to that
        maximum value and inserted, even if the resulting value would
        not be in the generated sequence. This could cause problems for
        master-master replication. Now the server clips the value down
        to the previous value in the sequence, which correctly produces
        a duplicate-key error if that value already exists in the
        column.
       (<a href="http://bugs.mysql.com/20524" target="_top">Bug#20524</a>)</p></li><li><p>
        <code class="literal">SELECT @@INSERT_ID</code> displayed a value
        unrelated to a preceding <code class="literal">SET INSERT_ID</code>. (It
        was returning <code class="literal">LAST_INSERT_ID</code> instead.)
       (<a href="http://bugs.mysql.com/20392" target="_top">Bug#20392</a>)</p></li><li><p>
        The <span><strong class="command">mysql</strong></span> client did not understand
        <code class="literal">help</code> commands that had spaces at the end.
       (<a href="http://bugs.mysql.com/20328" target="_top">Bug#20328</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> produced a malformed dump file when
        dumping multiple databases that contained views.
       (<a href="http://bugs.mysql.com/20221" target="_top">Bug#20221</a>)</p></li><li><p>
        If a table on a slave server had a higher
        <code class="literal">AUTO_INCREMENT</code> counter than the corresponding
        master table (even though all rows of the two tables were
        identical), in some cases <code class="literal">REPLACE</code> or
        <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> would not
        replicate properly using statement-based logging. (Different
        values would be inserted on the master and slave.)
       (<a href="http://bugs.mysql.com/20188" target="_top">Bug#20188</a>)</p></li><li><p>
        For a <code class="literal">DATE</code> parameter sent via a
        <code class="literal">MYSQL_TIME</code> data structure,
        <a href="apis.html#mysql-stmt-execute" title="23.2.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> zeroed the
        hour, minute, and second members of the structure rather than
        treating them as read-only.
       (<a href="http://bugs.mysql.com/20152" target="_top">Bug#20152</a>)</p></li><li><p>
        Performing <code class="literal">INSERT ... SELECT ... JOIN ...
        USING</code> without qualifying the column names caused
        <code class="literal">ERROR 1052 "column 'x' in field list is
        ambiguous"</code> even in cases where the column
        references were unambiguous.
       (<a href="http://bugs.mysql.com/18080" target="_top">Bug#18080</a>)</p></li><li><p>
        Using the extended syntax for
        <a href="functions.html#function_trim"><code class="literal">TRIM()</code></a> — that is,
        <a href="functions.html#function_trim"><code class="literal">TRIM(... FROM ...)</code></a> — in a
        <code class="literal">SELECT</code> statement defining a view caused an
        invalid syntax error when selecting from the view.
       (<a href="http://bugs.mysql.com/17526" target="_top">Bug#17526</a>)</p></li><li><p>
        Assignments of values to variables of type
        <code class="literal">TEXT</code> were handled incorrectly in stored
        routines.
       (<a href="http://bugs.mysql.com/17225" target="_top">Bug#17225</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> returned
        <code class="literal">NULL</code> when the result date was on the day
        <code class="literal">'9999-12-31'</code>.
       (<a href="http://bugs.mysql.com/12356" target="_top">Bug#12356</a>)</p></li><li><p>
        The <code class="literal">DATA DIRECTORY</code> table option did not work
        for <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/8706" target="_top">Bug#8706</a>)</p></li><li><p>
        <a href="http://bugs.mysql.com/10952" target="_top">Bug#10952</a> may cause inadvertent data loss. A fix for this bug
        was included in MySQL 5.0.23, but the approach used caused a
        loss of intended functionality. Because of this, that fix has
        been reverted in MySQL 5.0.24. As a consequence, the risk of
        inadvertent data loss still exists (see <a href="http://bugs.mysql.com/10952" target="_top">Bug#10952</a>).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-23"></a>E.1.6. Changes in  MySQL 5.0.23 (Not released)</h3></div></div></div><p class="release-level">
      MySQL 5.0.23 was never officially released.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        The status variables <code class="literal">Ndb_connected_host</code> and
        <code class="literal">Ndb_connected_port</code> were renamed to
        <code class="literal">Ndb_config_from_host</code> and
        <code class="literal">Ndb_config_from_port</code>, respectively.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The limit of 2048 ordered indexes per cluster has been lifted.
        There is now no upper limit on the number of ordered indexes
        (including <code class="literal">AUTO_INCREMENT</code> columns) that may
        be used.
       (<a href="http://bugs.mysql.com/14509" target="_top">Bug#14509</a>)</p></li><li><p>
        The <span><strong class="command">mysqldumpslow</strong></span> script has been moved from
        client RPM packages to server RPM packages. This corrects a
        problem where <span><strong class="command">mysqldumpslow</strong></span> could not be used
        with a client-only RPM install, because it depends on
        <span><strong class="command">my_print_defaults</strong></span> which is in the server RPM.
       (<a href="http://bugs.mysql.com/20216" target="_top">Bug#20216</a>)</p></li><li><p>
        Added the <code class="literal">log_queries_not_using_indexes</code>
        system variable.
       (<a href="http://bugs.mysql.com/19616" target="_top">Bug#19616</a>)</p></li><li><p>
        Added the <code class="literal">ssl_ca</code>,
        <code class="literal">ssl_capath</code>, <code class="literal">ssl_cert</code>,
        <code class="literal">ssl_cipher</code>, and <code class="literal">ssl_key</code>
        system variables, which display the values given via the
        corresponding command options. See
        <a href="server-administration.html#ssl-options" title="5.5.7.3. SSL Command Options">Section 5.5.7.3, “SSL Command Options”</a>.
       (<a href="http://bugs.mysql.com/19606" target="_top">Bug#19606</a>)</p></li><li><p>
        SQL syntax for prepared statements now supports <code class="literal">ANALYZE
        TABLE</code>, <code class="literal">OPTIMIZE TABLE</code>, and
        <code class="literal">REPAIR TABLE</code>.
       (<a href="http://bugs.mysql.com/19308" target="_top">Bug#19308</a>)</p></li><li><p>
        For a table with an <code class="literal">AUTO_INCREMENT</code> column,
        <code class="literal">SHOW CREATE TABLE</code> now shows the next
        <code class="literal">AUTO_INCREMENT</code> value to be generated.
       (<a href="http://bugs.mysql.com/19025" target="_top">Bug#19025</a>)</p></li><li><p>
        The <code class="literal">ONLY_FULL_GROUP_BY</code> SQL mode now also
        applies to the <code class="literal">HAVING</code> clause. That is,
        columns not named in the <code class="literal">GROUP BY</code> clause
        cannot be used in the <code class="literal">HAVING</code> clause if not
        used in an aggregate function.
       (<a href="http://bugs.mysql.com/18739" target="_top">Bug#18739</a>)</p></li><li><p>
        Added the <code class="option">--set-charset</code> option to
        <span><strong class="command">mysqlbinlog</strong></span> to allow the character set to be
        specified for processing binary log files.
       (<a href="http://bugs.mysql.com/18351" target="_top">Bug#18351</a>)</p></li><li><p>
        The bundled yaSSL library was upgraded to version 1.3.5. This
        improves handling of certain problems with SSL-related command
        options.
       (<a href="http://bugs.mysql.com/17737" target="_top">Bug#17737</a>)</p></li><li><p>
        Added the <code class="option">--ssl-verify-server-cert</code> option to
        MySQL client programs. This option causes the server's Common
        Name value in its certificate to be verified against the
        hostname used when connecting to the server, and the connection
        is rejected if there is a mismatch. Added
        <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code> option for
        the <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API
        function to enable this verification. This feature can be used
        to prevent man-in-the-middle attacks. Verification is disabled
        by default.
       (<a href="http://bugs.mysql.com/17208" target="_top">Bug#17208</a>)</p></li><li><p>
        It is now possible to use
        <code class="literal">NEW.<em class="replaceable"><code>var_name</code></em></code>
        values within triggers as <code class="literal">INOUT</code> parameters to
        stored procedures.
       (<a href="http://bugs.mysql.com/14635" target="_top">Bug#14635</a>)</p></li><li><p>
        Added the <code class="option">--angel-pid-file</code> option to
        <span><strong class="command">mysqlmanager</strong></span> for specifying the file in which
        the angel process records its process ID when
        <span><strong class="command">mysqlmanager</strong></span> runs in daemon mode.
       (<a href="http://bugs.mysql.com/14106" target="_top">Bug#14106</a>)</p></li><li><p>
        The <a href="apis.html#mysql-get-ssl-cipher" title="23.2.3.33. mysql_get_ssl_cipher()"><code class="literal">mysql_get_ssl_cipher()</code></a> C
        API function was added.
      </p></li><li><p>
        The <span><strong class="command">mysql_upgrade</strong></span> command has been converted
        from a shell script to a C program, so it is available on
        non-Unix systems such as Windows. This program should be run for
        each MySQL upgrade. See <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.9, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
      </p></li><li><p>
        Binary distributions that include SSL support now are built
        using yaSSL when possible.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A <code class="literal">NUL</code> byte within a comment in a statement
        string caused the rest of the string not to be written to the
        query log, allowing logging to be bypassed.
       (<a href="http://bugs.mysql.com/17667" target="_top">Bug#17667</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-0903" target="_top">CVE-2006-0903</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client command <code class="literal">ALL
        CLUSTERLOG STATISTICS=15</code> had no effect.
       (<a href="http://bugs.mysql.com/20336" target="_top">Bug#20336</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The failure of a data node when preparing to commit a
        transaction (that is, while the node's status was
        <code class="literal">CS_PREPARE_TO_COMMIT</code>) could cause the failure
        of other cluster data nodes.
       (<a href="http://bugs.mysql.com/20185" target="_top">Bug#20185</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An internal formatting error caused some management client error
        messages to be unreadable.
       (<a href="http://bugs.mysql.com/20016" target="_top">Bug#20016</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Renaming a table in such a way as to move it to a different
        database failed to move the table's indexes.
       (<a href="http://bugs.mysql.com/19967" target="_top">Bug#19967</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running management client commands while <span><strong class="command">mgmd</strong></span>
        was in the process of disconnecting could cause the management
        server to fail.
       (<a href="http://bugs.mysql.com/19932" target="_top">Bug#19932</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <code class="literal">ALL START</code> in the
        <code class="literal">NDB</code> management client or restarting multiple
        nodes simultaneously could under some circumstances cause the
        cluster to crash.
       (<a href="http://bugs.mysql.com/19930" target="_top">Bug#19930</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">TEXT</code> columns in Cluster tables having both an
        explicit primary key and a unique key were not correctly updated
        by <code class="literal">REPLACE</code> statements.
       (<a href="http://bugs.mysql.com/19906" target="_top">Bug#19906</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster's data nodes failed while trying to load data when
        <code class="literal">NoOfFrangmentLogFiles</code> was set equal to 1.
       (<a href="http://bugs.mysql.com/19894" target="_top">Bug#19894</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restoring a backup with <span><strong class="command">ndb_restore</strong></span> failed
        when the backup had been taken from a cluster whose
        <code class="literal">DataMemory</code> had been completely used up.
       (<a href="http://bugs.mysql.com/19852" target="_top">Bug#19852</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Resources for unique indexes on Cluster table columns were
        incorrectly allocated, so that only one-fourth as many unique
        indexes as indicated by the value of
        <code class="literal">UniqueHashIndexes</code> could be created.
       (<a href="http://bugs.mysql.com/19623" target="_top">Bug#19623</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDBAPI): On big-endian platforms,
        <code class="literal">NdbOperation::write_attr()</code> did not update
        32-bit fields correctly.
       (<a href="http://bugs.mysql.com/19537" target="_top">Bug#19537</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">LOAD DATA LOCAL</code> failed to ignore duplicate
        keys in Cluster tables.
       (<a href="http://bugs.mysql.com/19496" target="_top">Bug#19496</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        For <span><strong class="command">ndb_mgmd</strong></span>, Valgrind revealed problems with
        a memory leak and a dependency on an uninitialized variable.
       (<a href="http://bugs.mysql.com/19318" target="_top">Bug#19318</a>, <a href="http://bugs.mysql.com/20333" target="_top">Bug#20333</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A problem with error handling when
        <code class="literal">ndb_use_exact_count</code> was enabled could lead to
        incorrect values returned from queries using
        <a href="functions.html#function_count"><code class="literal">COUNT()</code></a>. A warning is now
        returned in such cases.
       (<a href="http://bugs.mysql.com/19202" target="_top">Bug#19202</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">TRUNCATE</code> failed on tables having
        <code class="literal">BLOB</code> or <code class="literal">TEXT</code> columns with
        the error <span class="errortext">Lock wait timeout exceeded</span>.
       (<a href="http://bugs.mysql.com/19201" target="_top">Bug#19201</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">mysql-test-run.pl</strong></span> started
        <code class="literal">NDB</code> even for test cases that did not need it.
       (<a href="http://bugs.mysql.com/19083" target="_top">Bug#19083</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Stopping multiple nodes could cause node failure handling not to
        be completed.
       (<a href="http://bugs.mysql.com/19039" target="_top">Bug#19039</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The management client <code class="literal">ALL STOP</code> command shut
        down <span><strong class="command">mgmd</strong></span> processes (as well as
        <span><strong class="command">ndbd</strong></span> processes).
       (<a href="http://bugs.mysql.com/18966" target="_top">Bug#18966</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">TRUNCATE TABLE</code> failed to reset the
        <code class="literal">AUTO_INCREMENT</code> counter.
       (<a href="http://bugs.mysql.com/18864" target="_top">Bug#18864</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated <code class="literal">CREATE</code> - <code class="literal">INSERT</code> -
        <code class="literal">DROP</code> operations tables could in some
        circumstances cause the MySQL table definition cache to become
        corrupt, so that some <span><strong class="command">mysqld</strong></span> processes could
        access table information but others could not.
       (<a href="http://bugs.mysql.com/18595" target="_top">Bug#18595</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated use of the <code class="literal">SHOW</code> and <code class="literal">ALL
        STATUS</code> commands in the <span><strong class="command">ndb_mgm</strong></span>
        client could cause the <span><strong class="command">mgmd</strong></span> process to crash.
       (<a href="http://bugs.mysql.com/18591" target="_top">Bug#18591</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndbd</strong></span> sometimes failed to start with the error
        <span class="errortext">Node failure handling not completed</span>
        following a graceful restart.
       (<a href="http://bugs.mysql.com/18550" target="_top">Bug#18550</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Backups could fail for large clusters with many tables, where
        the number of tables approached
        <code class="literal">MaxNoOfTables</code>.
       (<a href="http://bugs.mysql.com/17607" target="_top">Bug#17607</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An issue with <span><strong class="command">ndb_mgmd</strong></span> prevented more than 27
        <code class="literal">mysqld</code> processes from connecting to a single
        cluster at one time.
       (<a href="http://bugs.mysql.com/17150" target="_top">Bug#17150</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using “<span class="quote">stale</span>” <span><strong class="command">mysqld</strong></span>
        <code class="filename">.FRM</code> files could cause a newly-restored
        cluster to fail. This situation could arise when restarting a
        MySQL Cluster using the <code class="option">--intial</code> option while
        leaving connected <span><strong class="command">mysqld</strong></span> processes running.
       (<a href="http://bugs.mysql.com/16875" target="_top">Bug#16875</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data node failures could cause excessive CPU usage by
        <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/13987" target="_top">Bug#13987</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster system status variables were not updated properly.
       (<a href="http://bugs.mysql.com/11459" target="_top">Bug#11459</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some queries having a <code class="literal">WHERE</code> clause of the
        form <code class="literal">c1=val1 OR c2 LIKE 'val2'</code> were not
        evaluated correctly. (Bug # 17421)
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        (NDBAPI): Update operations on blobs were not checked for
        illegal operations.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Read locks with blob update operations are now upgraded from
          read committed to read shared.
        </p></div></li><li><p>
        A buffer overwrite error in Instance Manager caused a crash.
       (<a href="http://bugs.mysql.com/20622" target="_top">Bug#20622</a>)</p></li><li><p>
        On Windows, temporary tables containing “<span class="quote">
        <code class="literal">:</code> </span>” in the name could not be created.
       (<a href="http://bugs.mysql.com/20616" target="_top">Bug#20616</a>)</p></li><li><p>
        The <code class="filename">fill_help_tables.sql</code> file did not
        contain a <code class="literal">SET NAMES 'utf8'</code> statement to
        indicate its encoding. This caused problems for some settings of
        the MySQL character set such as <code class="literal">big5</code>.
       (<a href="http://bugs.mysql.com/20551" target="_top">Bug#20551</a>)</p></li><li><p>
        The <code class="filename">fill_help_tables.sql</code> file did not load
        properly if the <code class="literal">ANSI_QUOTES</code> SQL mode was
        enabled.
       (<a href="http://bugs.mysql.com/20542" target="_top">Bug#20542</a>)</p></li><li><p>
        <span><strong class="command">mysql_upgrade</strong></span> was missing from binary MySQL
        distributions.
       (<a href="http://bugs.mysql.com/20403" target="_top">Bug#20403</a>, <a href="http://bugs.mysql.com/18516" target="_top">Bug#18516</a>, <a href="http://bugs.mysql.com/20556" target="_top">Bug#20556</a>)</p></li><li><p>
        Several aspects of view privileges were being checked
        incorrectly.
       (<a href="http://bugs.mysql.com/20363" target="_top">Bug#20363</a>, <a href="http://bugs.mysql.com/18681" target="_top">Bug#18681</a>)</p></li><li><p>
        Queries using an indexed column as the argument for the
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> functions following an
        <code class="literal">ALTER TABLE .. DISABLE KEYS</code> statement
        returned <span class="errortext">Got error 124 from storage
        engine</span> until <code class="literal">ALTER TABLE ... ENABLE
        KEYS</code> was run on the table.
       (<a href="http://bugs.mysql.com/20357" target="_top">Bug#20357</a>)</p></li><li><p>
        The thread for <code class="literal">INSERT DELAYED</code> rows was
        maintaining a separate <code class="literal">AUTO_INCREMENT</code>
        counter, resulting in incorrect values being assigned if
        <code class="literal">DELAYED</code> and non-<code class="literal">DELAYED</code>
        inserts were mixed.
       (<a href="http://bugs.mysql.com/20195" target="_top">Bug#20195</a>)</p></li><li><p>
        On Linux, <code class="literal">libmysqlclient</code> when compiled with
        yaSSL using the <span><strong class="command">icc</strong></span> compiler had a spurious
        dependency on C++ libraries.
       (<a href="http://bugs.mysql.com/20119" target="_top">Bug#20119</a>)</p></li><li><p>
        A number of dependency issues in the RPM
        <code class="literal">bench</code> and <code class="literal">test</code> packages
        caused installation of these packages to fail.
       (<a href="http://bugs.mysql.com/20078" target="_top">Bug#20078</a>)</p></li><li><p>
        A compatibility issue with NPTL (Native POSIX Thread Library) on
        Linux could result in a deadlock with <code class="literal">FLUSH TABLES WITH
        READ LOCK</code> under some conditions.
       (<a href="http://bugs.mysql.com/20048" target="_top">Bug#20048</a>)</p></li><li><p>
        Some outer joins were incorrectly converted to inner joins.
       (<a href="http://bugs.mysql.com/19816" target="_top">Bug#19816</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/17146" target="_top">Bug#17146</a></p></li><li><p>
        <code class="literal">CREATE DATABASE</code>, <code class="literal">RENAME
        DATABASE</code>, and <code class="literal">DROP DATABASE</code> could
        deadlock in cases where there was a global read lock.
       (<a href="http://bugs.mysql.com/19815" target="_top">Bug#19815</a>)</p></li><li><p>
        The <code class="literal">WITH CHECK OPTION</code> was not enforced when a
        <code class="literal">REPLACE</code> statement was executed against a
        view.
       (<a href="http://bugs.mysql.com/19789" target="_top">Bug#19789</a>)</p></li><li><p>
        Multiple-table updates with <code class="literal">FEDERATED</code> tables
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19773" target="_top">Bug#19773</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> unlocked its data directory before
        committing a transaction, potentially resulting in
        non-recoverable tables if a server crash occurred before the
        commit.
       (<a href="http://bugs.mysql.com/19727" target="_top">Bug#19727</a>)</p></li><li><p>
        Subqueries that produced a <code class="literal">BIGINT UNSIGNED</code>
        value were being treated as returning a signed value.
       (<a href="http://bugs.mysql.com/19700" target="_top">Bug#19700</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on an expression that contained a
        cast to <code class="literal">DECIMAL</code> produced an incorrect result.
       (<a href="http://bugs.mysql.com/19667" target="_top">Bug#19667</a>)</p></li><li><p>
        <code class="literal">MERGE</code> tables did not work reliably with
        <code class="literal">BIT</code> columns.
       (<a href="http://bugs.mysql.com/19648" target="_top">Bug#19648</a>)</p></li><li><p>
        Re-execution of a prepared multiple-table
        <code class="literal">DELETE</code> statement that involves a trigger or
        stored function can result in a server crash.
       (<a href="http://bugs.mysql.com/19634" target="_top">Bug#19634</a>)</p></li><li><p>
        The range operator failed and caused a server crash for clauses
        of the form <code class="literal">
        <em class="replaceable"><code>tbl_name</code></em>.<em class="replaceable"><code>unsigned_keypart</code></em>
        NOT IN (<em class="replaceable"><code>negative_const</code></em>,
        ...)</code>.
       (<a href="http://bugs.mysql.com/19618" target="_top">Bug#19618</a>)</p></li><li><p>
        <code class="literal">CHECK TABLE</code> on a <code class="literal">MyISAM</code>
        table briefly cleared its <code class="literal">AUTO_INCREMENT</code>
        value, while holding only a read lock. Concurrent inserts to
        that table could use the wrong <code class="literal">AUTO_INCREMENT</code>
        value. <code class="literal">CHECK TABLE</code> no longer modifies the
        <code class="literal">AUTO_INCREMENT</code> value.
       (<a href="http://bugs.mysql.com/19604" target="_top">Bug#19604</a>)</p></li><li><p>
        Using
        <a href="functions.html#function_concat"><code class="literal">CONCAT(@<em class="replaceable"><code>user_var</code></em>,
        <em class="replaceable"><code>col_name</code></em>)</code></a>, where
        <em class="replaceable"><code>col_name</code></em> is a column in an
        <code class="literal">INFORMATION_SCHEMA</code> table, could cause
        erroneous duplication of data in the query result.
       (<a href="http://bugs.mysql.com/19599" target="_top">Bug#19599</a>)</p></li><li><p>
        Some yaSSL public function names conflicted with those from
        OpenSSL, causing conflicts for applications that linked against
        both OpenSSL and a version of <code class="literal">libmysqlclient</code>
        that was built with yaSSL support. The yaSSL public functions
        now are renamed to avoid this conflict.
       (<a href="http://bugs.mysql.com/19575" target="_top">Bug#19575</a>)</p></li><li><p>
        A view definition that referred to an alias in the
        <code class="literal">HAVING</code> clause could be saved in the
        <code class="filename">.frm</code> file with the alias replaced by the
        expression that it referred to, causing failure of subsequent
        <code class="literal">SELECT * FROM <em class="replaceable"><code>view_name</code></em>
        </code> statements.
       (<a href="http://bugs.mysql.com/19573" target="_top">Bug#19573</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> displayed <code class="literal">NULL</code> for
        strings that are empty or contain only spaces.
       (<a href="http://bugs.mysql.com/19564" target="_top">Bug#19564</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> failed to increment the
        <code class="literal">handler_read_prev</code> counter.
       (<a href="http://bugs.mysql.com/19542" target="_top">Bug#19542</a>)</p></li><li><p>
        Selecting from a view that used <code class="literal">GROUP BY</code> on a
        non-constant temporal interval (such as
        <code class="literal">DATE(<em class="replaceable"><code>col</code></em>) + INTERVAL
        TIME_TO_SEC(<em class="replaceable"><code>col</code></em>) SECOND</code>
        could cause a server crash.
       (<a href="http://bugs.mysql.com/19490" target="_top">Bug#19490</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> did not dump the table name
        correctly for some table identifiers that contained unusual
        characters such as “<span class="quote"> <code class="literal">:</code> </span>”.
       (<a href="http://bugs.mysql.com/19479" target="_top">Bug#19479</a>)</p></li><li><p>
        On 64-bit Windows systems, <code class="literal">REGEXP</code> for regular
        expressions with exactly 31 characters did not work.
       (<a href="http://bugs.mysql.com/19407" target="_top">Bug#19407</a>)</p></li><li><p>
        An outer join of two views that was written using <code class="literal">{ OJ
        ... }</code> syntax could cause a server crash.
       (<a href="http://bugs.mysql.com/19396" target="_top">Bug#19396</a>)</p></li><li><p>
        Race conditions on certain platforms could cause the Instance
        Manager to fail to initialize.
       (<a href="http://bugs.mysql.com/19391" target="_top">Bug#19391</a>)</p></li><li><p>
        Use of the <code class="option">--no-pager</code> option caused
        <span><strong class="command">mysql</strong></span> to crash.
       (<a href="http://bugs.mysql.com/19363" target="_top">Bug#19363</a>)</p></li><li><p>
        In the <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table, the
        values for the <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns were incorrect
        for multi-byte character sets.
       (<a href="http://bugs.mysql.com/19236" target="_top">Bug#19236</a>)</p></li><li><p>
        Multiple-table <code class="literal">DELETE</code> statements containing a
        subquery that selected from one of the tables being modified
        caused a server crash.
       (<a href="http://bugs.mysql.com/19225" target="_top">Bug#19225</a>)</p></li><li><p>
        On Windows, removal of binary log files would fail if the files
        were already open.
       (<a href="http://bugs.mysql.com/19208" target="_top">Bug#19208</a>)</p></li><li><p>
        Flushing the compression buffer (via <code class="literal">FLUSH
        TABLE</code>) no longer increases the size of an unmodified
        <code class="literal">ARCHIVE</code> table.
       (<a href="http://bugs.mysql.com/19204" target="_top">Bug#19204</a>)</p></li><li><p>
        An <code class="literal">ALTER TABLE</code> operation that does not need
        to copy data, when executed on a table created prior to MySQL
        4.0.25, could result in a server crash for subsequent accesses
        to the table.
       (<a href="http://bugs.mysql.com/19192" target="_top">Bug#19192</a>)</p></li><li><p>
        SSL connections using yaSSL on OpenBSD could fail.
       (<a href="http://bugs.mysql.com/19191" target="_top">Bug#19191</a>)</p></li><li><p>
        Attempting to set the default value of an
        <code class="literal">ENUM</code> or <code class="literal">SET</code> column to
        <code class="literal">NULL</code> caused a server crash.
       (<a href="http://bugs.mysql.com/19145" target="_top">Bug#19145</a>)</p></li><li><p>
        Use of uninitialized user variables in a subquery in the
        <code class="literal">FROM</code> clause resulted in invalid entries in
        the binary log.
       (<a href="http://bugs.mysql.com/19136" target="_top">Bug#19136</a>)</p></li><li><p>
        A <code class="literal">CREATE TABLE</code> statement that created a table
        from a materialized view did not inherit default values from the
        underlying table.
       (<a href="http://bugs.mysql.com/19089" target="_top">Bug#19089</a>)</p></li><li><p>
        Index prefixes for <code class="literal">utf8</code>
        <code class="literal">VARCHAR</code> columns did not work for
        <code class="literal">UPDATE</code> statements.
       (<a href="http://bugs.mysql.com/19080" target="_top">Bug#19080</a>)</p></li><li><p>
        Premature optimization of nested subqueries in the
        <code class="literal">FROM</code> clause that refer to aggregate functions
        could lead to incorrect results.
       (<a href="http://bugs.mysql.com/19077" target="_top">Bug#19077</a>)</p></li><li><p>
        Valgrind revealed several issues with <span><strong class="command">mysqld</strong></span>
        that were corrected: A dangling stack pointer being overwritten;
        possible uninitialized data in a string comparison; memory
        corruption in replication slaves when switching databases;
        <code class="literal">syscall()</code> write parameter pointing to an
        uninitialized byte.
       (<a href="http://bugs.mysql.com/19022" target="_top">Bug#19022</a>, <a href="http://bugs.mysql.com/20579" target="_top">Bug#20579</a>, <a href="http://bugs.mysql.com/20769" target="_top">Bug#20769</a>, <a href="http://bugs.mysql.com/20783" target="_top">Bug#20783</a>, <a href="http://bugs.mysql.com/20791" target="_top">Bug#20791</a>)</p></li><li><p>
        The parser leaked memory when its stack needed to be extended.
       (<a href="http://bugs.mysql.com/18930" target="_top">Bug#18930</a>)</p></li><li><p>
        <code class="literal">BIT</code> columns in a table could cause joins that
        use the table to fail.
       (<a href="http://bugs.mysql.com/18895" target="_top">Bug#18895</a>)</p></li><li><p>
        The MySQL server startup script
        <span><strong class="command">/etc/init.d/mysql</strong></span> (created from
        <span><strong class="command">mysql.server</strong></span>) is now marked to ensure that
        the system services <span><strong class="command">ypbind</strong></span>,
        <span><strong class="command">nscd</strong></span>, <span><strong class="command">ldap</strong></span>, and
        <span><strong class="command">NTP</strong></span> are started first (if these are
        configured on the machine).
       (<a href="http://bugs.mysql.com/18810" target="_top">Bug#18810</a>)</p></li><li><p>
        The <code class="literal">COM_STATISTICS</code> command was changed in
        5.0.3 to display session status variable values rather than
        global values. This causes <span><strong class="command">mysqladmin status</strong></span>
        information not to be useful for the <code class="literal">Slow
        queries</code> and <code class="literal">Opens</code> values. Now
        <code class="literal">COM_STATISTICS</code> displays the global values for
        <code class="literal">Slow queries</code> and <code class="literal">Opens</code>.
       (<a href="http://bugs.mysql.com/18669" target="_top">Bug#18669</a>)</p></li><li><p>
        <code class="literal">LOAD DATA FROM MASTER</code> would fail when trying
        to load the <code class="literal">INFORMATION_SCHEMA</code> database from
        the master, because the <code class="literal">INFORMATION_SCHEMA</code>
        system database would already exist on the slave.
       (<a href="http://bugs.mysql.com/18607" target="_top">Bug#18607</a>)</p></li><li><p>
        <code class="literal">BLOB</code> or <code class="literal">TEXT</code> arguments to
        or values returned from stored functions were not copied
        properly if too long and could become garbled.
       (<a href="http://bugs.mysql.com/18587" target="_top">Bug#18587</a>)</p></li><li><p>
        The <code class="literal">IN</code>-to-<code class="literal">EXISTS</code>
        transformation was making a reference to a parse tree fragment
        that was left out of the parse tree. This caused problems with
        prepared statements.
       (<a href="http://bugs.mysql.com/18492" target="_top">Bug#18492</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> produced garbled output for view
        definitions.
       (<a href="http://bugs.mysql.com/18462" target="_top">Bug#18462</a>)</p></li><li><p>
        The configuration information for building the embedded server
        on Windows was missing a file.
       (<a href="http://bugs.mysql.com/18455" target="_top">Bug#18455</a>)</p></li><li><p>
        In <span><strong class="command">mysqltest</strong></span>, <code class="option">--sleep=0</code> had
        no effect. Now it correctly causes <code class="literal">sleep</code>
        commands in test case files to sleep for 0 seconds.
       (<a href="http://bugs.mysql.com/18312" target="_top">Bug#18312</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA.TABLES</code> provided
        inconsistent info about invalid views. This could cause server
        crashes or result in incorrect data being returned for queries
        that attempt to obtain information from
        <code class="literal">INFORMATION_SCHEMA</code> tables about views using
        stored functions.
       (<a href="http://bugs.mysql.com/18282" target="_top">Bug#18282</a>)</p></li><li><p>
        On Windows, corrected a crash stemming from differences in
        Visual C runtime library routines from POSIX behavior regarding
        invalid file descriptors.
       (<a href="http://bugs.mysql.com/18275" target="_top">Bug#18275</a>)</p></li><li><p>
        On Windows, terminating <span><strong class="command">mysqld</strong></span> with Control-C
        could result in a crash during shutdown.
       (<a href="http://bugs.mysql.com/18235" target="_top">Bug#18235</a>)</p></li><li><p>
        Selecting data from a <code class="literal">MEMORY</code> table with a
        <code class="literal">VARCHAR</code> column and a <code class="literal">HASH</code>
        index over it returned only the first row matched.
       (<a href="http://bugs.mysql.com/18233" target="_top">Bug#18233</a>)</p></li><li><p>
        The use of <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> on columns with an index
        prefix produced incorrect results in some queries.
       (<a href="http://bugs.mysql.com/18206" target="_top">Bug#18206</a>)</p></li><li><p>
        An entry in the <code class="literal">mysql.proc</code> table with an
        empty routine name caused access to the
        <code class="literal">INFORMATION_SCHEMA.ROUTINES</code> table to crash
        the server.
       (<a href="http://bugs.mysql.com/18177" target="_top">Bug#18177</a>)</p></li><li><p>
        A <code class="literal">UNION</code> over more than 128
        <code class="literal">SELECT</code> statements that use an aggregate
        function failed.
       (<a href="http://bugs.mysql.com/18175" target="_top">Bug#18175</a>)</p></li><li><p>
        Updates to a <code class="literal">MEMORY</code> table caused the size of
        <code class="literal">BTREE</code> indexes for the table to increase.
       (<a href="http://bugs.mysql.com/18160" target="_top">Bug#18160</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT</code> queries sometimes returned
        only the last row.
       (<a href="http://bugs.mysql.com/18068" target="_top">Bug#18068</a>)</p></li><li><p>
        Returning the value of a system variable from a stored function
        caused a server crash.
       (<a href="http://bugs.mysql.com/18037" target="_top">Bug#18037</a>)</p></li><li><p>
        An update that used a join of a table to itself and modified the
        table on both sides of the join reported the table as crashed.
       (<a href="http://bugs.mysql.com/18036" target="_top">Bug#18036</a>)</p></li><li><p>
        Race conditions on certain platforms could cause the Instance
        Manager to try to restart the same instance multiple times.
       (<a href="http://bugs.mysql.com/18023" target="_top">Bug#18023</a>)</p></li><li><p>
        For a reference to a non-existent index in <code class="literal">FORCE
        INDEX</code>, the error message referred to a column, not an
        index.
       (<a href="http://bugs.mysql.com/17873" target="_top">Bug#17873</a>)</p></li><li><p>
        The <code class="literal">sql_big_selects</code> system variable was not
        displayed by <code class="literal">SHOW VARIABLES</code>.
       (<a href="http://bugs.mysql.com/17849" target="_top">Bug#17849</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE</code> did not restore the length for
        packed keys in tables created under MySQL 4.x, which caused them
        to appear corrupt to <code class="literal">CHECK TABLE</code> but not to
        <code class="literal">REPAIR TABLE</code>.
       (<a href="http://bugs.mysql.com/17810" target="_top">Bug#17810</a>)</p></li><li><p>
        Results from <code class="literal">INFORMATION_SCHEMA.SCHEMATA</code>
        could contain uppercase information when
        <code class="literal">lower_case_table_names</code> was not 0.
       (<a href="http://bugs.mysql.com/17661" target="_top">Bug#17661</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... SELECT</code> did not always
        produce the proper column default value in
        <code class="literal">TRADITIONAL</code> SQL mode.
       (<a href="http://bugs.mysql.com/17626" target="_top">Bug#17626</a>)</p></li><li><p>
        A range access optimizer heuristic was invalid, causing some
        queries to be much slower in MySQL 5.0 than in 4.0.
       (<a href="http://bugs.mysql.com/17379" target="_top">Bug#17379</a>, <a href="http://bugs.mysql.com/18940" target="_top">Bug#18940</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> would not dump views that had
        become invalid because a table named in the view definition had
        been dropped. Instead, it quit with an error message. Now you
        can specify the <code class="option">--force</code> option to cause
        <span><strong class="command">mysqldump</strong></span> to keep going and write a SQL
        comment containing the view definition to the dump output.
       (<a href="http://bugs.mysql.com/17371" target="_top">Bug#17371</a>)</p></li><li><p>
        The <code class="option">--core-file-size</code> option for
        <span><strong class="command">mysqld_safe</strong></span> was effective only for
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/17353" target="_top">Bug#17353</a>)</p></li><li><p>
        On Windows, multiple clients simultaneously attempting to
        perform <code class="literal">ALTER TABLE</code> operations on an
        <code class="literal">InnoDB</code> table could deadlock.
       (<a href="http://bugs.mysql.com/17264" target="_top">Bug#17264</a>)</p></li><li><p>
        The binary log would create an incorrect <code class="literal">DROP</code>
        query when creating temporary tables during replication.
       (<a href="http://bugs.mysql.com/17263" target="_top">Bug#17263</a>)</p></li><li><p>
        Revised memory allocation for local objects within stored
        functions and triggers to avoid memory leak for repeated
        function or trigger invocation.
       (<a href="http://bugs.mysql.com/17260" target="_top">Bug#17260</a>)</p></li><li><p>
        Multiple calls to a stored procedure that selects from
        <code class="literal">INFORMATION_SCHEMA</code> could cause a server
        crash.
       (<a href="http://bugs.mysql.com/17204" target="_top">Bug#17204</a>)</p></li><li><p>
        Views created from prepared statements inside of stored
        procedures were created with a definition that included both
        <code class="literal">SQL_CACHE</code> and
        <code class="literal">SQL_NO_CACHE</code>.
       (<a href="http://bugs.mysql.com/17203" target="_top">Bug#17203</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> wrote an extra pair of
        <code class="literal">DROP DATABASE</code> and <code class="literal">CREATE
        DATABASE</code> statements if run with the
        <code class="option">--add-drop-database</code> option and the database
        contained views.
       (<a href="http://bugs.mysql.com/17201" target="_top">Bug#17201</a>)</p></li><li><p>
        A <span class="errortext">Table ... doesn't exist</span> error could
        occur for statements that called a function defined in another
        database.
       (<a href="http://bugs.mysql.com/17199" target="_top">Bug#17199</a>)</p></li><li><p>
        For certain <code class="literal">CREATE TABLE ... SELECT</code>
        statements, the selected values were truncated when inserted
        into the new table.
       (<a href="http://bugs.mysql.com/17048" target="_top">Bug#17048</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE</code> on a table created prior to 5.0.3
        would cause table corruption if the <code class="literal">ALTER
        TABLE</code> did one of the following:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Change the default value of a column.
          </p></li><li><p>
            Change the table comment.
          </p></li><li><p>
            Change the table password.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/17001" target="_top">Bug#17001</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> table deadlock was possible if one
        thread issued a <code class="literal">LOCK TABLES</code> request for write
        locks and then an administrative statement such as
        <code class="literal">OPTIMIZE TABLE</code>, if between the two statements
        another client meanwhile issued a multiple-table
        <code class="literal">SELECT</code> for some of the locked tables.
       (<a href="http://bugs.mysql.com/16986" target="_top">Bug#16986</a>)</p></li><li><p>
        Symlinking <code class="filename">.mysql_history</code> to
        <code class="filename">/dev/null</code> to suppress statement history
        saving by <span><strong class="command">mysql</strong></span> did not work.
        (<span><strong class="command">mysql</strong></span> deleted the symlink and recreated
        <code class="filename">.mysql_history</code> as a regular file, and then
        wrote history to it.)
       (<a href="http://bugs.mysql.com/16803" target="_top">Bug#16803</a>)</p></li><li><p>
        Concatenating the results of multiple constant subselects
        produced incorrect results.
       (<a href="http://bugs.mysql.com/16716" target="_top">Bug#16716</a>)</p></li><li><p>
        Privilege checking on the contents of the
        <code class="literal">INFORMATION_SCHEMA.VIEWS</code> table was
        insufficiently restrictive.
       (<a href="http://bugs.mysql.com/16681" target="_top">Bug#16681</a>)</p></li><li><p>
        <span><strong class="command">mysqlcheck</strong></span> tried to check views instead of
        ignoring them.
       (<a href="http://bugs.mysql.com/16502" target="_top">Bug#16502</a>)</p></li><li><p>
        <a href="functions.html#function_is-used-lock"><code class="literal">IS_USED_LOCK()</code></a> could return an
        incorrect connection identifier.
       (<a href="http://bugs.mysql.com/16501" target="_top">Bug#16501</a>)</p></li><li><p>
        Concurrent reading and writing of privilege structures could
        crash the server.
       (<a href="http://bugs.mysql.com/16372" target="_top">Bug#16372</a>)</p></li><li><p>
        Grant table modifications sometimes did not refresh the
        in-memory tables if the hostname was <code class="literal">''</code> or
        not specified.
       (<a href="http://bugs.mysql.com/16297" target="_top">Bug#16297</a>)</p></li><li><p>
        The <code class="literal">sql_notes</code> and
        <code class="literal">sql_warnings</code> system variables were not always
        displayed correctly by <code class="literal">SHOW VARIABLES</code> (for
        example, they were displayed as <code class="literal">ON</code> after
        being set to <code class="literal">OFF</code>).
       (<a href="http://bugs.mysql.com/16195" target="_top">Bug#16195</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value for columns
        created from <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> could be
        incorrect when the collation of an argument differed from the
        collation of the <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>
        itself. In some contexts such as <code class="literal">UNION</code>, this
        could lead to truncation of the column contents.
       (<a href="http://bugs.mysql.com/15962" target="_top">Bug#15962</a>)</p></li><li><p>
        The server no longer uses a signal handler for signal 0 because
        it could cause a crash on some platforms.
       (<a href="http://bugs.mysql.com/15869" target="_top">Bug#15869</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but did not prevent creation
        of such an index.
       (<a href="http://bugs.mysql.com/15860" target="_top">Bug#15860</a>)</p></li><li><p>
        Long multiple-row <code class="literal">INSERT</code> statements could
        take a very long time for some multi-byte character sets.
       (<a href="http://bugs.mysql.com/15811" target="_top">Bug#15811</a>)</p></li><li><p>
        The <code class="literal">system_time_zone</code> and
        <code class="literal">version_*</code> system variables could not be
        accessed via <code class="literal">SELECT
        @@<em class="replaceable"><code>var_name</code></em></code> syntax.
       (<a href="http://bugs.mysql.com/15684" target="_top">Bug#15684</a>, <a href="http://bugs.mysql.com/12792" target="_top">Bug#12792</a>)</p></li><li><p>
        <code class="literal">EXPLAIN ... SELECT INTO</code> caused the client to
        hang.
       (<a href="http://bugs.mysql.com/15463" target="_top">Bug#15463</a>)</p></li><li><p>
        Nested natural joins worked executed correctly when executed as
        a non-prepared statement could fail with an <code class="literal">Unknown
        column '<em class="replaceable"><code>col_name</code></em>' in 'field
        list'</code> error when executed as a prepared statement, due
        to a name resolution problem.
       (<a href="http://bugs.mysql.com/15355" target="_top">Bug#15355</a>)</p></li><li><p>
        The <code class="literal">MD5()</code> and <code class="literal">SHA()</code>
        functions treat their arguments as case-sensitive strings. But
        when they are compared, their arguments were compared as
        case-insensitive strings, which leads to two function calls with
        different arguments (and thus different results) compared as
        being identical. This can lead to a wrong decision made in the
        range optimizer and thus to an incorrect result set.
       (<a href="http://bugs.mysql.com/15351" target="_top">Bug#15351</a>)</p></li><li><p>
        Invalid escape sequences in option files caused MySQL programs
        that read them to abort.
       (<a href="http://bugs.mysql.com/15328" target="_top">Bug#15328</a>)</p></li><li><p>
        Re-executing a stored procedure with a complex stored procedure
        cursor query could lead to a server crash.
       (<a href="http://bugs.mysql.com/15217" target="_top">Bug#15217</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... SELECT ...</code> statements that
        used a stored function explicitly or implicitly (through a view)
        resulted in a <code class="literal">Table not locked</code> error.
       (<a href="http://bugs.mysql.com/15137" target="_top">Bug#15137</a>, <a href="http://bugs.mysql.com/12472" target="_top">Bug#12472</a>)</p></li><li><p>
        An invalid comparison between keys with index prefixes over
        multi-byte character fields could lead to incorrect result sets
        if the selected query execution plan used a range scan by an
        index prefix over a <code class="literal">UTF8</code> character field.
        This also caused incorrect results under similar circumstances
        with many other character sets.
       (<a href="http://bugs.mysql.com/14896" target="_top">Bug#14896</a>)</p></li><li><p>
        A view with a non-existent account in the
        <code class="literal">DEFINER</code> clause caused <code class="literal">SHOW CREATE
        VIEW</code> to fail. Now <code class="literal">SHOW CREATE VIEW</code>
        issues a warning instead.
       (<a href="http://bugs.mysql.com/14875" target="_top">Bug#14875</a>)</p></li><li><p>
        For <code class="literal">BOOLEAN</code> mode full-text searches on
        non-indexed columns, <code class="literal">NULL</code> rows generated by a
        <code class="literal">LEFT JOIN</code> caused incorrect query results.
       (<a href="http://bugs.mysql.com/14708" target="_top">Bug#14708</a>, <a href="http://bugs.mysql.com/25637" target="_top">Bug#25637</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> did not display the
        <code class="literal">AUTO_INCREMENT</code> column attribute if the SQL
        mode was <code class="literal">MYSQL323</code> or
        <code class="literal">MYSQL40</code>. This also affected
        <span><strong class="command">mysqldump</strong></span>, which uses <code class="literal">SHOW CREATE
        TABLE</code> to get table definitions.
       (<a href="http://bugs.mysql.com/14515" target="_top">Bug#14515</a>)</p></li><li><p>
        Some queries were slower in 5.0 than in 4.1 because some 4.1
        cost-evaluation code had not been merged into 5.0.
       (<a href="http://bugs.mysql.com/14292" target="_top">Bug#14292</a>)</p></li><li><p>
        The binary log lacked character set information for table names
        when dropping temporary tables.
       (<a href="http://bugs.mysql.com/14157" target="_top">Bug#14157</a>)</p></li><li><p>
        The result from <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> is a
        string, but was not always treated the same way as a string when
        converted to a real value for an arithmetic operation.
       (<a href="http://bugs.mysql.com/13975" target="_top">Bug#13975</a>)</p></li><li><p>
        RPM packages had spurious dependencies on Perl modules and other
        programs.
       (<a href="http://bugs.mysql.com/13634" target="_top">Bug#13634</a>)</p></li><li><p>
        <code class="literal">REPLACE</code> statements caused activation of
        <code class="literal">UPDATE</code> triggers, not
        <code class="literal">DELETE</code> and <code class="literal">INSERT</code>
        triggers.
       (<a href="http://bugs.mysql.com/13479" target="_top">Bug#13479</a>)</p></li><li><p>
        With settings of <code class="literal">read_buffer_size</code> &gt;= 2G
        and <code class="literal">read_rnd_buffer_size</code> &gt;=2G,
        <code class="literal">LOAD DATA INFILE</code> failed with no error message
        or caused a server crash for files larger than 2GB.
       (<a href="http://bugs.mysql.com/12982" target="_top">Bug#12982</a>)</p></li><li><p>
        A <code class="literal">B-TREE</code> index on a <code class="literal">MEMORY</code>
        table erroneously reported duplicate entry error for multiple
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/12873" target="_top">Bug#12873</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> in a stored
        function or trigger (or in a stored procedure called from a
        stored function or trigger) caused an error.
       (<a href="http://bugs.mysql.com/11081" target="_top">Bug#11081</a>)</p></li><li><p>
        <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> returned an error if
        the file did not exist, rather than <code class="literal">NULL</code> as
        it should according to the manual.
       (<a href="http://bugs.mysql.com/10418" target="_top">Bug#10418</a>)</p></li><li><p>
        When <span><strong class="command">myisamchk</strong></span> needed to rebuild a table,
        <code class="literal">AUTO_INCREMENT</code> information was lost.
       (<a href="http://bugs.mysql.com/10405" target="_top">Bug#10405</a>)</p></li><li><p>
        For certain <code class="literal">CREATE VIEW</code> statements, the
        server did not detect invalid subqueries within the
        <code class="literal">SELECT </code> part.
       (<a href="http://bugs.mysql.com/7549" target="_top">Bug#7549</a>)</p></li><li><p>
        Within a trigger, <code class="literal">SET</code> used the SQL mode of
        the invoking statement, not the mode in effect at trigger
        creation time.
       (<a href="http://bugs.mysql.com/6951" target="_top">Bug#6951</a>)</p></li><li><p>
        An invalid <code class="literal">GRANT</code> statement for which
        <code class="literal">Ok</code> was returned on a replication master
        caused an error on the slave and replication to fail.
       (<a href="http://bugs.mysql.com/6774" target="_top">Bug#6774</a>)</p></li><li><p>
        Some queries that used <code class="literal">ORDER BY</code> and
        <code class="literal">LIMIT</code> performed quickly in MySQL 3.23, but
        slowly in MySQL 4.x/5.x due to an optimizer problem.
       (<a href="http://bugs.mysql.com/4981" target="_top">Bug#4981</a>)</p></li><li><p>
        The <code class="literal">basedir</code> and <code class="literal">tmpdir</code>
        system variables could not be accessed via
        <code class="literal">@@<em class="replaceable"><code>var_name</code></em></code> syntax.
       (<a href="http://bugs.mysql.com/1039" target="_top">Bug#1039</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-22"></a>E.1.7. Changes in  MySQL 5.0.22 (24 May 2006)</h3></div></div></div><p class="release-level">
      This is a security fix release for the previous production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        An SQL-injection security hole has been found in multi-byte
        encoding processing. The bug was in the server, incorrectly
        parsing the string escaped with the
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> C
        API function.
      </p><p>
        This vulnerability was discovered and reported by Josh Berkus
        <code class="email">&lt;<a href="mailto:josh@postgresql.org">josh@postgresql.org</a>&gt;</code> and Tom Lane
        <code class="email">&lt;<a href="mailto:tgl@sss.pgh.pa.us">tgl@sss.pgh.pa.us</a>&gt;</code> as part of the inter-project
        security collaboration of the OSDB consortium. For more
        information about SQL injection, please see the following text.
      </p><p><b>Discussion. </b>
          An SQL injection security hole has been found in multi-byte
          encoding processing. An SQL injection security hole can
          include a situation whereby when a user supplied data to be
          inserted into a database, the user might inject SQL statements
          into the data that the server will execute. With regards to
          this vulnerability, when character set-unaware escaping is
          used (for example, <code class="literal">addslashes()</code> in PHP), it
          is possible to bypass the escaping in some multi-byte
          character sets (for example, SJIS, BIG5 and GBK). As a result,
          a function such as <code class="literal">addslashes()</code> is not able
          to prevent SQL-injection attacks. It is impossible to fix this
          on the server side. The best solution is for applications to
          use character set-aware escaping offered by a function such
          <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>.
        </p><p>
        However, a bug was detected in how the MySQL server parses the
        output of
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>. As
        a result, even when the character set-aware function
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> was
        used, SQL injection was possible. This bug has been fixed.
      </p><p><b>Workarounds. </b>
          If you are unable to upgrade MySQL to a version that includes
          the fix for the bug in
          <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>
          parsing, but run MySQL 5.0.1 or higher, you can use the
          <code class="literal">NO_BACKSLASH_ESCAPES</code> SQL mode as a
          workaround. (This mode was introduced in MySQL 5.0.1.)
          <code class="literal">NO_BACKSLASH_ESCAPES</code> enables an SQL
          standard compatibility mode, where backslash is not considered
          a special character. The result will be that queries will
          fail.
        </p><p>
        To set this mode for the current connection, enter the following
        SQL statement:
      </p><pre class="programlisting">SET sql_mode='NO_BACKSLASH_ESCAPES';
</pre><p>
        You can also set the mode globally for all clients:
      </p><pre class="programlisting">SET GLOBAL sql_mode='NO_BACKSLASH_ESCAPES';
</pre><p>
        This SQL mode also can be enabled automatically when the server
        starts by using the command-line option
        <code class="option">--sql-mode=NO_BACKSLASH_ESCAPES</code> or by setting
        <code class="literal">sql-mode=NO_BACKSLASH_ESCAPES</code> in the server
        option file (for example, <code class="filename">my.cnf</code> or
        <code class="filename">my.ini</code>, depending on your system).
       (<a href="http://bugs.mysql.com/8378" target="_top">Bug#8378</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-2753" target="_top">CVE-2006-2753</a>)</p><p>See also <a href="http://bugs.mysql.com/8303" target="_top">Bug#8303</a></p></li><li><p>
        The dropping of a temporary table whose name contained a
        backtick ('<code class="literal">`</code>') character was not correctly
        written to the binary log, which also caused it not to be
        replicated correctly.
       (<a href="http://bugs.mysql.com/19188" target="_top">Bug#19188</a>)</p></li><li><p>
        The client libraries were not compiled for position-independent
        code on Solaris-SPARC and AMD x86_64 platforms.
       (<a href="http://bugs.mysql.com/18091" target="_top">Bug#18091</a>, <a href="http://bugs.mysql.com/13159" target="_top">Bug#13159</a>, <a href="http://bugs.mysql.com/14202" target="_top">Bug#14202</a>)</p></li><li><p>
        Running <span><strong class="command">myisampack</strong></span> followed by
        <span><strong class="command">myisamchk</strong></span> with the <code class="option">--unpack</code>
        option would corrupt the <code class="literal">auto_increment</code> key.
       (<a href="http://bugs.mysql.com/12633" target="_top">Bug#12633</a>)</p></li><li><p>
        The patch for <a href="http://bugs.mysql.com/8303" target="_top">Bug#8303</a> broke the fix for <a href="http://bugs.mysql.com/8378" target="_top">Bug#8378</a> and was
        undone. (In string literals with an escape character
        (<code class="literal">\</code>) followed by a multi-byte character that
        has a second byte of (<code class="literal">\</code>), the literal was not
        interpreted correctly. The next byte now is escaped, not the
        entire multi-byte character. This means it a strict reverse of
        the <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>
        function.)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-21"></a>E.1.8. Changes in  MySQL 5.0.21 (02 May 2006)</h3></div></div></div><p>
        This MySQL 5.0.21 release includes the patches for recently
        reported security vulnerabilites in the MySQL client-server
        protocol. We would like to thank Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        reporting these to us.
      </p><p class="release-level">
      This is a bugfix release for the current production release
      family.
    </p><p>This section documents all changes and bug fixes that have been applied since the last official MySQL release. If you would like to receive more fine-grained and personalized <span class="emphasis"><em>update alerts</em></span> about fixes that are relevant to the version and features you use, please consider subscribing to <span class="emphasis"><em>MySQL Enterprise</em></span> (a commercial MySQL offering). For more details please see <a href="http://www.mysql.com/products/enterprise" target="_top">http://www.mysql.com/products/enterprise</a>.</p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Added the global <code class="literal">max_prepared_stmt_count</code>
        system variable to limit the total number of prepared statements
        in the server. This limits the potential for denial-of-service
        attacks based on running the server out of memory by preparing
        huge numbers of statements. The current number of prepared
        statements is available through the
        <code class="literal">prepared_stmt_count</code> system variable.
       (<a href="http://bugs.mysql.com/16365" target="_top">Bug#16365</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to perform a partial start of a cluster. That
        is, it is now possible to bring up the cluster without first
        running <span><strong class="command">ndbd <code class="option">--initial</code></strong></span> on
        all configured data nodes.
       (<a href="http://bugs.mysql.com/18606" target="_top">Bug#18606</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Added the <code class="option">--nowait-nodes</code> startup option for
        <span><strong class="command">ndbd</strong></span>, making it possible to skip specified
        nodes without waiting for them to start when starting the
        cluster. See
        <a href="mysql-cluster.html#mysql-cluster-ndbd-command-options" title="16.6.5.1. Command Options for ndbd">Section 16.6.5.1, “Command Options for <span><strong class="command">ndbd</strong></span>”</a>.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to install MySQL with Cluster support to a
        non-default location and change the search path for font
        description files using either the <code class="option">--basedir</code> or
        <code class="option">--character-sets-dir</code> options. (Previously in
        MySQL 5.0, <span><strong class="command">ndbd</strong></span> searched only the default
        path for character sets.)
      </p></li><li><p><span class="bold"><strong>Packaging</strong></span>: 
        The
        <code class="literal">MySQL-shared-compat-5.0.<em class="replaceable"><code>X</code></em>-.i386.rpm</code>
        shared compatibility RPMs no longer contain libraries for MySQL
        5.1. This avoids a conflict because the 5.0 and 5.1 libraries
        share the same soname number. They now contain libraries for
        MySQL 3.23, 4.0, 4.1, and 5.0 only.
       (<a href="http://bugs.mysql.com/19288" target="_top">Bug#19288</a>)</p></li><li><p>
        The default for the <code class="literal">innodb_thread_concurrency</code>
        system variable was changed to <code class="literal">8</code>.
       (<a href="http://bugs.mysql.com/15868" target="_top">Bug#15868</a>)</p></li><li><p>
        Server and clients ignored the <code class="option">--sysconfdir</code>
        option that was passed to <span><strong class="command">configure</strong></span>. The
        directory specified by this option, if set, now is used as one
        of the standard locations in which to look for option files.
       (<a href="http://bugs.mysql.com/15069" target="_top">Bug#15069</a>)</p></li><li><p>
        In result set metadata, the
        <code class="literal">MYSQL_FIELD.length</code> value for
        <code class="literal">BIT</code> columns now is reported in number of
        bits. For example, the value for a <code class="literal">BIT(9)</code>
        column is 9. (Formerly, the value was related to number of
        bytes.)
       (<a href="http://bugs.mysql.com/13601" target="_top">Bug#13601</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Invalid arguments to
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> caused a server
        crash. Thanks to Jean-David Maillefer for discovering and
        reporting this problem to the Debian project and to Christian
        Hammers from the Debian Team for notifying us of it.
       (<a href="http://bugs.mysql.com/20729" target="_top">Bug#20729</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-3469" target="_top">CVE-2006-3469</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malicious client, using specially crafted invalid
        <code class="literal">COM_TABLE_DUMP</code> packets was able to trigger an
        exploitable buffer overflow on the server. Thanks to Stefano Di
        Paola <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        reporting this bug.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1518" target="_top">CVE-2006-1518</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A malicious client, using specially crafted invalid login or
        <code class="literal">COM_TABLE_DUMP</code> packets was able to read
        uninitialized memory, which potentially, though unlikely in
        MySQL, could have led to an information disclosure. (, ) Thanks
        to Stefano Di Paola <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for
        finding and reporting this bug.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1516" target="_top">CVE-2006-1516</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-1517" target="_top">CVE-2006-1517</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A simultaneous <code class="literal">DROP TABLE</code> and table update
        operation utilising a table scan could trigger a node failure.
       (<a href="http://bugs.mysql.com/18597" target="_top">Bug#18597</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When multiple node restarts were attempted without allowing each
        restart to complete, the error message returned was
        <span class="errortext">Array index out of bounds</span> rather than
        <span class="errortext">Too many crashed replicas</span>.
       (<a href="http://bugs.mysql.com/18349" target="_top">Bug#18349</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In a 2-node cluster with a node failure, restarting the node
        with a low value for <code class="literal">StartPartialTimeout</code>
        could cause the cluster to come up partitioned
        (“<span class="quote">split-brain</span>” issue).
      </p><p>
        A similar issue could occur when the cluster was first started
        with a sufficiently low value for this parameter.
       (<a href="http://bugs.mysql.com/16447" target="_top">Bug#16447</a>, <a href="http://bugs.mysql.com/18612" target="_top">Bug#18612</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On systems with multiple network interfaces, data nodes would
        get “<span class="quote">stuck</span>” in startup phase 2 if the interface
        connecting them to the management server was working on node
        startup while the interface interconnecting the data nodes
        experienced a temporary outage.
       (<a href="http://bugs.mysql.com/15695" target="_top">Bug#15695</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        On slow networks or CPUs, the management client
        <code class="literal">SHOW</code> command could sometimes erroneously show
        all data nodes as being master nodes belonging to nodegroup 0.
       (<a href="http://bugs.mysql.com/15530" target="_top">Bug#15530</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Unused open handlers for tables in which the metadata had
        changed were not properly closed. This could result in stale
        results from <code class="literal">NDB</code> tables following an
        <code class="literal">ALTER TABLE</code> statement.
       (<a href="http://bugs.mysql.com/13228" target="_top">Bug#13228</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Uninitialized internal variables could lead to unexpected
        results.
       (<a href="http://bugs.mysql.com/11033" target="_top">Bug#11033</a>, <a href="http://bugs.mysql.com/11034" target="_top">Bug#11034</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to create an index on a <code class="literal">BIT</code>
        or <code class="literal">BLOB</code> column, <span class="errortext">Error 743:
        Unsupported character set in table or index</span> was
        returned instead of <span class="errortext">Error 906: Unsupported attribute
        type in index</span>.
      </p></li><li><p>
        <code class="literal">InnoDB</code> could read a delete mark from its
        system tables incorrectly.
       (<a href="http://bugs.mysql.com/19217" target="_top">Bug#19217</a>)</p></li><li><p>
        Corrected a syntax error in
        <span><strong class="command">mysql-test-run.sh</strong></span>.
       (<a href="http://bugs.mysql.com/19190" target="_top">Bug#19190</a>)</p></li><li><p>
        Index corruption could occur in cases when
        <code class="literal">key_cache_block_size</code> was not a multiple of
        <code class="literal">myisam_block_size</code> (for example, with
        <code class="literal">key_cache_block_size=1536</code> and
        <code class="literal">myisam_block_size=1024</code>).
       (<a href="http://bugs.mysql.com/19079" target="_top">Bug#19079</a>)</p></li><li><p>
        The optimizer could cause a server crash or use a non-optimal
        subset of indexes when evaluating whether to use <code class="literal">Index
        Merge/Intersection</code> variant of
        <code class="literal">index_merge</code> optimization.
       (<a href="http://bugs.mysql.com/19021" target="_top">Bug#19021</a>)</p></li><li><p>
        A missing <code class="literal">DBUG_RETURN()</code> caused the server
        to emit a spurious error message: <code class="literal">missing DBUG_RETURN
        or DBUG_VOID_RETURN macro in function
        "open_table"</code>.
       (<a href="http://bugs.mysql.com/18964" target="_top">Bug#18964</a>)</p></li><li><p>
        Creating a table in an <code class="literal">InnoDB</code> database with a
        column name that matched the name of an internal
        <code class="literal">InnoDB</code> column (including
        <code class="literal">DB_ROW_ID</code>, <code class="literal">DB_TRX_ID</code>,
        <code class="literal">DB_ROLL_PTR</code> and <code class="literal">DB_MIX_ID</code>)
        would cause a crash. MySQL now returns Error 1005
        <span class="errortext">Cannot create table</span> with
        <code class="literal">errno</code> set to -1.
       (<a href="http://bugs.mysql.com/18934" target="_top">Bug#18934</a>)</p></li><li><p>
        MySQL would not compile on Linux distributions that use the
        <code class="literal">tinfo</code> library.
       (<a href="http://bugs.mysql.com/18912" target="_top">Bug#18912</a>)</p></li><li><p>
        <code class="literal">mysql_reconnect()</code> sent a <code class="literal">SET
        NAMES</code> statement to the server, even for pre-4.1
        servers that do not understand the statement.
       (<a href="http://bugs.mysql.com/18830" target="_top">Bug#18830</a>)</p></li><li><p>
        For a reference to a non-existent stored function in a stored
        routine that had a <code class="literal">CONTINUE</code> handler, the
        server continued as though a useful result had been returned,
        possibly resulting in a server crash.
       (<a href="http://bugs.mysql.com/18787" target="_top">Bug#18787</a>)</p></li><li><p>
        For single-<code class="literal">SELECT</code> union constructs of the
        form (SELECT ... ORDER BY <em class="replaceable"><code>order_list1</code></em>
        [LIMIT <em class="replaceable"><code>n</code></em>]) ORDER BY
        <em class="replaceable"><code>order_list2</code></em>, the <code class="literal">ORDER
        BY</code> lists were concatenated and the
        <code class="literal">LIMIT</code> clause was ignored.
       (<a href="http://bugs.mysql.com/18767" target="_top">Bug#18767</a>)</p></li><li><p>
        <code class="literal">CREATE VIEW</code> statements would not be
        replicated to the slave if the
        <code class="option">--replicate-wild-ignore-table</code> rule was enabled.
       (<a href="http://bugs.mysql.com/18715" target="_top">Bug#18715</a>)</p></li><li><p>
        Conversion of a number to a <code class="literal">CHAR UNICODE</code>
        string returned an invalid result.
       (<a href="http://bugs.mysql.com/18691" target="_top">Bug#18691</a>)</p></li><li><p>
        <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS(NULL)</code></a> could cause
        subsequent <a href="functions.html#function_uncompress"><code class="literal">UNCOMPRESS()</code></a> calls to
        return <code class="literal">NULL</code> for legal
        non-<code class="literal">NULL</code> arguments.
       (<a href="http://bugs.mysql.com/18643" target="_top">Bug#18643</a>)</p></li><li><p>
        If the second or third argument to
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> was a constant
        expression such as <code class="literal">'2005-09-01 - INTERVAL 6
        MONTH</code> and the other two arguments were columns,
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> was evaluated
        incorrectly.
       (<a href="http://bugs.mysql.com/18618" target="_top">Bug#18618</a>)</p></li><li><p>
        A <code class="literal">LOCK TABLES</code> statement that failed could
        cause <code class="literal">MyISAM</code> not to update table statistics
        properly, causing a subsequent <code class="literal">CHECK TABLE</code> to
        report table corruption.
       (<a href="http://bugs.mysql.com/18544" target="_top">Bug#18544</a>)</p></li><li><p>
        The yaSSL library returned a cipher list in a manner
        incompatible with OpenSSL.
       (<a href="http://bugs.mysql.com/18399" target="_top">Bug#18399</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> did not use a consistent read for
        <code class="literal">CREATE ... SELECT</code> when
        <code class="literal">innodb_locks_unsafe_for_binlog</code> was set.
       (<a href="http://bugs.mysql.com/18350" target="_top">Bug#18350</a>)</p></li><li><p>
        <code class="literal">DROP DATABASE</code> did not drop stored routines
        associated with the database if the database name was longer
        than 21 characters.
       (<a href="http://bugs.mysql.com/18344" target="_top">Bug#18344</a>)</p></li><li><p>
        The euro sign (<code class="literal">€</code>) was not stored
        correctly in columns using the
        <code class="literal">latin1_german1_ci</code> or
        <code class="literal">latin1_general_ci</code> collation.
       (<a href="http://bugs.mysql.com/18321" target="_top">Bug#18321</a>)</p></li><li><p>
        A recent change caused the <span><strong class="command">mysql</strong></span> client not
        to display <code class="literal">NULL</code> values correctly and to
        display numeric columns left-justified rather than
        right-justified. The problems have been corrected.
       (<a href="http://bugs.mysql.com/18265" target="_top">Bug#18265</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(*)</code></a> on a
        <code class="literal">MyISAM</code> table could return different results
        for the base table and a view on the base table.
       (<a href="http://bugs.mysql.com/18237" target="_top">Bug#18237</a>)</p></li><li><p>
        <a href="functions.html#function_extract"><code class="literal">EXTRACT(QUARTER FROM
        <em class="replaceable"><code>date</code></em>)</code></a> returned unexpected
        results.
       (<a href="http://bugs.mysql.com/18100" target="_top">Bug#18100</a>)</p></li><li><p>
        Executing <code class="literal">SELECT</code> on a large table that had
        been compressed within <span><strong class="command">myisampack</strong></span> could cause
        a crash.
       (<a href="http://bugs.mysql.com/17917" target="_top">Bug#17917</a>)</p></li><li><p>
        Updating a field value when also requesting a lock with
        <a href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> would cause slave
        servers in a replication environment to terminate.
       (<a href="http://bugs.mysql.com/17284" target="_top">Bug#17284</a>)</p></li><li><p>
        Casting a string to <code class="literal">DECIMAL</code> worked, but
        casting a trimmed string (using
        <a href="functions.html#function_ltrim"><code class="literal">LTRIM()</code></a> or
        <a href="functions.html#function_rtrim"><code class="literal">RTRIM()</code></a>) resulted in loss of
        decimal digits.
       (<a href="http://bugs.mysql.com/17043" target="_top">Bug#17043</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run</strong></span> could not be run as
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/17002" target="_top">Bug#17002</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT DISTINCT
        <em class="replaceable"><code>timestamp_column</code></em> WHERE
        <em class="replaceable"><code>date_function</code></em>(<em class="replaceable"><code>timestamp_col</code></em>)
        = <em class="replaceable"><code>constant</code></em></code> did not return
        all matching rows.
       (<a href="http://bugs.mysql.com/16710" target="_top">Bug#16710</a>)</p></li><li><p>
        IA-64 RPM packages for Red Hat and SuSE Linux that were built
        with the <span><strong class="command">icc</strong></span> compiler incorrectly depended on
        <span><strong class="command">icc</strong></span> runtime libraries.
       (<a href="http://bugs.mysql.com/16662" target="_top">Bug#16662</a>)</p></li><li><p>
        <code class="literal">MySQL-shared-compat-5.0.13-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.15-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.18-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.19-0.i386.rpm</code>,
        <code class="literal">MySQL-shared-compat-5.0.20-0.i386.rpm</code>, and
        <code class="literal">MySQL-shared-compat-5.0.20a-0.i386.rpm</code>
        incorrectly depended on <code class="literal">glibc</code> 2.3 and could
        not be installed on a <code class="literal">glibc</code> 2.2 system.
       (<a href="http://bugs.mysql.com/16539" target="_top">Bug#16539</a>)</p></li><li><p>
        The presence of multiple equalities in a condition after reading
        a constant table could cause the optimizer not to use an index.
        This resulted in certain queries being much slower than in MySQL
        4.1.
       (<a href="http://bugs.mysql.com/16504" target="_top">Bug#16504</a>)</p></li><li><p>
        Within a trigger,
        <a href="functions.html#function_connection-id"><code class="literal">CONNECTION_ID()</code></a> did not return
        the connection ID of the thread that caused the trigger to be
        activated.
       (<a href="http://bugs.mysql.com/16461" target="_top">Bug#16461</a>)</p></li><li><p>
        For tables created in a MySQL 4.1 installation upgraded to MySQL
        5.0 and up, multiple-table updates could update only the first
        matching row.
       (<a href="http://bugs.mysql.com/16281" target="_top">Bug#16281</a>)</p></li><li><p>
        A query using WHERE (<em class="replaceable"><code>column_1</code></em>,
        <em class="replaceable"><code>column_2</code></em>) IN
        ((<em class="replaceable"><code>value_1</code></em>,
        <em class="replaceable"><code>value_2</code></em>)[, (..., ...), ...]) would
        return incorrect results.
       (<a href="http://bugs.mysql.com/16248" target="_top">Bug#16248</a>)</p></li><li><p>
        For <span><strong class="command">mysql.server</strong></span>, if the
        <code class="option">basedir</code> option was specified after
        <code class="option">datadir</code> in an option file, the setting for
        <code class="literal">datadir</code> was ignored and assumed to be located
        under <code class="literal">basedir</code>.
       (<a href="http://bugs.mysql.com/16240" target="_top">Bug#16240</a>)</p></li><li><p>
        If the first argument to
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> was a
        <code class="literal">DATE</code> or <code class="literal">TIME</code> column of a
        view and the other arguments were constants,
        <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> did not perform
        conversion of the constants to the appropriate temporary type,
        resulting in incorrect evaluation.
       (<a href="http://bugs.mysql.com/16069" target="_top">Bug#16069</a>)</p></li><li><p>
        After calling <code class="literal">FLUSH STATUS</code>, the
        <code class="literal">max_used_connections</code> variable did not
        increment for existing connections and connections which use the
        thread cache.
       (<a href="http://bugs.mysql.com/15933" target="_top">Bug#15933</a>)</p></li><li><p>
        Lettercase in database name qualifiers was not consistently
        handled properly in queries when
        <code class="literal">lower_case_table_names</code> was set to 1.
       (<a href="http://bugs.mysql.com/15917" target="_top">Bug#15917</a>)</p></li><li><p>
        <code class="literal">DELETE</code> and <code class="literal">UPDATE</code>
        statements that used large <code class="literal">NOT IN
        (<em class="replaceable"><code>value_list</code></em>)</code> clauses could
        use large amounts of memory.
       (<a href="http://bugs.mysql.com/15872" target="_top">Bug#15872</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> failure to release an adaptive hash
        index latch could cause a server crash if the query cache was
        enabled.
       (<a href="http://bugs.mysql.com/15758" target="_top">Bug#15758</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> in a stored
        function or trigger returned zero. .
       (<a href="http://bugs.mysql.com/15728" target="_top">Bug#15728</a>)</p></li><li><p>
        <code class="literal">DELETE</code> with <code class="literal">LEFT JOIN</code> for
        <code class="literal">InnoDB</code> tables could crash the server if
        <code class="literal">innodb_locks_unsafe_for_binlog</code> was enabled.
       (<a href="http://bugs.mysql.com/15650" target="_top">Bug#15650</a>)</p></li><li><p>
        When running a query that contained a
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT(SELECT GROUP_CONCAT(...)
        )</code></a>, the result was <code class="literal">NULL</code> except in
        the <code class="literal">ROLLUP</code> part of the result, if there was
        one.
       (<a href="http://bugs.mysql.com/15560" target="_top">Bug#15560</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> in a view
        definition could result in spurious syntax or access errors.
       (<a href="http://bugs.mysql.com/15153" target="_top">Bug#15153</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>double</code></em> AS
        SIGNED INT)</code></a> for large
        <em class="replaceable"><code>double</code></em> values outside the signed
        integer range truncated the result to be within range, but the
        result sometimes had the wrong sign, and no warning was
        generated.
       (<a href="http://bugs.mysql.com/15098" target="_top">Bug#15098</a>)</p></li><li><p>
        <code class="literal">TRUNCATE</code> did not reset the
        <code class="literal">AUTO_INCREMENT</code> counter for
        <code class="literal">MyISAM</code> tables when issued inside a stored
        procedure.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This bug did not affect <code class="literal">InnoDB</code> tables.
        </p><p>
          In addition, <code class="literal">TRUNCATE</code> does not reset the
          <code class="literal">AUTO_INCREMENT</code> counter for
          <code class="literal">NDB</code> tables regardless of when it is called.
        </p></div><p>(<a href="http://bugs.mysql.com/14945" target="_top">Bug#14945</a>)</p><p>See also <a href="http://bugs.mysql.com/18864" target="_top">Bug#18864</a></p></li><li><p>
        For <code class="literal">InnoDB</code> tables, an expression of the form
        <code class="literal"><em class="replaceable"><code>col_name</code></em> BETWEEN
        <em class="replaceable"><code>col_name2</code></em> - INTERVAL
        <em class="replaceable"><code>x</code></em> DAY AND
        <em class="replaceable"><code>col_name2</code></em> + INTERVAL
        <em class="replaceable"><code>x</code></em> DAY</code> when used in a join
        returned incorrect results.
       (<a href="http://bugs.mysql.com/14360" target="_top">Bug#14360</a>)</p></li><li><p>
        Prevent recursive views caused by using <code class="literal">RENAME
        TABLE</code> on a view after creating it.
       (<a href="http://bugs.mysql.com/14308" target="_top">Bug#14308</a>)</p></li><li><p>
        <code class="literal">INSERT DELAYED</code> into a view caused an infinite
        loop.
       (<a href="http://bugs.mysql.com/13683" target="_top">Bug#13683</a>)</p></li><li><p>
        Avoid trying to include
        <code class="filename">&lt;asm/atomic.h&gt;</code> when it doesn't work
        in C++ code.
       (<a href="http://bugs.mysql.com/13621" target="_top">Bug#13621</a>)</p></li><li><p>
        Within stored routines, usernames were parsed incorrectly if
        they were enclosed within quotes.
       (<a href="http://bugs.mysql.com/13310" target="_top">Bug#13310</a>)</p></li><li><p>
        The server was always built as though
        <code class="option">--with-extra-charsets=complex</code> had been
        specified.
       (<a href="http://bugs.mysql.com/12076" target="_top">Bug#12076</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-20a"></a>E.1.9. Changes in  MySQL 5.0.20a (18 April 2006)</h3></div></div></div><p class="release-level">
      This is a bugfix release for the current production release
      family. It replaces MySQL 5.0.20.
    </p><p>Additional information about SSL support</p><div class="itemizedlist"><ul type="disc"><li><p>
        Please note that the original 5.0.20 announcement included
        inexact wording: SSL support is “<span class="quote">included</span>” in both
        server and client, but by default not “<span class="quote">enabled</span>”.
        SSL can be enabled by passing the SSL-related options
        (<code class="option">--ssl</code>, <code class="option">--ssl-key=...</code>,
        <code class="option">--ssl-cert=...</code>, <code class="option">--ssl-ca=...</code>)
        when starting the server and the client or by specifying these
        options in an option file. For more information, see
        <a href="server-administration.html#secure-connections" title="5.5.7. Using Secure Connections">Section 5.5.7, “Using Secure Connections”</a>.
      </p></li><li><p>
        With version 5.0.20a, SSL support is contained in all binaries
        for all Unix (including Linux) and Windows platforms except AIX,
        HP-UX, OpenServer 6, and the RPMs specific for RHAS3/RHAS4/SLES9
        on Itanium CPUs (<code class="literal">ia64</code>); It is also not
        contained in those for Novell Netware. We are trying to add
        these platforms in future versions.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The fix for “<span class="quote">Command line options are ignored for mysql
        client</span>” has been revoked because it introduced an
        incompatible change in the way the <span><strong class="command">mysql</strong></span>
        command-line client selects the server to connect to. In the
        worst case, this might have led to a client issuing commands to
        a server for which they were not intended, and this must not
        happen. To help all users in understanding this subject,
        <a href="programs.html#invoking-programs" title="4.2.1. Invoking MySQL Programs">Section 4.2.1, “Invoking MySQL Programs”</a> now includes additional
        explanation of how command options with regard to host
        selection.
       (<a href="http://bugs.mysql.com/16855" target="_top">Bug#16855</a>)</p></li><li><p>
        The code of the <code class="literal">yaSSL</code> library has been
        improved to avoid the dependency on a C++ runtime library, so a
        link with pure C applications is now possible on additional (but
        not yet all) platforms. We are working on fixing the remaining
        issues.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-20"></a>E.1.10. Changes in  MySQL 5.0.20 (31 March 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDBCluster</code> storage engine now supports
        <code class="literal">INSERT IGNORE</code> and <code class="literal">REPLACE</code>
        statements. Previously, these statements failed with an error.
       (<a href="http://bugs.mysql.com/17431" target="_top">Bug#17431</a>)</p></li><li><p>
        Builds for Windows, Linux, and Unix (except AIX) platforms now
        have SSL support enabled, in the server as well as in the client
        libraries. Because part of the SSL code is written in C++, this
        does introduce dependencies on the system's C++ runtime
        libraries in several cases, depending on compiler specifics.
       (<a href="http://bugs.mysql.com/18195" target="_top">Bug#18195</a>)</p></li><li><p>
        Large file support added to build for <code class="literal">QNX</code>
        platform.
       (<a href="http://bugs.mysql.com/17336" target="_top">Bug#17336</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The <code class="literal">InnoDB</code> storage
        engine now provides a descriptive error message if
        <code class="filename">ibdata</code> file information is omitted from
        <code class="filename">my.cnf</code>.
       (<a href="http://bugs.mysql.com/16827" target="_top">Bug#16827</a>)</p></li><li><p>
        Triggers from older servers that included no
        <code class="literal">DEFINER</code> clause in the trigger definition now
        execute with the privileges of the invoker (which on the slave
        is the slave SQL thread). Previously, replication slaves could
        not replicate such triggers.
       (<a href="http://bugs.mysql.com/16266" target="_top">Bug#16266</a>)</p></li><li><p>
        Added the <code class="option">--sysdate-is-now</code> option to
        <span><strong class="command">mysqld</strong></span> to enable
        <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> to be treated as an
        alias for <a href="functions.html#function_now"><code class="literal">NOW()</code></a>. See
        <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/15101" target="_top">Bug#15101</a>)</p></li><li><p>
        Large file support was re-enabled for the MySQL server binary
        for the AIX 5.2 platform.
       (<a href="http://bugs.mysql.com/13571" target="_top">Bug#13571</a>)</p></li><li><p>
        The syntax for <code class="literal">CREATE PROCEDURE</code> and
        <code class="literal">CREATE FUNCTION</code> statements now includes a
        <code class="literal">DEFINER</code> clause. The
        <code class="literal">DEFINER</code> value specifies the security context
        to be used when checking access privileges at routine invocation
        time if the routine has the <code class="literal">SQL SECURITY
        DEFINER</code> characteristic. See
        <a href="stored-procedures.html#create-procedure" title="18.2.1. CREATE PROCEDURE and CREATE
        FUNCTION Syntax">Section 18.2.1, “<code class="literal">CREATE PROCEDURE</code> and <code class="literal">CREATE
        FUNCTION</code> Syntax”</a>, for more information.
      </p><p>
        When <span><strong class="command">mysqldump</strong></span> is invoked with the
        <code class="option">--routines</code> option, it now dumps the
        <code class="literal">DEFINER</code> value for stored routines.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A timeout in the handling of an <code class="literal">ABORT</code>
        condition with more that 32 operations could yield a node
        failure.
       (<a href="http://bugs.mysql.com/18414" target="_top">Bug#18414</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node restart immediately following a <code class="literal">CREATE
        TABLE</code> would fail.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          This fix supports 2-node Clusters only.
        </p></div><p>(<a href="http://bugs.mysql.com/18385" target="_top">Bug#18385</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In event of a node failure during a rollback, a
        “<span class="quote">false</span>” lock could be established on the backup for
        that node, which lock could not be removed without restarting
        the node.
       (<a href="http://bugs.mysql.com/18352" target="_top">Bug#18352</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster created a crashed replica of a table having an
        ordered index — or when logging was not enabled, of a
        table having a table or unique index — leading to a crash
        of the cluster following 8 successive restarts.
       (<a href="http://bugs.mysql.com/18298" target="_top">Bug#18298</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When replacing a failed master node, the replacement node could
        cause the cluster to crash from a buffer overflow if it had an
        excessively large amount of data to write to the cluster log.
       (<a href="http://bugs.mysql.com/18118" target="_top">Bug#18118</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Certain queries using <code class="literal">ORDER BY ... ASC</code> in the
        <code class="literal">WHERE</code> clause could return incorrect results.
       (<a href="http://bugs.mysql.com/17729" target="_top">Bug#17729</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If a <span><strong class="command">mysql</strong></span> or other client could not parse
        the result set returned from a <span><strong class="command">mysqld</strong></span> process
        acting as an SQL node in a cluster, the client would crash
        instead of returning the appropriate error. For example, this
        could happen when the client attempted to use a character set
        was not available to the <span><strong class="command">mysqld</strong></span>.
       (<a href="http://bugs.mysql.com/17380" target="_top">Bug#17380</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Some query cache statistics were not always correctly reported
        for Cluster tables.
       (<a href="http://bugs.mysql.com/16795" target="_top">Bug#16795</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Restarting nodes were allowed to start and join the cluster too
        early.
       (<a href="http://bugs.mysql.com/16772" target="_top">Bug#16772</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Inserting and deleting <code class="literal">BLOB</code> column values
        while a backup was in process could cause data nodes to shut
        down.
       (<a href="http://bugs.mysql.com/14028" target="_top">Bug#14028</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The server would not compile with <code class="literal">NDB</code> support
        on AIX 5.2.
       (<a href="http://bugs.mysql.com/10776" target="_top">Bug#10776</a>)</p></li><li><p>
        A <code class="literal">SELECT ... ORDER BY ...</code> from a view defined
        using a function could crash the server. An example of such a
        view is <code class="literal">CREATE VIEW v1 AS SELECT SQRT(c1) FROM
        t1</code>.
       (<a href="http://bugs.mysql.com/18386" target="_top">Bug#18386</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> had a memory leak for duplicate-key
        errors with tables having 90 columns or more.
       (<a href="http://bugs.mysql.com/18384" target="_top">Bug#18384</a>)</p></li><li><p>
        A <code class="literal">DELETE</code> using a subquery could crash the
        server.
       (<a href="http://bugs.mysql.com/18306" target="_top">Bug#18306</a>)</p></li><li><p>
        If a row was inserted inside a stored procedure using the
        parameters passed to the procedure in the INSERT statement, the
        resulting binlog entry was not escaped properly.
       (<a href="http://bugs.mysql.com/18293" target="_top">Bug#18293</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> encountered a
        <code class="literal">HA_ERR_LOCK_TABLE_FULL</code> error and rolled back
        a transaction, the transaction was still written to the binary
        log.
       (<a href="http://bugs.mysql.com/18283" target="_top">Bug#18283</a>)</p></li><li><p>
        When using <code class="literal">ORDER BY</code> with a non-string column
        inside <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> the
        result's character set was converted to binary.
       (<a href="http://bugs.mysql.com/18281" target="_top">Bug#18281</a>)</p><p>See also <a href="http://bugs.mysql.com/14169" target="_top">Bug#14169</a></p></li><li><p>
        Complex queries with nested joins could cause a server crash.
       (<a href="http://bugs.mysql.com/18279" target="_top">Bug#18279</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables created in MySQL 4.1 or
        earlier, or created in 5.0 or later with compact format,
        updating a row so that a long column is updated or the length of
        some column changes, <code class="literal">InnoDB</code> later would fail
        to reclaim the <code class="literal">BLOB</code> storage space if the row
        was deleted.
       (<a href="http://bugs.mysql.com/18252" target="_top">Bug#18252</a>)</p></li><li><p>
        If <code class="literal">InnoDB</code> ran out of buffer space for row
        locks and adaptive hashes, the server would crash. Now
        <code class="literal">InnoDB</code> rolls back the transaction.
       (<a href="http://bugs.mysql.com/18238" target="_top">Bug#18238</a>)</p></li><li><p>
        Views that incorporated tables from the
        <code class="literal">INFORMATION_SCHEMA</code> database resulted in a
        server crash when queried.
       (<a href="http://bugs.mysql.com/18224" target="_top">Bug#18224</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE</code>, <code class="literal">OPTIMIZE
        TABLE</code>, and <code class="literal">ALTER TABLE</code> operations
        on transactional tables (or on tables of any type on Windows)
        could corrupt triggers associated with those tables.
       (<a href="http://bugs.mysql.com/18153" target="_top">Bug#18153</a>)</p></li><li><p>
        The server could deadlock under heavy load while writing to the
        binary log.
       (<a href="http://bugs.mysql.com/18116" target="_top">Bug#18116</a>)</p></li><li><p>
        A <code class="literal">SELECT *</code> query on an
        <code class="literal">INFORMATION_SCHEMA</code> table by a user with
        limited privileges resulted in a server crash.
       (<a href="http://bugs.mysql.com/18113" target="_top">Bug#18113</a>)</p></li><li><p>
        Connecting to a server with a UCS2 default character set with a
        client using a non-UCS2 character set crashed the server.
       (<a href="http://bugs.mysql.com/18004" target="_top">Bug#18004</a>)</p></li><li><p>
        <code class="literal">MyISAM</code>: Performing a bulk insert on a table
        referenced by a trigger would crash the table.
       (<a href="http://bugs.mysql.com/17764" target="_top">Bug#17764</a>)</p></li><li><p>
        Updating a view that filters certain rows to set a filtered out
        row to be included in the table caused infinite loop. For
        example, if the view has a WHERE clause of <code class="literal">salary &gt;
        100</code> then issuing an UPDATE statement of <code class="literal">SET
        salary = 200 WHERE id = 10</code>, caused an infinite loop.
       (<a href="http://bugs.mysql.com/17726" target="_top">Bug#17726</a>)</p></li><li><p>
        <code class="literal">MyISAM</code>: Keys for which the first part of the
        key was a <code class="literal">CHAR</code> or <code class="literal">VARCHAR</code>
        column using the UTF-8 character set and longer than 254 bytes
        could become corrupted.
       (<a href="http://bugs.mysql.com/17705" target="_top">Bug#17705</a>)</p></li><li><p>
        Updating the value of a Unicode <code class="literal">VARCHAR</code>
        column with the result returned by a stored function would cause
        the insertion of ASCII characters into the column instead of
        Unicode, even where the function's return type was also declared
        as Unicode.
       (<a href="http://bugs.mysql.com/17615" target="_top">Bug#17615</a>)</p></li><li><p>
        For <code class="literal">FEDERATED</code> tables, a
        <code class="literal">SELECT</code> statement with an <code class="literal">ORDER
        BY</code> clause did not return rows in the proper order.
       (<a href="http://bugs.mysql.com/17377" target="_top">Bug#17377</a>)</p></li><li><p>
        <code class="literal">SELECT ... WHERE <em class="replaceable"><code>column</code></em> LIKE
        'A%'</code>, when <em class="replaceable"><code>column</code></em> had a key
        and used the <code class="literal">latin2_czech_cs</code> collation,
        caused the wrong number of rows to be returned.
       (<a href="http://bugs.mysql.com/17374" target="_top">Bug#17374</a>)</p></li><li><p>
        A <code class="literal">LEFT JOIN</code> with a <code class="literal">UNION</code>
        that selects literal values could crash the server.
       (<a href="http://bugs.mysql.com/17366" target="_top">Bug#17366</a>)</p></li><li><p>
        Checks for permissions on database operations could be performed
        in a case-insensitive manner (a user with permissions on
        database <code class="literal">MYDATABASE</code> could by accident get
        permissions on database <code class="literal">myDataBase</code>), if the
        privilege data were still cached from a previous check.
       (<a href="http://bugs.mysql.com/17279" target="_top">Bug#17279</a>)</p></li><li><p>
        Stored procedures that call UDFs and pass local string variables
        caused server crashes.
       (<a href="http://bugs.mysql.com/17261" target="_top">Bug#17261</a>)</p></li><li><p>
        If the <code class="literal">WHERE</code> condition of a query contained
        an <code class="literal">OR</code>-ed <code class="literal">FALSE</code> term, the
        set of tables whose rows cannot serve for null-complements in
        outer joins was determined incorrectly. This resulted in
        blocking possible conversions of outer joins into joins by the
        optimizer for such queries.
       (<a href="http://bugs.mysql.com/17164" target="_top">Bug#17164</a>)</p></li><li><p>
        Use of <code class="literal">TRUNCATE TABLE</code> for a
        <code class="literal">TEMPORARY</code> table on a master server was
        propagated to slaves properly, but slaves did not decrement the
        <code class="literal">Slave_open_temp_tables</code> counter properly.
       (<a href="http://bugs.mysql.com/17137" target="_top">Bug#17137</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> tables with an adaptive hash blocked
        other queries during <code class="literal">CHECK TABLE</code> statements
        while the entire hash was checked. This could be a long time for
        a large hash.
       (<a href="http://bugs.mysql.com/17126" target="_top">Bug#17126</a>)</p></li><li><p>
        Stored routine names longer than 64 characters were silently
        truncated. Now the limit is properly enforced and an error
        occurs.
       (<a href="http://bugs.mysql.com/17015" target="_top">Bug#17015</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The <code class="literal">LATEST FOREIGN KEY
        ERROR</code> section in the output of <code class="literal">SHOW INNODB
        STATUS</code> was sometimes formatted incorrectly, causing
        problems with scripts that parsed the output of this statement.
       (<a href="http://bugs.mysql.com/16814" target="_top">Bug#16814</a>)</p></li><li><p>
        If the server was started with the
        <code class="option">--skip-grant-tables</code> option, it was impossible
        to create a trigger or a view without explicitly specifying a
        <code class="literal">DEFINER</code> clause.
       (<a href="http://bugs.mysql.com/16777" target="_top">Bug#16777</a>)</p></li><li><p>
        The <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> function returned
        an incorrect result when the client's
        <code class="literal">character_set_connection</code> value was
        <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/16678" target="_top">Bug#16678</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY <em class="replaceable"><code>intvar</code></em>
        </code> within a stored procedure (where
        <em class="replaceable"><code>intvar</code></em> is an integer variable or
        expression) would crash the server.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The use of an integer <em class="replaceable"><code>i</code></em> in an
          <code class="literal">ORDER BY <em class="replaceable"><code>i</code></em></code>
          clause for sorting the result by the
          <em class="replaceable"><code>i</code></em> <sup>th</sup>
          column is deprecated (and non-standard). It should
          <span class="emphasis"><em>not</em></span> be used in new applications. See
          <a href="sql-syntax.html#select" title="12.2.7. SELECT Syntax">Section 12.2.7, “<code class="literal">SELECT</code> Syntax”</a>.
        </p></div><p>(<a href="http://bugs.mysql.com/16474" target="_top">Bug#16474</a>)</p></li><li><p>
        The <code class="literal">DEFINER</code> value for stored routines was not
        replicated.
       (<a href="http://bugs.mysql.com/15963" target="_top">Bug#15963</a>)</p></li><li><p>
        Character set conversion of string constants for
        <code class="literal">UNION</code> of constant and table column was not
        done when it was safe to do so.
       (<a href="http://bugs.mysql.com/15949" target="_top">Bug#15949</a>)</p></li><li><p>
        Triggers created in MySQL 5.0.16 and earlier could not be
        dropped after upgrading the server to 5.0.17 or later.
       (<a href="http://bugs.mysql.com/15921" target="_top">Bug#15921</a>)</p></li><li><p>
        The <a href="apis.html#mysql-close" title="23.2.3.5. mysql_close()"><code class="literal">mysql_close()</code></a> C API
        function leaked handles for shared-memory connections on
        Windows.
       (<a href="http://bugs.mysql.com/15846" target="_top">Bug#15846</a>)</p></li><li><p>
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        <em class="replaceable"><code>col1</code></em>,
        <em class="replaceable"><code>col2</code></em>)</code></a> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT
        CONCAT(<em class="replaceable"><code>col1</code></em>,
        <em class="replaceable"><code>col2</code></em>))</code></a> operations produced
        different results if one of the columns was an indexed
        <code class="literal">DECIMAL</code> column.
       (<a href="http://bugs.mysql.com/15745" target="_top">Bug#15745</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> using a function against a nested
        view would crash the server.
       (<a href="http://bugs.mysql.com/15683" target="_top">Bug#15683</a>)</p></li><li><p>
        The server displayed garbage in the error message warning about
        bad assignments to <code class="literal">DECIMAL</code> columns or routine
        variables.
       (<a href="http://bugs.mysql.com/15480" target="_top">Bug#15480</a>)</p></li><li><p>
        During conversion from one character set to
        <code class="literal">ucs2</code>, multi-byte characters with no
        <code class="literal">ucs2</code> equivalent were converted to multiple
        characters, rather than to <code class="literal">0x003F QUESTION
        MARK</code>.
       (<a href="http://bugs.mysql.com/15375" target="_top">Bug#15375</a>)</p></li><li><p>
        Certain combinations of joins with mixed <code class="literal">ON</code>
        and <code class="literal">USING</code> clauses caused unknown column
        errors.
       (<a href="http://bugs.mysql.com/15229" target="_top">Bug#15229</a>)</p></li><li><p>
        <code class="literal">SELECT COUNT(*)</code> for a
        <code class="literal">MyISAM</code> table could return different results
        depending on whether an index was used.
       (<a href="http://bugs.mysql.com/14980" target="_top">Bug#14980</a>)</p></li><li><p>
        Attempting to access an <code class="literal">InnoDB</code> table after
        starting the server with <code class="option">--skip-innodb</code> caused a
        server crash.
       (<a href="http://bugs.mysql.com/14575" target="_top">Bug#14575</a>)</p></li><li><p>
        Use of stored functions with <code class="literal">DISTINCT</code> or
        <code class="literal">GROUP BY</code> can produce incorrect results when
        <code class="literal">ORDER BY</code> is also used.
       (<a href="http://bugs.mysql.com/13575" target="_top">Bug#13575</a>)</p></li><li><p>
        The server would execute stored routines that had a non-existent
        definer.
       (<a href="http://bugs.mysql.com/13198" target="_top">Bug#13198</a>)</p></li><li><p>
        <span><strong class="command">mysql_config</strong></span> returned incorrect libraries on
        <code class="literal">x86_64</code> systems.
       (<a href="http://bugs.mysql.com/13158" target="_top">Bug#13158</a>)</p></li><li><p>
        Loading of UDFs in a statically linked MySQL caused a server
        crash. UDF loading is now blocked if the MySQL server is
        statically linked.
       (<a href="http://bugs.mysql.com/11835" target="_top">Bug#11835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-19"></a>E.1.11. Changes in  MySQL 5.0.19 (04 March 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">InnoDB</code> storage engine no longer ignores
        trailing spaces when comparing <code class="literal">BINARY</code> or
        <code class="literal">VARBINARY</code> column values. This means that (for
        example) the binary values <code class="literal">'a'</code> and
        <code class="literal">'a '</code> are now regarded as
        <span class="emphasis"><em>unequal</em></span> any time they are compared, as they
        are in <code class="literal">MyISAM</code> tables.
      </p><p>
        See <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and VARBINARY Types">Section 10.4.2, “The <code class="literal">BINARY</code> and <code class="literal">VARBINARY</code> Types”</a> for more information
        about the <code class="literal">BINARY</code> and
        <code class="literal">VARBINARY</code> types.
       (<a href="http://bugs.mysql.com/14189" target="_top">Bug#14189</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        More descriptive warnings are now issued when inappropriate
        logging parameters are set in <code class="filename">config.ini</code>.
        (Formerly, the warning issued was simply <span class="errortext">Could not
        add logfile destination</span>.)
       (<a href="http://bugs.mysql.com/11331" target="_top">Bug#11331</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client commands
        <code class="literal"><em class="replaceable"><code>node_id</code></em> START</code> and
        <code class="literal"><em class="replaceable"><code>node_id</code></em> STOP</code> now
        work with management nodes as well as data nodes. However, using
        <code class="literal">ALL</code> for <em class="replaceable"><code>node_id</code></em>
        continues to affect all data nodes only.
      </p></li><li><p>
        <span><strong class="command">mysql</strong></span> no longer terminates data value display
        when it encounters a NUL byte. Instead, it displays NUL bytes as
        spaces.
       (<a href="http://bugs.mysql.com/16859" target="_top">Bug#16859</a>)</p></li><li><p>
        New <code class="literal">charset</code> command added to
        <span><strong class="command">mysql</strong></span> command-line client. By typing
        <code class="literal">charset <em class="replaceable"><code>name</code></em></code> or
        <code class="literal">\C <em class="replaceable"><code>name</code></em></code> (such as
        <code class="literal">\C UTF8</code>), the client character set can be
        changed without reconnecting.
       (<a href="http://bugs.mysql.com/16217" target="_top">Bug#16217</a>)</p></li><li><p>
        Added the <code class="option">--wait-timeout</code> option to
        <span><strong class="command">mysqlmanager</strong></span> to allow configuration of the
        timeout for dropping an inactive connection, and increased the
        default timeout from 30 seconds to 28,800 seconds (8 hours).
       (<a href="http://bugs.mysql.com/15980" target="_top">Bug#15980</a>, <a href="http://bugs.mysql.com/12674" target="_top">Bug#12674</a>)</p></li><li><p>
        The <code class="literal">INFORMATION_SCHEMA</code> now skips data
        contained in unlistable/unreadable directories rather than
        returning an error.
       (<a href="http://bugs.mysql.com/15851" target="_top">Bug#15851</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> now caches a list of unflushed files
        instead of scanning for unflushed files during a table flush
        operation. This improves performance when
        <code class="option">--innodb_file_per_table</code> is set on a system with
        a large number of <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/15653" target="_top">Bug#15653</a>)</p></li><li><p>
        Added the <code class="option">--port-open-timeout</code> option to
        <span><strong class="command">mysqld</strong></span> to control how many seconds the server
        should wait for the TCP/IP port to become free if it cannot be
        opened.
       (<a href="http://bugs.mysql.com/15591" target="_top">Bug#15591</a>)</p></li><li><p>
        Wording of error 1329 changed to <span class="errortext">No data - zero rows
        fetched, selected, or processed</span>.
       (<a href="http://bugs.mysql.com/15206" target="_top">Bug#15206</a>)</p></li><li><p>
        The message for error 1109 changed from <span class="errortext">Unknown table
        ... in order clause</span> to <span class="errortext">Unknown table ...
        in field list</span>.
       (<a href="http://bugs.mysql.com/15091" target="_top">Bug#15091</a>)</p></li><li><p>
        A number of performance issues were resolved that had previously
        been encountered when using statements that repeatedly invoked
        stored functions. For example, calling
        <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> using a stored
        function executed much more slowly than when invoking it with
        inline code that accomplished the same task. In most cases the
        two should now execute with approximately the same speed.
       (<a href="http://bugs.mysql.com/14946" target="_top">Bug#14946</a>, <a href="http://bugs.mysql.com/15014" target="_top">Bug#15014</a>)</p></li><li><p>
        <code class="filename">mysqldump</code> now surrounds the
        <code class="literal">DEFINER</code>, <code class="literal">SQL SECURITY
        DEFINER</code> and <code class="literal">WITH CHECK OPTION</code>
        clauses of a <code class="literal">CREATE VIEW</code> statement with
        "not in version" comments to prevent errors in earlier
        versions of MySQL.
       (<a href="http://bugs.mysql.com/14871" target="_top">Bug#14871</a>)</p></li><li><p>
        When using the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>
        function where the <code class="literal">group_concat_max_len</code>
        system variable was greater than 512, the type of the result was
        <code class="literal">BLOB</code> only if the query included an
        <code class="literal">ORDER BY</code> clause; otherwise the result was a
        <code class="literal">VARCHAR</code>.
      </p><p>
        The result type of the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function is now
        <code class="literal">VARCHAR</code> only if the value of the
        <code class="literal">group_concat_max_len</code> system variable is less
        than or equal to 512. Otherwise, this function returns a
        <code class="literal">BLOB</code>.
       (<a href="http://bugs.mysql.com/14169" target="_top">Bug#14169</a>)</p></li><li><p>
        The <code class="literal">mysql_ping</code> function will now retry if
        the <code class="literal">reconnect</code> flag is set and error
        <code class="literal">CR_SERVER_LOST</code> is encountered during the
        first attempt to ping the server.
       (<a href="http://bugs.mysql.com/14057" target="_top">Bug#14057</a>)</p></li><li><p>
        The <code class="filename">mysqltest</code> utility now converts all
        <code class="literal">CR/LF</code> combinations to <code class="literal">LF</code>
        to allow test cases intended for Windows to work properly on
        UNIX-like systems.
       (<a href="http://bugs.mysql.com/13809" target="_top">Bug#13809</a>)</p></li><li><p>
        <code class="literal">libmysqlclient</code> now uses versioned symbols
        with GNU ld.
       (<a href="http://bugs.mysql.com/3074" target="_top">Bug#3074</a>)</p></li><li><p>
        The client API now attempts to reconnect using TCP/IP if the
        <code class="literal">reconnect</code> flag is set, as is the case with
        sockets.
       (<a href="http://bugs.mysql.com/2845" target="_top">Bug#2845</a>)</p></li><li><p>
        Added the <code class="option">--check-upgrade</code> to
        <span><strong class="command">mysqlcheck</strong></span> that invokes <code class="literal">CHECK
        TABLE</code> with the <code class="literal">FOR UPGRADE</code> option.
      </p></li><li><p>
        Added the <code class="literal">FOR UPGRADE</code> option for the
        <code class="literal">CHECK TABLE</code> statement. This option checks
        whether tables are incompatible with the current version of
        MySQL Server.
      </p></li><li><p>
        Two new Hungarian collations are included:
        <code class="literal">utf8_hungarian_ci</code> and
        <code class="literal">ucs2_hungarian_ci</code>. These support the correct
        sort order for Hungarian vowels. However, they do not support
        the correct order for sorting Hungarian consonant contractions;
        this issue will be fixed in a future release.
      </p></li><li><p>
        Several changes were made to make upgrades easier:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Added the <span><strong class="command">mysql_upgrade</strong></span> program that
            checks all tables for incompatibilities with the current
            version of MySQL Server and repairs them if necessary. This
            program should be run for each MySQL upgrade (rather than
            <span><strong class="command">mysql_fix_privilege_tables</strong></span>). See
            <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.9, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
          </p></li><li><p>
            Added the <code class="literal">FOR UPGRADE</code> option for the
            <code class="literal">CHECK TABLE</code> statement. This option checks
            whether tables are incompatible with the current version of
            MySQL Server.
          </p></li><li><p>
            Added the <code class="option">--check-upgrade</code> to
            <span><strong class="command">mysqlcheck</strong></span> that invokes <code class="literal">CHECK
            TABLE</code> with the <code class="literal">FOR UPGRADE</code>
            option.
          </p></li></ul></div></li><li><p>
        Added the <span><strong class="command">mysql_upgrade</strong></span> program that checks
        all tables for incompatibilities with the current version of
        MySQL Server and repairs them if necessary. This program should
        be run for each MySQL upgrade (rather than
        <span><strong class="command">mysql_fix_privilege_tables</strong></span>). See
        <a href="programs.html#mysql-upgrade" title="4.4.9. mysql_upgrade — Check Tables for MySQL Upgrade">Section 4.4.9, “<span><strong class="command">mysql_upgrade</strong></span> — Check Tables for MySQL Upgrade”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster log file paths were truncated to 128 characters. They
        may now be as long as <code class="literal">MAX_PATH</code> (the maximum
        path length permitted by the operating system).
       (<a href="http://bugs.mysql.com/17411" target="_top">Bug#17411</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following multiple forced shutdowns and restarts of data nodes,
        <code class="literal">DROP DATABASE</code> could fail.
       (<a href="http://bugs.mysql.com/17325" target="_top">Bug#17325</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">REDO</code> log would become corrupted (and thus
        unreadable) in some circumstances, due to a failure in the query
        handler.
       (<a href="http://bugs.mysql.com/17295" target="_top">Bug#17295</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <code class="literal">UPDATE</code> with an inner join failed to match
        any records if both tables in the join did not have a primary
        key.
       (<a href="http://bugs.mysql.com/17257" target="_top">Bug#17257</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <code class="literal">DELETE</code> with a join in the
        <code class="literal">WHERE</code> clause failed to retrieve any records
        if both tables in the join did not have a primary key.
       (<a href="http://bugs.mysql.com/17249" target="_top">Bug#17249</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The error message returned by <code class="literal">perror
        <code class="option">--ndb</code></code> was prefixed with <span class="errortext">OS
        error code:</span> instead of <span class="errortext">NDB error
        code:</span>.
       (<a href="http://bugs.mysql.com/17235" target="_top">Bug#17235</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, <code class="literal">LOAD DATA INFILE</code> did not load
        all data into <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/17081" target="_top">Bug#17081</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_delete_all</strong></span> ran out of memory when
        processing tables containing <code class="literal">BLOB</code> columns.
       (<a href="http://bugs.mysql.com/16693" target="_top">Bug#16693</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <code class="literal">BIT</code> column whose offset and length totaled
        32 caused the cluster to crash.
       (<a href="http://bugs.mysql.com/16125" target="_top">Bug#16125</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UNIQUE</code> keys in Cluster tables were limited to
        225 bytes in length.
       (<a href="http://bugs.mysql.com/15918" target="_top">Bug#15918</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">ndb_autodiscover</code> test failed sporadically
        due to a node not being permitted to connect to the cluster.
       (<a href="http://bugs.mysql.com/15619" target="_top">Bug#15619</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> returned an incorrect <span class="errortext">Can't
        find file error</span> for OS error 24; this has been
        changed to <span class="errortext">Too many open files</span>.
       (<a href="http://bugs.mysql.com/15020" target="_top">Bug#15020</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        No error message was generated for setting
        <code class="literal">NoOfFragmentLogFiles</code> too low.
       (<a href="http://bugs.mysql.com/13966" target="_top">Bug#13966</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        No error message was generated for setting
        <code class="literal">MaxNoOfAttributes</code> too low.
       (<a href="http://bugs.mysql.com/13965" target="_top">Bug#13965</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When running more than one management process in a cluster:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <span><strong class="command">ndb_mgm -c
              <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
              -e "<em class="replaceable"><code>node_id</code></em> STOP"</strong></span>
              stopped a management process running only on the same
              system where the command was issued.
            </p></li><li><p>
              <span><strong class="command">ndb_mgm -e "SHUTDOWN"</strong></span> failed to shut
              down any management processes at all.
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12045" target="_top">Bug#12045</a>, <a href="http://bugs.mysql.com/12124" target="_top">Bug#12124</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -c
        <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
        -e "<em class="replaceable"><code>node_id</code></em> STOP"</strong></span> would
        stop a management process running only on the same system on
        which the command was issued.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm -e "SHUTDOWN"</strong></span> failed to shut down any
        management processes at all.
      </p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        Upon the completion of a scan where a key request remained
        outstanding on the primary replica and a starting node died, the
        scan did not terminate. This caused incomplete error handling
        for the failed node.
       (<a href="http://bugs.mysql.com/15908" target="_top">Bug#15908</a>)</p></li><li><p>
        <code class="literal">type_decimal</code> failed with the prepared
        statement protocol.
       (<a href="http://bugs.mysql.com/17826" target="_top">Bug#17826</a>)</p></li><li><p>
        The MySQL server could crash with out of memory errors when
        performing aggregate functions on a <code class="literal">DECIMAL</code>
        column.
       (<a href="http://bugs.mysql.com/17602" target="_top">Bug#17602</a>)</p></li><li><p>
        Using <code class="literal">DROP FUNCTION IF EXISTS
        <em class="replaceable"><code>func_name</code></em></code> to drop a
        user-defined function caused a server crash if the server was
        running with the <code class="option">--skip-grant-tables</code> option.
       (<a href="http://bugs.mysql.com/17595" target="_top">Bug#17595</a>)</p></li><li><p>
        Data truncations on non-<code class="literal">UNIQUE</code> indexes could
        crash <code class="literal">InnoDB</code> when using multi-byte character
        sets.
       (<a href="http://bugs.mysql.com/17530" target="_top">Bug#17530</a>)</p></li><li><p>
        A natural join between <code class="literal">INFORMATION_SCHEMA</code>
        tables failed.
       (<a href="http://bugs.mysql.com/17523" target="_top">Bug#17523</a>)</p></li><li><p>
        A stored procedure failed to return data the first time it was
        called per connection.
       (<a href="http://bugs.mysql.com/17476" target="_top">Bug#17476</a>)</p></li><li><p>
        For certain <code class="literal">MERGE</code> tables, the optimizer
        wrongly assumed that using
        <code class="literal">index_merge/intersection</code> was too expensive.
       (<a href="http://bugs.mysql.com/17314" target="_top">Bug#17314</a>)</p></li><li><p>
        The parser allowed <code class="literal">CREATE AGGREGATE FUNCTION</code>
        for creating stored functions, even though
        <code class="literal">AGGREGATE</code> does not apply. (It is used only
        for <code class="literal">CREATE FUNCTION</code> only when creating
        user-defined functions.)
       (<a href="http://bugs.mysql.com/16896" target="_top">Bug#16896</a>)</p></li><li><p>
        Cursors in stored routines could cause a server crash.
       (<a href="http://bugs.mysql.com/16887" target="_top">Bug#16887</a>)</p></li><li><p>
        Triggers created without <code class="literal">BEGIN</code> and
        <code class="literal">END</code> clauses resulted in “<span class="quote">You have an
        error in your SQL syntax</span>” errors when dumping and
        replaying a binary log.
       (<a href="http://bugs.mysql.com/16878" target="_top">Bug#16878</a>)</p></li><li><p>
        Using <code class="literal">ALTER TABLE</code> to increase the length of a
        <code class="literal">BINARY(<em class="replaceable"><code>M</code></em>)</code> column
        caused column values to be padded with spaces rather than
        <code class="literal">0x00</code> bytes.
       (<a href="http://bugs.mysql.com/16857" target="_top">Bug#16857</a>)</p></li><li><p>
        A <code class="literal">RETURN</code> statement within a trigger caused a
        server crash. <code class="literal">RETURN</code> now is disallowed within
        triggers. To exit immediately, use <code class="literal">LEAVE</code>.
       (<a href="http://bugs.mysql.com/16829" target="_top">Bug#16829</a>)</p></li><li><p>
        For a MySQL 5.0 server, using MySQL 4.1 tables in queries with a
        <code class="literal">GROUP BY</code> clause could result in buffer
        overrun or a server crash.
       (<a href="http://bugs.mysql.com/16752" target="_top">Bug#16752</a>)</p></li><li><p>
        An <code class="literal">INSERT</code> statement in a stored procedure
        corrupted the binary log.
       (<a href="http://bugs.mysql.com/16621" target="_top">Bug#16621</a>)</p></li><li><p>
        If the query optimizer transformed a <code class="literal">GROUP BY</code>
        clause in a subquery, it did not also transform the
        <code class="literal">HAVING</code> clause if there was one, producing
        incorrect results.
       (<a href="http://bugs.mysql.com/16603" target="_top">Bug#16603</a>)</p></li><li><p>
        In a highly concurrent environment, a server crash or deadlock
        could result from execution of a statement that used stored
        functions or activated triggers coincident with alteration of
        the tables used by these functions or triggers.
       (<a href="http://bugs.mysql.com/16593" target="_top">Bug#16593</a>)</p></li><li><p>
        A race condition could occur when dropping the adaptive hash
        index for a B-tree page in <code class="literal">InnoDB</code>.
       (<a href="http://bugs.mysql.com/16582" target="_top">Bug#16582</a>)</p></li><li><p>
        When evaluation of the test in a <code class="literal">CASE</code> failed
        in a stored procedure that contained a
        <code class="literal">CONTINUE</code> handler, execution resumed at the
        beginning of the CASE statement instead of at the end.
       (<a href="http://bugs.mysql.com/16568" target="_top">Bug#16568</a>)</p></li><li><p>
        For a transaction that used <code class="literal">MyISAM</code> and
        <code class="literal">InnoDB</code> tables, interruption of the
        transaction due to a dropped connection on a master server
        caused slaves to lose synchrony.
       (<a href="http://bugs.mysql.com/16559" target="_top">Bug#16559</a>)</p></li><li><p>
        Clients compiled from source with the
        <code class="option">--without-readline</code> did not save command history
        from session to session.
       (<a href="http://bugs.mysql.com/16557" target="_top">Bug#16557</a>)</p></li><li><p>
        The <code class="literal">DECIMAL</code> data type was not being handled
        correctly with prepared statements.
       (<a href="http://bugs.mysql.com/16511" target="_top">Bug#16511</a>)</p></li><li><p>
        Instance Manager searched wrong location for password file on
        some platforms.
       (<a href="http://bugs.mysql.com/16499" target="_top">Bug#16499</a>)</p></li><li><p>
        <code class="literal">UPDATE</code> statement crashed multi-byte character
        set <code class="literal">FULLTEXT</code> index if update value was almost
        identical to initial value only differing in some spaces being
        changed to &amp;nbsp;.
       (<a href="http://bugs.mysql.com/16489" target="_top">Bug#16489</a>)</p></li><li><p>
        The <code class="option">--replicate-do</code> and
        <code class="option">--replicate-ignore</code> options were not being
        enforced on multiple-table statements.
       (<a href="http://bugs.mysql.com/16487" target="_top">Bug#16487</a>, <a href="http://bugs.mysql.com/15699" target="_top">Bug#15699</a>)</p></li><li><p>
        Certain nested <code class="literal">LEFT JOIN</code> operations were not
        properly optimized.
       (<a href="http://bugs.mysql.com/16393" target="_top">Bug#16393</a>)</p></li><li><p>
        Dropping <code class="literal">InnoDB</code> constraints named
        <code class="literal"><em class="replaceable"><code>tbl_name</code></em>_ibfk_0</code>
        could crash the server.
       (<a href="http://bugs.mysql.com/16387" target="_top">Bug#16387</a>)</p></li><li><p>
        <code class="literal">SELECT</code> with <code class="literal">GROUP BY</code> on a
        view could cause a server crash.
       (<a href="http://bugs.mysql.com/16382" target="_top">Bug#16382</a>)</p></li><li><p>
        An invalid stored routine could not be dropped.
       (<a href="http://bugs.mysql.com/16303" target="_top">Bug#16303</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: After upgrading an
        <code class="literal">InnoDB</code> table having a <code class="literal">VARCHAR
        BINARY</code> column created in MySQL 4.0 to MySQL 5.0,
        update operations on the table would cause the server to crash.
       (<a href="http://bugs.mysql.com/16298" target="_top">Bug#16298</a>)</p></li><li><p>
        Parallel builds occasionally failed on Solaris.
       (<a href="http://bugs.mysql.com/16282" target="_top">Bug#16282</a>)</p></li><li><p>
        A call to the <code class="literal">IF()</code> function using decimal
        arguments could return incorrect results.
       (<a href="http://bugs.mysql.com/16272" target="_top">Bug#16272</a>)</p></li><li><p>
        MySQL server dropped client connection for certain
        <code class="literal">SELECT</code> statements against views defined that
        used <code class="literal">MERGE</code> algorithm.
       (<a href="http://bugs.mysql.com/16260" target="_top">Bug#16260</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> used full explicit table locks in
        trigger processing.
       (<a href="http://bugs.mysql.com/16229" target="_top">Bug#16229</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on column used in
        <code class="literal">WHERE</code> clause could cause empty set to be
        returned.
       (<a href="http://bugs.mysql.com/16203" target="_top">Bug#16203</a>)</p></li><li><p>
        A memory leak caused warnings on slaves for certain statements
        that executed without warning on the master.
       (<a href="http://bugs.mysql.com/16175" target="_top">Bug#16175</a>)</p></li><li><p>
        The <code class="literal">FORCE INDEX</code> keyword in a query would
        prevent an index merge from being used where an index merge
        would normally be chosen by the optimizer.
       (<a href="http://bugs.mysql.com/16166" target="_top">Bug#16166</a>)</p></li><li><p>
        Setting <code class="literal">InnoDB</code> path settings to an empty
        string caused <code class="literal">InnoDB</code> storage engine to crash
        upon server startup.
       (<a href="http://bugs.mysql.com/16157" target="_top">Bug#16157</a>)</p></li><li><p>
        The <a href="apis.html#mysql-stmt-sqlstate" title="23.2.7.26. mysql_stmt_sqlstate()"><code class="literal">mysql_stmt_sqlstate()</code></a> C API
        function incorrectly returned an empty string rather than
        <code class="literal">'00000'</code> when no error occurred.
       (<a href="http://bugs.mysql.com/16143" target="_top">Bug#16143</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> operations were not
        optimized for views.
       (<a href="http://bugs.mysql.com/16016" target="_top">Bug#16016</a>)</p></li><li><p>
        Performing a <code class="literal">RENAME TABLE</code> on an
        <code class="literal">InnoDB</code> table when the server was started with
        the <code class="option">--innodb_file_per_table</code> option and the data
        directory was a symlink caused a server crash.
       (<a href="http://bugs.mysql.com/15991" target="_top">Bug#15991</a>)</p></li><li><p>
        Executing a <code class="literal">SHOW CREATE VIEW</code> query of an
        invalid view caused the <code class="literal">mysql_next_result()</code>
        function of <code class="filename">libMySQL.dll</code> to hang.
       (<a href="http://bugs.mysql.com/15943" target="_top">Bug#15943</a>)</p></li><li><p>
        Test suite <code class="literal">sp</code> test left behind tables when
        the test failed that could cause future tests to fail.
       (<a href="http://bugs.mysql.com/15866" target="_top">Bug#15866</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE(1,NULL)</code></a> caused a
        server crash.
       (<a href="http://bugs.mysql.com/15828" target="_top">Bug#15828</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-3081" target="_top">CVE-2006-3081</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(... AS TIME)</code></a> operations
        returned different results when using versus not using
        prepared-statement protocol.
       (<a href="http://bugs.mysql.com/15805" target="_top">Bug#15805</a>)</p></li><li><p>
        Issuing a <code class="literal">DROP USER</code> command could cause some
        users to encounter a <code class="literal">
        <em class="replaceable"><code>hostname</code></em> is not allowed to connect to
        this MySQL server</code> error.
       (<a href="http://bugs.mysql.com/15775" target="_top">Bug#15775</a>)</p></li><li><p>
        The contents of <code class="filename">fill_help_tables.sql</code> could
        not be loaded in strict SQL mode.
       (<a href="http://bugs.mysql.com/15760" target="_top">Bug#15760</a>)</p></li><li><p>
        <code class="filename">fill_help_tables.sql</code> was not included in
        binary distributions for several platforms.
       (<a href="http://bugs.mysql.com/15759" target="_top">Bug#15759</a>)</p></li><li><p>
        Certain <code class="literal">LEAVE</code> statements in stored procedures
        were not properly optimized.
       (<a href="http://bugs.mysql.com/15737" target="_top">Bug#15737</a>)</p></li><li><p>
        The <code class="literal">mysql_real_connect()</code> C API function
        incorrectly reset the <code class="literal">MYSQL_OPT_RECONNECT</code>
        option to its default value.
       (<a href="http://bugs.mysql.com/15719" target="_top">Bug#15719</a>)</p></li><li><p>
        Created a user function with an empty string (that is,
        <code class="literal">CREATE FUNCTION ''()</code>), was accepted by the
        server. Following this, calling <code class="literal">SHOW FUNCTION
        STATUS</code> would cause the server to crash.
       (<a href="http://bugs.mysql.com/15658" target="_top">Bug#15658</a>)</p></li><li><p>
        Trying to compile the server on Windows generated a stack
        overflow warning due to a recursive definition of the internal
        <code class="literal">Field_date::store()</code> method.
       (<a href="http://bugs.mysql.com/15634" target="_top">Bug#15634</a>)</p></li><li><p>
        In some cases the query optimizer did not properly perform
        multiple joins where inner joins followed left joins, resulting
        in corrupted result sets.
       (<a href="http://bugs.mysql.com/15633" target="_top">Bug#15633</a>)</p></li><li><p>
        Certain permission management statements could create a
        <code class="literal">NULL</code> hostname for a user, resulting in a
        server crash.
       (<a href="http://bugs.mysql.com/15598" target="_top">Bug#15598</a>)</p></li><li><p>
        Improper memory handling for stored routine variables could
        cause memory overruns and binary log corruption.
       (<a href="http://bugs.mysql.com/15588" target="_top">Bug#15588</a>)</p></li><li><p>
        The <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a> function
        truncated data in a <code class="literal">TINYTEXT</code> column.
       (<a href="http://bugs.mysql.com/15581" target="_top">Bug#15581</a>)</p></li><li><p>
        Binary distributions for Solaris contained files with group
        ownership set to the non-existing <code class="literal">wheel</code>
        group. Now the <code class="literal">bin</code> group is used.
       (<a href="http://bugs.mysql.com/15562" target="_top">Bug#15562</a>)</p></li><li><p>
        The absence of a table in the left part of a left or right join
        was not checked prior to name resolution, which resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/15538" target="_top">Bug#15538</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> of a stored function that references
        the <code class="literal">INFORMATION_SCHEMA</code> could crash the
        server.
       (<a href="http://bugs.mysql.com/15533" target="_top">Bug#15533</a>)</p></li><li><p>
        Characters in the <code class="literal">gb2312</code> and
        <code class="literal">euckr</code> character sets which did not have
        Unicode mappings were truncated.
       (<a href="http://bugs.mysql.com/15377" target="_top">Bug#15377</a>)</p></li><li><p>
        Certain subqueries where the inner query was the result of a
        aggregate function would return different results with MySQL
        5.0 than with MySQL 4.1.
      </p><p>
        Subselects could also return wrong results when the query cache
        and grouping were involved.
       (<a href="http://bugs.mysql.com/15347" target="_top">Bug#15347</a>)</p></li><li><p>
        Performing an <code class="literal">ORDER BY</code> on an indexed
        <code class="literal">ENUM</code> column returned error.
       (<a href="http://bugs.mysql.com/15308" target="_top">Bug#15308</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> query which contained a
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> and an
        <code class="literal">ORDER BY</code> clause against the
        <code class="literal">INFORMATION_SCHEMA</code> resulted in an empty
        result set.
       (<a href="http://bugs.mysql.com/15307" target="_top">Bug#15307</a>)</p></li><li><p>
        The <code class="literal">NOT FOUND</code> condition handler for stored
        procedures did not distinguish between a <code class="literal">NOT
        FOUND</code> condition and an exception or warning.
       (<a href="http://bugs.mysql.com/15231" target="_top">Bug#15231</a>)</p></li><li><p>
        The <code class="literal">SELECT</code> privilege was required for
        triggers that performed no selects.
       (<a href="http://bugs.mysql.com/15196" target="_top">Bug#15196</a>)</p></li><li><p>
        An attempt to open a table that requires a disabled storage
        engine could cause a server crash.
       (<a href="http://bugs.mysql.com/15185" target="_top">Bug#15185</a>)</p></li><li><p>
        The <code class="literal">UPDATE</code> privilege was required for
        triggers that performed no updates.
       (<a href="http://bugs.mysql.com/15166" target="_top">Bug#15166</a>)</p></li><li><p>
        Tarball install package was missing a proper
        <code class="filename">fill_help_tables.sql</code> file.
       (<a href="http://bugs.mysql.com/15151" target="_top">Bug#15151</a>)</p></li><li><p>
        Setting <code class="literal">innodb_log_file_size</code> to a value
        greater than 4G crashed the server.
       (<a href="http://bugs.mysql.com/15108" target="_top">Bug#15108</a>)</p></li><li><p>
        When multiple handlers are created for the same MySQL error
        number within nested blocks, the outermost handler took
        precedence.
       (<a href="http://bugs.mysql.com/15011" target="_top">Bug#15011</a>)</p></li><li><p>
        A statement containing <code class="literal">GROUP BY</code> and
        <code class="literal">HAVING</code> clauses could return incorrect results
        when the <code class="literal">HAVING</code> clause contained logic that
        returned <code class="literal">FALSE</code> for every row.
       (<a href="http://bugs.mysql.com/14927" target="_top">Bug#14927</a>)</p></li><li><p>
        Stored routines that contained only a single statement were not
        written properly to the dumpfile when using
        <code class="filename">mysqldump</code>.
       (<a href="http://bugs.mysql.com/14857" target="_top">Bug#14857</a>)</p></li><li><p>
        Killing a long-running query containing a subquery could cause a
        server crash.
       (<a href="http://bugs.mysql.com/14851" target="_top">Bug#14851</a>)</p></li><li><p>
        <code class="literal">GRANT</code> statements specifying schema names that
        included underscore characters (i.e.
        <code class="literal">my_schema</code>) did not match if the underscore
        was escaped in the <code class="literal">GRANT</code> statement (i.e.
        <code class="literal">GRANT ALL ON `my\_schema` ...</code>).
       (<a href="http://bugs.mysql.com/14834" target="_top">Bug#14834</a>)</p></li><li><p>
        Previously, a stored function invocation was written to the
        binary log as <code class="literal">DO
        <em class="replaceable"><code>func_name</code></em>()</code> if the
        invocation changes data and occurs within a non-logged
        statement, or if the function invokes a stored procedure that
        produces an error. These invocations now are logged as
        <code class="literal">SELECT <em class="replaceable"><code>func_name</code></em>()</code>
        instead for better control over error code checking (slave
        servers could stop due to detecting a different error than
        occurred on the master).
       (<a href="http://bugs.mysql.com/14769" target="_top">Bug#14769</a>)</p></li><li><p>
        Generating an <code class="literal">AUTO_INCREMENT</code> value through a
        <code class="literal">FEDERATED</code> table did not set the value
        returned by <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a>.
       (<a href="http://bugs.mysql.com/14768" target="_top">Bug#14768</a>)</p></li><li><p>
        <a href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a> could yield
        inconsistent results when applied with the same arguments to
        consecutive rows in a query.
       (<a href="http://bugs.mysql.com/14676" target="_top">Bug#14676</a>)</p></li><li><p>
        Running out of diskspace in the location specified by the
        <code class="literal">tmpdir</code> option resulted in incorrect error
        message.
       (<a href="http://bugs.mysql.com/14634" target="_top">Bug#14634</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Comparison of indexed
        <code class="literal">VARCHAR CHARACTER SET ucs2 COLLATE ucs2_bin</code>
        columns using <code class="literal">LIKE</code> could fail.
       (<a href="http://bugs.mysql.com/14583" target="_top">Bug#14583</a>)</p></li><li><p>
        A stored procedure with an undefined variable and an exception
        handler would hang the client when called.
       (<a href="http://bugs.mysql.com/14498" target="_top">Bug#14498</a>)</p></li><li><p>
        A <code class="literal">FULLTEXT</code> query in a prepared statement
        could result in unexpected behavior.
       (<a href="http://bugs.mysql.com/14496" target="_top">Bug#14496</a>)</p></li><li><p>
        Using an aggregate function as the argument for a
        <code class="literal">HAVING</code> clause resulted in the aggregate
        function always returning <code class="literal">FALSE</code>.
       (<a href="http://bugs.mysql.com/14274" target="_top">Bug#14274</a>)</p></li><li><p>
        The use of <code class="literal">LOAD INDEX</code> within a stored routine
        was permitted and caused the server to crash.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          <code class="literal">LOAD INDEX</code> statements within stored
          routines <span class="emphasis"><em>are not supported</em></span>, and now yield
          an error if attempted. This behavior is intended.
        </p></div><p>(<a href="http://bugs.mysql.com/14270" target="_top">Bug#14270</a>)</p></li><li><p>
        A <code class="literal">COMMIT</code> statement followed by a
        <code class="literal">ALTER TABLE</code> statement on a BDB table caused
        server crash.
       (<a href="http://bugs.mysql.com/14212" target="_top">Bug#14212</a>)</p></li><li><p>
        The <a href="apis.html#mysql-stmt-store-result" title="23.2.7.27. mysql_stmt_store_result()"><code class="literal">mysql_stmt_store_result()</code></a> C
        API function could not be used for a prepared statement if a
        cursor had been opened for the statement.
       (<a href="http://bugs.mysql.com/14013" target="_top">Bug#14013</a>)</p></li><li><p>
        <code class="literal">SET sql_mode = <em class="replaceable"><code>N</code></em></code>,
        where <em class="replaceable"><code>N</code></em> &gt; 31, did not work
        properly.
       (<a href="http://bugs.mysql.com/13897" target="_top">Bug#13897</a>)</p></li><li><p>
        Attempts to create <code class="literal">FULLTEXT</code> indexes on
        <code class="literal">VARCHAR</code> columns larger than 1000 bytes
        resulted in error.
       (<a href="http://bugs.mysql.com/13835" target="_top">Bug#13835</a>)</p></li><li><p>
        The <code class="literal">RENAME TABLE</code> statement did not move
        triggers to the new table.
       (<a href="http://bugs.mysql.com/13525" target="_top">Bug#13525</a>)</p></li><li><p>
        <code class="literal">BIT</code> fields were not properly handled when
        using row-based replication.
       (<a href="http://bugs.mysql.com/13418" target="_top">Bug#13418</a>)</p></li><li><p>
        The length of a <code class="literal">VARCHAR()</code> column that used
        the <code class="literal">utf8</code> character set would increase each
        time the table was re-created in a stored procedure or prepared
        statement, eventually causing the <code class="literal">CREATE
        TABLE</code> statement to fail.
       (<a href="http://bugs.mysql.com/13134" target="_top">Bug#13134</a>)</p></li><li><p>
        Instance Manager erroneously accepted a list of instance
        identifiers for the <code class="literal">START INSTANCE</code> and
        <code class="literal">STOP INSTANCE</code> commands (should accept only a
        single identifier).
       (<a href="http://bugs.mysql.com/12813" target="_top">Bug#12813</a>)</p></li><li><p>
        A prepared statement created from a <code class="literal">SELECT ...
        LIKE</code> query (such as <code class="literal">PREPARE stmt1 FROM
        'SELECT col_1 FROM tedd_test WHERE col_1 LIKE ?';</code>)
        would begin to produce erratic results after being executed
        repeatedly numerous (thousands) of times.
       (<a href="http://bugs.mysql.com/12734" target="_top">Bug#12734</a>)</p></li><li><p>
        Multi-byte path names for <code class="literal">LOAD DATA</code> and
        <code class="literal">SELECT ... INTO OUTFILE</code> caused errors. Added
        the <code class="literal">character_set_filesystem</code> system variable,
        which controls the interpretation of string literals that refer
        to filenames.
       (<a href="http://bugs.mysql.com/12448" target="_top">Bug#12448</a>)</p></li><li><p>
        Temporary table aliasing did not work inside stored functions.
       (<a href="http://bugs.mysql.com/12198" target="_top">Bug#12198</a>)</p></li><li><p>
        The embedded server did not allow binding of columns to the
        <code class="literal">MYSQL_TYPE_VAR_STRING</code> data type in prepared
        statements.
       (<a href="http://bugs.mysql.com/12070" target="_top">Bug#12070</a>)</p></li><li><p>
        When MyODBC or any other client called
        <code class="literal">my_init()</code>/<code class="literal">my_end()</code>
        several times, it caused corruption of charset data stored in
        <code class="literal">once_mem_pool</code>.
       (<a href="http://bugs.mysql.com/11892" target="_top">Bug#11892</a>)</p></li><li><p>
        Setting the <code class="literal">myisam_repair_threads</code> system
        variable to a value larger than 1 could cause corruption of
        large <code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/11527" target="_top">Bug#11527</a>)</p></li><li><p>
        The <span><strong class="command">mysqlbinlog</strong></span> utility did not output
        <code class="literal">DELIMITER</code> statements, causing syntax errors
        for stored routine creation statements.
       (<a href="http://bugs.mysql.com/11312" target="_top">Bug#11312</a>)</p></li><li><p>
        The embedded server failed various tests in the automated test
        suite.
       (<a href="http://bugs.mysql.com/10801" target="_top">Bug#10801</a>, <a href="http://bugs.mysql.com/10925" target="_top">Bug#10925</a>, <a href="http://bugs.mysql.com/15433" target="_top">Bug#15433</a>, <a href="http://bugs.mysql.com/9633" target="_top">Bug#9633</a>, <a href="http://bugs.mysql.com/10926" target="_top">Bug#10926</a>, <a href="http://bugs.mysql.com/9631" target="_top">Bug#9631</a>, <a href="http://bugs.mysql.com/10930" target="_top">Bug#10930</a>, <a href="http://bugs.mysql.com/10911" target="_top">Bug#10911</a>, <a href="http://bugs.mysql.com/9630" target="_top">Bug#9630</a>, <a href="http://bugs.mysql.com/10924" target="_top">Bug#10924</a>)</p></li><li><p>
        A large <code class="literal">BIGINT</code> value specified in a
        <code class="literal">WHERE</code> clause could be treated differently
        depending on whether it is specified as a quoted string. (For
        example, <code class="literal">WHERE bigint_col =
        17666000000000000000</code> versus <code class="literal">WHERE bigint_col
        = '17666000000000000000'</code>).
       (<a href="http://bugs.mysql.com/9088" target="_top">Bug#9088</a>)</p></li><li><p>
        <code class="literal">CHECKSUM TABLE</code> returned different values for
        <code class="literal">MyISAM</code> tables depending on whether the
        <code class="literal">QUICK</code> or <code class="literal">EXTENDED</code> option
        was used.
       (<a href="http://bugs.mysql.com/8841" target="_top">Bug#8841</a>)</p></li><li><p>
        Using the <code class="literal">TRUNCATE()</code> function with a
        negative number for the second argument on a
        <code class="literal">BIGINT</code> column returned incorrect results.
       (<a href="http://bugs.mysql.com/8461" target="_top">Bug#8461</a>)</p></li><li><p>
        Issuing <code class="literal">GRANT EXECUTE</code> on a procedure would
        display any warnings related to the creation of the procedure.
       (<a href="http://bugs.mysql.com/7787" target="_top">Bug#7787</a>)</p></li><li><p>
        Repeated invocation of <code class="literal">my_init()</code> and
        <code class="literal">my_end()</code> caused corruption of character set
        data and connection failure.
       (<a href="http://bugs.mysql.com/6536" target="_top">Bug#6536</a>)</p></li><li><p>
        An <code class="literal">INSERT ... SELECT</code> statement between tables
        in a <code class="literal">MERGE</code> set can return errors when
        statement involves insert into child table from merge table or
        vice-versa.
       (<a href="http://bugs.mysql.com/5390" target="_top">Bug#5390</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-18"></a>E.1.12. Changes in  MySQL 5.0.18 (21 December 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The server treats stored routine parameters and local variables
        (and stored function return values) according to standard SQL.
        Previously, parameters, variables, and return values were
        treated as items in expressions and were subject to automatic
        (silent) conversion and truncation. Now the data type is
        observed. Data type conversion and overflow problems that occur
        in assignments result in warnings, or errors in strict mode. The
        <code class="literal">CHARACTER SET</code> clause for character data type
        declarations is used. Parameters, variables, and return values
        must be scalars; it is no longer possible to assign a row value.
        Also, stored functions execute using the
        <code class="literal">sql_mode</code> value in force at function creation
        time rather than ignoring it. For more information, see
        <a href="stored-procedures.html#create-procedure" title="18.2.1. CREATE PROCEDURE and CREATE
        FUNCTION Syntax">Section 18.2.1, “<code class="literal">CREATE PROCEDURE</code> and <code class="literal">CREATE
        FUNCTION</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/13808" target="_top">Bug#13808</a>, <a href="http://bugs.mysql.com/12903" target="_top">Bug#12903</a>, <a href="http://bugs.mysql.com/9078" target="_top">Bug#9078</a>, <a href="http://bugs.mysql.com/14161" target="_top">Bug#14161</a>, <a href="http://bugs.mysql.com/13705" target="_top">Bug#13705</a>, <a href="http://bugs.mysql.com/13909" target="_top">Bug#13909</a>, <a href="http://bugs.mysql.com/15148" target="_top">Bug#15148</a>, <a href="http://bugs.mysql.com/8769" target="_top">Bug#8769</a>, <a href="http://bugs.mysql.com/8702" target="_top">Bug#8702</a>, <a href="http://bugs.mysql.com/9572" target="_top">Bug#9572</a>, <a href="http://bugs.mysql.com/8768" target="_top">Bug#8768</a>)</p></li><li><p>
        It is now possible to build the server such that
        <code class="literal">MyISAM</code> tables can support up to 128 keys
        rather than the standard 64. This can be done by configuring the
        build using the option
        <code class="option">--with-max-indexes=<em class="replaceable"><code>N</code></em>
        </code>, where <em class="replaceable"><code>N</code></em>≤128 is the
        maximum number of indexes to permit per table.
       (<a href="http://bugs.mysql.com/10932" target="_top">Bug#10932</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If an abort by the Transaction Coordinator timed out, the abort
        condition was incorrectly handled, causing the transaction
        record to be released prematurely.
       (<a href="http://bugs.mysql.com/15685" target="_top">Bug#15685</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">ndb_read_multi_range.test</code> script failed
        to drop a table, causing the test to fail.
       (<a href="http://bugs.mysql.com/15675" target="_top">Bug#15675</a>)</p><p>See also <a href="http://bugs.mysql.com/15402" target="_top">Bug#15402</a></p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under some circumstances, it was possible for a restarting node
        to undergo a forced shutdown.
       (<a href="http://bugs.mysql.com/15632" target="_top">Bug#15632</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node which failed during cluster startup was sometimes not
        removed from the internal list of active nodes.
       (<a href="http://bugs.mysql.com/15587" target="_top">Bug#15587</a>)</p></li><li><p>
        When a connection using yaSSL was aborted, the server would
        continue to try to read the closed socket, and the thread
        continued to appear in the output of <code class="literal">SHOW
        PROCESSLIST</code>. Note that this issue did not affect
        secure connection attempts using OpenSSL.
       (<a href="http://bugs.mysql.com/15772" target="_top">Bug#15772</a>)</p></li><li><p>
        <code class="literal"></code> API function
        <a href="apis.html#mysql-stmt-prepare" title="23.2.7.20. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a> returned
        wrong field length for TEXT columns.
       (<a href="http://bugs.mysql.com/15613" target="_top">Bug#15613</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Having two tables in a parent-child
        relationship enforced by a foreign key where one table used
        <code class="literal">ROW_FORMAT=COMPACT</code> and the other used
        <code class="literal">ROW_FORMAT=REDUNDANT</code> could result in a MySQL
        server crash. Note that this problem did not exist prior to
        MySQL 5.0.3, when the compact row format for
        <code class="literal">InnoDB</code> was introduced.
       (<a href="http://bugs.mysql.com/15550" target="_top">Bug#15550</a>)</p></li><li><p>
        <code class="literal">BDB</code>: A <code class="literal">DELETE</code>,
        <code class="literal">INSERT</code>, or <code class="literal">UPDATE</code> of a
        <code class="literal">BDB</code> table could cause the server to crash
        where the query contained a subquery using an index read.
       (<a href="http://bugs.mysql.com/15536" target="_top">Bug#15536</a>)</p></li><li><p>
        Resolution of the argument to the
        <a href="functions.html#function_values"><code class="literal">VALUES()</code></a> function to a variable
        inside a stored routine caused a server crash. The argument must
        be a table column.
       (<a href="http://bugs.mysql.com/15441" target="_top">Bug#15441</a>)</p></li><li><p>
        A left join on a column that having a <code class="literal">NULL</code>
        value could cause the server to crash.
       (<a href="http://bugs.mysql.com/15268" target="_top">Bug#15268</a>)</p></li><li><p>
        The output of <span><strong class="command">mysqldump --triggers</strong></span> did not
        contain the <code class="literal">DEFINER</code> clause in dumped trigger
        definitions.
       (<a href="http://bugs.mysql.com/15110" target="_top">Bug#15110</a>)</p></li><li><p>
        Reversing the order of operands in a <code class="literal">WHERE</code>
        clause testing a simple equality (such as <code class="literal">WHERE t1.col1
        = t2.col2</code>) would produce different output from
        <code class="literal">EXPLAIN</code>.
       (<a href="http://bugs.mysql.com/15106" target="_top">Bug#15106</a>)</p></li><li><p>
        The output of <code class="literal">SHOW TRIGGERS</code> contained
        extraneous whitespace.
       (<a href="http://bugs.mysql.com/15103" target="_top">Bug#15103</a>)</p></li><li><p>
        Creating a trigger caused a server crash if the table or trigger
        database was not known because no default database had been
        selected.
       (<a href="http://bugs.mysql.com/14863" target="_top">Bug#14863</a>)</p></li><li><p>
        Column aliases were displayed incorrectly in a
        <code class="literal">SELECT</code> from a view following an update to a
        base table of the view.
       (<a href="http://bugs.mysql.com/14861" target="_top">Bug#14861</a>)</p></li><li><p>
        A replication slave server could sometimes crash on a
        <code class="literal">BEFORE UPDATE</code> trigger if the
        <code class="literal">UPDATE</code> query was not executed in the same
        database as the table with the trigger.
       (<a href="http://bugs.mysql.com/14614" target="_top">Bug#14614</a>)</p></li><li><p>
        <code class="literal">SHOW [FULL] COLUMNS</code> and <code class="literal">SHOW
        INDEX</code> did not function with temporary tables.
       (<a href="http://bugs.mysql.com/14387" target="_top">Bug#14387</a>, <a href="http://bugs.mysql.com/15224" target="_top">Bug#15224</a>)</p></li><li><p>
        The INFORMATION_SCHEMA.COLUMNS table did not report the size of
        BINARY or VARBINARY columns.
       (<a href="http://bugs.mysql.com/14271" target="_top">Bug#14271</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: If
        <code class="literal">FOREIGN_KEY_CHECKS</code> was 0,
        <code class="literal">InnoDB</code> allowed inconsistent foreign keys to
        be created.
       (<a href="http://bugs.mysql.com/13778" target="_top">Bug#13778</a>)</p></li><li><p>
        The server would not compile under Cygwin.
       (<a href="http://bugs.mysql.com/13640" target="_top">Bug#13640</a>)</p></li><li><p>
        <code class="literal">DESCRIBE</code> did not function with temporary
        tables.
       (<a href="http://bugs.mysql.com/12770" target="_top">Bug#12770</a>)</p></li><li><p>
        Set functions could not be aggregated in outer subqueries.
       (<a href="http://bugs.mysql.com/12762" target="_top">Bug#12762</a>)</p></li><li><p>
        A race condition when creating temporary files caused a deadlock
        on Windows with threads in <code class="literal">Opening tables</code> or
        <code class="literal">Waiting for table</code> states.
       (<a href="http://bugs.mysql.com/12071" target="_top">Bug#12071</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-17"></a>E.1.13. Changes in  MySQL 5.0.17 (14 December 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The syntax for <code class="literal">CREATE TRIGGER</code> now includes a
        <code class="literal">DEFINER</code> clause for specifying which access
        privileges to check at trigger invocation time. See
        <a href="triggers.html#create-trigger" title="19.1. CREATE TRIGGER Syntax">Section 19.1, “<code class="literal">CREATE TRIGGER</code> Syntax”</a>, for more information.
      </p><p><b>Known issue. </b>
          If you attempt to replicate from a master server older than
          MySQL 5.0.17 to a slave running MySQL 5.0.17 through 5.0.19,
          replication of <code class="literal">CREATE TRIGGER</code> statements
          fails on the slave with a <span class="errortext">Definer not fully
          qualified error</span>. A workaround is to create
          triggers on the master using a version-specific comment
          embedded in each <code class="literal">CREATE TRIGGER</code> statement:
</p><pre class="programlisting">CREATE /*!50017 DEFINER = 'root'@'localhost' */ TRIGGER ... ;
</pre><p>
          <code class="literal">CREATE TRIGGER</code> statements written this way
          will replicate to newer slaves, which pick up the
          <code class="literal">DEFINER</code> clause from the comment and execute
          successfully.
        </p><p>(<a href="http://bugs.mysql.com/16266" target="_top">Bug#16266</a>)</p></li><li><p>
        Support files for compiling with Visual Studio 6 have been
        removed.
       (<a href="http://bugs.mysql.com/15094" target="_top">Bug#15094</a>)</p></li><li><p>
        In the <code class="literal">latin5_turkish_ci</code> collation, the order
        of the characters <code class="literal">A WITH CIRCUMFLEX</code>,
        <code class="literal">I WITH CIRCUMLEX</code>, and <code class="literal">U WITH
        CIRCUMFLEX</code> was changed. If you have used these
        characters in any indexed columns, you should rebuild those
        indexes.
       (<a href="http://bugs.mysql.com/13421" target="_top">Bug#13421</a>)</p></li><li><p>
        Recursion is allowed in stored procedures. Recursive stored
        functions and triggers still are disallowed.
       (<a href="http://bugs.mysql.com/10100" target="_top">Bug#10100</a>)</p></li><li><p>
        MySQL-*-pro-5.0.17-1.rhel3.i386.rpm,
        MySQL-*-pro-5.0.17-1.rhel3.ia64.rpm,
        MySQL-*-pro-5.0.17-1.rhel3.x86_64.rpm
      </p></li><li><p>
        MySQL-*-pro-gpl-5.0.17-1.rhel3.i386.rpm,
        MySQL-*-pro-gpl-5.0.17-1.rhel3.ia64.rpm,
        MySQL-*-pro-gpl-5.0.17-1.rhel3.x86_64.rpm
      </p></li><li><p>
        Added a <code class="literal">DEFINER</code> column to the
        <code class="literal">INFORMATION_SCHEMA.TRIGGERS</code> table.
      </p></li><li><p>
        Invoking a stored function or trigger creates a new savepoint
        level. When the function or trigger finishes, the previous
        savepoint level is restored.
      </p><p>See also <a href="http://bugs.mysql.com/13825" target="_top">Bug#13825</a></p></li><li><p>
        The maximum key length for <code class="literal">InnoDB</code> indexes was
        increased from 1024 bytes to 3072 bytes for all builds. (In
        MySQL 5.0.15, the length was increased but only for 64-bit
        builds.)
      </p></li><li><p>
        MySQL-{Max,client,devel,server,shared,ndb*}-5.0.17-1.i386.rpm
      </p></li><li><p>
        MySQL-*-standard-5.0.17-1.rhel3.i386.rpm,
        MySQL-*-standard-5.0.17-1.rhel3.ia64.rpm,
        MySQL-*-standard-5.0.17-1.rhel3.x86_64.rpm
      </p></li><li><p>
        Added the <code class="literal">SHOW FUNCTION CODE</code> and
        <code class="literal">SHOW PROCEDURE CODE</code> statements (available
        only for servers that have been built with debugging support).
        See <a href="sql-syntax.html#show-procedure-code" title="12.5.4.19. SHOW PROCEDURE CODE and SHOW FUNCTION
          CODE Syntax">Section 12.5.4.19, “<code class="literal">SHOW PROCEDURE CODE</code> and <code class="literal">SHOW FUNCTION
          CODE</code> Syntax”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A forced cluster shutdown occurred when the management daemon
        was restarted with a changed <code class="filename">config.ini</code>
        file that added an API or SQL node.
       (<a href="http://bugs.mysql.com/15512" target="_top">Bug#15512</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        There was a small window for a node failure to occur during a
        backup without an error being reported.
       (<a href="http://bugs.mysql.com/15425" target="_top">Bug#15425</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Using <code class="literal">ORDER BY
        <em class="replaceable"><code>primary_key_column</code></em></code> when
        selecting from a table having the primary key on a
        <code class="literal">VARCHAR</code> column caused a forced shutdown of
        the cluster.
       (<a href="http://bugs.mysql.com/15240" target="_top">Bug#15240</a>, <a href="http://bugs.mysql.com/15682" target="_top">Bug#15682</a>, <a href="http://bugs.mysql.com/14828" target="_top">Bug#14828</a>, <a href="http://bugs.mysql.com/15517" target="_top">Bug#15517</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Under certain circumstances, when <span><strong class="command">mysqld</strong></span>
        connected to a cluster management server, the connection would
        fail before a node ID could be allocated.
       (<a href="http://bugs.mysql.com/15215" target="_top">Bug#15215</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Creating a table with packed keys failed silently.
        <code class="literal">NDB</code> now supports the
        <code class="literal">PACK_KEYS</code> option to <code class="literal">CREATE
        TABLE</code> correctly.
       (<a href="http://bugs.mysql.com/14514" target="_top">Bug#14514</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">REPLACE</code> failed when attempting to update a
        primary key value in a Cluster table.
       (<a href="http://bugs.mysql.com/14007" target="_top">Bug#14007</a>)</p></li><li><p>
        Corrected an error-handling problem within stored routines on
        64-bit platforms.
       (<a href="http://bugs.mysql.com/15630" target="_top">Bug#15630</a>)</p></li><li><p>
        Slave SQL thread cleanup was not handled properly on Mac OS X
        when a statement was killed, resulting in a slave crash.
       (<a href="http://bugs.mysql.com/15623" target="_top">Bug#15623</a>, <a href="http://bugs.mysql.com/15668" target="_top">Bug#15668</a>)</p></li><li><p>
        The <code class="literal">CREATE</code> test case in
        <span><strong class="command">mysql-test-run.pl</strong></span> failed on AIX and SCO.
       (<a href="http://bugs.mysql.com/15607" target="_top">Bug#15607</a>)</p></li><li><p>
        A bug in <code class="filename">mysql-test/t/mysqltest.test</code> caused
        that test to fail.
       (<a href="http://bugs.mysql.com/15605" target="_top">Bug#15605</a>)</p></li><li><p>
        A statement that produced a warning, when fetched via
        <a href="apis.html#mysql-stmt-fetch" title="23.2.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a>, did not
        produce a warning count according to
        <a href="apis.html#mysql-warning-count" title="23.2.3.72. mysql_warning_count()"><code class="literal">mysql_warning_count()</code></a>.
       (<a href="http://bugs.mysql.com/15510" target="_top">Bug#15510</a>)</p></li><li><p>
        The database-changing code for stored routine handling caused an
        error-handling problem resulting in a server crash.
       (<a href="http://bugs.mysql.com/15392" target="_top">Bug#15392</a>)</p></li><li><p>
        The original Linux RPM packages (5.0.17-0) had an issue with a
        <code class="literal">zlib</code> dependency that would result in an error
        during an install or upgrade. They were replaced by new
        binaries, 5.0.17-1. Here is a list of the new RPM binaries:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              MySQL-{Max,client,devel,server,shared,ndb*}-5.0.17-1.i386.rpm
            </p></li><li><p>
              MySQL-*-standard-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-standard-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-standard-5.0.17-1.rhel3.x86_64.rpm
            </p></li><li><p>
              MySQL-*-pro-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-pro-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-pro-5.0.17-1.rhel3.x86_64.rpm
            </p></li><li><p>
              MySQL-*-pro-gpl-5.0.17-1.rhel3.i386.rpm,
              MySQL-*-pro-gpl-5.0.17-1.rhel3.ia64.rpm,
              MySQL-*-pro-gpl-5.0.17-1.rhel3.x86_64.rpm
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/15223" target="_top">Bug#15223</a>)</p></li><li><p>
        <span><strong class="command">mysqld</strong></span> would not start on Windows 9X
        operating systems including Windows Me.
       (<a href="http://bugs.mysql.com/15209" target="_top">Bug#15209</a>)</p></li><li><p>
        Queries that select records based on comparisons to a set of
        column could crash the server if there was one index covering
        the columns, and a set of other non-covering indexes that taken
        together cover the columns.
       (<a href="http://bugs.mysql.com/15204" target="_top">Bug#15204</a>)</p></li><li><p>
        Selecting from a view processed with the temptable algorithm
        caused a server crash if the query cache was enabled.
       (<a href="http://bugs.mysql.com/15119" target="_top">Bug#15119</a>)</p></li><li><p>
        <span><strong class="command">mysql --help</strong></span> was missing a newline after the
        version string when the bundled <code class="literal">readline</code>
        library was not used.
       (<a href="http://bugs.mysql.com/15097" target="_top">Bug#15097</a>)</p></li><li><p>
        Creating a view that referenced a stored function that selected
        from a view caused a crash upon selection from the view.
       (<a href="http://bugs.mysql.com/15096" target="_top">Bug#15096</a>)</p></li><li><p>
        The server crashed if compiled without any transactional storage
        engines.
       (<a href="http://bugs.mysql.com/15047" target="_top">Bug#15047</a>)</p></li><li><p>
        Multiple-table update operations were counting updates and not
        updated rows. As a result, if a row had several updates it was
        counted several times for the “<span class="quote">rows matched</span>” value
        but updated only once.
       (<a href="http://bugs.mysql.com/15028" target="_top">Bug#15028</a>)</p></li><li><p>
        Symbolic links did not function properly on Windows platforms.
       (<a href="http://bugs.mysql.com/14960" target="_top">Bug#14960</a>, <a href="http://bugs.mysql.com/14310" target="_top">Bug#14310</a>)</p></li><li><p>
        <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a> returned an
        incorrect result after <code class="literal">EXECUTE</code> of a prepared
        statement.
       (<a href="http://bugs.mysql.com/14956" target="_top">Bug#14956</a>)</p></li><li><p>
        When using an aggregate function to select from a table that has
        a multiple-column primary key, adding <code class="literal">ORDER
        BY</code> to the query could produce an incorrect result.
       (<a href="http://bugs.mysql.com/14920" target="_top">Bug#14920</a>)</p></li><li><p>
        <code class="literal">ANALYZE TABLE</code> did not properly update table
        statistics for a <code class="literal">MyISAM</code> table with a
        <code class="literal">FULLTEXT</code> index containing stopwords, so a
        subsequent <code class="literal">ANALYZE TABLE</code> would not recognize
        the table as having already been analyzed.
       (<a href="http://bugs.mysql.com/14902" target="_top">Bug#14902</a>)</p></li><li><p>
        Creating a view within a stored procedure could result in an out
        of memory error or a server crash.
       (<a href="http://bugs.mysql.com/14885" target="_top">Bug#14885</a>)</p></li><li><p>
        <code class="literal">GROUP BY</code> on a view column did not correctly
        account for the possibility that the column could contain
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/14850" target="_top">Bug#14850</a>)</p></li><li><p>
        The <a href="apis.html#mysql-stmt-fetch" title="23.2.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> C API
        function could return <code class="literal">MYSQL_NO_DATA</code> for a
        <code class="literal">SELECT COUNT(*) FROM
        <em class="replaceable"><code>tbl_name</code></em> WHERE 1 = 0</code>
        statement, which should return 1 row.
       (<a href="http://bugs.mysql.com/14845" target="_top">Bug#14845</a>)</p></li><li><p>
        Selecting from a view used <code class="literal">filesort</code> retrieval
        when faster retrieval was possible.
       (<a href="http://bugs.mysql.com/14816" target="_top">Bug#14816</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A race condition allowed two threads
        to drop a hash index simultaneously.
       (<a href="http://bugs.mysql.com/14747" target="_top">Bug#14747</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> for a view could fail if
        the client had locked the view.
       (<a href="http://bugs.mysql.com/14726" target="_top">Bug#14726</a>)</p></li><li><p>
        The grammar for supporting the <code class="literal">DEFINER =
        CURRENT_USER</code> clause in <code class="literal">CREATE VIEW</code>
        and <code class="literal">ALTER VIEW</code> was incorrect.
       (<a href="http://bugs.mysql.com/14719" target="_top">Bug#14719</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... SET DEFAULT</code> had no effect.
       (<a href="http://bugs.mysql.com/14693" target="_top">Bug#14693</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> on a column from a view, when
        also selecting the column normally, and via an alias, caused a
        mistaken <code class="literal">Column 'x' in order clause is
        ambiguous</code> error.
       (<a href="http://bugs.mysql.com/14662" target="_top">Bug#14662</a>)</p></li><li><p>
        <code class="literal">SELECT</code> queries that began with an opening
        parenthesis were not being placed in the query cache.
       (<a href="http://bugs.mysql.com/14652" target="_top">Bug#14652</a>)</p></li><li><p>
        In a stored procedure, continuing (via a condition handler)
        after a failed variable initialization caused a server crash.
       (<a href="http://bugs.mysql.com/14643" target="_top">Bug#14643</a>)</p></li><li><p>
        A <code class="literal">LIMIT</code>-related optimization failed to take
        into account that <code class="literal">MyISAM</code> table indexes can be
        disabled, causing Error 124 when it tried to use such an index.
       (<a href="http://bugs.mysql.com/14616" target="_top">Bug#14616</a>)</p></li><li><p>
        <span><strong class="command">mysqlhotcopy</strong></span> tried to copy
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/14610" target="_top">Bug#14610</a>)</p></li><li><p>
        A server crash resulted from the following sequence of events:
        1) With no default database selected, create a stored procedure
        with the procedure name explicitly qualified with a database
        name (<code class="literal">CREATE PROCEDURE
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>proc_name</code></em>
        ...</code>). 2) Create another stored procedure with no
        database name qualifier. 3) Execute <code class="literal">SHOW PROCEDURE
        STATUS</code>.
       (<a href="http://bugs.mysql.com/14569" target="_top">Bug#14569</a>)</p></li><li><p>
        <span><strong class="command">mysqldump --triggers</strong></span> did not account for the
        SQL mode and could dump trigger definitions with missing
        whitespace if the <code class="literal">IGNORE_SPACE</code> mode was
        enabled.
       (<a href="http://bugs.mysql.com/14554" target="_top">Bug#14554</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE <em class="replaceable"><code>tbl_name</code></em> (...)
        SELECT ...</code> could crash the server and write invalid
        data into the <code class="filename">.frm</code> file if the
        <code class="literal">CREATE TABLE</code> and <code class="literal">SELECT</code>
        both contained a column with the same name. Also, if a default
        value is specified in the column definition, it is now actually
        used.
       (<a href="http://bugs.mysql.com/14480" target="_top">Bug#14480</a>)</p></li><li><p>
        The value of
        <code class="literal">INFORMATION_SCHEMA.TABLES.TABLE_TYPE</code>
        sometimes was reported as empty.
       (<a href="http://bugs.mysql.com/14476" target="_top">Bug#14476</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> contained an
        erroneous comment that resulted in an error when the file
        contents were processed.
       (<a href="http://bugs.mysql.com/14469" target="_top">Bug#14469</a>)</p></li><li><p>
        Queries on <code class="literal">ARCHIVE</code> tables that used the
        <code class="literal">filesort</code> sorting method could result in a
        server crash.
       (<a href="http://bugs.mysql.com/14433" target="_top">Bug#14433</a>)</p></li><li><p>
        Creating a table containing an <code class="literal">ENUM</code> or
        <code class="literal">SET</code> column from within a stored procedure or
        prepared statement caused a server crash later when executing
        the procedure or statement.
       (<a href="http://bugs.mysql.com/14410" target="_top">Bug#14410</a>)</p></li><li><p>
        For a table that had been opened with <code class="literal">HANDLER
        OPEN</code>, issuing <code class="literal">OPTIMIZE TABLE</code>,
        <code class="literal">ALTER TABLE</code>, or <code class="literal">REPAIR
        TABLE</code> caused a server crash.
       (<a href="http://bugs.mysql.com/14397" target="_top">Bug#14397</a>)</p></li><li><p>
        Declaring a stored routine variable to have a
        <code class="literal">DEFAULT</code> value that referred to a variable of
        the same name caused a server crash. (For example:
        <code class="literal">DECLARE x INT DEFAULT x</code>) Now the
        <code class="literal">DEFAULT</code> variable is interpreted as referring
        to a variable in an outer scope, if there is one.
       (<a href="http://bugs.mysql.com/14376" target="_top">Bug#14376</a>)</p></li><li><p>
        Complex subqueries could cause improper internal query execution
        environment initialization and crash the server.
       (<a href="http://bugs.mysql.com/14342" target="_top">Bug#14342</a>)</p></li><li><p>
        Within a stored procedure, inserting with <code class="literal">INSERT ...
        SELECT</code> into a table with an
        <code class="literal">AUTO_INCREMENT</code> column did not generate the
        correct sequence number.
       (<a href="http://bugs.mysql.com/14304" target="_top">Bug#14304</a>)</p></li><li><p>
        Space truncation was being ignored when inserting into
        <code class="literal">BINARY</code> or <code class="literal">VARBINARY</code>
        columns. Now space truncation results in a warning, or an error
        in strict mode.
       (<a href="http://bugs.mysql.com/14299" target="_top">Bug#14299</a>)</p></li><li><p>
        Casting a <code class="literal">FLOAT</code> or <code class="literal">DOUBLE</code>
        whose value was less than <code class="literal">1.0E-06</code> to
        <code class="literal">DECIMAL</code> would yield an inappropriate value.
       (<a href="http://bugs.mysql.com/14268" target="_top">Bug#14268</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(<em class="replaceable"><code>expr</code></em> AS
        BINARY(<em class="replaceable"><code>N</code></em>)</code></a>) did not pad
        with 0x00 to a length of <em class="replaceable"><code>N</code></em> bytes.
       (<a href="http://bugs.mysql.com/14255" target="_top">Bug#14255</a>)</p></li><li><p>
        Manual manipulation of the <code class="literal">mysql.proc</code> table
        could cause a server crash. This should not happen, but it is
        also not supported that the server will notice such changes.
       (<a href="http://bugs.mysql.com/14233" target="_top">Bug#14233</a>)</p></li><li><p>
        A <code class="literal">UNION</code> of <code class="literal">DECIMAL</code> columns
        could produce incorrect results.
       (<a href="http://bugs.mysql.com/14216" target="_top">Bug#14216</a>)</p></li><li><p>
        The maximum value of <code class="literal">MAX_ROWS</code> was handled
        incorrectly on 64-bit systems.
       (<a href="http://bugs.mysql.com/14155" target="_top">Bug#14155</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(... USING ...)</code></a> and
        <a href="functions.html#function_convert"><code class="literal">CONVERT(CHAR(...) USING ...)</code></a>,
        though logically equivalent, could produce different results.
       (<a href="http://bugs.mysql.com/14146" target="_top">Bug#14146</a>)</p></li><li><p>
        The server could misinterpret old trigger definition files
        created before MySQL 5.0.17. Now they are interpreted correctly,
        but this takes more time and the server issues a warning that
        the trigger should be re-created.
       (<a href="http://bugs.mysql.com/14090" target="_top">Bug#14090</a>)</p></li><li><p>
        Stored functions making use of cursors were not replicated.
       (<a href="http://bugs.mysql.com/14077" target="_top">Bug#14077</a>)</p></li><li><p>
        For a invalid view definition, selecting from the
        <code class="literal">INFORMATION_SCHEMA.VIEWS</code> table or using
        <code class="literal">SHOW CREATE VIEW</code> failed, making it difficult
        to determine what part of the definition was invalid. Now the
        server returns the definition and issues a warning.
       (<a href="http://bugs.mysql.com/13818" target="_top">Bug#13818</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Activity on an
        <code class="literal">InnoDB</code> table caused execution time for
        <code class="literal">SHOW CREATE TABLE</code> for the table to increase.
       (<a href="http://bugs.mysql.com/13762" target="_top">Bug#13762</a>)</p></li><li><p>
        Within a stored procedure, exception handling for
        <code class="literal">UPDATE</code> statements that caused a duplicate-key
        error caused a <code class="literal">Packets out of order</code> error for
        the following statement.
       (<a href="http://bugs.mysql.com/13729" target="_top">Bug#13729</a>)</p></li><li><p>
        Statements that implicitly commit a transaction are prohibited
        in stored functions and triggers. An attempt to create a
        function or trigger containing such a statement produces an
        error. (The originally reported symptom was that a trigger that
        dropped another trigger could cause a server crash. That problem
        was fixed by the patch for <a href="http://bugs.mysql.com/13343" target="_top">Bug#13343</a>.)
       (<a href="http://bugs.mysql.com/13627" target="_top">Bug#13627</a>)</p></li><li><p>
        A newline character in a column alias in a view definition
        caused an error when selecting from the view later.
       (<a href="http://bugs.mysql.com/13622" target="_top">Bug#13622</a>)</p></li><li><p>
        Invoking a stored procedure within another stored procedure
        caused the server to crash.
       (<a href="http://bugs.mysql.com/13549" target="_top">Bug#13549</a>)</p></li><li><p>
        Warnings from a previous command were not being reset when
        fetching from a cursor.
       (<a href="http://bugs.mysql.com/13524" target="_top">Bug#13524</a>)</p></li><li><p>
        In some cases, a left outer join could yield an invalid result
        or cause the server to crash, due to a
        <code class="literal">MYSQL_DATA_TRUNCATED</code> error.
       (<a href="http://bugs.mysql.com/13488" target="_top">Bug#13488</a>)</p></li><li><p>
        <code class="literal">DELETE</code> from <code class="literal">CSV</code> tables
        reported an incorrect rows-affected value.
       (<a href="http://bugs.mysql.com/13406" target="_top">Bug#13406</a>)</p></li><li><p>
        A server crash could occur if a prepared statement updated a
        table for which a trigger existed when the statement was
        prepared but had been dropped prior to statement execution.
       (<a href="http://bugs.mysql.com/13399" target="_top">Bug#13399</a>)</p></li><li><p>
        <code class="literal">RESET MASTER</code> failed to delete log files on
        Windows. One consequence of this change is that server opens the
        general query and slow log files in shared mode, so now they can
        be renamed while the server has them open (something not true in
        previous versions).
       (<a href="http://bugs.mysql.com/13377" target="_top">Bug#13377</a>)</p></li><li><p>
        For binary string data types, <span><strong class="command">mysqldump
        --hex-blob</strong></span> produced an illegal output value of
        <code class="literal">0x</code> rather than <code class="literal">''</code>.
       (<a href="http://bugs.mysql.com/13318" target="_top">Bug#13318</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLES</code>, <code class="literal">BACKUP
        TABLES</code>, <code class="literal">RESTORE TABLES</code> within a
        stored procedure caused a server crash.
       (<a href="http://bugs.mysql.com/13012" target="_top">Bug#13012</a>)</p></li><li><p>
        Implicit versus explicit conversion of float to integer (such as
        inserting a float value into an integer column versus using
        <a href="functions.html#function_cast"><code class="literal">CAST(... AS UNSIGNED)</code></a> before
        inserting the value) could produce different results. Implicit
        and explicit typecasts now are done the same way, with a value
        equal to the nearest integer according to the prevailing
        rounding mode.
       (<a href="http://bugs.mysql.com/12956" target="_top">Bug#12956</a>)</p></li><li><p>
        Some comparisons for the <a href="functions.html#function_in"><code class="literal">IN()</code></a>
        operator were inconsistent with equivalent comparisons for the
        <code class="literal">=</code> operator.
       (<a href="http://bugs.mysql.com/12612" target="_top">Bug#12612</a>)</p></li><li><p>
        A server crash could occur if a prepared statement invoked a
        stored procedure that existed when the statement was prepared
        but had been dropped and re-created prior to statement
        execution.
       (<a href="http://bugs.mysql.com/12329" target="_top">Bug#12329</a>)</p></li><li><p>
        <span><strong class="command">make</strong></span> failed when attempting to build MySQL in
        different directory other than that containing the source.
       (<a href="http://bugs.mysql.com/11827" target="_top">Bug#11827</a>)</p></li><li><p>
        On Windows, the server could crash during shutdown if both
        replication threads and normal client connection threads were
        active.
       (<a href="http://bugs.mysql.com/11796" target="_top">Bug#11796</a>)</p></li><li><p>
        Revised table locking to allow proper assessment of view
        security.
       (<a href="http://bugs.mysql.com/11555" target="_top">Bug#11555</a>)</p></li><li><p>
        Perform character set conversion of constant values whenever
        possible without data loss.
       (<a href="http://bugs.mysql.com/10446" target="_top">Bug#10446</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: During replication, There was a
        failure to record events in the binary log that still occurred
        even in the event of a <code class="literal">ROLLBACK</code>. For example,
        this sequence of commands:
      </p><pre class="programlisting">BEGIN;
CREATE TEMPORARY TABLE t1 (a INT) ENGINE=INNODB;
ROLLBACK;
INSERT INTO t1 VALUES (1);
</pre><p>
        would succeed on the replication master as expected. However,
        the <code class="literal">INSERT</code> would fail on the slave because
        the <code class="literal">ROLLBACK</code> would (erroneously) cause the
        <code class="literal">CREATE TEMPORARY TABLE</code> statement not to be
        written to the binlog.
       (<a href="http://bugs.mysql.com/7947" target="_top">Bug#7947</a>)</p></li><li><p>
        Within a trigger definition the
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> function
        evaluated to the user whose actions caused the trigger to be
        activated. Now that triggers have a <code class="literal">DEFINER</code>
        value, <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> evaluates
        to the trigger definer.
       (<a href="http://bugs.mysql.com/5861" target="_top">Bug#5861</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> ignored the
        <code class="literal">MYSQL_TCP_PORT</code> environment variable.
       (<a href="http://bugs.mysql.com/5792" target="_top">Bug#5792</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-16"></a>E.1.14. Changes in  MySQL 5.0.16 (10 November 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When a date column is set <code class="literal">NOT NULL</code> and
        contains <code class="literal">0000-00-00</code>, it will be updated for
        UPDATE statements that contains <code class="literal">
        <em class="replaceable"><code>columnname</code></em> IS NULL</code> in the
        WHERE clause.
       (<a href="http://bugs.mysql.com/14186" target="_top">Bug#14186</a>)</p></li><li><p>
        When trying to run the server with yaSSL enabled, MySQL now
        tries to open <code class="filename">/dev/random</code> automatically if
        <code class="filename">/dev/urandom</code> is not available.
       (<a href="http://bugs.mysql.com/13164" target="_top">Bug#13164</a>)</p></li><li><p>
        MySQL 5.0 now supports character set conversion for
        seven additional <code class="literal">cp950</code> characters into the
        <code class="literal">big5</code> character set:
        <code class="literal">0xF9D6</code>, <code class="literal">0xF9D7</code>,
        <code class="literal">0xF9D8</code>, <code class="literal">0xF9D9</code>,
        <code class="literal">0xF9DA</code>, <code class="literal">0xF9DB</code>, and
        <code class="literal">0xF9DC</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If you move data containing these additional characters to an
          older MySQL installation which does not support them, you may
          encounter errors.
        </p></div><p>(<a href="http://bugs.mysql.com/12476" target="_top">Bug#12476</a>)</p></li><li><p>
        You must now declare a prefix for an index on any column of any
        <code class="literal">Geometry</code> class, the only exception being when
        the column is a <code class="literal">POINT</code>.
       (<a href="http://bugs.mysql.com/12267" target="_top">Bug#12267</a>)</p></li><li><p>
        The <code class="literal">read_only</code> system variable no longer
        applies to <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/4544" target="_top">Bug#4544</a>)</p></li><li><p>
        Due to changes in binary logging, the restrictions on which
        stored routine creators can be trusted not to create unsafe
        routines have been lifted for stored procedures (but not stored
        functions). Consequently, the
        <code class="literal">log_bin_trust_routine_creators</code> system
        variable and the corresponding
        <code class="option">--log-bin-trust-routine-creators</code> server option
        were renamed to
        <code class="literal">log_bin_trust_function_creators</code> and
        <code class="option">--log-bin-trust-function-creators</code>. For backward
        compatibility, the old names are recognized but result in a
        warning. See <a href="stored-procedures.html#stored-procedure-logging" title="18.5. Binary Logging of Stored Routines and Triggers">Section 18.5, “Binary Logging of Stored Routines and Triggers”</a>.
      </p></li><li><p>
        The <code class="literal">CHECK TABLE</code> statement now works for
        <code class="literal">ARCHIVE</code> tables.
      </p></li><li><p>
        Added a <code class="option">--hexdump</code> option to
        <span><strong class="command">mysqlbinlog</strong></span> that displays a hex dump of the
        log in comments. This output can be helpful for replication
        debugging.
      </p></li><li><p>
        In MySQL 5.0.13, syntax for <code class="literal">DEFINER</code> and
        <code class="literal">SQL SECURITY</code> clauses was added to the
        <code class="literal">CREATE VIEW</code> and <code class="literal">ALTER VIEW</code>
        statements, but the clauses had no effect. They now are enabled.
        They specify the security context to be used when checking
        access privileges at view invocation time. See
        <a href="views.html#create-view" title="20.2. CREATE VIEW Syntax">Section 20.2, “<code class="literal">CREATE VIEW</code> Syntax”</a>, for more information.
      </p></li><li><p>
        The <code class="literal">InnoDB</code>, <code class="literal">NDB</code>,
        <code class="literal">BDB</code>, and <code class="literal">ARCHIVE</code> storage
        engines now support spatial columns. See
        <a href="spatial-extensions.html" title="Chapter 17. Spatial Extensions">Chapter 17, <i>Spatial Extensions</i></a>.
      </p></li><li><p>
        Added the <code class="literal">Compression</code> status variable, which
        indicates whether the client connection uses compression in the
        client/server protocol.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Repeated transactions using unique index lookups could cause a
        memory leak leading to error 288, <code class="literal">Out of index
        operations in transaction coordinator</code>.
       (<a href="http://bugs.mysql.com/14199" target="_top">Bug#14199</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A memory leak occurred when performing ordered index scans using
        indexes on columns larger than 32 bytes. This would eventually
        lead to the forced shutdown of all <span><strong class="command">mysqld</strong></span>
        server processes used with the cluster.
       (<a href="http://bugs.mysql.com/13078" target="_top">Bug#13078</a>)</p></li><li><p>
        For some stored functions dumped by <span><strong class="command">mysqldump
        --routines</strong></span>, the function definition could not be
        reloaded later due to a parsing error.
       (<a href="http://bugs.mysql.com/14723" target="_top">Bug#14723</a>)</p></li><li><p>
        Deletes from a <code class="literal">CSV</code> table could cause table
        corruption.
       (<a href="http://bugs.mysql.com/14672" target="_top">Bug#14672</a>)</p></li><li><p>
        Executing <code class="literal">REPAIR TABLE</code>, <code class="literal">ANALYZE
        TABLE</code>, or <code class="literal">OPTIMIZE TABLE</code> on a view
        for which an underlying table had been dropped caused a server
        crash.
       (<a href="http://bugs.mysql.com/14540" target="_top">Bug#14540</a>)</p></li><li><p>
        <span><strong class="command">mysqlmanager</strong></span> did not start up correctly on
        Windows 2003.
       (<a href="http://bugs.mysql.com/14537" target="_top">Bug#14537</a>)</p></li><li><p>
        Selecting from a table in both an outer query and a subquery
        could cause a server crash.
       (<a href="http://bugs.mysql.com/14482" target="_top">Bug#14482</a>)</p></li><li><p>
        <code class="literal">ORDER BY DESC</code> within the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function was not
        honored when used in a view.
       (<a href="http://bugs.mysql.com/14466" target="_top">Bug#14466</a>)</p></li><li><p>
        The input polling loop for Instance Manager did not sleep
        properly. Instance Manager used up too much CPU as a result.
       (<a href="http://bugs.mysql.com/14388" target="_top">Bug#14388</a>)</p></li><li><p>
        Indexes for <code class="literal">BDB</code> tables were being limited
        incorrectly to 255 bytes.
       (<a href="http://bugs.mysql.com/14381" target="_top">Bug#14381</a>)</p></li><li><p>
        The <span><strong class="command">mysql</strong></span> parser did not properly strip the
        delimiter from input lines less than nine characters long. For
        example, this could cause <code class="literal">USE abc;</code> to result
        in an <code class="literal">Unknown database: abc;</code> error.
       (<a href="http://bugs.mysql.com/14358" target="_top">Bug#14358</a>)</p></li><li><p>
        The displayed value for the
        <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> column in the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table was not
        adjusted for multi-byte character sets.
       (<a href="http://bugs.mysql.com/14290" target="_top">Bug#14290</a>)</p></li><li><p>
        The parser did not correctly recognize wildcards in the host
        part of the <code class="literal">DEFINER</code> user in <code class="literal">CREATE
        VIEW</code> statements.
       (<a href="http://bugs.mysql.com/14256" target="_top">Bug#14256</a>)</p></li><li><p>
        Memory corruption and a server crash could be caused by
        statements that used a cursor and generated a result set larger
        than <code class="literal">max_heap_table_size</code>.
       (<a href="http://bugs.mysql.com/14210" target="_top">Bug#14210</a>)</p></li><li><p>
        A bugfix in MySQL 5.0.15 caused the displayed values for the
        <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns in the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table to be
        reversed.
       (<a href="http://bugs.mysql.com/14207" target="_top">Bug#14207</a>)</p></li><li><p>
        Statements of the form <code class="literal">CREATE TABLE ... SELECT
        ...</code> that created a column with a multi-byte character
        set could incorrectly calculate the maximum length of the
        column, resulting in a <code class="literal">Specified key was too
        long</code> error.
       (<a href="http://bugs.mysql.com/14139" target="_top">Bug#14139</a>)</p></li><li><p>
        Use of <code class="literal">WITH ROLLUP PROCEDURE ANALYSE()</code> could
        hang the server.
       (<a href="http://bugs.mysql.com/14138" target="_top">Bug#14138</a>)</p></li><li><p>
        On Windows, the value of <code class="literal">character_sets_dir</code>
        in <code class="literal">SHOW VARIABLES</code> output was displayed
        inconsistently (using both “<span class="quote"> <code class="literal">/</code> </span>”
        and “<span class="quote"> <code class="literal">\</code> </span>” as pathname component
        separators).
       (<a href="http://bugs.mysql.com/14137" target="_top">Bug#14137</a>)</p></li><li><p>
        A comparison with an invalid date (such as <code class="literal">WHERE
        <em class="replaceable"><code>col_name</code></em> &gt; '2005-09-31'</code>)
        caused any index on <em class="replaceable"><code>col_name</code></em> not to
        be used and a string comparison for each row, resulting in slow
        performance.
       (<a href="http://bugs.mysql.com/14093" target="_top">Bug#14093</a>)</p></li><li><p>
        Subqueries in the <code class="literal">FROM</code> clause failed if the
        current database was <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/14089" target="_top">Bug#14089</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, using a column prefix for
        a <code class="literal">utf8</code> column in a primary key caused
        <code class="literal">Cannot find record</code> errors when attempting to
        locate records.
       (<a href="http://bugs.mysql.com/14056" target="_top">Bug#14056</a>)</p></li><li><p>
        Some updatable views could not be updated.
       (<a href="http://bugs.mysql.com/14027" target="_top">Bug#14027</a>)</p></li><li><p>
        A prepared statement that selected from a view processed using
        the merge algorithm could crash on the second execution.
       (<a href="http://bugs.mysql.com/14026" target="_top">Bug#14026</a>)</p></li><li><p>
        When the <code class="literal">DATE_FORMAT()</code> function appeared in
        both the <code class="literal">SELECT</code> and <code class="literal">ORDER
        BY</code> clauses of a query but with arguments that differ
        by case (i.e. %m and %M), incorrect sorting may have occurred.
       (<a href="http://bugs.mysql.com/14016" target="_top">Bug#14016</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a>,
        <a href="functions.html#function_addtime"><code class="literal">ADDTIME()</code></a>, and
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> were not reporting
        that they could return <code class="literal">NULL</code>, so functions
        that invoked them might misinterpret their results.
       (<a href="http://bugs.mysql.com/14009" target="_top">Bug#14009</a>)</p></li><li><p>
        Within stored routines,
        <a href="functions.html#function_replace"><code class="literal">REPLACE()</code></a> could return an empty
        string (rather than the original string) when no replacement was
        done, and <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could return
        garbage results.
       (<a href="http://bugs.mysql.com/13941" target="_top">Bug#13941</a>)</p></li><li><p>
        Inserting a new row into an <code class="literal">InnoDB</code> table
        could cause <code class="literal">DATETIME</code> values already stored in
        the table to change.
       (<a href="http://bugs.mysql.com/13900" target="_top">Bug#13900</a>)</p></li><li><p>
        An update of a <code class="literal">CSV</code> table could cause a server
        crash.
       (<a href="http://bugs.mysql.com/13894" target="_top">Bug#13894</a>)</p></li><li><p>
        Corrected a parser precedence problem that resulted in an
        <code class="literal">Unknown column ... in 'on clause'</code> error for
        some joins.
       (<a href="http://bugs.mysql.com/13832" target="_top">Bug#13832</a>)</p></li><li><p>
        Trying to take the logarithm of a negative value is now handled
        in the same fashion as division by zero. That is, it produces a
        warning when <code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code> is
        set, and an error in strict mode.
       (<a href="http://bugs.mysql.com/13820" target="_top">Bug#13820</a>)</p></li><li><p>
        The example configuration files supplied with MySQL
        distributions listed the <code class="literal">thread_cache_size</code>
        variable as <code class="literal">thread_cache</code>.
       (<a href="http://bugs.mysql.com/13811" target="_top">Bug#13811</a>)</p></li><li><p>
        <span><strong class="command">mysqld_safe</strong></span> did not correctly start the
        <code class="literal">-max</code> version of the server (if it was
        present) if the <code class="option">--ledir</code> option was given.
       (<a href="http://bugs.mysql.com/13774" target="_top">Bug#13774</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> did not display the
        <code class="literal">CONNECTION</code> string for
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/13724" target="_top">Bug#13724</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table originally created in
        MySQL 4.1, <code class="literal">INSERT DELAYED</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/13707" target="_top">Bug#13707</a>)</p></li><li><p>
        The server incorrectly accepted column definitions of the form
        <code class="literal">DECIMAL(0,<em class="replaceable"><code>D</code></em>)</code> for
        <em class="replaceable"><code>D</code></em> less than 11.
       (<a href="http://bugs.mysql.com/13667" target="_top">Bug#13667</a>)</p></li><li><p>
        Trying to create a stored routine with no database selected
        would crash the server.
       (<a href="http://bugs.mysql.com/13587" target="_top">Bug#13587</a>, <a href="http://bugs.mysql.com/13514" target="_top">Bug#13514</a>)</p></li><li><p>
        Inserts of too-large <code class="literal">DECIMAL</code> values were
        handled inconsistently (sometimes set to the maximum
        <code class="literal">DECIMAL</code> value, sometimes set to 0).
       (<a href="http://bugs.mysql.com/13573" target="_top">Bug#13573</a>)</p></li><li><p>
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> returned an
        incorrect result if one argument but not the other was a leap
        year and a date was from March or later.
       (<a href="http://bugs.mysql.com/13534" target="_top">Bug#13534</a>)</p></li><li><p>
        Specifying <code class="option">--default-character-set=cp-932</code> for
        <span><strong class="command">mysqld</strong></span> would cause SQL scripts containing
        comments written using that character set to fail with a syntax
        error.
       (<a href="http://bugs.mysql.com/13487" target="_top">Bug#13487</a>)</p></li><li><p>
        Use of <code class="literal"><em class="replaceable"><code>col_name</code></em> =
        VALUES(<em class="replaceable"><code>col_name</code></em>)</code> in the
        <code class="literal">ON DUPLICATE KEY UPDATE</code> clause of an
        <code class="literal">INSERT</code> statement failed with an
        <code class="literal">Column '<em class="replaceable"><code>col_name</code></em>' in field
        list is ambiguous</code> error.
       (<a href="http://bugs.mysql.com/13392" target="_top">Bug#13392</a>)</p></li><li><p>
        The default value of <code class="literal">query_prealloc_size</code> was
        set to 8192, lower than its minimum of 16384. The minimum has
        been lowered to 8192.
       (<a href="http://bugs.mysql.com/13334" target="_top">Bug#13334</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When dropping and adding a
        <code class="literal">PRIMARY KEY</code>, if a loose index scan using only
        the second part of multiple-part index was chosen, incorrect
        keys were created and an endless loop resulted.
       (<a href="http://bugs.mysql.com/13293" target="_top">Bug#13293</a>)</p></li><li><p>
        <span><strong class="command">mysqladmin</strong></span> and <span><strong class="command">mysqldump</strong></span>
        would hang on SCO OpenServer.
       (<a href="http://bugs.mysql.com/13238" target="_top">Bug#13238</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT
        CHAR(<em class="replaceable"><code>col_name</code></em>)</code> returned
        incorrect results after <code class="literal">SET NAMES utf8</code>.
       (<a href="http://bugs.mysql.com/13233" target="_top">Bug#13233</a>)</p></li><li><p>
        For queries with nested outer joins, the optimizer could choose
        join orders that query execution could not handle. The fix is
        that now the optimizer avoids choosing such join orders.
       (<a href="http://bugs.mysql.com/13126" target="_top">Bug#13126</a>)</p></li><li><p>
        The server did not take character set into account in checking
        the width of the <code class="literal">mysql.user.Password</code> column.
        As a result, it could incorrectly generate long password hashes
        even if the column was not long enough to hold them.
       (<a href="http://bugs.mysql.com/13064" target="_top">Bug#13064</a>)</p></li><li><p>
        The source distribution failed to compile when configured with
        the <code class="option">--without-geometry</code> option.
       (<a href="http://bugs.mysql.com/12991" target="_top">Bug#12991</a>)</p></li><li><p>
        Use of the deprecated <code class="option">--sql-bin-update-same</code>
        option caused a server crash.
       (<a href="http://bugs.mysql.com/12974" target="_top">Bug#12974</a>)</p></li><li><p>
        Maximum values were handled incorrectly for command-line options
        of type <code class="literal">GET_LL</code>.
       (<a href="http://bugs.mysql.com/12925" target="_top">Bug#12925</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> could not dump views if the
        <code class="option">-x</code> option was given.
       (<a href="http://bugs.mysql.com/12838" target="_top">Bug#12838</a>)</p></li><li><p>
        Two threads that were creating triggers on an
        <code class="literal">InnoDB</code> table at the same time could deadlock.
       (<a href="http://bugs.mysql.com/12739" target="_top">Bug#12739</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Large
        <code class="literal">innobase_buffer_pool_size</code> and
        <code class="literal">innobase_log_file_size</code> values were displayed
        incorrectly on 64-bit systems.
       (<a href="http://bugs.mysql.com/12701" target="_top">Bug#12701</a>)</p></li><li><p>
        For <code class="literal">LIKE ... ESCAPE</code>, an escape sequence
        longer than one character was accepted as valid. Now the
        sequence must be empty or one character long. If the
        <code class="literal">NO_BACKSLASH_ESCAPES</code> SQL mode is enabled, the
        sequence must be one character long.
       (<a href="http://bugs.mysql.com/12595" target="_top">Bug#12595</a>)</p></li><li><p>
        Inserting <code class="literal">cp932</code> strings into a
        <code class="literal">VARCHAR</code> column caused a server crash rather
        than string truncation if the string was longer than the column
        definition.
       (<a href="http://bugs.mysql.com/12547" target="_top">Bug#12547</a>)</p></li><li><p>
        A prepared statement failed with <code class="literal">Illegal mix of
        collations</code> if the client character set was
        <code class="literal">utf8</code> and the statement used a table that had
        a character set of <code class="literal">latin1</code>.
       (<a href="http://bugs.mysql.com/12371" target="_top">Bug#12371</a>)</p></li><li><p>
        Using <code class="literal">ALTER TABLE</code> to add an index could fail
        if the operation ran out of temporary file space. Now it
        automatically makes a second attempt that uses a slower method
        but no temporary file. In this case, problems that occurred
        during the first attempt can be displayed with <code class="literal">SHOW
        WARNINGS</code>.
       (<a href="http://bugs.mysql.com/12166" target="_top">Bug#12166</a>)</p></li><li><p>
        <span><strong class="command">mysqlimport</strong></span> now issues a <code class="literal">SET
        @@character_set_database = binary</code> statement before
        loading data so that a file containing mixed character sets
        (columns with different character sets) can be loaded properly.
       (<a href="http://bugs.mysql.com/12123" target="_top">Bug#12123</a>)</p></li><li><p>
        Running <code class="literal">OPTIMIZE TABLE</code> and other
        data-updating statements concurrently on an
        <code class="literal">InnoDB</code> table could cause a crash or the
        following warnings in the error log: <code class="literal">Warning: Found
        locks from different threads in write: enter
        write_lock</code>, <code class="literal">Warning: Found locks from
        different threads in write: start of release lock</code>.
       (<a href="http://bugs.mysql.com/11704" target="_top">Bug#11704</a>)</p></li><li><p>
        <code class="literal">LOAD DATA INFILE</code> would not accept the same
        character for both the <code class="literal">ESCAPED BY</code> and the
        <code class="literal">ENCLOSED BY</code> clauses.
       (<a href="http://bugs.mysql.com/11203" target="_top">Bug#11203</a>)</p></li><li><p>
        The value of <code class="literal">Last_query_cost</code> was not updated
        for queries served from the query cache.
       (<a href="http://bugs.mysql.com/10303" target="_top">Bug#10303</a>)</p></li><li><p>
        Starting <span><strong class="command">mysqld</strong></span> with the
        <code class="option">--skip-innodb</code> and
        <code class="option">--default-storage-engine=innodb</code> (or
        <code class="option">--default-table-type=innodb</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/9815" target="_top">Bug#9815</a>)</p></li><li><p>
        The <code class="option">--exit-info=65536</code> option conflicted with
        <code class="option">--temp-pool</code> and caused problems with the
        server's use of temporary files. Now
        <code class="option">--temp-pool</code> is ignored if
        <code class="option">--exit-info=65536</code> is specified.
       (<a href="http://bugs.mysql.com/9551" target="_top">Bug#9551</a>)</p></li><li><p>
        For a user that has the <code class="literal">SELECT</code> privilege on a
        view, the server erroneously was also requiring the user to have
        the <code class="literal">EXECUTE</code> privilege at view execution time
        for stored functions used in the view definition.
       (<a href="http://bugs.mysql.com/9505" target="_top">Bug#9505</a>)</p></li><li><p>
        Where one stored procedure called another stored procedure: If
        the second stored procedure generated an exception, the
        exception was not caught by the calling stored procedure. For
        example, if stored procedure <code class="literal">A</code> used an
        <code class="literal">EXIT</code> statement to handle an exception,
        subsequent statements in <code class="literal">A</code> would be executed
        regardless when <code class="literal">A</code> was called by another
        stored procedure <code class="literal">B</code>, even if an exception that
        should have been handled by the <code class="literal">EXIT</code> was
        generated in <code class="literal">A</code>.
       (<a href="http://bugs.mysql.com/7049" target="_top">Bug#7049</a>)</p></li><li><p>
        On Windows, the server was not ignoring hidden or system
        directories that Windows may have created in the data directory,
        and would treat them as available databases.
       (<a href="http://bugs.mysql.com/4375" target="_top">Bug#4375</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-15"></a>E.1.15. Changes in  MySQL 5.0.15 (19 October 2005: Production)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For <code class="literal">BINARY</code> columns, the pad value and how it
        is handled has changed. The pad value for inserts now is
        <code class="literal">0x00</code> rather than space, and there is no
        stripping of the pad value for selects. For details, see
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and VARBINARY Types">Section 10.4.2, “The <code class="literal">BINARY</code> and <code class="literal">VARBINARY</code> Types”</a>.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function now returns
        a binary string rather than a string in the connection character
        set. An optional <code class="literal">USING
        <em class="replaceable"><code>charset</code></em></code> clause may be used
        to produce a result in a specific character set instead. Also,
        arguments larger than 256 produce multiple characters. They are
        no longer interpreted modulo 256 to produce a single character
        each. These changes may cause some incompatibilities, as noted
        in <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client now reports node startup
        phases automatically.
       (<a href="http://bugs.mysql.com/16197" target="_top">Bug#16197</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A new “<span class="quote">smart</span>” node allocation algorithm means that
        it is no longer necessary to use sequential IDs for cluster
        nodes, and that nodes not explicitly assigned IDs should now
        have IDs allocated automatically in most cases. In practical
        terms, this means that it is now possible to assign a set of
        node IDs such as <code class="literal">1</code>, <code class="literal">2</code>,
        <code class="literal">4</code>, <code class="literal">5</code> without an error
        being generated due to the missing <code class="literal">3</code>.
       (<a href="http://bugs.mysql.com/13009" target="_top">Bug#13009</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A number of new or improved error messages have been implemented
        in this release in order to provide better and more accurate
        diagnostic information regarding cluster configuration issues
        and problems.
       (<a href="http://bugs.mysql.com/12786" target="_top">Bug#12786</a>, <a href="http://bugs.mysql.com/11749" target="_top">Bug#11749</a>, <a href="http://bugs.mysql.com/13197" target="_top">Bug#13197</a>, <a href="http://bugs.mysql.com/11739" target="_top">Bug#11739</a>, <a href="http://bugs.mysql.com/12044" target="_top">Bug#12044</a>)</p></li><li><p>
        The following statements now cause an implicit
        <code class="literal">COMMIT</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">CREATE VIEW</code>
          </p></li><li><p>
            <code class="literal">ALTER VIEW</code>
          </p></li><li><p>
            <code class="literal">DROP VIEW</code>
          </p></li><li><p>
            <code class="literal">CREATE TRIGGER</code>
          </p></li><li><p>
            <code class="literal">DROP TRIGGER</code>
          </p></li><li><p>
            <code class="literal">CREATE USER</code>
          </p></li><li><p>
            <code class="literal">RENAME USER</code>
          </p></li><li><p>
            <code class="literal">DROP USER</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/13343" target="_top">Bug#13343</a>)</p></li><li><p>
        Added the <code class="option">--tz-utc</code> option to
        <span><strong class="command">mysqldump</strong></span>. This option adds <code class="literal">SET
        TIME_ZONE='+00:00'</code> to the dump file so that
        <code class="literal">TIMESTAMP</code> columns can be dumped and reloaded
        between servers in different time zones and protected from
        changes due to daylight saving time.
       (<a href="http://bugs.mysql.com/13052" target="_top">Bug#13052</a>)</p></li><li><p>
        When executing single-table <code class="literal">UPDATE</code> or
        <code class="literal">DELETE</code> queries containing an <code class="literal">ORDER
        BY ... LIMIT <em class="replaceable"><code>N</code></em></code> clause, but
        not having any <code class="literal">WHERE</code> clause, MySQL can now
        take advantage of an index to read the first
        <em class="replaceable"><code>N</code></em> rows in the ordering specified in
        the query. If an index is used, only the first
        <em class="replaceable"><code>N</code></em> records will be read, as opposed to
        scanning the entire table.
       (<a href="http://bugs.mysql.com/12915" target="_top">Bug#12915</a>)</p></li><li><p>
        The <code class="literal">MySQL-server</code> RPM now explicitly assigns
        the <code class="literal">mysql</code> system user to the
        <code class="literal">mysql</code> user group during the postinstallation
        process. This corrects an issue with upgrading the server on
        some Linux distributions whereby a previously existing
        <code class="literal">mysql</code> user was not changed to the
        <code class="literal">mysql</code> group, resulting in wrong groups for
        files created following the installation.
       (<a href="http://bugs.mysql.com/12823" target="_top">Bug#12823</a>)</p></li><li><p>
        <code class="literal">CREATE VIEW</code>
      </p></li><li><p>
        The maximum key length for <code class="literal">InnoDB</code> indexes was
        increased from 1024 bytes to 3072 bytes for 64-bit builds.
      </p></li><li><p>
        <code class="literal">DROP USER</code>
      </p></li><li><p>
        <code class="literal">DROP VIEW</code>
      </p></li><li><p>
        <code class="literal">DROP TRIGGER</code>
      </p></li><li><p>
        <code class="literal">CREATE USER</code>
      </p></li><li><p>
        <code class="literal">ALTER VIEW</code>
      </p></li><li><p>
        <code class="literal">CREATE TRIGGER</code>
      </p></li><li><p>
        When declaring a local variable (or parameter) named
        <code class="literal">password</code> or <code class="literal">name</code>, and
        setting it with <code class="literal">SET</code> (for example,
        <code class="literal">SET password = ''</code>), the new error message
        <code class="literal">ERROR 42000: Variable 'nnn' must be quoted with `...`,
        or renamed</code> is returned (where 'nnn' is 'password' or
        'names'). This means there is a syntax conflict with special
        sentences like <code class="literal">SET PASSWORD = PASSWORD(...)</code>
        (for setting a user's password) and <code class="literal">set names
        default</code> (for setting charset and collation).
      </p><p>
        This must be resolved either by quoting the variable name:
        <code class="literal">SET `password` = ...</code>, which will set the
        local variable <code class="literal">`password`</code>, or by renaming the
        variable to something else (if setting the user's password is
        the desired effect).
      </p></li><li><p>
        <code class="literal">RENAME USER</code>
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">perror</strong></span> utility included with the
        <code class="literal">MySQL-Server</code> RPM did not provide support for
        the <code class="option">--ndb</code> option. It now supports this option,
        and so can be used to obtain error message text for MySQL
        Cluster error codes.
       (<a href="http://bugs.mysql.com/13740" target="_top">Bug#13740</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Placing multiple <code class="literal">[tcp default]</code> sections in
        the cluster's <code class="filename">config.ini</code> file crashed
        <span><strong class="command">ndb_mgmd</strong></span>. (The process now exits gracefully
        in such cases, with an appropriate error message.)
       (<a href="http://bugs.mysql.com/13611" target="_top">Bug#13611</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgmd</strong></span> allowed a node to be stopped or
        restarted while another node was still starting up, which could
        crash the cluster. It should now not be possible to issue a node
        stop or restart while a different node is still restarting, and
        the cluster management client should issue an error when such an
        attempt is made.
       (<a href="http://bugs.mysql.com/13461" target="_top">Bug#13461</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to run <span><strong class="command">ndbd</strong></span> as system
        <code class="literal">root</code> when connecting to a
        <span><strong class="command">mysqld</strong></span> process running as the
        <code class="literal">mysql</code> system user via SHM caused the
        <span><strong class="command">ndbd</strong></span> process to crash.
        (<span><strong class="command">ndbd</strong></span> should now exit gracefully with an
        appropriate error message instead.)
       (<a href="http://bugs.mysql.com/9249" target="_top">Bug#9249</a>)</p></li><li><p>
        Tests containing <code class="literal">SHOW TABLE STATUS</code> or
        <code class="literal">INFORMATION_SCHEMA</code> failed on opnsrv6c.
       (<a href="http://bugs.mysql.com/14064" target="_top">Bug#14064</a>, <a href="http://bugs.mysql.com/14065" target="_top">Bug#14065</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> could not dump views.
       (<a href="http://bugs.mysql.com/14061" target="_top">Bug#14061</a>)</p></li><li><p>
        <span><strong class="command">mysqlcheck <code class="option">--all-databases</code>
        <code class="option">--analyze</code> <code class="option">--optimize</code>
        </strong></span> failed because it also tried to analyze and optimize
        the <code class="literal">INFORMATION_SCHEMA</code> tables which it can't.
       (<a href="http://bugs.mysql.com/13783" target="_top">Bug#13783</a>)</p></li><li><p>
        Character set conversion was not being done for
        <a href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a>.
       (<a href="http://bugs.mysql.com/13751" target="_top">Bug#13751</a>)</p></li><li><p>
        On BSD systems, the system <code class="literal">crypt()</code> call could
        return an error for some salt values. The error was not handled,
        resulting in a server crash.
       (<a href="http://bugs.mysql.com/13619" target="_top">Bug#13619</a>)</p></li><li><p>
        When calling a stored procedure with the syntax <code class="literal">CALL
        <em class="replaceable"><code>schema</code></em>.<em class="replaceable"><code>procedurename</code></em>
        </code> and no default schema selected, <code class="literal">ERROR
        1046</code> was displayed after the procedure returned.
       (<a href="http://bugs.mysql.com/13616" target="_top">Bug#13616</a>)</p></li><li><p>
        A column in the <code class="literal">ON</code> condition of a join that
        referenced a table in a nested join could not be resolved if the
        nested join was a right join.
       (<a href="http://bugs.mysql.com/13597" target="_top">Bug#13597</a>)</p></li><li><p>
        The server could over-allocate memory when performing a
        <code class="literal">FULLTEXT</code> search for stopwords only.
       (<a href="http://bugs.mysql.com/13582" target="_top">Bug#13582</a>)</p></li><li><p>
        <code class="literal">CREATE DEFINER=... VIEW ...</code> caused the server
        to crash when run with <code class="option">--skip-grant-tables</code>.
       (<a href="http://bugs.mysql.com/13504" target="_top">Bug#13504</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Queries that were executed using an
        <code class="literal">index_merge</code> union or intersection could
        produce incorrect results if the underlying table used the
        <code class="literal">InnoDB</code> storage engine and had a primary key
        containing <code class="literal">VARCHAR</code> members.
       (<a href="http://bugs.mysql.com/13484" target="_top">Bug#13484</a>)</p></li><li><p>
        A qualified reference to a view column in the
        <code class="literal">HAVING</code> clause could not be resolved.
       (<a href="http://bugs.mysql.com/13410" target="_top">Bug#13410</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(1E+300 TO SIGNED INT)</code></a>
        produced an incorrect result on little-endian machines.
       (<a href="http://bugs.mysql.com/13344" target="_top">Bug#13344</a>)</p></li><li><p>
        Queries that use indexes in normal <code class="literal">SELECT</code>
        statements may cause range scans in <code class="literal">VIEW</code>s.
       (<a href="http://bugs.mysql.com/13327" target="_top">Bug#13327</a>)</p></li><li><p>
        <code class="literal">SELECT * INTO OUTFILE ... FROM
        INFORMATION_SCHEMA.schemata</code> failed with an
        <code class="literal">Access denied</code> error.
       (<a href="http://bugs.mysql.com/13202" target="_top">Bug#13202</a>)</p></li><li><p>
        <span><strong class="command">mysqldump --triggers</strong></span> did not quote
        identifiers properly if the <code class="option">--compatible</code> option
        was given, so the dump output could not be reloaded.
       (<a href="http://bugs.mysql.com/13146" target="_top">Bug#13146</a>)</p></li><li><p>
        A table or view named Ç (C-cedilla) couldn't be dropped.
       (<a href="http://bugs.mysql.com/13145" target="_top">Bug#13145</a>)</p></li><li><p>
        For XA transaction IDs (<code class="literal">
        <em class="replaceable"><code>gtrid</code></em>.<em class="replaceable"><code>bqual</code></em>.<em class="replaceable"><code>formatID</code></em>
        </code>), uniqueness is supposed to be assessed based on
        <em class="replaceable"><code>gtrid</code></em> and
        <em class="replaceable"><code>bqual</code></em>. MySQL was also including
        <em class="replaceable"><code>formatID</code></em> in the uniqueness check.
       (<a href="http://bugs.mysql.com/13143" target="_top">Bug#13143</a>)</p></li><li><p>
        Trying to create a view dynamically using a prepared statement
        within a stored procedure failed with error 1295.
       (<a href="http://bugs.mysql.com/13095" target="_top">Bug#13095</a>)</p></li><li><p>
        <span><strong class="command">comp_err</strong></span> did not detect when multiple error
        messages for a language were given for an error symbol.
       (<a href="http://bugs.mysql.com/13071" target="_top">Bug#13071</a>)</p></li><li><p>
        If special characters such as <code class="literal">'_'</code> ,
        <code class="literal">'%'</code>, or the escape character were included
        within the prefix of a column index, <code class="literal">LIKE</code>
        pattern matching on the indexed column did not return the
        correct result.
       (<a href="http://bugs.mysql.com/13046" target="_top">Bug#13046</a>, <a href="http://bugs.mysql.com/13919" target="_top">Bug#13919</a>)</p></li><li><p>
        Using an undefined variable in an <code class="literal">IF</code> or
        <code class="literal">SET</code> clause inside a stored routine produced
        an incorrect <code class="literal">unknown column ... in 'order
        clause'</code> error message.
       (<a href="http://bugs.mysql.com/13037" target="_top">Bug#13037</a>)</p></li><li><p>
        With <code class="option">--log-slave-updates</code>
        <code class="literal">Exec_master_log_pos</code> of SQL thread lagged IO
       (<a href="http://bugs.mysql.com/13023" target="_top">Bug#13023</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> did not display any
        <code class="literal">FOREIGN KEY</code> clauses if a temporary file could
        not be created. Now <code class="literal">SHOW CREATE TABLE</code>
        displays an error message in an SQL comment if this occurs.
       (<a href="http://bugs.mysql.com/13002" target="_top">Bug#13002</a>)</p></li><li><p>
        Local (non-XA) and XA transactions are supposed to be mutually
        exclusive within a given client connection, but this prohibition
        was not always enforced.
       (<a href="http://bugs.mysql.com/12935" target="_top">Bug#12935</a>)</p></li><li><p>
        Server crashed during a <code class="literal">SELECT</code> statement,
        writing a message like this to the error log:
</p><pre class="programlisting">InnoDB: Error: MySQL is trying to perform a SELECT
InnoDB: but it has not locked any tables in ::external_lock()!
</pre><p>
       (<a href="http://bugs.mysql.com/12736" target="_top">Bug#12736</a>)</p></li><li><p>
        An <code class="literal">UPDATE</code> query using a join would be
        executed incorrectly on a replication slave.
       (<a href="http://bugs.mysql.com/12618" target="_top">Bug#12618</a>)</p></li><li><p>
        An expression in an <code class="literal">ORDER BY</code> clause failed
        with <code class="literal">Unknown column
        '<em class="replaceable"><code>col_name</code></em>' in 'order
        clause'</code> if the expression referred to a column alias.
       (<a href="http://bugs.mysql.com/11694" target="_top">Bug#11694</a>)</p></li><li><p>
        Issuing <code class="literal">STOP SLAVE</code> after having acquired a
        global read lock with <code class="literal">FLUSH TABLES WITH READ
        LOCK</code> caused a deadlock. Now <code class="literal">STOP
        SLAVE</code> is generates an error in such circumstances.
       (<a href="http://bugs.mysql.com/10942" target="_top">Bug#10942</a>)</p></li><li><p>
        Corrected a memory-copying problem for <code class="literal">big5</code>
        values when using <span><strong class="command">icc</strong></span> compiler on Linux IA-64
        systems.
       (<a href="http://bugs.mysql.com/10836" target="_top">Bug#10836</a>)</p></li><li><p>
        The <code class="option">--interactive-timeout</code> and
        <code class="option">--slave-net-timeout</code> options for
        <span><strong class="command">mysqld</strong></span> were not being obeyed on Mac OS X and
        other BSD-based platforms.
       (<a href="http://bugs.mysql.com/8731" target="_top">Bug#8731</a>)</p></li><li><p>
        Queries of the form <code class="literal">(SELECT ...) ORDER BY ...</code>
        were being treated as a <code class="literal">UNION</code>. This
        improperly resulted in only distinct values being returned
        (because <code class="literal">UNION</code> by default eliminates
        duplicate results). Also, references to column aliases in
        <code class="literal">ORDER BY</code> clauses following parenthesized
        <code class="literal">SELECT</code> statements were not resolved properly.
       (<a href="http://bugs.mysql.com/7672" target="_top">Bug#7672</a>)</p></li><li><p>
        Character set file parsing during
        <a href="apis.html#mysql-real-connect" title="23.2.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> read past
        the end of a memory buffer.
       (<a href="http://bugs.mysql.com/6413" target="_top">Bug#6413</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-14"></a>E.1.16. Changes in  MySQL 5.0.14 (Not released)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Multiple-table <code class="literal">UPDATE</code> and
        <code class="literal">DELETE</code> statements that do not affect any rows
        are now written to the binary log and will replicate.
       (<a href="http://bugs.mysql.com/13348" target="_top">Bug#13348</a>, <a href="http://bugs.mysql.com/12844" target="_top">Bug#12844</a>)</p></li><li><p>
        Range scans can now be performed for queries on VIEWs such as
        <code class="literal">column IN (&lt;constants&gt;)</code> and
        <code class="literal">column BETWEEN ConstantA AND ConstantB</code>.
       (<a href="http://bugs.mysql.com/13317" target="_top">Bug#13317</a>)</p></li><li><p>
        The limit of 255 characters on the input buffer for
        <span><strong class="command">mysql</strong></span> on Windows has been lifted. The exact
        limit depends on what the system allows, but can be up to 64K
        characters. A typical limit is 16K characters.
       (<a href="http://bugs.mysql.com/12929" target="_top">Bug#12929</a>)</p></li><li><p>
        Added the <code class="literal">myisam_stats_method</code>, which controls
        whether <code class="literal">NULL</code> values in indexes are considered
        the same or different when collecting statistics for
        <code class="literal">MyISAM</code> tables. This influences the query
        optimizer as described in
        <a href="optimization.html#myisam-index-statistics" title="7.4.7. MyISAM Index Statistics Collection">Section 7.4.7, “<code class="literal">MyISAM</code> Index Statistics Collection”</a>.
       (<a href="http://bugs.mysql.com/12232" target="_top">Bug#12232</a>)</p></li><li><p>
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function now takes
        into account the character set and collation given by the
        <code class="literal">character_set_connection</code> and
        <code class="literal">collation_connection</code> system variables. For an
        argument <em class="replaceable"><code>n</code></em> to
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a>, the result is
        <em class="replaceable"><code>n</code></em> mod 256 for single-byte character
        sets. For multi-byte character sets,
        <em class="replaceable"><code>n</code></em> must be a valid code point in the
        character set. Also, the result string from
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> is checked for
        well-formedness. For invalid arguments, or a result that is not
        well-formed, MySQL generates a warning (or, in strict SQL mode,
        an error).
       (<a href="http://bugs.mysql.com/10504" target="_top">Bug#10504</a>)</p></li><li><p>
        Re-enabled the <code class="option">--delayed-inserts</code> option for
        <span><strong class="command">mysqldump</strong></span>, which now checks for each table
        dumped whether its storage engine supports
        <code class="literal">DELAYED</code> inserts.
       (<a href="http://bugs.mysql.com/7815" target="_top">Bug#7815</a>)</p></li><li><p>
        <code class="literal">RENAME TABLE</code> now works for views as well, as
        long as you do not try to rename a view into a different
        database.
       (<a href="http://bugs.mysql.com/5508" target="_top">Bug#5508</a>)</p></li><li><p>
        Configure-time checking for the availability of multi-byte
        macros and functions in the bundled <code class="literal">readline</code>
        library. This improves handling of multi-byte character sets in
        the <span><strong class="command">mysql</strong></span> client.
       (<a href="http://bugs.mysql.com/3982" target="_top">Bug#3982</a>)</p></li><li><p>
        When an <code class="literal">InnoDB</code> foreign key constraint is
        violated, the error message now indicates which table, column,
        and constraint names are involved.
       (<a href="http://bugs.mysql.com/3443" target="_top">Bug#3443</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A trigger updating the value of an
        <code class="literal">AUTO_INCREMENT</code> column in an
        <code class="literal">NDB</code> table would insert an error code rather
        than the expected value into the column.
       (<a href="http://bugs.mysql.com/13961" target="_top">Bug#13961</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        If <span><strong class="command">ndb_restore</strong></span> could not find a free
        <span><strong class="command">mysqld</strong></span> process, it crashed.
       (<a href="http://bugs.mysql.com/13512" target="_top">Bug#13512</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Adding an index to a table with a large number of columns (more
        then 100) crashed the storage node.
       (<a href="http://bugs.mysql.com/13316" target="_top">Bug#13316</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">BIT</code> columns and following columns in
        <code class="literal">NDB</code> tables were corrupt when dumped by
        <span><strong class="command">mysqldump</strong></span>.
       (<a href="http://bugs.mysql.com/13152" target="_top">Bug#13152</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Queries on <code class="literal">NDB</code> tables that were executed
        using <code class="literal">index_merge</code> could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/13081" target="_top">Bug#13081</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Receipt of several <code class="literal">ENTER SINGLE USER MODE</code>
        commands by multiple <span><strong class="command">ndb_mgmd</strong></span> processes
        within a short period of time resulted in cluster shutdown.
       (<a href="http://bugs.mysql.com/13053" target="_top">Bug#13053</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Multiple <span><strong class="command">ndb_mgmd</strong></span> processes in a cluster did
        not know each other's IP addresses.
       (<a href="http://bugs.mysql.com/12037" target="_top">Bug#12037</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        With two <span><strong class="command">mgmd</strong></span> processes in a cluster,
        <span><strong class="command">ndb_mgm</strong></span> output for <code class="literal">SHOW</code>
        would display the same IP address for both processes, even when
        they were on different hosts.
       (<a href="http://bugs.mysql.com/11595" target="_top">Bug#11595</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">LOAD DATA INFILE</code> with a large data file
        failed.
       (<a href="http://bugs.mysql.com/10694" target="_top">Bug#10694</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When deleting a great many (tens of thousands of) rows at once
        from an <code class="literal">NDB</code> table, an improperly dereferenced
        pointer could cause the <span><strong class="command">mysqld</strong></span> process to
        crash.
       (<a href="http://bugs.mysql.com/9282" target="_top">Bug#9282</a>)</p></li><li><p>
        Certain joins using <code class="literal">Range checked for each
        record</code> in the query execution plan could cause the
        server to crash.
       (<a href="http://bugs.mysql.com/24776" target="_top">Bug#24776</a>)</p></li><li><p>
        Joins nested under <code class="literal">NATURAL</code> or
        <code class="literal">USING</code> joins were sometimes not initialized
        properly, causing a server crash.
       (<a href="http://bugs.mysql.com/13545" target="_top">Bug#13545</a>)</p></li><li><p>
        After running <span><strong class="command">configure</strong></span> with the
        <code class="option">--with-embedded-privilege-control</code> option, the
        embedded server failed to build.
       (<a href="http://bugs.mysql.com/13501" target="_top">Bug#13501</a>)</p></li><li><p>
        The optimizer chose a less efficient execution plan for
        <code class="literal"><em class="replaceable"><code>col_name</code></em> BETWEEN
        <em class="replaceable"><code>const</code></em> AND
        <em class="replaceable"><code>const</code></em></code> than for <code class="literal">
        <em class="replaceable"><code>col_name</code></em> =
        <em class="replaceable"><code>const</code></em></code>, even though the two
        expressions are logically equivalent. Now the optimizer can use
        the <code class="literal">ref</code> access method for both expressions.
       (<a href="http://bugs.mysql.com/13455" target="_top">Bug#13455</a>)</p></li><li><p>
        Locking a view with the query cache enabled and
        <code class="literal">query_cache_wlock_invalidate</code> enabled could
        cause a server crash.
       (<a href="http://bugs.mysql.com/13424" target="_top">Bug#13424</a>)</p></li><li><p>
        A <code class="literal">HAVING</code> clause that references an
        unqualified view column name could crash the server.
       (<a href="http://bugs.mysql.com/13411" target="_top">Bug#13411</a>)</p></li><li><p>
        The <code class="option">--skip-innodb-doublewrite</code> option disables
        use of the <code class="literal">InnoDB</code> doublewrite buffer.
        However, having this option in effect when creating a new MySQL
        installation prevented the buffer from even being created,
        resulting in a server crash later.
       (<a href="http://bugs.mysql.com/13367" target="_top">Bug#13367</a>)</p></li><li><p>
        Calling the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> function
        with a <code class="literal">DECIMAL</code> column value caused a server
        crash when the value was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/13361" target="_top">Bug#13361</a>)</p></li><li><p>
        Comparisons involving row constructors containing constants
        could cause a server crash.
       (<a href="http://bugs.mysql.com/13356" target="_top">Bug#13356</a>)</p></li><li><p>
        Aggregate functions sometimes incorrectly were allowed in the
        <code class="literal">WHERE</code> clause of <code class="literal">UPDATE</code> and
        <code class="literal">DELETE</code> statements.
       (<a href="http://bugs.mysql.com/13180" target="_top">Bug#13180</a>)</p></li><li><p>
        <code class="literal">NATURAL</code> joins and joins with
        <code class="literal">USING</code> against a view could return
        <code class="literal">NULL</code> rather than the correct value.
       (<a href="http://bugs.mysql.com/13127" target="_top">Bug#13127</a>)</p></li><li><p>
        For queries with <code class="literal">DISTINCT</code> and <code class="literal">WITH
        ROLLUP</code>, the <code class="literal">DISTINCT</code> should be
        applied after the rollup operation, but was not always.
       (<a href="http://bugs.mysql.com/12887" target="_top">Bug#12887</a>)</p></li><li><p>
        It was possible to create a view that executed a stored function
        for which you did not have the <code class="literal">EXECUTE</code>
        privilege.
       (<a href="http://bugs.mysql.com/12812" target="_top">Bug#12812</a>)</p></li><li><p>
        Shared-memory connections were not working on Windows.
       (<a href="http://bugs.mysql.com/12723" target="_top">Bug#12723</a>)</p></li><li><p>
        The server was not rejecting
        <code class="literal">FLOAT(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
        or
        <code class="literal">DOUBLE(<em class="replaceable"><code>M</code></em>,<em class="replaceable"><code>D</code></em>)</code>
        columns specifications when <em class="replaceable"><code>M</code></em> was
        less than <em class="replaceable"><code>D</code></em>.
       (<a href="http://bugs.mysql.com/12694" target="_top">Bug#12694</a>)</p></li><li><p>
        <code class="literal">CHECKSUM TABLE</code> locked
        <code class="literal">InnoDB</code> tables and did not use a consistent
        read.
       (<a href="http://bugs.mysql.com/12669" target="_top">Bug#12669</a>)</p></li><li><p>
        Incorrect creation of <code class="literal">DECIMAL</code> local variables
        in a stored procedure could cause a server crash.
       (<a href="http://bugs.mysql.com/12589" target="_top">Bug#12589</a>)</p></li><li><p>
        For queries for which the optimizer determined a join type of
        “<span class="quote">Range checked for each record</span>” (as shown by
        <code class="literal">EXPLAIN</code>, the query sometimes could cause a
        server crash, depending on the data distribution.
       (<a href="http://bugs.mysql.com/12291" target="_top">Bug#12291</a>)</p></li><li><p>
        After running <span><strong class="command">configure</strong></span> with the
        <code class="option">--without-server</code> option, the distribution
        failed to build.
       (<a href="http://bugs.mysql.com/11680" target="_top">Bug#11680</a>, <a href="http://bugs.mysql.com/13550" target="_top">Bug#13550</a>)</p></li><li><p>
        Use of a user-defined function within the
        <code class="literal">HAVING</code> clause of a query resulted in an
        <code class="literal">Unknown column</code> error.
       (<a href="http://bugs.mysql.com/11553" target="_top">Bug#11553</a>)</p></li><li><p>
        The server crashed when processing a view that invoked the
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> function.
       (<a href="http://bugs.mysql.com/11416" target="_top">Bug#11416</a>)</p></li><li><p>
        When <code class="literal">SELECT ... FOR UPDATE</code> or <code class="literal">SELECT
        ... LOCK IN SHARE MODE</code> for an
        <code class="literal">InnoDB</code> table were executed from within a
        stored function or a trigger, they were converted to a
        non-locking consistent read.
       (<a href="http://bugs.mysql.com/11238" target="_top">Bug#11238</a>)</p></li><li><p>
        The <code class="option">--replicate-rewrite-db</code> and
        <code class="option">--replicate-do-table</code> options did not work for
        statements in which tables were aliased to names other than
        those listed by the options.
       (<a href="http://bugs.mysql.com/11139" target="_top">Bug#11139</a>)</p></li><li><p>
        Queries against a <code class="literal">MERGE</code> table that has a
        composite index could produce incorrect results.
       (<a href="http://bugs.mysql.com/9112" target="_top">Bug#9112</a>)</p></li><li><p>
        MySQL programs in binary distributions for Solaris 8/9/10 x86
        systems would not run on Pentium III machines.
       (<a href="http://bugs.mysql.com/6772" target="_top">Bug#6772</a>)</p></li><li><p>
        Nested handlers within stored procedures didn't work.
       (<a href="http://bugs.mysql.com/6127" target="_top">Bug#6127</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-13"></a>E.1.17. Changes in  MySQL 5.0.13 (22 September 2005: Release Candidate)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">OPTIMIZE TABLE</code> and <code class="literal">HANDLER</code>
        now are prohibited in stored procedures and functions and in
        triggers.
       (<a href="http://bugs.mysql.com/12953" target="_top">Bug#12953</a>, <a href="http://bugs.mysql.com/12995" target="_top">Bug#12995</a>)</p></li><li><p>
        The <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> and
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a> functions used to
        return <code class="literal">NULL</code> only if all arguments were
        <code class="literal">NULL</code>. Now they return <code class="literal">NULL</code>
        if any argument is <code class="literal">NULL</code>, the same as Oracle.
       (<a href="http://bugs.mysql.com/12791" target="_top">Bug#12791</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: The <code class="literal">TRUNCATE TABLE</code>
        statement for <code class="literal">InnoDB</code> tables always resets the
        counter for an <code class="literal">AUTO_INCREMENT</code> column now,
        regardless of whether there is a foreign key constraint on the
        table. (Beginning with 5.0.3, <code class="literal">TRUNCATE TABLE</code>
        reset the counter, but only if there was no such constraint.)
       (<a href="http://bugs.mysql.com/11946" target="_top">Bug#11946</a>)</p></li><li><p>
        Reorder network startup to come after all other initialization,
        particularly storage engine startup which can take a long time.
        This also prevents MySQL from being run on a privileged port
        (any port under 1024) unless run as the root user.
       (<a href="http://bugs.mysql.com/11707" target="_top">Bug#11707</a>)</p></li><li><p>
        The restriction on the use of <code class="literal">PREPARE</code>,
        <code class="literal">EXECUTE</code>, and <code class="literal">DEALLOCATE
        PREPARE</code> within stored procedures was lifted. The
        restriction still applies to stored functions and triggers.
       (<a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a>)</p><p>See also <a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a></p></li><li><p>
        A new command line argument was added to
        <span><strong class="command">mysqld</strong></span> to ignore client character set
        information sent during handshake, and use server side settings
        instead, to reproduce 4.0 behavior :
</p><pre class="programlisting">mysqld --skip-character-set-client-handshake</pre><p>
       (<a href="http://bugs.mysql.com/9948" target="_top">Bug#9948</a>)</p></li><li><p>
        Added a <code class="option">--routines</code> option for
        <span><strong class="command">mysqldump</strong></span> that enables dumping of stored
        routines.
       (<a href="http://bugs.mysql.com/9056" target="_top">Bug#9056</a>)</p></li><li><p>
        <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> no longer allows
        non-constant initializers. (Prior to MySQL 5.0.13, the effect of
        non-constant initializers is undefined.)
       (<a href="http://bugs.mysql.com/6172" target="_top">Bug#6172</a>)</p></li><li><p>
        Better detection of connection timeout for replication servers
        on Windows allows elimination of extraneous <code class="literal">Lost
        connection</code> errors in the error log.
       (<a href="http://bugs.mysql.com/5588" target="_top">Bug#5588</a>)</p></li><li><p>
        The syntax for <code class="literal">CREATE VIEW</code> and <code class="literal">ALTER
        VIEW</code> statements now includes
        <code class="literal">DEFINER</code> and <code class="literal">SQL SECURITY</code>
        clauses for specifying the security context to be used when
        checking access privileges at view invocation time. (The syntax
        is present in 5.0.13, but these clauses have no effect until
        5.0.16.) See <a href="views.html#create-view" title="20.2. CREATE VIEW Syntax">Section 20.2, “<code class="literal">CREATE VIEW</code> Syntax”</a>, for more
        information.
      </p></li><li><p>
        The <code class="option">--hex-dump</code> option for
        <span><strong class="command">mysqldump</strong></span> now also applies to
        <code class="literal">BIT</code> columns.
      </p></li><li><p>
        Two new collations have been added for Esperanto:
        <code class="literal">utf8_esperanto_ci</code> and
        <code class="literal">ucs2_esperanto_ci</code>.
      </p></li><li><p>
        The Windows binary packages are now compiled with the Microsoft
        Visual Studio 2003 compiler instead of Microsoft Visual C++ 6.0.
      </p></li><li><p>
        The connection string for <code class="literal">FEDERATED</code> tables
        now is specified using a <code class="literal">CONNECTION</code> table
        option rather than a <code class="literal">COMMENT</code> table option.
      </p></li><li><p>
        The binaries compiled with the Intel icc compiler are now built
        using icc 9.0 instead of icc 8.1. You will have to install new
        versions of the Intel icc runtime libraries, which are available
        from here:
        (<a href="http://dev.mysql.com/downloads/os-linux.html" target="_top">
        http://dev.mysql.com/downloads/os-linux.html</a>)
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        A lock wait timeout caused <code class="literal">InnoDB</code> to roll
        back the entire current transaction. Now it rolls back only the
        most recent SQL statement.
       (<a href="http://bugs.mysql.com/12308" target="_top">Bug#12308</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster management client <code class="literal">START BACKUP</code>
        command could be interrupted by a <code class="literal">SHOW</code>
        command.
       (<a href="http://bugs.mysql.com/13054" target="_top">Bug#13054</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A cluster shutdown following the crash of a data node failed to
        terminate any remaining node processes, even though
        <span><strong class="command">ndb_mgm</strong></span> showed the shutdown request as having
        been completed.
       (<a href="http://bugs.mysql.com/9996" target="_top">Bug#9996</a>, <a href="http://bugs.mysql.com/10938" target="_top">Bug#10938</a>, <a href="http://bugs.mysql.com/11623" target="_top">Bug#11623</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The average row size for Cluster tables was calculated
        incorrectly. This affected the values shown for the
        <code class="literal">Data_length</code> and
        <code class="literal">Avg_row_length</code> columns in the output
        generated by <code class="literal">SHOW TABLE STATUS</code> as well as the
        values for the <code class="literal">data_length</code> and
        <code class="literal">data_length/table_rows</code> columns shown in the
        <code class="literal">TABLES</code> table of the
        <code class="literal">INFORMATION_SCHEMA</code> database with respect to
        Cluster tables.
      </p><p>
        Tables using storage engines other than <code class="literal">NDB</code>
        were not affected by this bug.
       (<a href="http://bugs.mysql.com/9896" target="_top">Bug#9896</a>)</p></li><li><p>
        Local variables in stored routines were not always initialized
        correctly.
       (<a href="http://bugs.mysql.com/13133" target="_top">Bug#13133</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine does not support
        <code class="literal">ALTER TABLE</code>, but no appropriate error message
        was issued.
       (<a href="http://bugs.mysql.com/13108" target="_top">Bug#13108</a>)</p></li><li><p>
        Columns named in the <code class="literal">USING()</code> clause of
        <code class="literal">JOIN ... USING()</code> were incorrectly resolved in
        case-sensitive fashion.
       (<a href="http://bugs.mysql.com/13067" target="_top">Bug#13067</a>)</p></li><li><p>
        For a server compiled with yaSSL, clients that used MySQL
        Connector/J were not able to establish SSH connections.
       (<a href="http://bugs.mysql.com/13029" target="_top">Bug#13029</a>)</p></li><li><p>
        When used in view definitions,
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME(<em class="replaceable"><code>expr</code></em>)</code></a>,
        <a href="functions.html#function_dayofweek"><code class="literal">DAYOFWEEK(<em class="replaceable"><code>expr</code></em>)</code></a>,
        <a href="functions.html#function_weekday"><code class="literal">WEEKDAY(<em class="replaceable"><code>expr</code></em>)</code></a>
        were incorrectly treated as though the expression was
        <a href="functions.html#function_to-days"><code class="literal">TO_DAYS(<em class="replaceable"><code>expr</code></em>)</code></a>
        or
        <a href="functions.html#function_to-days"><code class="literal">TO_DAYS(TO_DAYS(<em class="replaceable"><code>expr</code></em>))</code></a>.
       (<a href="http://bugs.mysql.com/13000" target="_top">Bug#13000</a>)</p></li><li><p>
        Using <code class="literal">AS</code> to rename a column selected from a
        view in a subquery made it not possible to refer to that column
        in the outer query.
       (<a href="http://bugs.mysql.com/12993" target="_top">Bug#12993</a>)</p></li><li><p>
        Using an <code class="literal">INOUT</code> parameter with a
        <code class="literal">DECIMAL</code> data type in a stored procedure
        caused a server crash.
       (<a href="http://bugs.mysql.com/12979" target="_top">Bug#12979</a>)</p></li><li><p>
        <code class="literal">SELECT ... JOIN ... ON ... JOIN ... USING</code>
        caused a server crash.
       (<a href="http://bugs.mysql.com/12977" target="_top">Bug#12977</a>)</p></li><li><p>
        A bug introduced in MySQL 5.0.12 caused <code class="literal">SHOW TABLE
        STATUS</code> to display an <code class="literal">Auto_increment</code>
        value of 0 for <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/12973" target="_top">Bug#12973</a>)</p></li><li><p>
        On HP-UX 11.x (PA-RISC), the <code class="option">-L</code> option caused
        <span><strong class="command">mysqlimport</strong></span> to crash.
       (<a href="http://bugs.mysql.com/12958" target="_top">Bug#12958</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: A consistent read could return
        inconsistent results due to a bug introduced in MySQL 5.0.5.
       (<a href="http://bugs.mysql.com/12947" target="_top">Bug#12947</a>)</p></li><li><p>
        Incorrect implicit nesting of joins caused the parser to fail on
        queries of the form <code class="literal">SELECT ... FROM t1 JOIN t2 JOIN t3
        ON t1.t1col = t3.t3col</code> with an <code class="literal">Unknown column
        't1.t1col' in 'on clause'</code> error.
       (<a href="http://bugs.mysql.com/12943" target="_top">Bug#12943</a>)</p></li><li><p>
        Incorrect results could be returned from a view processed using
        a temporary table.
       (<a href="http://bugs.mysql.com/12941" target="_top">Bug#12941</a>)</p></li><li><p>
        Multiplying a <code class="literal">DECIMAL</code> value within a loop in
        a stored routine could incorrectly result in a value of
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/12938" target="_top">Bug#12938</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> when selecting from a view in
        some cases could cause incorrect results to be returned.
       (<a href="http://bugs.mysql.com/12922" target="_top">Bug#12922</a>)</p></li><li><p>
        The counters for the <code class="literal">Key_read_requests</code>,
        <code class="literal">Key_reads</code>,
        <code class="literal">Key_write_requests</code>, and
        <code class="literal">Key_writes</code> status variables were changed from
        <code class="literal">unsigned long</code> to <code class="literal">unsigned
        longlong</code> to accommodate larger values before the
        variables roll over and restart from 0.
       (<a href="http://bugs.mysql.com/12920" target="_top">Bug#12920</a>)</p></li><li><p>
        <span><strong class="command">mysql</strong></span> and <span><strong class="command">mysqldump</strong></span> were
        ignoring the <code class="option">--defaults-extra-file</code> option.
       (<a href="http://bugs.mysql.com/12917" target="_top">Bug#12917</a>)</p></li><li><p>
        <code class="literal">SHOW FIELDS FROM
        <em class="replaceable"><code>schemaname</code></em>.<em class="replaceable"><code>viewname</code></em>
        </code> caused error 1046 when no default schema was set.
       (<a href="http://bugs.mysql.com/12905" target="_top">Bug#12905</a>)</p></li><li><p>
        <code class="literal">UNION [DISTINCT]</code> was not removing all
        duplicates for multi-byte character values.
       (<a href="http://bugs.mysql.com/12891" target="_top">Bug#12891</a>)</p></li><li><p>
        A column that can be <code class="literal">NULL</code> was not handled
        properly for <code class="literal">WITH ROLLUP</code> in a subquery or
        view.
       (<a href="http://bugs.mysql.com/12885" target="_top">Bug#12885</a>)</p></li><li><p>
        Within a transaction, the following statements now cause an
        implicit commit: <code class="literal">CREATE FUNCTION</code>,
        <code class="literal">DROP FUNCTION</code>, <code class="literal">DROP
        PROCEDURE</code>, <code class="literal">ALTER FUNCTION</code>,
        <code class="literal">ALTER PROCEDURE</code>, <code class="literal">CREATE
        PROCEDURE</code>. This corrects a problem where these
        statements followed by <code class="literal">ROLLBACK</code> might not be
        replicated properly.
       (<a href="http://bugs.mysql.com/12870" target="_top">Bug#12870</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> ignored an empty
        string if it was the first value to occur in the result.
       (<a href="http://bugs.mysql.com/12863" target="_top">Bug#12863</a>)</p></li><li><p>
        If a client has opened an <code class="literal">InnoDB</code> table for
        which the <code class="filename">.ibd</code> file is missing,
        <code class="literal">InnoDB</code> would not honor a <code class="literal">DROP
        TABLE</code> statement for the table.
       (<a href="http://bugs.mysql.com/12852" target="_top">Bug#12852</a>)</p></li><li><p>
        Within a stored procedure, a server crash was caused by
        assigning to a <code class="literal">VARCHAR INOUT</code> parameter the
        value of an expression that included the variable itself. (For
        example, <code class="literal">SET c = c</code>.)
       (<a href="http://bugs.mysql.com/12849" target="_top">Bug#12849</a>)</p></li><li><p>
        The server crashed when one thread resized the query cache while
        another thread was using it.
       (<a href="http://bugs.mysql.com/12848" target="_top">Bug#12848</a>)</p></li><li><p>
        A concurrency problem for <code class="literal">CREATE ... SELECT</code>
        could cause a server crash.
       (<a href="http://bugs.mysql.com/12845" target="_top">Bug#12845</a>)</p></li><li><p>
        <code class="literal">DO IFNULL(NULL, NULL)</code> and <code class="literal">SELECT
        CAST(IFNULL(NULL, NULL) AS DECIMAL)</code> caused a server
        crash.
       (<a href="http://bugs.mysql.com/12841" target="_top">Bug#12841</a>)</p></li><li><p>
        After changing the character set with <code class="literal">SET CHARACTER
        SET</code>, the result of the
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function was not
        converted to the proper character set.
       (<a href="http://bugs.mysql.com/12829" target="_top">Bug#12829</a>)</p></li><li><p>
        The Windows installer made a change to one of the
        <code class="literal">mysql.proc</code> table files, causing stored
        routine functionality to be compromised. The Windows installer
        now never overwrites files in the MySQL data directory. During
        an upgrade from one version to another, a file in the data
        directory will not be overwritten even if it has not been
        modified since it was put there by an older installer.
      </p><p>
        If you have already lost access to stored routines because of
        this problem, you can get them back using the following
        procedure:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Stop the server.
          </p></li><li><p>
            In the <code class="filename">mysql\data</code> directory under your
            MySQL installation directory, and replace the
            <code class="filename">proc.frm</code> file with corresponding file
            from the version of MySQL that you were using before you
            upgraded.
          </p></li><li><p>
            Start the server
          </p></li><li><p>
            Start the <span><strong class="command">mysql</strong></span> command-line client (use
            the <code class="literal">root</code> account or another account that
            has full database privileges) and execute the
            <code class="filename">mysql_fix_privilege_tables.sql</code> script
            that upgrades the grant tables to the current structure.
            Instructions for doing this are given in
            <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
          </p></li></ul></div><p>
        After this, all stored routine functionality should work.
       (<a href="http://bugs.mysql.com/12820" target="_top">Bug#12820</a>)</p></li><li><p>
        Queries with subqueries, where the inner subquery uses the
        <code class="literal">range</code> or <code class="literal">index_merge</code>
        access method, could return incorrect results.
       (<a href="http://bugs.mysql.com/12720" target="_top">Bug#12720</a>)</p></li><li><p>
        The server failed to disallow <code class="literal">SET AUTOCOMMIT</code>
        in stored functions and triggers. It is allowed to change the
        value of <code class="literal">AUTOCOMMIT</code> in stored procedures, but
        a runtime error might occur if the procedure is invoked from a
        stored function or trigger.
       (<a href="http://bugs.mysql.com/12712" target="_top">Bug#12712</a>)</p></li><li><p>
        Simultaneous execution of DML statements and <code class="literal">CREATE
        TRIGGER</code> or <code class="literal">DROP TRIGGER</code> statements
        on the same table could cause server crashes or errors.
       (<a href="http://bugs.mysql.com/12704" target="_top">Bug#12704</a>)</p></li><li><p>
        Performing an <a href="functions.html#operator_is-null"><code class="literal">IS NULL</code></a> check on
        the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> of an indexed column in a
        complex query could produce incorrect results.
       (<a href="http://bugs.mysql.com/12695" target="_top">Bug#12695</a>)</p></li><li><p>
        Use of <code class="literal">PREPARE</code> and <code class="literal">EXECUTE</code>
        with a statement that selected from a view in a subquery could
        cause a server crash.
       (<a href="http://bugs.mysql.com/12651" target="_top">Bug#12651</a>)</p></li><li><p>
        If the binary log is enabled, execution of a stored procedure
        that modifies table data and uses user variables could cause a
        server crash or incorrect information to be written to the
        binary log.
       (<a href="http://bugs.mysql.com/12637" target="_top">Bug#12637</a>)</p></li><li><p>
        The <code class="literal">LIKE ... ESCAPE</code> syntax produced invalid
        results when escape character was larger than one byte.
       (<a href="http://bugs.mysql.com/12611" target="_top">Bug#12611</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> did not dump triggers properly.
       (<a href="http://bugs.mysql.com/12597" target="_top">Bug#12597</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Limit recursion depth to 200 in
        deadlock detection to avoid running out of stack space.
       (<a href="http://bugs.mysql.com/12588" target="_top">Bug#12588</a>)</p></li><li><p>
        The <code class="filename">mysql.server</code> script contained incorrect
        path for the <code class="literal">libexec</code> directory.
       (<a href="http://bugs.mysql.com/12550" target="_top">Bug#12550</a>)</p></li><li><p>
        A <code class="literal">UNION</code> of long <code class="literal">utf8</code>
        <code class="literal">VARCHAR</code> columns was sometimes returned as a
        column with a <code class="literal">LONGTEXT</code> data type rather than
        <code class="literal">VARCHAR</code>. This could prevent such queries from
        working at all if selected into a <code class="literal">MEMORY</code>
        table because the <code class="literal">MEMORY</code> storage engine does
        not support the <code class="literal">TEXT</code> data types.
       (<a href="http://bugs.mysql.com/12537" target="_top">Bug#12537</a>)</p></li><li><p>
        A client connection thread cleanup problem caused the server to
        crash when closing the connection if the binary log was enabled.
       (<a href="http://bugs.mysql.com/12517" target="_top">Bug#12517</a>)</p></li><li><p>
        Use of the <span><strong class="command">mysql</strong></span> client
        <code class="literal">HELP</code> command from within a stored routine
        caused a “<span class="quote">packets out of order</span>” error and a lost
        connection. Now <code class="literal">HELP</code> is detected and
        disallowed within stored routines.
       (<a href="http://bugs.mysql.com/12490" target="_top">Bug#12490</a>)</p></li><li><p>
        The <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> function now
        returns the time at which it was invoked. In particular, within
        a stored routine or trigger,
        <a href="functions.html#function_sysdate"><code class="literal">SYSDATE()</code></a> returns the time at
        which it executes, not the time at which the stored routine or
        triggering statement began to execute.
       (<a href="http://bugs.mysql.com/12480" target="_top">Bug#12480</a>)</p></li><li><p>
        <code class="literal">CREATE VIEW</code> inside a stored procedure caused
        a server crash if the table underlying the view had been
        deleted.
       (<a href="http://bugs.mysql.com/12468" target="_top">Bug#12468</a>)</p></li><li><p>
        Deadlock occurred when several account management statements
        were run (particularly between <code class="literal">FLUSH
        PRIVILEGES</code>/<code class="literal">SET PASSWORD</code> and
        <code class="literal">GRANT</code>/<code class="literal">REVOKE</code> statements).
       (<a href="http://bugs.mysql.com/12423" target="_top">Bug#12423</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> was too permissive with <code class="literal">LOCK
        TABLE ... READ LOCAL</code> and allowed new inserts into the
        table. Now <code class="literal">READ LOCAL</code> is equivalent to
        <code class="literal">READ</code> for <code class="literal">InnoDB</code>. This will
        cause slightly more locking in <span><strong class="command">mysqldump</strong></span>, but
        makes <code class="literal">InnoDB</code> table dumps consistent with
        <code class="literal">MyISAM</code> table dumps.
       (<a href="http://bugs.mysql.com/12410" target="_top">Bug#12410</a>)</p></li><li><p>
        If a stored function invoked from a <code class="literal">SELECT</code>
        failed with an error, it could cause the client connection to be
        dropped. Now such errors generate warnings instead so as not to
        interrupt the <code class="literal">SELECT</code>.
       (<a href="http://bugs.mysql.com/12379" target="_top">Bug#12379</a>)</p></li><li><p>
        The value of <code class="literal">character_set_results</code> could be
        set to <code class="literal">NULL</code>, but returned the string
        <code class="literal">"NULL"</code> when retrieved.
       (<a href="http://bugs.mysql.com/12363" target="_top">Bug#12363</a>)</p></li><li><p>
        On Windows, the server was preventing tables from being created
        if the table name was a prefix of a forbidden name. For example,
        <code class="literal">nul</code> is a forbidden name because it's the same
        as a Windows device name, but a table with the name of
        <code class="literal">n</code> or <code class="literal">nu</code> was being
        forbidden as well.
       (<a href="http://bugs.mysql.com/12325" target="_top">Bug#12325</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... DISCARD TABLESPACE</code> for
        non-<code class="literal">InnoDB</code> table caused the client to lose
        the connection. (The server was not returning the error
        properly.)
       (<a href="http://bugs.mysql.com/12207" target="_top">Bug#12207</a>)</p></li><li><p>
        Outer join elimination was erroneously applied for some queries
        that used a <code class="literal">NOT BETWEEN</code> condition, an
        <a href="functions.html#function_in"><code class="literal">IN(<em class="replaceable"><code>value_list</code></em>)</code></a>
        condition, or an <a href="functions.html#function_if"><code class="literal">IF()</code></a> condition.
       (<a href="http://bugs.mysql.com/12102" target="_top">Bug#12102</a>, <a href="http://bugs.mysql.com/12101" target="_top">Bug#12101</a>)</p></li><li><p>
        Foreign keys were not properly enforced in
        <code class="literal">TEMPORARY</code> tables. Foreign keys now are
        disallowed in <code class="literal">TEMPORARY</code> tables.
       (<a href="http://bugs.mysql.com/12084" target="_top">Bug#12084</a>)</p></li><li><p>
        When using a cursor, a <code class="literal">SELECT</code> statement that
        uses a <code class="literal">GROUP BY</code> clause could return incorrect
        results.
       (<a href="http://bugs.mysql.com/11904" target="_top">Bug#11904</a>)</p></li><li><p>
        Replication of <code class="literal">LOAD DATA INFILE</code> failed
        between systems using different pathname syntax (such as
        delimiter characters).
       (<a href="http://bugs.mysql.com/11815" target="_top">Bug#11815</a>)</p></li><li><p>
        The <code class="literal">character_set_system</code> system variable
        could not be selected with <code class="literal">SELECT
        @@character_set_system</code>.
       (<a href="http://bugs.mysql.com/11775" target="_top">Bug#11775</a>)</p></li><li><p>
        A memory leak resulting from repeated <code class="literal">SELECT ...
        INTO</code> statements inside a stored procedure could cause
        the server to crash.
       (<a href="http://bugs.mysql.com/11333" target="_top">Bug#11333</a>)</p></li><li><p>
        Use of yaSSL for a secure client connection caused <code class="literal">LOAD
        DATA LOCAL INFILE</code> to fail.
       (<a href="http://bugs.mysql.com/11286" target="_top">Bug#11286</a>)</p></li><li><p>
        <span><strong class="command">mysqld_multi</strong></span> now quotes arguments on command
        lines that it constructs to avoid problems with arguments that
        contain shell metacharacters.
       (<a href="http://bugs.mysql.com/11280" target="_top">Bug#11280</a>)</p></li><li><p>
        The server allowed privileges to be granted explicitly for the
        <code class="literal">INFORMATION_SCHEMA</code> database. Such privileges
        are always implicit and should not be grantable.
       (<a href="http://bugs.mysql.com/10734" target="_top">Bug#10734</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE PROCEDURE</code> and <code class="literal">SHOW
        CREATE FUNCTION</code> no longer qualify the routine name
        with the database name, for consistency with the behavior of
        <code class="literal">SHOW CREATE TABLE</code>.
       (<a href="http://bugs.mysql.com/10362" target="_top">Bug#10362</a>)</p></li><li><p>
        The server incorrectly generated an <code class="literal">Unknown
        table</code> error message when for attempts to drop tables
        in the <code class="literal">INFORMATION_SCHEMA</code> database. Now it
        issues an <code class="literal">Access denied</code> message.
       (<a href="http://bugs.mysql.com/9846" target="_top">Bug#9846</a>)</p></li><li><p>
        Within a stored procedure, fetching a large number of rows in a
        loop using a cursor could result in a server crash or an out of
        memory error. Also, values inserted within a stored procedure
        using a cursor were interpreted as <code class="literal">latin1</code>
        even if character set variables had been set to a different
        character set.
       (<a href="http://bugs.mysql.com/9819" target="_top">Bug#9819</a>, <a href="http://bugs.mysql.com/6513" target="_top">Bug#6513</a>)</p></li><li><p>
        The server allowed <code class="literal">TEMPORARY</code> tables and
        stored procedures to be created in the
        <code class="literal">INFORMATION_SCHEMA</code> database.
       (<a href="http://bugs.mysql.com/9683" target="_top">Bug#9683</a>, <a href="http://bugs.mysql.com/10708" target="_top">Bug#10708</a>)</p></li><li><p>
        <code class="literal">SHOW FIELDS</code> truncated the
        <code class="literal">TYPE</code> column to 40 characters.
       (<a href="http://bugs.mysql.com/7142" target="_top">Bug#7142</a>)</p><p>See also <a href="http://bugs.mysql.com/12817" target="_top">Bug#12817</a></p></li><li><p>
        A view-creation statement of the form <code class="literal">CREATE VIEW
        <em class="replaceable"><code>name</code></em> AS SELECT ... FROM
        <em class="replaceable"><code>tbl_name</code></em> AS
        <em class="replaceable"><code>name</code></em></code> failed with a
        <code class="literal">Not unique table/alias:
        '<em class="replaceable"><code>name</code></em>'</code> error.
       (<a href="http://bugs.mysql.com/6808" target="_top">Bug#6808</a>)</p></li><li><p>
        <span><strong class="command">myisampack</strong></span> did not properly pack
        <code class="literal">BLOB</code> values larger than
        2<sup>24</sup> bytes.
       (<a href="http://bugs.mysql.com/4214" target="_top">Bug#4214</a>)</p></li><li><p>
        Stop the server.
      </p></li><li><p>
        Start the server
      </p></li><li><p>
        In the <code class="filename">mysql\data</code> directory under your
        MySQL installation directory, and replace the
        <code class="filename">proc.frm</code> file with corresponding file from
        the version of MySQL that you were using before you upgraded.
      </p></li><li><p>
        Start the <span><strong class="command">mysql</strong></span> command-line client (use the
        <code class="literal">root</code> account or another account that has full
        database privileges) and execute the
        <code class="filename">mysql_fix_privilege_tables.sql</code> script that
        upgrades the grant tables to the current structure. Instructions
        for doing this are given in
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-12"></a>E.1.18. Changes in  MySQL 5.0.12 (02 September 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Beginning with MySQL 5.0.12, natural joins and joins with
        <code class="literal">USING</code>, including outer join variants, are
        processed according to the SQL:2003 standard. The changes
        include elimination of redundant output columns for
        <code class="literal">NATURAL</code> joins and joins specified with a
        <code class="literal">USING</code> clause and proper ordering of output
        columns. The precedence of the comma operator also now is lower
        compared to <code class="literal">JOIN</code>.
      </p><p>
        In addition, a <span class="errortext">Duplicate column name
        error</span> no longer occurs when selecting from a view
        defined as <code class="literal">SELECT *</code> from a join that uses a
        <code class="literal">USING</code> clause on tables that have a common
        column name.
      </p><p>
        These changes make MySQL more compliant with standard SQL.
        However, they can result in different output columns for some
        joins. Also, some queries that appeared to work correctly prior
        to 5.0.12 must be rewritten to comply with the standard. For
        details about the scope of the changes and examples that show
        what query rewrites are necessary, see <a href="sql-syntax.html#join" title="12.2.7.1. JOIN Syntax">Section 12.2.7.1, “<code class="literal">JOIN</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/6495" target="_top">Bug#6495</a>, <a href="http://bugs.mysql.com/6136" target="_top">Bug#6136</a>, <a href="http://bugs.mysql.com/10972" target="_top">Bug#10972</a>, <a href="http://bugs.mysql.com/9978" target="_top">Bug#9978</a>, <a href="http://bugs.mysql.com/10428" target="_top">Bug#10428</a>, <a href="http://bugs.mysql.com/10646" target="_top">Bug#10646</a>, <a href="http://bugs.mysql.com/6276" target="_top">Bug#6276</a>, <a href="http://bugs.mysql.com/6489" target="_top">Bug#6489</a>, <a href="http://bugs.mysql.com/6558" target="_top">Bug#6558</a>, <a href="http://bugs.mysql.com/9067" target="_top">Bug#9067</a>, <a href="http://bugs.mysql.com/4789" target="_top">Bug#4789</a>, <a href="http://bugs.mysql.com/12065" target="_top">Bug#12065</a>, <a href="http://bugs.mysql.com/13551" target="_top">Bug#13551</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The parsing of the <code class="literal">CLUSTERLOG</code> command by
        <span><strong class="command">ndb_mgm</strong></span> was corrected to allow multiple
        items.
       (<a href="http://bugs.mysql.com/12833" target="_top">Bug#12833</a>)</p></li><li><p>
        A query of the form <code class="literal">SHOW TABLE STATUS FROM
        <em class="replaceable"><code>db_name</code></em> WHERE name IN
        (<em class="replaceable"><code>select_query</code></em>)</code> would crash
        the server.
       (<a href="http://bugs.mysql.com/12636" target="_top">Bug#12636</a>)</p></li><li><p>
        Using <code class="literal">DESCRIBE</code> on a view after renaming a
        column in one of the view's base tables caused the server to
        crash.
       (<a href="http://bugs.mysql.com/12533" target="_top">Bug#12533</a>)</p></li><li><p>
        If a thread (connection) has tables locked, the query cache is
        switched off for that thread. This prevents invalid results
        where the locking thread inserts values between a second thread
        connecting and selecting from the table.
       (<a href="http://bugs.mysql.com/12385" target="_top">Bug#12385</a>)</p></li><li><p>
        Interleaved execution of stored procedures and functions could
        be written to the binary log incorrectly, causing replication
        slaves to get out of sync.
       (<a href="http://bugs.mysql.com/12335" target="_top">Bug#12335</a>)</p></li><li><p>
        Calls to stored procedures were written to the binary log even
        within transactions that were rolled back, causing them to be
        executed on replication slaves.
       (<a href="http://bugs.mysql.com/12334" target="_top">Bug#12334</a>)</p></li><li><p>
        <code class="literal">SHOW TABLE STATUS FROM INFORMATION_SCHEMA</code> now
        sorts output by table name the same as it does for other
        databases.
       (<a href="http://bugs.mysql.com/12315" target="_top">Bug#12315</a>)</p></li><li><p>
        It is no longer possible to issue <code class="literal">FLUSH</code>
        commands from within stored functions or triggers. See
        <a href="restrictions.html#routine-restrictions" title="F.1. Restrictions on Stored Routines and Triggers">Section F.1, “Restrictions on Stored Routines and Triggers”</a>, for details.
       (<a href="http://bugs.mysql.com/12280" target="_top">Bug#12280</a>, <a href="http://bugs.mysql.com/12307" target="_top">Bug#12307</a>)</p></li><li><p>
        <code class="literal">SHOW OPEN TABLES</code> now supports
        <code class="literal">FROM</code> and <code class="literal">LIKE</code> clauses.
       (<a href="http://bugs.mysql.com/12183" target="_top">Bug#12183</a>)</p></li><li><p>
        Recursive triggers are detected and disallowed. Also, within a
        stored function or trigger, it is not allowable to modify a
        table that is already being used (for reading or writing) by the
        statement that invoked the function or trigger.
       (<a href="http://bugs.mysql.com/11896" target="_top">Bug#11896</a>, <a href="http://bugs.mysql.com/12644" target="_top">Bug#12644</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> objects are now reported
        as a <code class="literal">SYSTEM VIEW</code> table type.
       (<a href="http://bugs.mysql.com/11711" target="_top">Bug#11711</a>)</p></li><li><p>
        The stability of cursors when used with
        <code class="literal">InnoDB</code> tables was greatly improved.
       (<a href="http://bugs.mysql.com/11309" target="_top">Bug#11309</a>, <a href="http://bugs.mysql.com/11832" target="_top">Bug#11832</a>, <a href="http://bugs.mysql.com/12243" target="_top">Bug#12243</a>)</p></li><li><p>
        Trying to drop the default keycache by setting
        <code class="literal">@@global.key_buffer_size</code> to zero now returns
        a warning that the default keycache cannot be dropped.
       (<a href="http://bugs.mysql.com/10473" target="_top">Bug#10473</a>)</p></li><li><p>
        <code class="literal">SHOW ENGINE INNODB STATUS</code> now can display
        longer query strings.
       (<a href="http://bugs.mysql.com/7819" target="_top">Bug#7819</a>)</p></li><li><p>
        Added the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> function,
        which pauses for the number of seconds given by its argument.
       (<a href="http://bugs.mysql.com/6760" target="_top">Bug#6760</a>)</p></li><li><p>
        <code class="literal">SHOW TABLE STATUS</code> for a view now shows
        <code class="literal">VIEW</code> in uppercase, consistent with
        <code class="literal">SHOW TABLES</code> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/5501" target="_top">Bug#5501</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When it could not copy a fragment, <span><strong class="command">ndbd</strong></span>
        exited without printing a message about the condition to the
        error log. Now the message is written.
       (<a href="http://bugs.mysql.com/12900" target="_top">Bug#12900</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a <span class="errortext">Disk is full</span> condition occurred,
        <span><strong class="command">ndbd</strong></span> exited without reporting this condition
        in the error log.
       (<a href="http://bugs.mysql.com/12716" target="_top">Bug#12716</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Cluster failed to take character set data into account when
        recomputing hashes (and thus could not locate records for
        updating or deletion) following a configuration change and node
        restart.
       (<a href="http://bugs.mysql.com/12220" target="_top">Bug#12220</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An <code class="literal">ALTER TABLE</code> command caused loss of data
        stored prior to the issuing of the command.
       (<a href="http://bugs.mysql.com/12118" target="_top">Bug#12118</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Invalid values in <code class="filename">config.ini</code> caused
        <span><strong class="command">ndb_mgmd</strong></span> to crash.
       (<a href="http://bugs.mysql.com/12043" target="_top">Bug#12043</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When a schema was detected to be corrupt, <span><strong class="command">ndb</strong></span>
        neglected to close it, resulting in a <span class="errortext">file already
        open</span> error if the schema was opened again later.
        written.
       (<a href="http://bugs.mysql.com/12027" target="_top">Bug#12027</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Improved error messages related to filesystem issues.
       (<a href="http://bugs.mysql.com/11218" target="_top">Bug#11218</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The wrong error message was displayed when the cluster
        management server port was closed while a
        <span><strong class="command">mysqld</strong></span> process was trying to connect.
       (<a href="http://bugs.mysql.com/10950" target="_top">Bug#10950</a>)</p></li><li><p>
        An optimizer estimate of zero rows for a non-empty
        <code class="literal">InnoDB</code> table used in a left or right join
        could cause incomplete rollback for the table.
       (<a href="http://bugs.mysql.com/12779" target="_top">Bug#12779</a>)</p></li><li><p>
        <code class="filename">mysql_fix_privilege_tables.sql</code> was missing
        a comma, causing a syntax error when executed.
       (<a href="http://bugs.mysql.com/12705" target="_top">Bug#12705</a>)</p></li><li><p>
        Invocations of the <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a>
        function incorrectly could get optimized away for statements in
        which it occurs. Statements containing
        <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> incorrectly could be
        stored in the query cache.
       (<a href="http://bugs.mysql.com/12689" target="_top">Bug#12689</a>)</p></li><li><p>
        Improper use of loose index scan in <code class="literal">InnoDB</code>
        sometimes caused incorrect query results.
       (<a href="http://bugs.mysql.com/12672" target="_top">Bug#12672</a>)</p></li><li><p>
        A <code class="literal">SELECT DISTINCT</code> query with a constant value
        for one of the columns would return only a single row.
       (<a href="http://bugs.mysql.com/12625" target="_top">Bug#12625</a>)</p></li><li><p>
        <code class="literal">SHOW TABLES FROM</code> returned wrong error message
        if the schema specified did not exist.
       (<a href="http://bugs.mysql.com/12591" target="_top">Bug#12591</a>)</p></li><li><p>
        A server crash could result from an update of a view defined as
        a join, even though the update updated only a single table.
       (<a href="http://bugs.mysql.com/12569" target="_top">Bug#12569</a>)</p></li><li><p>
        <code class="literal">DELETE</code> or <code class="literal">UPDATE</code> for an
        indexed <code class="literal">MyISAM</code> table could fail. This was due
        to a change in end-space comparison behavior from 4.0 to 4.1.
       (<a href="http://bugs.mysql.com/12565" target="_top">Bug#12565</a>)</p></li><li><p>
        Some statements executed on a master server caused the SQL
        thread on a slave to run out of memory.
       (<a href="http://bugs.mysql.com/12532" target="_top">Bug#12532</a>)</p></li><li><p>
        The <code class="literal">COLUMN_DEFAULT</code> column of the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table should be
        returned as <code class="literal">NULL</code> if a column has no default
        value. An empty string was being returned if the column was
        defined as <code class="literal">NOT NULL</code>.
       (<a href="http://bugs.mysql.com/12518" target="_top">Bug#12518</a>)</p></li><li><p>
        The <code class="literal">ROW()</code> contructor returned an incorrect
        result when comparison involved <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/12509" target="_top">Bug#12509</a>)</p></li><li><p>
        <a href="functions.html#function_strcmp"><code class="literal">STRCMP()</code></a> was not handled
        correctly in views.
       (<a href="http://bugs.mysql.com/12489" target="_top">Bug#12489</a>)</p></li><li><p>
        Trigger and stored procedure execution could break replication.
       (<a href="http://bugs.mysql.com/12482" target="_top">Bug#12482</a>)</p></li><li><p>
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a>,
        <a href="functions.html#function_current-time"><code class="literal">CURRENT_TIME()</code></a> and values
        generated by timestamp columns are now constant for the duration
        of a stored function or trigger. This prevents the breaking of
        statements-based replication.
       (<a href="http://bugs.mysql.com/12481" target="_top">Bug#12481</a>)</p></li><li><p>
        Selecting from a view defined as a join over many tables could
        result in a server crash due to miscalculation of the number of
        conditions in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/12470" target="_top">Bug#12470</a>)</p></li><li><p>
        <code class="literal">MEMORY</code> tables using <code class="literal">B-Tree</code>
        index on 64-bit platforms could produce false table is full
        errors.
       (<a href="http://bugs.mysql.com/12460" target="_top">Bug#12460</a>)</p></li><li><p>
        The <code class="literal">CREATE_OPTIONS</code> column of
        <code class="literal">INFORMATION_SCHEMA.TABLES</code> showed incorrect
        options for tables in <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/12397" target="_top">Bug#12397</a>)</p></li><li><p>
        Mishandling of comparison for rows containing
        <code class="literal">NULL</code> values against rows produced by an
        <code class="literal">IN</code> subquery could cause a server crash.
       (<a href="http://bugs.mysql.com/12392" target="_top">Bug#12392</a>)</p></li><li><p>
        Selecting from a view after <code class="literal">INSERT</code> statements
        for the view's underlying table yielded different results than
        subsequent selects.
       (<a href="http://bugs.mysql.com/12382" target="_top">Bug#12382</a>)</p></li><li><p>
        Concatenating <a href="functions.html#function_user"><code class="literal">USER()</code></a> or
        <a href="functions.html#function_database"><code class="literal">DATABASE()</code></a> with a column
        produced invalid results.
       (<a href="http://bugs.mysql.com/12351" target="_top">Bug#12351</a>)</p></li><li><p>
        Comparison of <code class="literal">InnoDB</code> multi-part primary keys
        that include <code class="literal">VARCHAR</code> columns can result in
        incorrect results.
       (<a href="http://bugs.mysql.com/12340" target="_top">Bug#12340</a>)</p></li><li><p>
        Renamed the <code class="literal">rest()</code> macro in
        <code class="filename">my_list.h</code> to <code class="literal">list_rest()</code>
        to avoid name clashes with user code.
       (<a href="http://bugs.mysql.com/12327" target="_top">Bug#12327</a>)</p></li><li><p>
        When restoring <code class="literal">INFORMATION_SCHEMA</code> as the
        default database after failing to execute a stored procedure in
        an inaccessible database, the server returned a spurious
        <code class="literal">ERROR 42000: Unknown database
        'information_schema'</code> message.
       (<a href="http://bugs.mysql.com/12318" target="_top">Bug#12318</a>)</p></li><li><p>
        Users created using an IP address or other alias rather than a
        hostname listed in <code class="filename">/etc/hosts</code> could not set
        their own passwords.
       (<a href="http://bugs.mysql.com/12302" target="_top">Bug#12302</a>)</p></li><li><p>
        The <code class="literal">NUMERIC_SCALE</code> column of the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table should be
        returned as <code class="literal">0</code> for integer columns. It was
        being returned as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/12301" target="_top">Bug#12301</a>)</p></li><li><p>
        Creating a view that included the
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> function
        resulted in a invalid view.
       (<a href="http://bugs.mysql.com/12298" target="_top">Bug#12298</a>)</p></li><li><p>
        <code class="literal">CHECKSUM TABLE</code> command returned incorrect
        results for tables with deleted rows. After upgrading, users who
        used stored checksum information to detect table changes should
        rebuild their checksum data.
       (<a href="http://bugs.mysql.com/12296" target="_top">Bug#12296</a>)</p></li><li><p>
        Inserting <code class="literal">NULL</code> into a
        <code class="literal">GEOMETRY</code> column for a table that has a
        trigger could result in a server crash if the table was
        subsequently dropped.
       (<a href="http://bugs.mysql.com/12281" target="_top">Bug#12281</a>)</p></li><li><p>
        <span><strong class="command">myisampack</strong></span> failed to delete
        <code class="filename">.TMD</code> temporary files when run with
        <code class="option">-T</code> option.
       (<a href="http://bugs.mysql.com/12235" target="_top">Bug#12235</a>)</p></li><li><p>
        A race condition between server threads could cause a crash if
        one thread deleted a stored routine while another thread was
        executing a stored routine.
       (<a href="http://bugs.mysql.com/12228" target="_top">Bug#12228</a>)</p></li><li><p>
        Duplicate instructions in stored procedures resulted in
        incorrect execution when the optimizer optimized the duplicate
        code away.
       (<a href="http://bugs.mysql.com/12168" target="_top">Bug#12168</a>)</p></li><li><p>
        <code class="literal">XA</code> allowed two active transactions to be
        started with the same XID.
       (<a href="http://bugs.mysql.com/12162" target="_top">Bug#12162</a>)</p></li><li><p>
        <code class="literal">NULL</code> column definitions read incorrectly for
        inner tables of nested outer joins.
       (<a href="http://bugs.mysql.com/12154" target="_top">Bug#12154</a>)</p></li><li><p>
        <code class="literal">GROUP_CONCAT</code> ignores the
        <code class="literal">DISTINCT</code> modifier when used in a query
        joining multiple tables where one of the tables has a single
        row.
       (<a href="http://bugs.mysql.com/12095" target="_top">Bug#12095</a>)</p></li><li><p>
        A failure to obtain a lock for an <code class="literal">IN SHARE
        MODE</code> query could result in a server crash.
       (<a href="http://bugs.mysql.com/12082" target="_top">Bug#12082</a>)</p></li><li><p>
        <code class="literal">SELECT ... INTO <em class="replaceable"><code>var_name</code></em>
        </code> within a trigger could cause a server crash.
       (<a href="http://bugs.mysql.com/11973" target="_top">Bug#11973</a>)</p></li><li><p>
        Using cursors and nested queries for the same table, corrupted
        results were returned for the outer query.
       (<a href="http://bugs.mysql.com/11909" target="_top">Bug#11909</a>)</p></li><li><p>
        A query using a <code class="literal">LEFT JOIN</code>, an
        <code class="literal">IN</code> subquery on the outer table, and an
        <code class="literal">ORDER BY</code> clause, caused the server to crash
        when cursors were enabled.
       (<a href="http://bugs.mysql.com/11901" target="_top">Bug#11901</a>)</p></li><li><p>
        <code class="literal">UNION</code> query with <code class="literal">FULLTEXT</code>
        could cause server crash.
       (<a href="http://bugs.mysql.com/11869" target="_top">Bug#11869</a>)</p></li><li><p>
        Some subqueries of the form <code class="literal">SELECT ... WHERE ROW(...)
        IN (<em class="replaceable"><code>subquery)</code></em></code> were being
        handled incorrectly.
       (<a href="http://bugs.mysql.com/11867" target="_top">Bug#11867</a>)</p></li><li><p>
        Column names in subqueries must be unique, but were not being
        checked for uniqueness.
       (<a href="http://bugs.mysql.com/11864" target="_top">Bug#11864</a>)</p></li><li><p>
        <code class="literal">TRUNCATE TABLE</code> did not work with
        <code class="literal">TEMPORARY</code> <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/11816" target="_top">Bug#11816</a>)</p></li><li><p>
        The <a href="apis.html#mysql-info" title="23.2.3.35. mysql_info()"><code class="literal">mysql_info()</code></a> C API function
        could return incorrect data when executed as part of a
        multi-statement that included a mix of statements that do and do
        not return information.
       (<a href="http://bugs.mysql.com/11688" target="_top">Bug#11688</a>)</p></li><li><p>
        A trigger that included a <code class="literal">SELECT</code> statement
        could cause a server crash.
       (<a href="http://bugs.mysql.com/11587" target="_top">Bug#11587</a>)</p></li><li><p>
        Built-in commands for the <span><strong class="command">mysql</strong></span> client, such
        as <code class="literal">delimiter</code> and <code class="literal">\d</code> are
        now always parsed within files that are read using the
        <code class="literal">\.</code> and <code class="literal">source</code> commands.
       (<a href="http://bugs.mysql.com/11523" target="_top">Bug#11523</a>)</p></li><li><p>
        Added portability check for Intel compiler to address a problem
        compiling <code class="literal">InnoDB</code> code.
       (<a href="http://bugs.mysql.com/11510" target="_top">Bug#11510</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE <em class="replaceable"><code>db_name.t</code></em> RENAME
        <em class="replaceable"><code>t</code></em></code> did not move the table to
        default database unless the new name was qualified with the
        database name.
       (<a href="http://bugs.mysql.com/11493" target="_top">Bug#11493</a>)</p></li><li><p>
        Joins on <code class="literal">VARCHAR</code> columns of different lengths
        could produce incorrect results.
       (<a href="http://bugs.mysql.com/11398" target="_top">Bug#11398</a>)</p></li><li><p>
        For PKG installs on Mac OS X, the preinstallation and
        postinstallation scripts were being run only for new
        installations and not for upgrade installations, resulting in an
        incomplete installation process.
       (<a href="http://bugs.mysql.com/11380" target="_top">Bug#11380</a>)</p></li><li><p>
        Prepared statement parameters could cause errors in the binary
        log if the character set was <code class="literal">cp932</code>.
       (<a href="http://bugs.mysql.com/11338" target="_top">Bug#11338</a>)</p></li><li><p>
        Columns defined as <code class="literal">TINYINT(1)</code> were redefined
        as <code class="literal">TINYINT(4)</code> when incorporated into a
        <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11335" target="_top">Bug#11335</a>)</p></li><li><p>
        Stored procedures with particularly long loops could crash
        server due to memory leak.
       (<a href="http://bugs.mysql.com/11247" target="_top">Bug#11247</a>, <a href="http://bugs.mysql.com/12297" target="_top">Bug#12297</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL TRANSACTION ISOLATION LEVEL</code> was
        not working.
       (<a href="http://bugs.mysql.com/11207" target="_top">Bug#11207</a>)</p></li><li><p>
        A view was allowed to depend on a function that referred to a
        temporary table.
       (<a href="http://bugs.mysql.com/10970" target="_top">Bug#10970</a>)</p></li><li><p>
        Issuing <code class="literal">FLUSH INSTANCES</code> followed by
        <code class="literal">STOP INSTANCE</code> caused instance manager to
        crash.
       (<a href="http://bugs.mysql.com/10957" target="_top">Bug#10957</a>)</p></li><li><p>
        User variables were not automatically cast for comparisons,
        causing queries to fail if the column and connection character
        sets differed. Now when mixing strings with different character
        sets but the same coercibility, allow conversion if one
        character set is a superset of the other.
       (<a href="http://bugs.mysql.com/10892" target="_top">Bug#10892</a>)</p></li><li><p>
        An incorrect conversion from <code class="literal">double</code> to
        <code class="literal">ulonglong</code> caused indexes not to be used for
        <code class="literal">BDB</code> tables on HP-UX.
       (<a href="http://bugs.mysql.com/10802" target="_top">Bug#10802</a>)</p></li><li><p>
        Slave I/O threads were considered to be in the running state
        when launched (rather than after successfully connecting to the
        master server), resulting in incorrect <code class="literal">SHOW SLAVE
        STATUS</code> output.
       (<a href="http://bugs.mysql.com/10780" target="_top">Bug#10780</a>)</p></li><li><p>
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> were converting
        invalid dates to <code class="literal">NULL</code> in
        <code class="literal">TRADITIONAL</code> SQL mode rather than rejecting
        them with an error.
       (<a href="http://bugs.mysql.com/10627" target="_top">Bug#10627</a>)</p></li><li><p>
        Views with multiple <code class="literal">UNION</code> and <code class="literal">UNION
        ALL</code> produced incorrect results.
       (<a href="http://bugs.mysql.com/10624" target="_top">Bug#10624</a>)</p></li><li><p>
        It was not possible to create a stored function with a spatial
        return value data type.
       (<a href="http://bugs.mysql.com/10499" target="_top">Bug#10499</a>)</p></li><li><p>
        <code class="literal">INSERT ... SELECT ... ON DUPLICATE KEY UPDATE</code>
        could fail with an erroneous “<span class="quote">Column
        '<em class="replaceable"><code>col_name</code></em>' specified twice</span>”
        error.
       (<a href="http://bugs.mysql.com/10109" target="_top">Bug#10109</a>)</p></li><li><p>
        The only valid values for the <code class="literal">PACK_KEYS</code> table
        option are 0 and 1, but other values were being accepted.
       (<a href="http://bugs.mysql.com/10056" target="_top">Bug#10056</a>)</p></li><li><p>
        Using a stored procedure that referenced tables in the
        <code class="literal">INFORMATION_SCHEMA</code> database would return an
        empty result set.
       (<a href="http://bugs.mysql.com/10055" target="_top">Bug#10055</a>, <a href="http://bugs.mysql.com/12278" target="_top">Bug#12278</a>)</p></li><li><p>
        <code class="literal">FLUSH TABLES WITH READ LOCK</code> combined with
        <code class="literal">LOCK TABLE .. WRITE</code> caused deadlock.
       (<a href="http://bugs.mysql.com/9459" target="_top">Bug#9459</a>)</p></li><li><p>
        A data type of <code class="literal">CHAR BINARY</code> was not recognized
        as valid for stored routine parameters.
       (<a href="http://bugs.mysql.com/9048" target="_top">Bug#9048</a>)</p></li><li><p>
        <code class="literal">ISO-8601</code> formatted dates were not being
        parsed correctly.
       (<a href="http://bugs.mysql.com/7308" target="_top">Bug#7308</a>)</p></li><li><p>
        On Windows when the
        <code class="option">--innodb_buffer_pool_awe_mem_mb</code> option has been
        given, the server detects whether AWE support is available and
        has been compiled into the server, and displays an appropriate
        error message if not.
       (<a href="http://bugs.mysql.com/6581" target="_top">Bug#6581</a>)</p></li><li><p>
        Pathame values for options such as <code class="option">---basedir</code>
        or <code class="option">--datadir</code> didn't work on Japanese Windows
        machines for directory names containing multi-byte characters
        having a second byte of <code class="literal">0x5C</code> (“<span class="quote">
        <code class="literal">\</code> </span>”).
       (<a href="http://bugs.mysql.com/5439" target="_top">Bug#5439</a>)</p></li><li><p>
        If a <code class="literal">DROP DATABASE</code> fails on a master server
        due to the presence of a non-database file in the database
        directory, the master have the database tables deleted, but not
        the slaves. To deal with failed database drops, we now write
        <code class="literal">DROP TABLE</code> statements to the binary log for
        the tables so that they are dropped on slaves.
       (<a href="http://bugs.mysql.com/4680" target="_top">Bug#4680</a>)</p></li><li><p>
        <code class="literal">SHOW TABLE STATUS</code> sometimes reported a
        <code class="literal">Row_format</code> value of
        <code class="literal">Dynamic</code> for <code class="literal">MEMORY</code> tables,
        though such tables always have a format of
        <code class="literal">Fixed</code>.
       (<a href="http://bugs.mysql.com/3094" target="_top">Bug#3094</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-11"></a>E.1.19. Changes in  MySQL 5.0.11 (06 August 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Improved handling of the configuration variables
        <code class="literal">NoOfPagesToDiskDuringRestartACC</code>,
        <code class="literal">NoOfPagesToDiskAfterRestartACC</code>,
        <code class="literal">NoOfPagesToDiskDuringRestartTUP</code>, and
        <code class="literal">NoOfPagesToDiskAfterRestartTUP</code> should result
        in noticeably faster startup times for MySQL Cluster.
       (<a href="http://bugs.mysql.com/12149" target="_top">Bug#12149</a>)</p></li><li><p>
        Added an optimization that avoids key access with
        <code class="literal">NULL</code> keys for the <code class="literal">ref</code>
        method when used in outer joins.
       (<a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a>)</p></li><li><p>
        Added support of where clause for queries with <code class="literal">FROM
        DUAL</code>.
       (<a href="http://bugs.mysql.com/11745" target="_top">Bug#11745</a>)</p></li><li><p>
        Maximum size of stored procedures increased from 64k to 4Gb.
       (<a href="http://bugs.mysql.com/11602" target="_top">Bug#11602</a>)</p></li><li><p>
        <code class="literal">SHOW CHARACTER SET</code> and
        <code class="literal">INFORMATION_SCHEMA</code> now properly report the
        <code class="literal">Latin1</code> character set as
        <code class="literal">cp1252</code>.
       (<a href="http://bugs.mysql.com/11216" target="_top">Bug#11216</a>)</p></li><li><p>
        Added new <code class="literal">ER_STACK_OVERRUN_NEED_MORE</code> error
        message to indicate that, while the stack is not completely
        full, more stack space is required.
       (<a href="http://bugs.mysql.com/11213" target="_top">Bug#11213</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> now dumps triggers for each dumped
        table. This can be suppressed with the
        <code class="option">--skip-triggers</code> option.
       (<a href="http://bugs.mysql.com/10431" target="_top">Bug#10431</a>)</p></li><li><p>
        Added error message for users who attempt <code class="literal">CREATE TABLE
        ... LIKE</code> and specify a non-table in the
        <code class="literal">LIKE</code> clause.
       (<a href="http://bugs.mysql.com/6859" target="_top">Bug#6859</a>)</p></li><li><p>
        Security improvement: Applied a patch that addresses a potential
        <code class="literal">zlib</code> data vulnerability that could result in
        an application crash. This only affects the binaries for
        platforms that are linked statically against the bundled zlib
        (most notably Microsoft Windows and HP-UX).
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1849" target="_top">CVE-2005-1849</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The MySQL Cluster backup log was invalid where the number of
        Cluster nodes was not equal to a power of 2.
       (<a href="http://bugs.mysql.com/11675" target="_top">Bug#11675</a>)</p></li><li><p>
        Creation of the <code class="literal">mysql</code> group account failed
        during the RPM installation.
       (<a href="http://bugs.mysql.com/12348" target="_top">Bug#12348</a>)</p></li><li><p>
        Updated dependency list for RPM builds to include missing
        dependencies such as <code class="literal">useradd</code> and
        <code class="literal">groupadd</code>.
       (<a href="http://bugs.mysql.com/12233" target="_top">Bug#12233</a>)</p></li><li><p>
        A delayed insert that would duplicate an existing record crashed
        the server instead.
       (<a href="http://bugs.mysql.com/12226" target="_top">Bug#12226</a>)</p></li><li><p>
        When <code class="literal">DROP DATABASE</code> was called concurrently
        with a <code class="literal">DROP TABLE</code> of any table, the MySQL
        Server crashed.
       (<a href="http://bugs.mysql.com/12212" target="_top">Bug#12212</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: True <code class="literal">VARCHAR</code>:
        Return <code class="literal">NULL</code> columns in the format expected by
        MySQL.
       (<a href="http://bugs.mysql.com/12186" target="_top">Bug#12186</a>)</p></li><li><p>
        Information about a trigger was not displayed in the output of
        <code class="literal">SELECT ... FROM INFORMATION_SCHEMA.TRIGGERS</code>
        when the selected database was
        <code class="literal">INFORMATION_SCHEMA</code>, prior to the trigger's
        first invocation.
       (<a href="http://bugs.mysql.com/12127" target="_top">Bug#12127</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Do not flush after each write, not
        even before setting up the doublewrite buffer. Flushing can be
        extremely slow on some systems.
       (<a href="http://bugs.mysql.com/12125" target="_top">Bug#12125</a>)</p></li><li><p>
        Two threads could potentially initialize different characters
        sets and overwrite each other.
       (<a href="http://bugs.mysql.com/12109" target="_top">Bug#12109</a>)</p></li><li><p>
        <code class="literal">big5</code> strings were not being stored in
        <code class="literal">FULLTEXT</code> index.
       (<a href="http://bugs.mysql.com/12075" target="_top">Bug#12075</a>)</p></li><li><p>
        Character data truncated when GBK characters
        <code class="literal">0xA3A0</code> and <code class="literal">0xA1</code> are
        present.
       (<a href="http://bugs.mysql.com/11987" target="_top">Bug#11987</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE</code> when <code class="literal">SQL_MODE =
        'TRADITIONAL'</code> gave rise to an invalid error message.
       (<a href="http://bugs.mysql.com/11964" target="_top">Bug#11964</a>)</p></li><li><p>
        Issuing successive <code class="literal">FLUSH TABLES WITH READ
        LOCK</code> would cause the <code class="literal">mysql</code> client
        to hang.
       (<a href="http://bugs.mysql.com/11934" target="_top">Bug#11934</a>)</p></li><li><p>
        <code class="literal">mysql_install_db</code> used static
        <code class="literal">localhost</code> value in <code class="literal">GRANT</code>
        tables even when server hostname is not
        <code class="literal">localhost</code>, such as
        <code class="literal">localhost.localdomain</code>. This change is applied
        to version 5.0.10b on Windows.
       (<a href="http://bugs.mysql.com/11822" target="_top">Bug#11822</a>)</p></li><li><p>
        Comparisons like <code class="literal">SELECT "A\\" LIKE
        "A\\";</code> fail when using <code class="literal">SET NAMES
        utf8;</code>.
       (<a href="http://bugs.mysql.com/11754" target="_top">Bug#11754</a>)</p></li><li><p>
        Attempting to repair a table having a fulltext index on a column
        containing words whose length exceeded 21 characters and where
        <code class="literal">myisam_repair_threads</code> was greater than 1
        would crash the server.
       (<a href="http://bugs.mysql.com/11684" target="_top">Bug#11684</a>)</p></li><li><p>
        When used in a <code class="literal">SELECT</code> query against a view,
        the <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> function
        returned only a single row.
       (<a href="http://bugs.mysql.com/11412" target="_top">Bug#11412</a>)</p></li><li><p>
        Multiplying <a href="functions.html#function_abs"><code class="literal">ABS()</code></a> output by a
        negative number would return incorrect results.
       (<a href="http://bugs.mysql.com/11402" target="_top">Bug#11402</a>)</p></li><li><p>
        The <a href="functions.html#function_lpad"><code class="literal">LPAD()</code></a> and
        <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a> functions returned the
        wrong length to
        <a href="apis.html#mysql-fetch-fields" title="23.2.3.19. mysql_fetch_fields()"><code class="literal">mysql_fetch_fields()</code></a>.
       (<a href="http://bugs.mysql.com/11311" target="_top">Bug#11311</a>)</p></li><li><p>
        A <code class="literal">UNIQUE VARCHAR</code> column would be
        mis-identified as <code class="literal">MUL</code> in table descriptions.
       (<a href="http://bugs.mysql.com/11227" target="_top">Bug#11227</a>)</p></li><li><p>
        DDL statements now are allowed in stored procedures if the
        procedure is not invoked from a stored function or a trigger.
        Also fixed problems where a <code class="literal">TEMPORARY</code>
        statement created by one stored routine was inaccessible to
        another routine invoked during the same connection.
       (<a href="http://bugs.mysql.com/11126" target="_top">Bug#11126</a>)</p></li><li><p>
        Calling the C API function
        <a href="apis.html#mysql-stmt-fetch" title="23.2.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> after all
        rows of a result set were exhausted would return an error
        instead of <code class="literal">MYSQL_NO_DATA</code>.
       (<a href="http://bugs.mysql.com/11037" target="_top">Bug#11037</a>)</p></li><li><p>
        <code class="literal">SELECT @@local...</code> returned
        <code class="literal">@@session...</code> in the column header.
       (<a href="http://bugs.mysql.com/10724" target="_top">Bug#10724</a>)</p></li><li><p>
        Incorrect error message displayed if user attempted to create a
        table in a non-existing database using <code class="literal">CREATE
        <em class="replaceable"><code>database_name</code></em>.<em class="replaceable"><code>table_name</code></em>
        </code> syntax.
       (<a href="http://bugs.mysql.com/10407" target="_top">Bug#10407</a>)</p></li><li><p>
        Unsigned <code class="literal">LONG</code> system variables may return
        incorrect value when retrieved with a <code class="literal">SELECT</code>
        for certain values.
       (<a href="http://bugs.mysql.com/10351" target="_top">Bug#10351</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> sometimes
        returned a result with a different collation from that of its
        arguments.
       (<a href="http://bugs.mysql.com/10201" target="_top">Bug#10201</a>)</p></li><li><p>
        Prepared statements were not being written to the Slow Query
        log.
       (<a href="http://bugs.mysql.com/9968" target="_top">Bug#9968</a>)</p></li><li><p>
        The value of <code class="literal">max_connections_per_hour</code> was
        capped by the unrelated <code class="literal">max_user_connections</code>
        setting.
       (<a href="http://bugs.mysql.com/9947" target="_top">Bug#9947</a>)</p></li><li><p>
        In stored procedures, a cursor that fetched an empty string into
        a variable would set the variable to <code class="literal">NULL</code>
        instead.
       (<a href="http://bugs.mysql.com/8692" target="_top">Bug#8692</a>)</p></li><li><p>
        Added checks to prevent error when allocating memory when there
        was insufficient memory available.
       (<a href="http://bugs.mysql.com/7003" target="_top">Bug#7003</a>)</p></li><li><p>
        Multiple <code class="literal">SELECT SQL_CACHE</code> queries in a stored
        procedure causes error and client hang.
       (<a href="http://bugs.mysql.com/6897" target="_top">Bug#6897</a>)</p></li><li><p>
        A trigger dependent on a feature of one
        <code class="literal">SQL_MODE</code> setting would cause an error when
        invoked after the <code class="literal">SQL_MODE</code> was changed.
       (<a href="http://bugs.mysql.com/5891" target="_top">Bug#5891</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-10"></a>E.1.20. Changes in  MySQL 5.0.10 (27 July 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The namespace for triggers has changed. Previously, trigger
        names had to be unique per table. Now they must be unique within
        the schema (database). An implication of this change is that
        <code class="literal">DROP TRIGGER</code> syntax now uses a schema name
        instead of a table name (schema name is optional and, if
        omitted, the current schema will be used).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          When upgrading from a previous version of MySQL 5 to MySQL
          5.0.10 or newer, you must drop all triggers and re-create them
          or <code class="literal">DROP TRIGGER</code> will not work after the
          upgrade. A suggested procedure for doing this is given in
          <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
        </p></div><p>(<a href="http://bugs.mysql.com/5892" target="_top">Bug#5892</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A new <code class="option">-P</code> option is available for use with the
        <span><strong class="command">ndb_mgmd</strong></span> client. When called with this
        option, <span><strong class="command">ndb_mgmd</strong></span> prints all configuration
        data to <code class="literal">stdout</code>, then exits.
      </p></li><li><p>
        On Windows, the search path used by MySQL applications for
        <code class="filename">my.ini</code> now includes
        <code class="filename">..\my.ini</code> (that is, the application's
        parent directory, and hence, the installation directory).
       (<a href="http://bugs.mysql.com/10419" target="_top">Bug#10419</a>)</p></li><li><p>
        The viewing of triggers and trigger metadata has been enhanced
        as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            An extension to the <code class="literal">SHOW</code> command has been
            added: <code class="literal">SHOW TRIGGERS</code> can be used to view
            a listing of triggers. See <a href="sql-syntax.html#show-triggers" title="12.5.4.26. SHOW TRIGGERS Syntax">Section 12.5.4.26, “<code class="literal">SHOW TRIGGERS</code> Syntax”</a>,
            for details.
          </p></li><li><p>
            The <code class="literal">INFORMATION_SCHEMA</code> database now
            includes a <code class="literal">TRIGGERS</code> table. See
            <a href="information-schema.html#triggers-table" title="21.16. The INFORMATION_SCHEMA TRIGGERS Table">Section 21.16, “The <code class="literal">INFORMATION_SCHEMA TRIGGERS</code> Table”</a>, for details.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/9586" target="_top">Bug#9586</a>)</p></li><li><p>
        It is no longer necessary to issue an explicit <code class="literal">LOCK
        TABLES</code> for any tables accessed by a trigger prior to
        executing any statements that might invoke the trigger.
      </p><p>
        Previously, executing a statement that invoked a trigger would
        cause problems unless a <code class="literal">LOCK TABLES</code> was first
        issued for any tables accessed by the trigger. The exact nature
        of the problem depended upon the MySQL 5.0 release being used:
        prior to 5.0.3, this resulted in a crash; from 5.0.3 to 5.0.7,
        MySQL would issue a warning; in 5.0.9, the server would issue an
        error.
      </p><p>
        The same issue caused <code class="literal">LOCK TABLES</code> to fail
        following <code class="literal">UNLOCK TABLES</code> if triggers were
        involved.
       (<a href="http://bugs.mysql.com/8406" target="_top">Bug#8406</a>, <a href="http://bugs.mysql.com/9581" target="_top">Bug#9581</a>)</p></li><li><p>
        The MySQL server now starts correctly with all combinations of
        <code class="literal">basedir</code> and <code class="literal">datadir</code>
        resolving an issue introduced by the original fix for this bug
        in MySQL 4.1.9.
       (<a href="http://bugs.mysql.com/7249" target="_top">Bug#7249</a>)</p><p>See also <a href="http://bugs.mysql.com/7518" target="_top">Bug#7518</a></p></li><li><p>
        Added
        <a href="apis.html#mysql-get-character-set-info" title="23.2.3.26. mysql_get_character_set_info()"><code class="literal">mysql_get_character_set_info()</code></a>
        C API function for obtaining information about the default
        character set of the current connection.
      </p></li><li><p>
        An extension to the <code class="literal">SHOW</code> command has been
        added: <code class="literal">SHOW TRIGGERS</code> can be used to view a
        listing of triggers. See <a href="sql-syntax.html#show-triggers" title="12.5.4.26. SHOW TRIGGERS Syntax">Section 12.5.4.26, “<code class="literal">SHOW TRIGGERS</code> Syntax”</a>, for
        details.
      </p></li><li><p>
        Add the <code class="option">--defaults-group-suffix</code> option. See
        <a href="programs.html#option-files" title="4.2.2.2. Using Option Files">Section 4.2.2.2, “Using Option Files”</a>.
      </p></li><li><p>
        The bundled version of the <code class="literal">readline</code> library
        was upgraded to version 5.0.
      </p></li><li><p>
        Triggers can now reference tables by name. See
        <a href="triggers.html#create-trigger" title="19.1. CREATE TRIGGER Syntax">Section 19.1, “<code class="literal">CREATE TRIGGER</code> Syntax”</a>, for more information.
      </p></li><li><p>
        Add <code class="literal">table_lock_wait_timeout</code> global server
        system variable.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A vulnerability in <code class="literal">zlib</code> could result in a
        buffer overflow and arbitrary code execution.
       (<a href="http://bugs.mysql.com/11844" target="_top">Bug#11844</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-2096" target="_top">CVE-2005-2096</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1849" target="_top">CVE-2005-1849</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The temporary tables created by an <code class="literal">ALTER
        TABLE</code> on an <code class="literal">NDB</code> table were visible
        to all SQL nodes in the cluster.
       (<a href="http://bugs.mysql.com/12055" target="_top">Bug#12055</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> ignored the <code class="literal">Hostname</code>
        option in the <code class="literal">[ndbd default]</code> section of the
        cluster configuration file.
       (<a href="http://bugs.mysql.com/12028" target="_top">Bug#12028</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The output of <span><strong class="command">perror <code class="option">--help</code></strong></span>
        did not display any information about the <code class="option">--ndb</code>
        option.
       (<a href="http://bugs.mysql.com/11999" target="_top">Bug#11999</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Attempting to create or drop tables during a backup would cause
        the cluster to shut down.
       (<a href="http://bugs.mysql.com/11942" target="_top">Bug#11942</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgmd</strong></span> leaked file descriptors.
       (<a href="http://bugs.mysql.com/11898" target="_top">Bug#11898</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The MySQL Server left core files following shutdown if data
        nodes had failed.
       (<a href="http://bugs.mysql.com/11516" target="_top">Bug#11516</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When attempting to drop a table with a broken unique index,
        <code class="literal">NDB</code> failed to drop the table and erroneously
        report that the table was unknown.
       (<a href="http://bugs.mysql.com/11355" target="_top">Bug#11355</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Trying to use a greater number of tables than specified by the
        value of <code class="literal">MaxNoOfTables</code> caused table
        corruption such that data nodes could not be restarted.
       (<a href="http://bugs.mysql.com/9994" target="_top">Bug#9994</a>)</p></li><li><p>
        Fixed compile error when using GCC4 on AMD64.
       (<a href="http://bugs.mysql.com/12040" target="_top">Bug#12040</a>)</p></li><li><p>
        <code class="literal">SHOW BINARY LOGS</code> displayed a file size of 0
        for all log files but the current one if the files were not
        located in the data directory.
       (<a href="http://bugs.mysql.com/12004" target="_top">Bug#12004</a>)</p></li><li><p>
        Increased the version number of the
        <code class="literal">libmysqlclient</code> shared library from 14 to 15
        because it is binary incompatible with the MySQL 4.1 client
        library.
       (<a href="http://bugs.mysql.com/11893" target="_top">Bug#11893</a>)</p></li><li><p>
        The server crashed when dropping a trigger that invoked a stored
        procedure, if the procedure was not yet in the
        connection-specific stored routine cache.
       (<a href="http://bugs.mysql.com/11889" target="_top">Bug#11889</a>)</p></li><li><p>
        <code class="literal">SELECT ... NOT IN()</code> gave unexpected results
        when only static value present between the
        <code class="literal">()</code>.
       (<a href="http://bugs.mysql.com/11885" target="_top">Bug#11885</a>)</p></li><li><p>
        A recent optimizer change caused <code class="literal">DELETE ... WHERE ...
        NOT LIKE</code> and <code class="literal">DELETE ... WHERE ... NOT
        BETWEEN</code> to not properly identify the rows to be
        deleted.
       (<a href="http://bugs.mysql.com/11853" target="_top">Bug#11853</a>)</p></li><li><p>
        Execution of a prepared statement that invoked a non-existent or
        dropped stored routine would crash the server.
       (<a href="http://bugs.mysql.com/11834" target="_top">Bug#11834</a>)</p></li><li><p>
        Selecting the result of an aggregate function for an
        <code class="literal">ENUM</code> or <code class="literal">SET</code> column within
        a subquery could result in a server crash.
       (<a href="http://bugs.mysql.com/11821" target="_top">Bug#11821</a>)</p></li><li><p>
        Creating a table with a <code class="literal">SET</code> or
        <code class="literal">ENUM</code> column with the <code class="literal">DEFAULT
        0</code> clause caused a server crash if the table's
        character set was <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/11819" target="_top">Bug#11819</a>)</p></li><li><p>
        Incorrect column values could be retrieved from views defined
        using statements of the form <code class="literal">SELECT * FROM
        <em class="replaceable"><code>tbl_name</code></em></code>.
       (<a href="http://bugs.mysql.com/11771" target="_top">Bug#11771</a>)</p></li><li><p>
        When invoked within a view,
        <a href="functions.html#function_subtime"><code class="literal">SUBTIME()</code></a> returned incorrect
        values.
       (<a href="http://bugs.mysql.com/11760" target="_top">Bug#11760</a>)</p></li><li><p>
        For several character sets, MySQL incorrectly converted the
        character code for the division sign to the
        <code class="literal">eucjpms</code> character set.
       (<a href="http://bugs.mysql.com/11717" target="_top">Bug#11717</a>)</p></li><li><p>
        Performing an <code class="literal">ORDER BY</code> on a
        <code class="literal">SELECT</code> from a <code class="literal">VIEW</code>
        produced unexpected results when <code class="literal">VIEW</code> and
        underlying table had the same column name on different columns.
       (<a href="http://bugs.mysql.com/11709" target="_top">Bug#11709</a>)</p></li><li><p>
        Execution of <code class="literal">SHOW TABLES</code> failed to increment
        the <code class="literal">Com_show_tables</code> status variable.
       (<a href="http://bugs.mysql.com/11685" target="_top">Bug#11685</a>)</p></li><li><p>
        LIKE pattern matching using prefix index didn't return correct
        result.
       (<a href="http://bugs.mysql.com/11650" target="_top">Bug#11650</a>)</p></li><li><p>
        Invoking the <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a>
        function could cause a server crash if the server was started
        without the <code class="option">--des-key-file</code> option.
       (<a href="http://bugs.mysql.com/11643" target="_top">Bug#11643</a>)</p></li><li><p>
        IP addresses not shown in <code class="literal">ndb_mgm SHOW</code>
        command on second ndb_mgmd (or on ndb_mgmd restart).
       (<a href="http://bugs.mysql.com/11596" target="_top">Bug#11596</a>)</p></li><li><p>
        <code class="literal">SHOW PROCEDURE/FUNCTION STATUS</code> didn't work
        for users with limited access.
       (<a href="http://bugs.mysql.com/11577" target="_top">Bug#11577</a>)</p></li><li><p>
        <code class="literal">mysqlbinlog</code> was failing the test suite on
        Windows due to <code class="literal">BOOL</code> being incorrectly cast to
        <code class="literal">INT</code>.
       (<a href="http://bugs.mysql.com/11567" target="_top">Bug#11567</a>)</p></li><li><p>
        The server crashed upon execution of a statement that used a
        stored function indirectly (via a view) if the function was not
        yet in the connection-specific stored routine cache and the
        statement would update a
        <code class="literal">Handler_<em class="replaceable"><code>xxx</code></em></code> status
        variable. This fix allows the use of stored routines under
        <code class="literal">LOCK TABLES</code> without explicitly locking the
        <code class="literal">mysql.lock</code> table. However, you cannot use
        <code class="literal">mysql.proc</code> in statements that will combine
        locking of it with modifications for other tables.
       (<a href="http://bugs.mysql.com/11554" target="_top">Bug#11554</a>)</p></li><li><p>
        Aliasing the column names in a <code class="literal">VIEW</code> did not
        work when executing a <code class="literal">SELECT</code> query on the
        <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11399" target="_top">Bug#11399</a>)</p></li><li><p>
        The <code class="literal">mysql.proc</code> table was not being created
        properly with the proper <code class="literal">utf8</code> character set
        and collation, causing server crashes for stored procedure
        operations if the server was using a multi-byte character set.
        To take advantage of the bug fix,
        <span><strong class="command">mysql_fix_privilege_tables</strong></span> should be run to
        correct the structure of the <code class="literal">mysql.proc</code>
        table.
      </p><p>
        Note that it is <span class="emphasis"><em>necessary</em></span> to run
        <span><strong class="command">mysql_fix_privileges_tables</strong></span> when upgrading
        from a previous installation that contains the
        <code class="literal">mysql.proc</code> table (that is, from a previous
        5.0 installation). Otherwise, creating stored procedures might
        not work.
       (<a href="http://bugs.mysql.com/11365" target="_top">Bug#11365</a>)</p></li><li><p>
        For prepared statements, the SQL parser did not disallow “<span class="quote">
        <code class="literal">?</code> </span>” parameter markers immediately
        adjacent to other tokens, which could result in malformed
        statements in the binary log. (For example, <code class="literal">SELECT *
        FROM t WHERE? = 1</code> could become <code class="literal">SELECT * FROM
        t WHERE0 = 1</code>.)
       (<a href="http://bugs.mysql.com/11299" target="_top">Bug#11299</a>)</p></li><li><p>
        The C API function
        <a href="apis.html#mysql-stmt-reset" title="23.2.7.21. mysql_stmt_reset()"><code class="literal">mysql_stmt_reset()</code></a> did not
        clear error information.
       (<a href="http://bugs.mysql.com/11183" target="_top">Bug#11183</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> had some
        inaccurate values for some data types.
       (<a href="http://bugs.mysql.com/11057" target="_top">Bug#11057</a>)</p></li><li><p>
        MySQL server would crash is a fetch was performed after a
        <code class="literal">ROLLBACK</code> when cursors were involved.
       (<a href="http://bugs.mysql.com/10760" target="_top">Bug#10760</a>)</p></li><li><p>
        When two threads competed for the same table, a deadlock could
        occur if one thread also had a lock on another table through
        <code class="literal">LOCK TABLES</code> and the thread was attempting to
        remove the table in some manner while the other thread tried to
        place locks on both tables.
       (<a href="http://bugs.mysql.com/10600" target="_top">Bug#10600</a>)</p></li><li><p>
        When used within a subquery,
        <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a> returned an empty
        string.
       (<a href="http://bugs.mysql.com/10269" target="_top">Bug#10269</a>)</p></li><li><p>
        Multiple-table <code class="literal">UPDATE</code> queries using
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> would fail with an
        error.
       (<a href="http://bugs.mysql.com/9979" target="_top">Bug#9979</a>)</p></li><li><p>
        With strict SQL mode enabled, <code class="literal">ALTER TABLE</code>
        reported spurious “<span class="quote">Invalid default value</span>” messages
        for columns that had no <code class="literal">DEFAULT</code> clause.
       (<a href="http://bugs.mysql.com/9881" target="_top">Bug#9881</a>)</p></li><li><p>
        <a href="apis.html#mysql-fetch-fields" title="23.2.3.19. mysql_fetch_fields()"><code class="literal">mysql_fetch_fields()</code></a> returned
        incorrect length information for <code class="literal">MEDIUM</code> and
        <code class="literal">LONG</code> <code class="literal">TEXT</code> and
        <code class="literal">BLOB</code> columns.
       (<a href="http://bugs.mysql.com/9735" target="_top">Bug#9735</a>)</p></li><li><p>
        Within a stored procedure, selecting from a table through a view
        caused subsequent updates to the table to fail with a message
        that the table was read-locked.
       (<a href="http://bugs.mysql.com/9597" target="_top">Bug#9597</a>)</p></li><li><p>
        Within a stored procedure that selects from a table, invoking
        another procedure that requires a write lock for the table
        caused that procedure to fail with a message that the table was
        read-locked.
       (<a href="http://bugs.mysql.com/9565" target="_top">Bug#9565</a>)</p></li><li><p>
        Server-side prepared statements failed for columns with a
        character set of <code class="literal">ucs2</code>.
       (<a href="http://bugs.mysql.com/9442" target="_top">Bug#9442</a>)</p></li><li><p>
        In SQL prepared statements, comparisons could fail for values
        not equally space-padded. For example, <code class="literal">SELECT 'a' =
        'a ';</code> returns 1, but <code class="literal">PREPARE s FROM
        'SELECT ?=?'; SET @a = 'a', @b = 'a '; PREPARE s FROM
        'SELECT ?=?'; EXECUTE s USING @a, @b;</code> incorrectly
        returned 0.
       (<a href="http://bugs.mysql.com/9379" target="_top">Bug#9379</a>)</p></li><li><p>
        References to system variables in an SQL statement prepared with
        <code class="literal">PREPARE</code> were evaluated during
        <code class="literal">EXECUTE</code> to their values at prepare time, not
        to their values at execution time.
       (<a href="http://bugs.mysql.com/9359" target="_top">Bug#9359</a>)</p></li><li><p>
        The server did not accept some fully-qualified trigger names.
       (<a href="http://bugs.mysql.com/8758" target="_top">Bug#8758</a>)</p></li><li><p>
        Creating a trigger in one database that references a table in
        another database was being allowed without generating errors.
       (<a href="http://bugs.mysql.com/8751" target="_top">Bug#8751</a>)</p></li><li><p>
        For server shutdown on Windows, error messages of the form
        <code class="literal">Forcing close of thread <em class="replaceable"><code>n</code></em>
        user: '<em class="replaceable"><code>name</code></em>'</code> were being
        written to the error log. Now connections are closed more
        gracefully without generating error messages.
       (<a href="http://bugs.mysql.com/7403" target="_top">Bug#7403</a>)</p></li><li><p>
        For a stored procedure defined with <code class="literal">SQL SECURITY
        DEFINER</code> characteristic,
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> incorrectly
        reported the use invoking the procedure, not the user who
        defined it.
       (<a href="http://bugs.mysql.com/7291" target="_top">Bug#7291</a>)</p></li><li><p>
        Labels in stored routines did not work if the character set was
        not <code class="literal">latin1</code>.
       (<a href="http://bugs.mysql.com/7088" target="_top">Bug#7088</a>)</p></li><li><p>
        Duplicate trigger names were allowed within a single schema.
       (<a href="http://bugs.mysql.com/6182" target="_top">Bug#6182</a>)</p></li><li><p>
        For execution of a stored procedure that refers to a view,
        changes to the view definition were not seen. The procedure
        continued to see the old contents of the view.
       (<a href="http://bugs.mysql.com/6120" target="_top">Bug#6120</a>)</p></li><li><p>
        The <code class="literal">traditional</code> SQL mode accepted invalid
        dates if the date value provided was the result of an implicit
        type conversion.
       (<a href="http://bugs.mysql.com/5906" target="_top">Bug#5906</a>)</p></li><li><p>
        In a shared Windows environment, MySQL could not find its
        configuration file unless the file was in the
        <code class="filename">C:\</code> directory.
       (<a href="http://bugs.mysql.com/5354" target="_top">Bug#5354</a>)</p></li><li><p>
        Functions that evaluate to constants (such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> and
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> were being
        evaluated in the definition of a <code class="literal">VIEW</code> rather
        than included verbatim.
       (<a href="http://bugs.mysql.com/4663" target="_top">Bug#4663</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-9"></a>E.1.21. Changes in  MySQL 5.0.9 (15 July 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The handling of <code class="literal">BIT</code> columns has been
        improved, and should now be much more reliable in a number of
        cases.
       (<a href="http://bugs.mysql.com/11572" target="_top">Bug#11572</a>, <a href="http://bugs.mysql.com/11091" target="_top">Bug#11091</a>, <a href="http://bugs.mysql.com/10617" target="_top">Bug#10617</a>)</p></li><li><p>
        Recursion in stored routines is now disabled because it was
        crashing the server. We plan to modify stored routines to allow
        this to operate safely in a future release.
       (<a href="http://bugs.mysql.com/11394" target="_top">Bug#11394</a>)</p></li><li><p>
        An attempt to create a <code class="literal">TIMESTAMP</code> column with
        a display width (for example, <code class="literal">TIMESTAMP(6)</code>)
        now results in a warning. Display widths have not been supported
        for <code class="literal">TIMESTAMP</code> since MySQL 4.1.
       (<a href="http://bugs.mysql.com/10466" target="_top">Bug#10466</a>)</p></li><li><p>
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a> API
        function now respects <code class="literal">NO_BACKSLASH_ESCAPES</code>
        SQL mode.
       (<a href="http://bugs.mysql.com/10214" target="_top">Bug#10214</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Made <code class="literal">CHECK TABLE</code>
        killable.
       (<a href="http://bugs.mysql.com/9730" target="_top">Bug#9730</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Make
        <code class="literal">innodb_thread_concurrency=20</code> by default.
        Bypass the concurrency checking if the setting is greater than
        or equal to 20.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Various optimizations. Removed
        unreachable debug code from non-debug builds. Added hints for
        the branch predictor in <span><strong class="command">gcc</strong></span>. Made assertions
        occupy less space.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: When creating or extending an
        <code class="literal">InnoDB</code> data file, at most one megabyte at a
        time is allocated for initializing the file. Previously,
        <code class="literal">InnoDB</code> allocated and initialized 1 or 8
        megabytes of memory, even if only a few 16-kilobyte pages were
        to be written. This improves the performance of <code class="literal">CREATE
        TABLE</code> in <code class="literal">innodb_file_per_table</code>
        mode.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When trying to open a table that could not be discovered or
        unpacked, the cluster returned error codes which the MySQL
        server falsely interpreted as operating system errors.
       (<a href="http://bugs.mysql.com/10365" target="_top">Bug#10365</a>)</p></li><li><p>
        The <code class="option">--master-data</code> option for
        <span><strong class="command">mysqldump</strong></span> resulted in no error if the binary
        log was not enabled. Now an error occurs unless the
        <code class="option">--force</code> option is given.
       (<a href="http://bugs.mysql.com/11678" target="_top">Bug#11678</a>)</p></li><li><p>
        When a table had a primary key containing a
        <code class="literal">BLOB</code> column, creation of another index failed
        with the error <code class="literal">BLOB/TEXT column used in key
        specification without keylength</code>, even when the new
        index did not contain a <code class="literal">BLOB</code> column.
       (<a href="http://bugs.mysql.com/11657" target="_top">Bug#11657</a>)</p></li><li><p>
        Incorrect results when using <code class="literal">GROUP BY ... WITH
        ROLLUP</code> on a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11639" target="_top">Bug#11639</a>)</p></li><li><p>
        MySQL would not compile correctly on QNX due to missing
        <code class="literal">rint()</code> function.
       (<a href="http://bugs.mysql.com/11544" target="_top">Bug#11544</a>)</p></li><li><p>
        A <code class="literal">SELECT DISTINCT <em class="replaceable"><code>col_name</code></em>
        </code> would work correctly with a <code class="literal">MyISAM</code>
        table only when there was an index on
        <em class="replaceable"><code>col_name</code></em>.
       (<a href="http://bugs.mysql.com/11484" target="_top">Bug#11484</a>)</p></li><li><p>
        Using <a href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a> on a column
        set <code class="literal">NOT NULL</code> caused incorrect results when
        used in a <code class="literal">LEFT JOIN</code>.
       (<a href="http://bugs.mysql.com/11469" target="_top">Bug#11469</a>)</p></li><li><p>
        Temporary tables were created in the data directory instead of
        <code class="literal">tmpdir</code>.
       (<a href="http://bugs.mysql.com/11440" target="_top">Bug#11440</a>)</p></li><li><p>
        Running a <code class="literal">CHECK TABLES</code> on multiple views
        crashed the server.
       (<a href="http://bugs.mysql.com/11337" target="_top">Bug#11337</a>)</p></li><li><p>
        Manually inserting a row with <code class="literal">host=''</code> into
        <code class="literal">mysql.tables_priv</code> and performing a
        <code class="literal">FLUSH PRIVILEGES</code> would cause the server to
        crash.
       (<a href="http://bugs.mysql.com/11330" target="_top">Bug#11330</a>)</p></li><li><p>
        Wrong comparison method used in <code class="literal">VIEW</code> when
        relaxed date syntax used (for example,
        <code class="literal">2005.06.10</code>).
       (<a href="http://bugs.mysql.com/11325" target="_top">Bug#11325</a>)</p></li><li><p>
        Signed <code class="literal">BIGINT</code> would not accept
        <code class="literal">-9223372036854775808</code> as a
        <code class="literal">DEFAULT</code> value.
       (<a href="http://bugs.mysql.com/11215" target="_top">Bug#11215</a>)</p></li><li><p>
        Optimizer performed range check when comparing unsigned integers
        to negative constants, could cause errors.
       (<a href="http://bugs.mysql.com/11185" target="_top">Bug#11185</a>)</p></li><li><p>
        A cursor using a query with a filter on a
        <code class="literal">DATE</code> or <code class="literal">DATETIME</code> column
        would cause the server to crash server after the data was
        fetched.
       (<a href="http://bugs.mysql.com/11172" target="_top">Bug#11172</a>)</p></li><li><p>
        The <code class="literal">mysql_config</code> script did not handle
        symbolic linking properly.
       (<a href="http://bugs.mysql.com/10986" target="_top">Bug#10986</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> failed when reloading a view if the
        view was defined in terms of a different view that had not yet
        been reloaded. <span><strong class="command">mysqldump</strong></span> now creates a dummy
        table to handle this case.
       (<a href="http://bugs.mysql.com/10927" target="_top">Bug#10927</a>)</p></li><li><p>
        If a prepared statement cursor is opened but not completely
        fetched, attempting to open a cursor for a second prepared
        statement will fail.
       (<a href="http://bugs.mysql.com/10794" target="_top">Bug#10794</a>)</p></li><li><p>
        Combining cursors and subqueries could cause server crash or
        memory leaks.
       (<a href="http://bugs.mysql.com/10736" target="_top">Bug#10736</a>)</p></li><li><p>
        Instances of the <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>
        function in view definitions were converted to
        <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a>. This is incorrect
        because <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> is the same
        as <a href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a>, not
        <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a>.
       (<a href="http://bugs.mysql.com/10651" target="_top">Bug#10651</a>)</p></li><li><p>
        <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> and
        <a href="functions.html#function_des-decrypt"><code class="literal">DES_DECRYPT()</code></a> require SSL
        support to be enabled, but were not checking for it. Checking
        for incorrect arguments or resource exhaustion was also improved
        for these functions.
       (<a href="http://bugs.mysql.com/10589" target="_top">Bug#10589</a>)</p></li><li><p>
        For <code class="literal">MEMORY</code> tables, it was possible for
        updates to be performed using outdated key statistics when the
        updates involved only very small changes in a very few rows.
        This resulted in the random failures of queries such as
        <code class="literal">UPDATE t SET col = col + 1 WHERE col_key = 2;</code>
        where the same query with no <code class="literal">WHERE</code> clause
        would succeed.
       (<a href="http://bugs.mysql.com/10178" target="_top">Bug#10178</a>)</p></li><li><p>
        When used in joins, <a href="functions.html#function_substring"><code class="literal">SUBSTRING()</code></a>
        failed to truncate to zero those string values that could not be
        converted to numbers.
       (<a href="http://bugs.mysql.com/10124" target="_top">Bug#10124</a>)</p></li><li><p>
        Views did not use indexes on all appropriate queries.
       (<a href="http://bugs.mysql.com/10031" target="_top">Bug#10031</a>)</p></li><li><p>
        Closing a cursor that was already closed would cause MySQL to
        hang.
       (<a href="http://bugs.mysql.com/9814" target="_top">Bug#9814</a>)</p></li><li><p>
        The server would lose table-level <code class="literal">CREATE VIEW</code>
        and <code class="literal">SHOW VIEW</code> privileges following a
        <code class="literal">FLUSH PRIVILEGES</code> or server restart.
       (<a href="http://bugs.mysql.com/9795" target="_top">Bug#9795</a>)</p></li><li><p>
        <code class="literal">mysqldump --xml</code> did not format
        <code class="literal">NULL</code> column values correctly.
       (<a href="http://bugs.mysql.com/9657" target="_top">Bug#9657</a>)</p></li><li><p>
        The <code class="option">--no-data</code> option for
        <span><strong class="command">mysqldump</strong></span> was being ignored if table names
        were given after the database name.
       (<a href="http://bugs.mysql.com/9558" target="_top">Bug#9558</a>)</p></li><li><p>
        Clients would hang following some errors with stored procedures.
       (<a href="http://bugs.mysql.com/9503" target="_top">Bug#9503</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> could crash for illegal or
        non-existent table names.
       (<a href="http://bugs.mysql.com/9358" target="_top">Bug#9358</a>)</p></li><li><p>
        A compression algorithm issue caused
        <code class="literal">myisampack</code>to fail for very large data sets
        (where the total size of all records in a single column was on
        the order of 3 GB or more) on 64-bit platforms. (A fix for other
        platforms was made in MySQL 5.0.6.)
       (<a href="http://bugs.mysql.com/8321" target="_top">Bug#8321</a>)</p></li><li><p>
        The <a href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a> and
        <a href="functions.html#function_substring-index"><code class="literal">SUBSTRING_INDEX()</code></a> functions
        would cause errors when used with a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/7024" target="_top">Bug#7024</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE VIEW</code> did not take the
        <code class="literal">ANSI MODE</code> into account when quoting
        identifiers.
       (<a href="http://bugs.mysql.com/6903" target="_top">Bug#6903</a>)</p></li><li><p>
        In strict mode, an <code class="literal">INSERT</code> into a view that
        did not include a value for a <code class="literal">NOT NULL</code> column
        but that did include a <code class="literal">WHERE</code> test on the same
        column would succeed, This happened even though the
        <code class="literal">INSERT</code> should have been prevented due to the
        failure to supply a value for the <code class="literal">NOT NULL</code>
        column.
       (<a href="http://bugs.mysql.com/6443" target="_top">Bug#6443</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-8"></a>E.1.22. Changes in  MySQL 5.0.8 (Not released)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Starting with version 5.0.8, changes for MySQL Cluster can be
          found in the combined Change History.
        </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Previously, conversion of <code class="literal">DATETIME</code> values to
        numeric form by adding zero produced a result in
        <code class="literal">YYYYMMDDHHMMSS</code> format. The result of
        <code class="literal">DATETIME+0</code> is now in
        <code class="literal">YYYYMMDDHHMMSS.000000</code> format.
       (<a href="http://bugs.mysql.com/12268" target="_top">Bug#12268</a>)</p></li><li><p>
        Where a <code class="literal">GROUP BY</code> query uses a grouping column
        from the query's <code class="literal">SELECT</code> clause, MySQL now
        issues a warning. This is done because the SQL standard states
        that any grouping column must unambiguously reference a column
        of the table resulting from the query's <code class="literal">FROM</code>
        clause, and allowing columns from the <code class="literal">SELECT</code>
        clause to be used as grouping columns is a MySQL extension to
        the standard.
      </p><p>
        By way of example, consider the following table:
      </p><pre class="programlisting">CREATE TABLE users (
  userid INT NOT NULL PRIMARY KEY,
  username VARCHAR(25),
  usergroupid INT NOT NULL
);
</pre><p>
        MySQL allows you to use the alias in this query:
      </p><pre class="programlisting">SELECT usergroupid AS id, COUNT(userid) AS number_of_users
FROM users
GROUP BY id;
</pre><p>
        However, the SQL standard requires that the column name be used,
        as shown here:
      </p><pre class="programlisting">SELECT usergroupid AS id, COUNT(userid) AS number_of_users
FROM users
GROUP BY usergroupid;
</pre><p>
        Queries such as the first of the two shown above will continue
        to be supported in MySQL; however, beginning with MySQL 5.0.8,
        using a column alias in this fashion will generate a warning.
        Note that in the event of a collision between column names
        and/or aliases used in joins, MySQL attempts to resolve the
        conflict by giving preference to columns arising from tables
        named in the query's <code class="literal">FROM</code> clause.
       (<a href="http://bugs.mysql.com/11211" target="_top">Bug#11211</a>)</p></li><li><p>
        Using prepared statements within a stored routine
        (<code class="literal">PREPARE</code>, <code class="literal">EXECUTE</code>,
        <code class="literal">DEALLOCATE</code>) could cause the client connection
        to be dropped after the routine returned. In addition, executing
        a statement which called a function deallocating the same
        statement caused the server to crash. This is prevented by
        disabling dynamic SQL within stored routines.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This restriction was lifted in 5.0.13 for stored procedures,
          but not stored functions or triggers.
        </p></div><p>(<a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a>)</p><p>See also <a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a></p></li><li><p>
        Added support for <code class="literal">B'10'</code> syntax for bit
        literal.
       (<a href="http://bugs.mysql.com/10650" target="_top">Bug#10650</a>)</p></li><li><p>
        <code class="literal">MEMORY</code> tables now support indexes of up to
        500 bytes. See <a href="storage-engines.html#memory-storage-engine" title="13.4. The MEMORY (HEAP) Storage Engine">Section 13.4, “The <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) Storage Engine”</a>.
       (<a href="http://bugs.mysql.com/10566" target="_top">Bug#10566</a>)</p></li><li><p>
        Expanded on information provided in general log and slow query
        log for prepared statements.
       (<a href="http://bugs.mysql.com/8367" target="_top">Bug#8367</a>, <a href="http://bugs.mysql.com/9334" target="_top">Bug#9334</a>)</p></li><li><p>
        Some data definition statements (<code class="literal">CREATE TABLE</code>
        where the table was not a temporary table, <code class="literal">TRUNCATE
        TABLE</code>, <code class="literal">DROP DATABASE</code>, and
        <code class="literal">CREATE DATABASE</code>) were not being written to
        the binary log after a <code class="literal">ROLLBACK</code>. This also
        caused problems with replication.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          As a result of this fix, the folowing statements now cause an
          implicit commit:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="literal">CREATE TABLE</code>
              </p></li><li><p>
                <code class="literal">TRUNCATE TABLE</code>
              </p></li><li><p>
                <code class="literal">DROP DATABASE</code>
              </p></li><li><p>
                <code class="literal">CREATE DATABASE</code>
              </p></li></ul></div><p>
        </p></div><p>(<a href="http://bugs.mysql.com/6883" target="_top">Bug#6883</a>)</p></li><li><p>
        New <code class="literal">SQL_MODE</code> -
        <code class="literal">NO_ENGINE_SUBSTITUTION</code> Prevents automatic
        substitution of storage engine when the requested storage engine
        is disabled or not compiled in.
       (<a href="http://bugs.mysql.com/6877" target="_top">Bug#6877</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        On Windows systems, a user with any of the following privileges
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">REFERENCES</code>
            </p></li><li><p>
              <code class="literal">CREATE TEMPORARY TABLES</code>
            </p></li><li><p>
              <code class="literal">GRANT OPTION</code>
            </p></li><li><p>
              <code class="literal">CREATE</code>
            </p></li><li><p>
              <code class="literal">SELECT</code>
            </p></li></ul></div><p>
        on <code class="literal">*.*</code> could crash <span><strong class="command">mysqld</strong></span>
        by issuing a <code class="literal">USE LPT1;</code> or <code class="literal">USE
        PRN;</code> command. In addition, any of the commands
        <code class="literal">USE NUL;</code>, <code class="literal">USE CON;</code>,
        <code class="literal">USE COM1;</code>, or <code class="literal">USE AUX;</code>
        would report success even though the database was not in fact
        changed.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Although this bug was thought to be fixed previously, it was
          later discovered to be present in the MySQL 5.0.7-beta release
          for Windows.
        </p></div><p>(<a href="http://bugs.mysql.com/9148" target="_top">Bug#9148</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Setting <code class="literal">TransactionInactiveTimeout = 0</code> did
        not result in an infinite timeout.
       (<a href="http://bugs.mysql.com/11290" target="_top">Bug#11290</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">mysqld</strong></span> processes did not reconnect to the
        cluster following a restart of <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/11221" target="_top">Bug#11221</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Insert records were incorrectly applied by
        <span><strong class="command">ndb_restore</strong></span>, thus making restoring from
        backup inconsistent if the binlog contained inserts.
       (<a href="http://bugs.mysql.com/11166" target="_top">Bug#11166</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A <code class="literal">DELETE</code> performed as part of a transaction
        caused an erroneous result.
       (<a href="http://bugs.mysql.com/11133" target="_top">Bug#11133</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Connections between data nodes and management nodes were not
        closed following shutdown of <span><strong class="command">ndb_mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/11132" target="_top">Bug#11132</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <span><strong class="command">ndb_mgm</strong></span> client's
        <code class="literal">SHOW</code> command displayed incorrect output after
        master data node failure.
       (<a href="http://bugs.mysql.com/11050" target="_top">Bug#11050</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When using dynamically allocated ports on Linux, the cluster
        would hang on initial startup.
       (<a href="http://bugs.mysql.com/10893" target="_top">Bug#10893</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Not allowing sufficient parallelism in the cluster's
        configuration (for example, by setting
        <code class="literal">NoOfTransactions</code> too small) caused
        <span><strong class="command">ndb_restore</strong></span> to fail without providing any
        error messages.
       (<a href="http://bugs.mysql.com/10294" target="_top">Bug#10294</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Running <span><strong class="command">ndb_select_count</strong></span> crashed the cluster
        when running on Red Hat Enterprise 4/64-bit/Opteron.
       (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Data nodes failed to restart on 64-bit Solaris.
       (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)</p></li><li><p>
        Multiple range accesses in a subquery cause server crash.
       (<a href="http://bugs.mysql.com/11487" target="_top">Bug#11487</a>)</p></li><li><p>
        A <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> value could not be
        included in a <code class="literal">VIEW</code>.
       (<a href="http://bugs.mysql.com/11387" target="_top">Bug#11387</a>)</p></li><li><p>
        Server crashed when using <code class="literal">GROUP BY</code> on the
        result of a <code class="literal">DIV</code> operation on a
        <code class="literal">DATETIME</code> value.
       (<a href="http://bugs.mysql.com/11385" target="_top">Bug#11385</a>)</p></li><li><p>
        <code class="literal">INSERT INTO SELECT FROM <em class="replaceable"><code>view</code></em>
        </code> produced incorrect result when using <code class="literal">ORDER
        BY</code>.
       (<a href="http://bugs.mysql.com/11298" target="_top">Bug#11298</a>)</p></li><li><p>
        Possible <code class="literal">NULL</code> values in
        <code class="literal">BLOB</code> columns could crash the server when a
        <code class="literal">BLOB</code> was used in a <code class="literal">GROUP
        BY</code> query.
       (<a href="http://bugs.mysql.com/11295" target="_top">Bug#11295</a>)</p></li><li><p>
        An outer join with an <code class="literal">ON</code> condition that
        evaluated to false could return an incorrect result.
       (<a href="http://bugs.mysql.com/11285" target="_top">Bug#11285</a>)</p></li><li><p>
        An outer join with an empty derived table (a result from a
        subquery) returned no result.
       (<a href="http://bugs.mysql.com/11284" target="_top">Bug#11284</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST( ... AS DECIMAL)</code></a> didn't
        work for strings.
       (<a href="http://bugs.mysql.com/11283" target="_top">Bug#11283</a>)</p></li><li><p>
        Corrected a problem with
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> returning an incorrect
        result on 64-bit systems.
       (<a href="http://bugs.mysql.com/11235" target="_top">Bug#11235</a>)</p></li><li><p>
        The <code class="literal">SHOW INSTANCE OPTIONS</code> command in MySQL
        Instance Manager displayed option values incorrectly for options
        for which no value had been given.
       (<a href="http://bugs.mysql.com/11200" target="_top">Bug#11200</a>)</p></li><li><p>
        The default hostname for MySQL server was always
        <code class="literal">mysql</code>.
       (<a href="http://bugs.mysql.com/11174" target="_top">Bug#11174</a>)</p></li><li><p>
        Some internal functions did not take into account that, for
        multi-byte character sets, <code class="literal">CHAR</code> columns could
        exceed 255 bytes and <code class="literal">VARCHAR</code> columns could
        exceed 65,535 bytes, which could cause the server to crash.
       (<a href="http://bugs.mysql.com/11167" target="_top">Bug#11167</a>)</p></li><li><p>
        Fixed locking problems for multiple-statement
        <code class="literal">DELETE</code> statements performed within a stored
        routine, such as incorrectly locking a to-be-modified table with
        a read lock rather than a write lock.
       (<a href="http://bugs.mysql.com/11158" target="_top">Bug#11158</a>)</p></li><li><p>
        Fixed a portability problem testing for
        <code class="literal">crypt()</code> support that caused compilation
        problems when using OpenSSL/yaSSL on HP-UX and Mac OS X.
       (<a href="http://bugs.mysql.com/11150" target="_top">Bug#11150</a>, <a href="http://bugs.mysql.com/10675" target="_top">Bug#10675</a>)</p></li><li><p>
        The <a href="functions.html#function_nullif"><code class="literal">NULLIF()</code></a> function could
        produce incorrect results if the first argument was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/11142" target="_top">Bug#11142</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li><li><p>
        Fixed 64 bit compiler warning for packet length in replication.
       (<a href="http://bugs.mysql.com/11064" target="_top">Bug#11064</a>)</p></li><li><p>
        Calling a stored procedure that made use of an <code class="literal">INSERT
        ... SELECT ... UNION SELECT ...</code> query caused a server
        crash.
       (<a href="http://bugs.mysql.com/11060" target="_top">Bug#11060</a>)</p></li><li><p>
        <code class="literal">sql_data_access</code> column of
        <code class="literal">routines</code> table of
        <code class="literal">INFORMATION_SCHEMA</code> was empty.
       (<a href="http://bugs.mysql.com/11055" target="_top">Bug#11055</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT</code> queries or <code class="literal">GROUP
        BY</code> queries without
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return inconsistent
        results for indexed columns.
       (<a href="http://bugs.mysql.com/11044" target="_top">Bug#11044</a>)</p></li><li><p>
        A <code class="literal">CREATE TABLE
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em>
        LIKE ...</code> statement would crash the server when no
        database was selected.
       (<a href="http://bugs.mysql.com/11028" target="_top">Bug#11028</a>)</p></li><li><p>
        On Windows, <code class="literal">mysqlshow</code> did not interpret
        wildcard characters properly if they were given in the table
        name argument.
       (<a href="http://bugs.mysql.com/10947" target="_top">Bug#10947</a>)</p></li><li><p>
        The hostname cache was not working.
       (<a href="http://bugs.mysql.com/10931" target="_top">Bug#10931</a>)</p></li><li><p>
        A three byte buffer overflow in the client functions caused
        improper exiting of the client when reading a command from the
        user.
       (<a href="http://bugs.mysql.com/10841" target="_top">Bug#10841</a>)</p></li><li><p>
        The <span><strong class="command">mysql</strong></span> client would output a prompt twice
        following input of very long strings, because it incorrectly
        assumed that a call to the <span><strong class="command">_cgets()</strong></span> function
        would clear the input buffer.
       (<a href="http://bugs.mysql.com/10840" target="_top">Bug#10840</a>)</p></li><li><p>
        Setting <code class="literal">@@SQL_MODE = NULL</code> caused an erroneous
        error message.
       (<a href="http://bugs.mysql.com/10732" target="_top">Bug#10732</a>)</p></li><li><p>
        When using a cursor with a prepared statement, the first
        execution returned the correct result but was not cleaned up
        properly, causing subsequent executions to return incorrect
        results.
       (<a href="http://bugs.mysql.com/10729" target="_top">Bug#10729</a>)</p></li><li><p>
        Converting a <code class="literal">VARCHAR</code> column having an index
        to a different type (such as <code class="literal">TINYTEXT</code>) gave
        rise to an incorrect error message.
      </p><p>
        Note that this bugfix induces a slight change in the behavior of
        indexes: If an index is defined to be the same length as a field
        (or is left to default to that field's length), and the length
        of the field is later changed, then the index will adopt the new
        length of the field. Previously, the size of the index did not
        change for some field types (such as <code class="literal">VARCHAR</code>)
        when the field type was changed.
       (<a href="http://bugs.mysql.com/10543" target="_top">Bug#10543</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Pad UTF-8 <code class="literal">VARCHAR</code>
        columns with <code class="literal">0x20</code>. Pad UCS2
        <code class="literal">CHAR</code> columns with <code class="literal">0x0020</code>.
       (<a href="http://bugs.mysql.com/10511" target="_top">Bug#10511</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Enforce maximum
        <a href="functions.html#function_char-length"><code class="literal">CHAR_LENGTH()</code></a> of UTF-8 data in
        <code class="literal">ON UPDATE CASCADE</code>.
       (<a href="http://bugs.mysql.com/10409" target="_top">Bug#10409</a>)</p></li><li><p>
        <code class="literal">SELECT * FROM <em class="replaceable"><code>table</code></em>
        </code> returned incorrect results when called from a stored
        procedure, where <em class="replaceable"><code>table</code></em> had a primary
        key.
       (<a href="http://bugs.mysql.com/10136" target="_top">Bug#10136</a>)</p></li><li><p>
        The granting and revocation of privileges on a stored routine
        was performed when running the server with
        <code class="option">--skip-grant-tables</code> even after the statement
        <code class="literal">SET @@global.automatic_sp_privileges=1;</code> was
        executed.
       (<a href="http://bugs.mysql.com/9993" target="_top">Bug#9993</a>)</p></li><li><p>
        Fixed a problem where a stored procedure caused a server crash
        if the query cache was enabled.
       (<a href="http://bugs.mysql.com/9715" target="_top">Bug#9715</a>)</p></li><li><p>
        Fixed a problem resolving table names with
        <code class="literal">lower_case_table_names=2</code> when the table name
        lettercase differed in the <code class="literal">FROM</code> and
        <code class="literal">WHERE</code> clauses.
       (<a href="http://bugs.mysql.com/9500" target="_top">Bug#9500</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE DATABASE INFORMATION_SCHEMA</code>
        returned an “<span class="quote">unknown database</span>” error.
       (<a href="http://bugs.mysql.com/9434" target="_top">Bug#9434</a>)</p></li><li><p>
        On 64-bit Solaris 9, the cluster timed out and crashed after the
        first query was made.
       (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>)</p></li><li><p>
        <code class="literal">SELECT DISTINCT ... GROUP BY
        <em class="replaceable"><code>constant</code></em></code> returned multiple
        rows (it should return a single row).
       (<a href="http://bugs.mysql.com/8614" target="_top">Bug#8614</a>)</p></li><li><p>
        An issue with index merging could cause suboptimal index merge
        plans to be chosen when searching by indexes created on
        <code class="literal">DATE</code> columns. The same issue caused the
        <code class="literal">InnoDB</code> storage engine to issue the warning
        <code class="literal">using a partial-field key prefix in search</code>.
       (<a href="http://bugs.mysql.com/8441" target="_top">Bug#8441</a>)</p></li><li><p>
        The <code class="literal">mysqlhotcopy</code> script was not parsing the
        output of <code class="literal">SHOW SLAVE STATUS</code> correctly when
        called with the <code class="option">--record_log_pos</code> option.
       (<a href="http://bugs.mysql.com/7967" target="_top">Bug#7967</a>)</p></li><li><p>
        Fixed hang/crash with Boolean full-text search where a query
        contained more query terms that one-third of the query length
        (it could be achieved with truncation operator: 'a*b*c*d*').
       (<a href="http://bugs.mysql.com/7858" target="_top">Bug#7858</a>)</p></li><li><p>
        When used in defining a view, the
        <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> function failed
        with calculated values, for example, when passed the value
        returned by <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a>.
       (<a href="http://bugs.mysql.com/7521" target="_top">Bug#7521</a>)</p></li><li><p>
        Fixed column name generation in <code class="literal">VIEW</code> creation
        to ensure there are no duplicate column names.
       (<a href="http://bugs.mysql.com/7448" target="_top">Bug#7448</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> clause sometimes had no effect on
        the ordering of a result when selecting specific columns (as
        opposed to using <code class="literal">SELECT *</code>) from a view.
       (<a href="http://bugs.mysql.com/7422" target="_top">Bug#7422</a>)</p></li><li><p>
        Using <code class="literal">PREPARE</code> to prepare a statement that
        invoked a stored routine that executed the prepared statement
        caused a <span class="errortext">Packets out of order error</span> the
        second time the routine was invoked. This is prevented by
        disabling dynamic SQL within stored routines.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This restriction was lifted in 5.0.13 for stored procedures,
          but not for stored functions or triggers.
        </p></div><p>(<a href="http://bugs.mysql.com/7115" target="_top">Bug#7115</a>)</p><p>See also <a href="http://bugs.mysql.com/10975" target="_top">Bug#10975</a>, <a href="http://bugs.mysql.com/10605" target="_top">Bug#10605</a></p></li><li><p>
        Selecting from a view defined using <code class="literal">SELECT SUM(DISTINCT
        ...)</code> caused an error; attempting to execute a
        <code class="literal">SELECT * FROM INFORMATION_SCHEMA.TABLES</code> query
        after defining such a view crashed the server.
       (<a href="http://bugs.mysql.com/7015" target="_top">Bug#7015</a>)</p></li><li><p>
        <code class="literal">REFERENCES</code>
      </p></li><li><p>
        <code class="literal">SELECT</code>
      </p></li><li><p>
        <code class="literal">CREATE TEMPORARY TABLES</code>
      </p></li><li><p>
        <code class="literal">GRANT OPTION</code>
      </p></li><li><p>
        <code class="literal">CREATE</code>
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-7"></a>E.1.23. Changes in  MySQL 5.0.7 (10 June 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Improved the optimizer to be able to use indexes for expressions
        of the form <code class="literal"><em class="replaceable"><code>indexed_col</code></em> NOT
        IN (<em class="replaceable"><code>val1</code></em>,
        <em class="replaceable"><code>val2</code></em>, ...)</code> and <code class="literal">
        <em class="replaceable"><code>indexed_col</code></em> NOT BETWEEN
        <em class="replaceable"><code>val1</code></em> AND
        <em class="replaceable"><code>val2</code></em></code>.
       (<a href="http://bugs.mysql.com/10561" target="_top">Bug#10561</a>)</p></li><li><p>
        The <code class="literal">table</code>, <code class="literal">type</code>, and
        <code class="literal">rows</code> columns of <code class="literal">EXPLAIN</code>
        output can now be <code class="literal">NULL</code>. This is required for
        using <code class="literal">EXPLAIN</code> on <code class="literal">SELECT</code>
        queries that use no tables, such as <code class="literal">EXPLAIN SELECT
        1</code>).
       (<a href="http://bugs.mysql.com/9899" target="_top">Bug#9899</a>)</p></li><li><p>
        All characters occurring on the same line following the
        <code class="literal">DELIMITER</code> keyword will be set as delimiter.
        For example, <code class="literal">DELIMITER :;</code> will set
        <code class="literal">:;</code> as the delimiter. This behavior is now
        consistent between MySQL 5.1 and MySQL 5.0.
       (<a href="http://bugs.mysql.com/9879" target="_top">Bug#9879</a>)</p></li><li><p>
        Added <a href="apis.html#mysql-set-character-set" title="23.2.3.61. mysql_set_character_set()"><code class="literal">mysql_set_character_set()</code></a>
        C API function for setting the default character set of the
        current connection. This allows clients to affect the character
        set used by
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>.
       (<a href="http://bugs.mysql.com/8317" target="_top">Bug#8317</a>)</p></li><li><p>
        The <code class="option">--delayed-insert</code> option for
        <span><strong class="command">mysqldump</strong></span> was disabled to avoid causing
        problems with storage engines that do not support
        <code class="literal">INSERT DELAYED</code>.
       (<a href="http://bugs.mysql.com/7815" target="_top">Bug#7815</a>)</p></li><li><p>
        Placeholders now can be used for <code class="literal">LIMIT</code> in
        prepared statements.
       (<a href="http://bugs.mysql.com/7306" target="_top">Bug#7306</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: In stored procedures and functions,
        <code class="literal">InnoDB</code> no longer takes full explicit table
        locks for every involved table. Only `intention' locks are
        taken, similar to those in the execution of an ordinary SQL
        statement. This greatly reduces the number of deadlocks.
      </p></li><li><p>
        <code class="literal">SHOW BINARY LOGS</code> now displays a
        <code class="literal">File_size</code> column that indicates the size of
        each file.
      </p></li><li><p>
        Security improvement: Applied a patch to fix a UDF
        library-loading vulnerability that could result in a buffer
        overflow and code execution.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-2558" target="_top">CVE-2005-2558</a>)</p></li><li><p>
        Removed <code class="literal">WinMySQLAdmin</code> from the source
        distribution and from the “<span class="quote">No Installer</span>” Windows
        distribution (it had already been removed from the “<span class="quote">With
        Installer</span>” distribution before).
      </p></li><li><p>
        The behavior of the <code class="literal">Last_query_cost</code> system
        variable has been changed. The default value is now 0 (rather
        than -1) and it now has session-level scope (rather than being
        global). See <a href="server-administration.html#server-status-variables" title="5.1.5. Status Variables">Section 5.1.5, “Status Variables”</a>, for
        additional information.
      </p></li><li><p>
        Removed <code class="literal">mysqlshutdown.exe</code> and
        <code class="literal">mysqlwatch.exe</code> from the Windows “<span class="quote">No
        Installer</span>” distribution (they had already been removed
        from the “<span class="quote">With Installer</span>” distribution before).
        Removed those programs from the source distribution.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL would pass an incorrect key length to storage engines for
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>. This could cause spurious
        warnings such as <span class="errortext">InnoDB: Warning: using a
        partial-field key prefix in search</span> to appear in the
        <code class="filename">.err</code> log.
       (<a href="http://bugs.mysql.com/13218" target="_top">Bug#13218</a>, <a href="http://bugs.mysql.com/11039" target="_top">Bug#11039</a>)</p></li><li><p>
        Fixed a portability problem for compiling on Windows with Visual
        Studio 6.
       (<a href="http://bugs.mysql.com/11153" target="_top">Bug#11153</a>)</p></li><li><p>
        Corrected a problem where an incorrect data type was returned in
        the result set metadata when using a prepared <code class="literal">SELECT
        DISTINCT</code> statement to select from a view.
       (<a href="http://bugs.mysql.com/11111" target="_top">Bug#11111</a>)</p></li><li><p>
        Fixed a server crash resulting from an attempt to allocate too
        much memory when <code class="literal">GROUP BY
        <em class="replaceable"><code>blob_col</code></em></code> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> were used.
       (<a href="http://bugs.mysql.com/11088" target="_top">Bug#11088</a>)</p></li><li><p>
        Multiple-row <code class="literal">REPLACE</code> could fail on a
        duplicate-key error when having one
        <code class="literal">AUTO_INCREMENT</code> key and one unique key.
       (<a href="http://bugs.mysql.com/11080" target="_top">Bug#11080</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Fixed a duplicate key error that
        occurred with <code class="literal">REPLACE</code> in a table with an
        <code class="literal">AUTO-INC</code> column.
       (<a href="http://bugs.mysql.com/11005" target="_top">Bug#11005</a>)</p></li><li><p>
        Fixed a failure of <code class="literal">WITH ROLLUP</code> to sum values
        properly.
       (<a href="http://bugs.mysql.com/10982" target="_top">Bug#10982</a>)</p></li><li><p>
        <span class="bold"><strong>Security update</strong></span>: A user with
        limited privileges could obtain information about the privileges
        of other users by querying objects in the
        <code class="literal">INFORMATION_SCHEMA</code> database for which that
        user did not have the requisite privileges.
       (<a href="http://bugs.mysql.com/10964" target="_top">Bug#10964</a>)</p></li><li><p>
        The value returned by the
        <a href="functions.html#function_field"><code class="literal">FIELD()</code></a> function was incorrect
        when its parameter list contained one or more instances of
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/10944" target="_top">Bug#10944</a>)</p></li><li><p>
        Failure of a <code class="literal">BEFORE</code> trigger did not prevent
        the triggering statement from performing its operation on the
        row for which the trigger error occurred. Now the triggering
        statement fails as described in
        <a href="triggers.html#using-triggers" title="19.3. Using Triggers">Section 19.3, “Using Triggers”</a>.
       (<a href="http://bugs.mysql.com/10902" target="_top">Bug#10902</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine properly handled
        outer joins, but not inner joins.
       (<a href="http://bugs.mysql.com/10848" target="_top">Bug#10848</a>)</p></li><li><p>
        Executing <code class="literal">LOAD INDEX INTO CACHE</code> for a table
        while other threads where selecting from the table caused a
        deadlock.
       (<a href="http://bugs.mysql.com/10602" target="_top">Bug#10602</a>)</p></li><li><p>
        The <a href="functions.html#function_time-format"><code class="literal">TIME_FORMAT()</code></a> function
        returned incorrect results with some format specifiers. See
        <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/10590" target="_top">Bug#10590</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> failed to return
        <code class="literal">NULL</code> when supplied with an invalid argument.
        See <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.
       (<a href="http://bugs.mysql.com/10568" target="_top">Bug#10568</a>)</p></li><li><p>
        A problem with the <code class="filename">my_global.h</code> file caused
        compilation of MySQL to fail on single-processor Linux systems
        running 2.6 kernels.
       (<a href="http://bugs.mysql.com/10364" target="_top">Bug#10364</a>)</p></li><li><p>
        Corrected inappropriate error messages that were displayed when
        attempting to set the read-only <code class="literal">warning_count</code>
        and <code class="literal">error_count</code> system variables.
       (<a href="http://bugs.mysql.com/10339" target="_top">Bug#10339</a>)</p></li><li><p>
        Fixed bug in the MySQL Instance manager that caused the version
        to always be <code class="literal">unknown</code> when <code class="literal">SHOW
        INSTANCE STATUS</code> was issued.
       (<a href="http://bugs.mysql.com/10229" target="_top">Bug#10229</a>)</p></li><li><p>
        Fixed a server crash resulting from <code class="literal">CREATE TABLE ...
        SELECT</code> that selected from a table being altered by
        <code class="literal">ALTER TABLE</code>.
       (<a href="http://bugs.mysql.com/10224" target="_top">Bug#10224</a>)</p></li><li><p>
        Fixed a server crash resulting from invalid string pointer when
        inserting into the <code class="literal">mysql.host</code> table.
       (<a href="http://bugs.mysql.com/10181" target="_top">Bug#10181</a>)</p></li><li><p>
        Consistently report <code class="literal">INFORMATION_SCHEMA</code> table
        names in uppercase in <code class="literal">SHOW TABLE STATUS</code>
        output.
       (<a href="http://bugs.mysql.com/10059" target="_top">Bug#10059</a>)</p></li><li><p>
        Fixed a server crash resulting from accessing
        <code class="literal">InnoDB</code> tables within stored functions. This
        is handled by prohibiting statements that do an implicit or
        explicit commit or rollback within stored functions or triggers.
       (<a href="http://bugs.mysql.com/10015" target="_top">Bug#10015</a>)</p></li><li><p>
        Issuing a write lock for a table from one client prevented other
        clients from accessing the table's metadata. For example, if one
        client issued a <code class="literal">LOCK TABLES
        <em class="replaceable"><code>mydb</code></em>.<em class="replaceable"><code>mytable</code></em>
        WRITE</code>, then a second client attempting to execute a
        <code class="literal">USE <em class="replaceable"><code>mydb</code></em>;</code> would
        hang.
       (<a href="http://bugs.mysql.com/9998" target="_top">Bug#9998</a>)</p></li><li><p>
        Dropping stored routines when the MySQL server had been started
        with <code class="option">--skip-grant-tables</code> generated extraneous
        warnings.
       (<a href="http://bugs.mysql.com/9993" target="_top">Bug#9993</a>)</p></li><li><p>
        The <a href="apis.html#mysql-next-result" title="23.2.3.46. mysql_next_result()"><code class="literal">mysql_next_result()</code></a>
        function could hang if you were executing many statements in a
        <a href="apis.html#mysql-real-query" title="23.2.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> call and one
        of those statements raised an error.
       (<a href="http://bugs.mysql.com/9992" target="_top">Bug#9992</a>)</p></li><li><p>
        The functions <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>, and
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> performed incorrect
        conversions of their arguments.
       (<a href="http://bugs.mysql.com/9939" target="_top">Bug#9939</a>)</p></li><li><p>
        Fixed a problem with returning an incorrect result from a view
        that selected a <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>
        expression from the result of an outer join.
       (<a href="http://bugs.mysql.com/9938" target="_top">Bug#9938</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Do very fast shutdown only if
        <code class="literal">innodb_fast_shutdown=2</code>, but wait for threads
        to exit and release allocated memory if
        <code class="literal">innodb_fast_shutdown=1</code>. Starting with
        MySQL/InnoDB 5.0.5, <code class="literal">InnoDB</code> would do brutal
        shutdown also when <code class="literal">innodb_fast_shutdown=1</code>.
       (<a href="http://bugs.mysql.com/9673" target="_top">Bug#9673</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> to sort the results of an
        <a href="functions.html#function_if"><code class="literal">IF()</code></a> that contained a
        <a href="functions.html#function_from-unixtime"><code class="literal">FROM_UNIXTIME()</code></a> expression
        returned incorrect results due to integer overflow.
       (<a href="http://bugs.mysql.com/9669" target="_top">Bug#9669</a>)</p></li><li><p>
        On Windows, with <code class="literal">lower_case_table_names</code> set
        to 2, using <code class="literal">ALTER TABLE</code> to alter a
        <code class="literal">MEMORY</code> or <code class="literal">InnoDB</code> table
        that had a mixed-case name also improperly changed the name to
        lowercase.
       (<a href="http://bugs.mysql.com/9660" target="_top">Bug#9660</a>)</p></li><li><p>
        The combination of <a href="functions.html#function_count"><code class="literal">COUNT()</code></a>,
        <code class="literal">DISTINCT</code>, and
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> sometimes triggered a
        memory deallocation bug on Windows resulting in a server crash.
       (<a href="http://bugs.mysql.com/9593" target="_top">Bug#9593</a>)</p></li><li><p>
        <code class="literal">INSERT BEFORE</code> triggers were not being
        activated for implicit inserts (<code class="literal">LOAD DATA</code>).
       (<a href="http://bugs.mysql.com/8755" target="_top">Bug#8755</a>)</p></li><li><p>
        The ucs2_turkish_ci collation failed with upper('i').
        UPPER/LOWER now can return a string with different length.
       (<a href="http://bugs.mysql.com/8610" target="_top">Bug#8610</a>)</p></li><li><p>
        The server timed out SSL connections too quickly on Windows.
       (<a href="http://bugs.mysql.com/8572" target="_top">Bug#8572</a>)</p></li><li><p>
        If a stored function contained a <code class="literal">FLUSH</code>
        statement, the function crashed when invoked.
        <code class="literal">FLUSH</code> now is disallowed within stored
        functions.
       (<a href="http://bugs.mysql.com/8409" target="_top">Bug#8409</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE</code> run on an <code class="literal">InnoDB</code>
        table did not return a <span class="errortext">Table is full</span>
        error if there was insufficient room in the tablespace.
       (<a href="http://bugs.mysql.com/8135" target="_top">Bug#8135</a>)</p></li><li><p>
        Fixed a problem causing an incorrect result for columns that
        include an aggregate function as part of an expression when
        <code class="literal">WITH ROLLUP</code> is added to <code class="literal">GROUP
        BY</code>.
       (<a href="http://bugs.mysql.com/7914" target="_top">Bug#7914</a>)</p></li><li><p>
        Queries with <code class="literal">ROLLUP</code> returned wrong results
        for expressions containing<code class="literal">GROUP BY</code> columns.
       (<a href="http://bugs.mysql.com/7894" target="_top">Bug#7894</a>)</p></li><li><p>
        Fixed a server crash resulting from the second invocation of a
        stored procedure that selected from a view defined as a join
        that used <code class="literal">ON</code> in the join conditions.
       (<a href="http://bugs.mysql.com/6866" target="_top">Bug#6866</a>)</p></li><li><p>
        <code class="literal">INSERT BEFORE</code> triggers were not being
        activated for <code class="literal">INSERT ... SELECT</code> statements.
       (<a href="http://bugs.mysql.com/6812" target="_top">Bug#6812</a>)</p></li><li><p>
        Fixed a server crash for <code class="literal">INSERT</code> or
        <code class="literal">UPDATE</code> when the <code class="literal">WHERE</code>
        clause contained a correlated subquery that referred to a column
        of the table being modified.
       (<a href="http://bugs.mysql.com/6384" target="_top">Bug#6384</a>)</p></li><li><p>
        MySQL was adding a <code class="literal">DEFAULT</code> clause to
        <code class="literal">ENUM</code> columns that included no explicit
        <code class="literal">DEFAULT</code> and were defined as <code class="literal">NOT
        NULL</code>. (This is supposed to happen only for columns
        that are <code class="literal">NULL</code>.)
       (<a href="http://bugs.mysql.com/6267" target="_top">Bug#6267</a>)</p></li><li><p>
        Using <code class="literal">ALTER TABLE</code> for a table that had a
        trigger caused a crash when executing a statement that activated
        the trigger, and also a crash later with <code class="literal">USE
        <em class="replaceable"><code>db_name</code></em></code> for the database
        containing the table.
       (<a href="http://bugs.mysql.com/5894" target="_top">Bug#5894</a>)</p></li><li><p>
        Triggers with dropped functions caused crashes.
       (<a href="http://bugs.mysql.com/5893" target="_top">Bug#5893</a>)</p></li><li><p>
        Triggers were not being activated for multiple-table
        <code class="literal">UPDATE</code> or <code class="literal">DELETE</code>
        statements.
       (<a href="http://bugs.mysql.com/5860" target="_top">Bug#5860</a>)</p></li><li><p>
        The incorrect sequence of statements <code class="literal">HANDLER
        <em class="replaceable"><code>tbl_name</code></em> READ
        <em class="replaceable"><code>index_name</code></em> NEXT</code> without a
        preceding <code class="literal">HANDLER <em class="replaceable"><code>tbl_name</code></em>
        READ <em class="replaceable"><code>index_name</code></em> =
        (<em class="replaceable"><code>value_list</code></em>)</code> for an
        <code class="literal">InnoDB</code> table resulted in a server crash
        rather than an error.
       (<a href="http://bugs.mysql.com/5373" target="_top">Bug#5373</a>)</p></li><li><p>
        Multiple-table <code class="literal">DELETE</code> did always delete on
        the fly from the first table that was to be deleted from. In
        some cases, when using many tables and it was necessary to
        access the same row twice in the first table, we could miss some
        rows-to-be-deleted from other tables. This is now fixed.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-6"></a>E.1.24. Changes in  MySQL 5.0.6 (26 May 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The behavior of <code class="literal">LOAD DATA INFILE</code> and
        <code class="literal">SELECT ... INTO OUTFILE</code> has changed when the
        <code class="literal">FIELDS TERMINATED BY</code> and <code class="literal">FIELDS
        ENCLOSED BY</code> values both are empty. Formerly, a column
        was read or written the display width of the column. For
        example, <code class="literal">INT(4)</code> was read or written using a
        field with a width of 4. Now columns are read and written using
        a field width wide enough to hold all values in the field.
        However, data files written before this change was made might
        not be reloaded correctly with <code class="literal">LOAD DATA
        INFILE</code> for MySQL 4.1.12 and up. This change also
        affects data files read by <span><strong class="command">mysqlimport</strong></span> and
        written by <span><strong class="command">mysqldump --tab</strong></span>, which use
        <code class="literal">LOAD DATA INFILE</code> and <code class="literal">SELECT ... INTO
        OUTFILE</code>. For more information, see
        <a href="sql-syntax.html#load-data" title="12.2.5. LOAD DATA INFILE Syntax">Section 12.2.5, “<code class="literal">LOAD DATA INFILE</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/12564" target="_top">Bug#12564</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">MyISAM</code> and <code class="literal">InnoDB</code> tables
        created with <code class="literal">DECIMAL</code> columns in MySQL 5.0.3
        to 5.0.5 will appear corrupt after an upgrade to MySQL 5.0.6.
        Dump such tables with <span><strong class="command">mysqldump</strong></span> before
        upgrading, and then reload them after upgrading. (The same
        incompatibility will occur for these tables created in MySQL
        5.0.6 after a downgrade to MySQL 5.0.3 to 5.0.5.)
       (<a href="http://bugs.mysql.com/10465" target="_top">Bug#10465</a>, <a href="http://bugs.mysql.com/10625" target="_top">Bug#10625</a>)</p></li><li><p>
        When the server cannot read a table because it cannot read the
        <code class="filename">.frm</code> file, print a message that the table
        was created with a different version of MySQL. (This can happen
        if you create tables that use new features and then downgrade to
        an older version of MySQL.)
       (<a href="http://bugs.mysql.com/10435" target="_top">Bug#10435</a>)</p></li><li><p>
        The <code class="literal">GRANT</code> and <code class="literal">REVOKE</code>
        statements now support an <em class="replaceable"><code>object_type</code></em>
        clause to be used for disambiguating whether the grant object is
        a table, a stored function, or a stored procedure. Use of this
        clause requires that you upgrade your grant tables. See
        <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
       (<a href="http://bugs.mysql.com/10246" target="_top">Bug#10246</a>)</p></li><li><p>
        Added <code class="literal">REFERENCED_TABLE_SCHEMA</code>,
        <code class="literal">REFERENCED_TABLE_NAME</code>, and
        <code class="literal">REFERENCED_COLUMN_NAME</code> columns to the
        <code class="literal">KEY_COLUMN_USAGE</code> table of
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/9587" target="_top">Bug#9587</a>)</p></li><li><p>
        The use of <code class="literal">SESSION</code> or
        <code class="literal">GLOBAL</code> for user variables, or for local
        variables in stored routines, is now disallowed.
       (<a href="http://bugs.mysql.com/9286" target="_top">Bug#9286</a>)</p></li><li><p>
        New <code class="literal">/*&gt;</code> prompt for
        <span><strong class="command">mysql</strong></span>. This prompt indicates that a
        <code class="literal">/* ... */</code> comment was begun on an earlier
        line and the closing <code class="literal">*/</code> sequence has not yet
        been seen.
       (<a href="http://bugs.mysql.com/9186" target="_top">Bug#9186</a>)</p></li><li><p>
        The <code class="literal">INFORMATION_SCHEMA.SCHEMATA</code> table now has
        a <code class="literal">DEFAULT_COLLATION_NAME</code> column.
       (<a href="http://bugs.mysql.com/8998" target="_top">Bug#8998</a>)</p></li><li><p>
        Added a <code class="option">--show-warnings</code> option to
        <span><strong class="command">mysql</strong></span> to cause warnings to be shown after
        each statement if there are any. This option applies to
        interactive and batch mode. In interactive mode,
        <code class="literal">\w</code> and <code class="literal">\W</code> may be used to
        enable and disable warning display.
       (<a href="http://bugs.mysql.com/8684" target="_top">Bug#8684</a>)</p></li><li><p>
        If strict SQL mode is enabled, <code class="literal">VARCHAR</code> and
        <code class="literal">VARBINARY</code> columns with a length greater than
        65,535 no longer are silently converted to
        <code class="literal">TEXT</code> or <code class="literal">BLOB</code> columns.
        Instead, an error occurs.
       (<a href="http://bugs.mysql.com/8295" target="_top">Bug#8295</a>, <a href="http://bugs.mysql.com/8296" target="_top">Bug#8296</a>)</p></li><li><p>
        Removed a limitation that prevented use of FIFOs as logging
        targets (such as for the general query log). This modification
        <span class="emphasis"><em>does not apply</em></span> to the binary log and the
        relay log.
       (<a href="http://bugs.mysql.com/8271" target="_top">Bug#8271</a>)</p></li><li><p>
        <code class="literal">SHOW VARIABLES</code> now shows the
        <code class="literal">slave_compressed_protocol</code>,
        <code class="literal">slave_load_tmpdir</code> and
        <code class="literal">slave_skip_errors</code> system variables.
       (<a href="http://bugs.mysql.com/7800" target="_top">Bug#7800</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When the maximum length of
        <code class="literal">SHOW INNODB STATUS</code> output would be exceeded,
        truncate the beginning of the list of active transactions,
        instead of truncating the end of the output.
       (<a href="http://bugs.mysql.com/5436" target="_top">Bug#5436</a>)</p></li><li><p>
        Updated version of <code class="literal">libedit</code> to 2.9.
       (<a href="http://bugs.mysql.com/2596" target="_top">Bug#2596</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: If
        <code class="literal">innodb_locks_unsafe_for_binlog</code> option is set
        and the isolation level of the transaction is not set to
        serializable then <code class="literal">InnoDB</code> uses a consistent
        read for select in clauses like <code class="literal">INSERT INTO ...
        SELECT</code> and <code class="literal">UPDATE ... (SELECT)</code> that
        do not specify <code class="literal">FOR UPDATE</code> or <code class="literal">IN
        SHARE MODE</code>. Thus no locks are set to rows read from
        selected table.
      </p></li><li><p>
        Added the <code class="literal">div_precision_increment</code> system
        variable, which indicates the number of digits by which to
        increase the scale of the result of division operations
        performed with the <code class="literal">/</code> operator.
      </p></li><li><p>
        Removed <code class="literal">mysqlshutdown.exe</code> and
        <code class="literal">mysqlwatch.exe</code> from the Windows “<span class="quote">With
        Installer</span>” distribution.
      </p></li><li><p>
        The precision of the <code class="literal">DECIMAL</code> data type has
        been increased from 64 to 65 decimal digits.
      </p></li><li><p>
        Added the <code class="option">--log-bin-trust-routine-creators</code>
        server option for setting the
        <code class="literal">log_bin_trust_routine_creators</code> system
        variable from the command line.
      </p></li><li><p>
        Implemented the <code class="literal">STMT_ATTR_PREFETCH_ROWS</code>
        option for the
        <a href="apis.html#mysql-stmt-attr-set" title="23.2.7.3. mysql_stmt_attr_set()"><code class="literal">mysql_stmt_attr_set()</code></a> C API
        function. This sets how many rows to fetch at a time when using
        cursors with prepared statements.
      </p></li><li><p>
        Added the <code class="literal">log_bin_trust_routine_creators</code>
        system variable, which applies when binary logging is enabled.
        It controls whether stored routine creators can be trusted not
        to create stored routines that will cause unsafe events to be
        written to the binary log.
      </p></li><li><p>
        Removed unused system variable
        <code class="literal">myisam_max_extra_sort_file_size</code>.
      </p></li><li><p>
        Changed default value of
        <code class="literal">myisam_data_pointer_size</code> from 4 to 6. This
        allows us to avoid <code class="literal">table is full</code> errors for
        most cases.
      </p></li><li><p>
        Added a <code class="option">--debug</code> option to
        <span><strong class="command">my_print_defaults</strong></span>.
      </p></li><li><p>
        The variable <code class="literal">concurrent_insert</code> now takes 3
        values. Setting this to 2 changes <code class="literal">MyISAM</code> to
        do concurrent inserts to end of table if table is in use by
        another thread.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <span><strong class="command">mysql_install_db</strong></span> created the
        <code class="filename">mysql_install_db.X</code> file with a predictable
        filename and insecure permissions, which allowed local users to
        execute arbitrary SQL statements by modifying the file's
        contents.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-1636" target="_top">CVE-2005-1636</a>)</p></li><li><p>
        <code class="literal">MERGE</code> tables could fail on Windows due to
        incorrect interpretation of pathname separator characters for
        filenames in the <code class="filename">.MRG</code> file.
       (<a href="http://bugs.mysql.com/10687" target="_top">Bug#10687</a>)</p></li><li><p>
        Fixed a server crash resulting from repeated calls to
        <a href="functions.html#function_abs"><code class="literal">ABS()</code></a> when the argument
        evaluated to <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/10599" target="_top">Bug#10599</a>)</p></li><li><p>
        Statements that create and drop triggers were not being written
        to the binary log, which affects replication and data recovery
        options. Trigger-related statements now are logged, subject to
        the issues and limitations discussed in
        <a href="stored-procedures.html#stored-procedure-logging" title="18.5. Binary Logging of Stored Routines and Triggers">Section 18.5, “Binary Logging of Stored Routines and Triggers”</a>.
       (<a href="http://bugs.mysql.com/10417" target="_top">Bug#10417</a>)</p></li><li><p>
        <code class="literal">SELECT 0/0</code> returned <code class="literal">0</code>
        rather than <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/10404" target="_top">Bug#10404</a>)</p></li><li><p>
        Fixed a server crash for <code class="literal">INSERT ... ON DUPLICATE KEY
        UPDATE</code> with <code class="literal">MERGE</code> tables, which do
        not have unique indexes.
       (<a href="http://bugs.mysql.com/10400" target="_top">Bug#10400</a>)</p></li><li><p>
        <code class="literal">AUTO_INCREMENT</code> in <code class="literal">InnoDB</code>
        tables could assign the same value for several rows.
       (<a href="http://bugs.mysql.com/10359" target="_top">Bug#10359</a>)</p></li><li><p>
        Fixed a <span><strong class="command">mysqldump</strong></span> crash that occurred with
        the <code class="option">--complete-insert</code> option when dumping
        tables with a large number of long column names.
       (<a href="http://bugs.mysql.com/10286" target="_top">Bug#10286</a>)</p></li><li><p>
        Incomplete results were returned from
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> for
        <code class="literal">INFORMATION_SCHEMA</code> tables for
        non-<code class="literal">root</code> users.
       (<a href="http://bugs.mysql.com/10261" target="_top">Bug#10261</a>)</p></li><li><p>
        Fixed a portability problem in compiling
        <code class="filename">mysql.cc</code> with <span><strong class="command">VC++</strong></span> on
        Windows.
       (<a href="http://bugs.mysql.com/10245" target="_top">Bug#10245</a>)</p></li><li><p>
        Using <code class="literal">#pragma interface</code> or <code class="literal">#pragma
        implementation</code> in source files caused portability
        issues for <code class="literal">cygwin</code>.
       (<a href="http://bugs.mysql.com/10241" target="_top">Bug#10241</a>)</p></li><li><p>
        Corrected a problem where <code class="literal">DEFAULT</code> values were
        not assigned properly to <code class="literal">BIT(1)</code> or
        <code class="literal">CHAR(1)</code> columns if certain other columns
        preceded them in the table definition.
       (<a href="http://bugs.mysql.com/10179" target="_top">Bug#10179</a>)</p></li><li><p>
        Fixed a server crash in the <code class="literal">BLACKHOLE</code> storage
        engine.
       (<a href="http://bugs.mysql.com/10175" target="_top">Bug#10175</a>)</p></li><li><p>
        The optimizer was choosing suboptimal execution plans for
        certain outer joins where the right table of a left join (or
        left table of a right join) had both <code class="literal">ON</code> and
        <code class="literal">WHERE</code> conditions.
       (<a href="http://bugs.mysql.com/10162" target="_top">Bug#10162</a>)</p></li><li><p>
        Corrected a problem resolving outer column references in
        correlated subqueries when using the prepared statements.
       (<a href="http://bugs.mysql.com/10041" target="_top">Bug#10041</a>)</p></li><li><p>
        Fixed a problem with <code class="literal">INFORMATION_SCHEMA</code>
        tables being inaccessible depending on lettercase used to refer
        to them.
       (<a href="http://bugs.mysql.com/10018" target="_top">Bug#10018</a>)</p></li><li><p>
        Fixed some <span><strong class="command">awk</strong></span> script portability problems in
        <span><strong class="command">cmd-line-utils/libedit/makelist.sh</strong></span>.
       (<a href="http://bugs.mysql.com/9954" target="_top">Bug#9954</a>)</p></li><li><p>
        The error message for exceeding
        <code class="literal">MAX_CONNECTIONS_PER_HOUR</code> mistakenly referred
        to <code class="literal">max_connections</code>.
       (<a href="http://bugs.mysql.com/9947" target="_top">Bug#9947</a>)</p></li><li><p>
        <code class="literal">RENAME TABLE</code> for an
        <code class="literal">ARCHIVE</code> table failed if the
        <code class="filename">.arn</code> file was not present.
       (<a href="http://bugs.mysql.com/9911" target="_top">Bug#9911</a>)</p></li><li><p>
        Fixed a server crash resulting from a <code class="literal">CHECK
        TABLE</code> statement where the arguments were a view name
        followed by a table name.
       (<a href="http://bugs.mysql.com/9897" target="_top">Bug#9897</a>)</p></li><li><p>
        <span><strong class="command">my_print_defaults</strong></span> was ignoring the
        <code class="option">--defaults-extra-file</code> option or crashing when
        the option was given.
       (<a href="http://bugs.mysql.com/9851" target="_top">Bug#9851</a>, <a href="http://bugs.mysql.com/9136" target="_top">Bug#9136</a>)</p></li><li><p>
        Within a stored procedure, attempting to update a view defined
        as an inner join failed with a <code class="literal">Table
        '<em class="replaceable"><code>tbl_name</code></em>' was locked with a READ
        lock and can't be updated</code> error.
       (<a href="http://bugs.mysql.com/9841" target="_top">Bug#9841</a>)</p></li><li><p>
        The <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table was
        missing columns of views for which the user has access.
       (<a href="http://bugs.mysql.com/9838" target="_top">Bug#9838</a>)</p></li><li><p>
        Fixed a server crash resulting from use of a
        <code class="literal">CHAR</code> or <code class="literal">VARCHAR</code> column
        with <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> and <code class="literal">GROUP BY ...
        WITH ROLLUP</code>.
       (<a href="http://bugs.mysql.com/9820" target="_top">Bug#9820</a>)</p></li><li><p>
        Fixed a server crash resulting from use of <code class="literal">DISTINCT
        AVG()</code> with <code class="literal">GROUP BY ... WITH
        ROLLUP</code>.
       (<a href="http://bugs.mysql.com/9800" target="_top">Bug#9800</a>)</p></li><li><p>
        Fixed a server crash resulting from use of
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a> with
        <code class="literal">GROUP BY ... WITH ROLLUP</code>.
       (<a href="http://bugs.mysql.com/9799" target="_top">Bug#9799</a>)</p></li><li><p>
        Fixed a server crash when using <code class="literal">GROUP BY ... WITH
        ROLLUP</code> on an indexed column in an
        <code class="literal">InnoDB</code> table.
       (<a href="http://bugs.mysql.com/9798" target="_top">Bug#9798</a>)</p></li><li><p>
        Corrected some failures of prepared statements for SQL
        (<code class="literal">PREPARE</code> plus <code class="literal">EXECUTE</code>) to
        return all rows for some <code class="literal">SELECT</code> statements.
       (<a href="http://bugs.mysql.com/9777" target="_top">Bug#9777</a>, <a href="http://bugs.mysql.com/9096" target="_top">Bug#9096</a>)</p></li><li><p>
        Fix <code class="literal">CREATE TABLE ... LIKE</code> to work when
        <code class="literal">lower_case_table_names</code> is set on a
        case-sensitive filesystem and the source table name is not given
        in lowercase.
       (<a href="http://bugs.mysql.com/9761" target="_top">Bug#9761</a>)</p></li><li><p>
        Corrected an inability to select from a view within a stored
        procedure.
       (<a href="http://bugs.mysql.com/9758" target="_top">Bug#9758</a>)</p></li><li><p>
        <code class="literal">net_read_timeout</code> and
        <code class="literal">net_write_timeout</code> were not being respected on
        Windows.
       (<a href="http://bugs.mysql.com/9721" target="_top">Bug#9721</a>)</p></li><li><p>
        Fixed problems with static variables and do not link with
        <code class="literal">libsupc++</code> to allow building on FreeBSD 5.3.
       (<a href="http://bugs.mysql.com/9714" target="_top">Bug#9714</a>)</p></li><li><p>
        The <a href="apis.html#mysql-stmt-attr-set" title="23.2.7.3. mysql_stmt_attr_set()"><code class="literal">mysql_stmt_attr_set()</code></a> C API
        function now returns an error for option values that are defined
        in <code class="filename">mysql.h</code> but not yet implemented, such as
        <code class="literal">CURSOR_TYPE_SCROLLABLE</code>.
       (<a href="http://bugs.mysql.com/9643" target="_top">Bug#9643</a>)</p></li><li><p>
        Fixed incorrect memory block allocation for the query cache in
        the embedded server.
       (<a href="http://bugs.mysql.com/9549" target="_top">Bug#9549</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE t AS SELECT UUID()</code> created a
        <code class="literal">VARCHAR(12)</code> column, which is too small to
        hold the 36-character result from
        <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a>.
       (<a href="http://bugs.mysql.com/9535" target="_top">Bug#9535</a>)</p></li><li><p>
        Fixed a server crash resulting from use of <code class="literal">SELECT
        DISTINCT</code> with a prepared statement that uses a cursor.
       (<a href="http://bugs.mysql.com/9520" target="_top">Bug#9520</a>)</p></li><li><p>
        Fixed a problem with mishandling of <code class="literal">NULL</code> key
        parts in hash indexes on <code class="literal">VARCHAR</code> columns,
        resulting in incorrect query results.
       (<a href="http://bugs.mysql.com/9489" target="_top">Bug#9489</a>, <a href="http://bugs.mysql.com/10176" target="_top">Bug#10176</a>)</p></li><li><p>
        The <a href="apis.html#mysql-stmt-execute" title="23.2.7.10. mysql_stmt_execute()"><code class="literal">mysql_stmt_execute()</code></a> and
        <a href="apis.html#mysql-stmt-reset" title="23.2.7.21. mysql_stmt_reset()"><code class="literal">mysql_stmt_reset()</code></a> C API
        functions now close any cursor that is open for the statement,
        which prevents a server crash.
       (<a href="http://bugs.mysql.com/9478" target="_top">Bug#9478</a>)</p></li><li><p>
        <code class="literal">SELECT</code> from
        <code class="literal">INFORMATION_SCHEMA</code> tables failed if the
        statement has a <code class="literal">GROUP BY</code> clause and an
        aggregate function in the select list.
       (<a href="http://bugs.mysql.com/9404" target="_top">Bug#9404</a>)</p></li><li><p>
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> for an <code class="literal">INT
        UNSIGNED</code> (unsigned 4-byte integer) column could return
        negative values if the column contained values larger than
        2<sup>31</sup>.
       (<a href="http://bugs.mysql.com/9298" target="_top">Bug#9298</a>)</p></li><li><p>
        Disabled binary logging within stored routines to avoid writing
        spurious extra statements to the binary log. For example, if a
        routine <code class="literal">p()</code> executes an
        <code class="literal">INSERT</code> statement, then for <code class="literal">CALL
        p()</code>, the <code class="literal">CALL</code> statement appears in
        the binary log, but not the <code class="literal">INSERT</code> statement.
       (<a href="http://bugs.mysql.com/9100" target="_top">Bug#9100</a>)</p></li><li><p>
        Fix <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a> to do better
        rounding for double values (for example,
        <a href="functions.html#function_format"><code class="literal">FORMAT(4.55,1)</code></a> returns
        <code class="literal">4.6</code>, not <code class="literal">4.5</code>).
       (<a href="http://bugs.mysql.com/9060" target="_top">Bug#9060</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE VIEW</code> got confused and could not
        find the view if there was a temporary table with the same name
        as the view.
       (<a href="http://bugs.mysql.com/8921" target="_top">Bug#8921</a>)</p></li><li><p>
        Selecting from a single-table view defined on multiple-table
        views caused a server crash.
       (<a href="http://bugs.mysql.com/8528" target="_top">Bug#8528</a>)</p></li><li><p>
        Remove extra slashes in <code class="option">--tmpdir</code> value (for
        example, convert <code class="filename">/var//tmp</code> to
        <code class="filename">/var/tmp</code>, because they caused various
        errors.
       (<a href="http://bugs.mysql.com/8497" target="_top">Bug#8497</a>)</p></li><li><p>
        Invoking a stored function that executed a
        <code class="literal">SHOW</code> statement resulted in a server crash.
       (<a href="http://bugs.mysql.com/8408" target="_top">Bug#8408</a>)</p></li><li><p>
        An error in the implementation of the <code class="literal">MyISAM</code>
        compression algorithm caused <code class="literal">myisampack</code> to
        fail with very large sets of data (total size of all the records
        in a single column needed to be at least 3 GB in order to
        trigger this issue).
       (<a href="http://bugs.mysql.com/8321" target="_top">Bug#8321</a>)</p></li><li><p>
        Added <code class="literal">Create_routine_priv</code>,
        <code class="literal">Alter_routine_priv</code>, and
        <code class="literal">Execute_priv</code> privileges to the
        <code class="literal">mysql.host</code> privilege table. (They had been
        added to <code class="literal">mysql.db</code> in MySQL 5.0.3 but not to
        the <code class="literal">host</code> table.)
       (<a href="http://bugs.mysql.com/8166" target="_top">Bug#8166</a>)</p></li><li><p>
        Fixed a deadlock resulting from use of <code class="literal">FLUSH TABLES
        WITH READ LOCK</code> while an <code class="literal">INSERT
        DELAYED</code> statement is in progress.
       (<a href="http://bugs.mysql.com/7823" target="_top">Bug#7823</a>)</p></li><li><p>
        In strict SQL mode, some assignments to numeric columns that
        should have been rejected were not (such as the result of an
        arithmetic expression or an explicit
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> operation).
       (<a href="http://bugs.mysql.com/6961" target="_top">Bug#6961</a>)</p></li><li><p>
        For <code class="literal">MERGE</code> tables, avoid writing absolute
        pathnames in the <code class="filename">.MRG</code> file for the names of
        the constituent <code class="literal">MyISAM</code> tables so that if the
        data directory is moved, <code class="literal">MERGE</code> tables will
        not break. For <span><strong class="command">mysqld</strong></span>, write just the
        <code class="literal">MyISAM</code> table name if it is in the same
        database as the <code class="literal">MERGE</code> table, and a path
        relative to the data directory otherwise. For the embedded
        servers, absolute pathnames may still be used.
       (<a href="http://bugs.mysql.com/5964" target="_top">Bug#5964</a>)</p></li><li><p>
        Fixed server crash resulting from multiple calls to a stored
        procedure that assigned the result of a subquery to a variable
        or compared it to a value with <code class="literal">IN</code>.
       (<a href="http://bugs.mysql.com/5963" target="_top">Bug#5963</a>)</p></li><li><p>
        If the file named by a <code class="option">--defaults-extra-file</code>
        option does not exist or is otherwise inaccessible, an error now
        occurs.
       (<a href="http://bugs.mysql.com/5056" target="_top">Bug#5056</a>)</p></li><li><p>
        Statements that create and use stored routines were not being
        written to the binary log, which affects replication and data
        recovery options. Stored routine-related statements now are
        logged, subject to the issues and limitations discussed in
        <a href="stored-procedures.html#stored-procedure-logging" title="18.5. Binary Logging of Stored Routines and Triggers">Section 18.5, “Binary Logging of Stored Routines and Triggers”</a>.
       (<a href="http://bugs.mysql.com/2610" target="_top">Bug#2610</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not properly recognize whether
        NPTL was available on Linux.
       (<a href="http://bugs.mysql.com/2173" target="_top">Bug#2173</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-5"></a>E.1.25. Changes in  MySQL 5.0.5 (Not released)</h3></div></div></div><p>
        No public release of MySQL 5.0.5 was made. The changes described
        in this section are available in MySQL 5.0.6.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        More informative error messages are provided when a query is
        issued against an <code class="literal">NDB</code> table that has been
        modified by another <span><strong class="command">mysqld</strong></span> server.
       (<a href="http://bugs.mysql.com/6762" target="_top">Bug#6762</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: When
        <code class="literal">FOREIGN_KEY_CHECKS=0</code>, <code class="literal">ALTER
        TABLE</code> and <code class="literal">RENAME TABLE</code> will ignore
        any type incompatibilities between referencing and referenced
        columns. Thus, it will be possible to convert the character sets
        of columns that participate in a foreign key. Be sure to convert
        all tables before modifying any data!
       (<a href="http://bugs.mysql.com/9802" target="_top">Bug#9802</a>)</p></li><li><p>
        <code class="literal">SHOW VARIABLES</code> no longer displays the
        deprecated <code class="literal">log_update</code> system variable.
       (<a href="http://bugs.mysql.com/9738" target="_top">Bug#9738</a>)</p></li><li><p>
        Added support for the <code class="literal">BIT</code> data type to the
        <code class="literal">MEMORY</code>, <code class="literal">InnoDB</code>, and
        <code class="literal">BDB</code> storage engines.
      </p></li><li><p>
        The behavior controlled by the
        <code class="option">--innodb-fast-shutdown</code> option now can be
        changed at runtime by setting the value of the global
        <code class="literal">innodb_fast_shutdown</code> system variable. It now
        accepts values 0, 1 and 2 (except on Netware where 2 is
        disabled). If set to 2, then when the MySQL server shuts down,
        <code class="literal">InnoDB</code> will just flush its logs and shut down
        brutally (and quickly) as if a MySQL crash had occurred; no
        committed transaction will be lost, but a crash recovery will be
        done at next startup.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed a memory leak that occurred when selecting from a view
        that contained a subquery.
       (<a href="http://bugs.mysql.com/10107" target="_top">Bug#10107</a>)</p></li><li><p>
        Setting the <code class="literal">storage_engine</code> system variable to
        <code class="literal">MEMORY</code> succeeded, but retrieving the variable
        resulted in a value of <code class="literal">HEAP</code> (the old name for
        the <code class="literal">MEMORY</code> storage engine) rather than
        <code class="literal">MEMORY</code>.
       (<a href="http://bugs.mysql.com/10039" target="_top">Bug#10039</a>)</p></li><li><p>
        <span class="bold"><strong>Security fix:</strong></span> If
        <span><strong class="command">mysqld</strong></span> was started with
        <code class="option">--user=<em class="replaceable"><code>non_existent_user</code></em>
        </code>, it would run using the privileges of the account it
        was invoked from, even if that was <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/9833" target="_top">Bug#9833</a>)</p></li><li><p>
        Queries containing
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> incorrectly were
        registered in the query cache.
       (<a href="http://bugs.mysql.com/9796" target="_top">Bug#9796</a>)</p></li><li><p>
        Fixed a server crash resulting from invocation of a stored
        function that returned a value having an <code class="literal">ENUM</code>
        or <code class="literal">SET</code> data type.
       (<a href="http://bugs.mysql.com/9775" target="_top">Bug#9775</a>)</p></li><li><p>
        Fixed a string-length comparison problem that caused
        <span><strong class="command">mysql</strong></span> to fail loading dump files containing
        certain “<span class="quote"> <code class="literal">\</code> </span>”-sequences.
       (<a href="http://bugs.mysql.com/9756" target="_top">Bug#9756</a>)</p></li><li><p>
        Fixed a problem where, after an internal temporary table in
        memory became too large and had to be converted to an on-disk
        table, the error indicator was not cleared and the query failed
        with error 1023 (<code class="literal">Can't find record in ''</code>).
       (<a href="http://bugs.mysql.com/9703" target="_top">Bug#9703</a>)</p></li><li><p>
        Use of a subquery that used <code class="literal">WITH ROLLUP</code> in
        the <code class="literal">FROM</code> clause of the main query sometimes
        resulted in a <code class="literal">Column cannot be null</code> error.
       (<a href="http://bugs.mysql.com/9681" target="_top">Bug#9681</a>)</p></li><li><p>
        Fixed a <code class="literal">readline</code>-related crash in
        <span><strong class="command">mysql</strong></span> when the user pressed Control-R.
       (<a href="http://bugs.mysql.com/9568" target="_top">Bug#9568</a>)</p></li><li><p>
        Executing <code class="literal">LOCK TABLES</code> and then calling a
        stored procedure caused an error and resulting in the server
        thinking that no stored procedures exist.
       (<a href="http://bugs.mysql.com/9566" target="_top">Bug#9566</a>)</p></li><li><p>
        The server died with signal 11 if a non-existent location was
        specified for the location of the binary log. Now the server
        exits after printing an appropriate error message.
       (<a href="http://bugs.mysql.com/9542" target="_top">Bug#9542</a>)</p></li><li><p>
        Incorrect results were returned for queries of the form
        <code class="literal">SELECT ... LEFT JOIN ... WHERE EXISTS
        (<em class="replaceable"><code>subquery</code></em>)</code>, where the
        subquery selected rows based on an <a href="functions.html#operator_is-null"><code class="literal">IS
        NULL</code></a> condition.
       (<a href="http://bugs.mysql.com/9516" target="_top">Bug#9516</a>)</p></li><li><p>
        Fixed a segmentation fault in <span><strong class="command">mysqlcheck</strong></span> that
        occurred when the last table checked in
        <code class="option">--auto-repair</code> mode returned an error (such as
        the table being a <code class="literal">MERGE</code> table).
       (<a href="http://bugs.mysql.com/9492" target="_top">Bug#9492</a>)</p></li><li><p>
        Within a stored procedure, attempting to execute a
        multiple-table <code class="literal">UPDATE</code> failed with a
        <code class="literal">Table '<em class="replaceable"><code>tbl_name</code></em>' was locked
        with a READ lock and can't be updated</code> error.
       (<a href="http://bugs.mysql.com/9486" target="_top">Bug#9486</a>)</p></li><li><p>
        <span><strong class="command">mysqlshow</strong></span> displayed an incorrect row count
        for tables.
       (<a href="http://bugs.mysql.com/9391" target="_top">Bug#9391</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Fixed a bug where next-key locking
        doesn't allow the insert which does not produce a phantom. If
        the range is of type <code class="literal">'a' &lt;= uniquecolumn</code>,
        <code class="literal">InnoDB</code> lock only the RECORD, if the record
        with the column value <code class="literal">'a'</code> exists in a
        CLUSTERED index. This allows inserts before a range.
       (<a href="http://bugs.mysql.com/9354" target="_top">Bug#9354</a>)</p></li><li><p>
        Fixed an optimizer bug in computing the union of two ranges for
        the <code class="literal">OR</code> operator.
       (<a href="http://bugs.mysql.com/9348" target="_top">Bug#9348</a>)</p></li><li><p>
        Corrected a failure to resolve a column reference correctly for
        a <code class="literal">LEFT JOIN</code> that compared a join column to an
        <code class="literal">IN</code> subquery.
       (<a href="http://bugs.mysql.com/9338" target="_top">Bug#9338</a>)</p></li><li><p>
        Fixed a problem with <code class="literal">OPTIMIZE TABLE</code> for
        <code class="literal">InnoDB</code> tables being written twice to the
        binary log.
       (<a href="http://bugs.mysql.com/9149" target="_top">Bug#9149</a>)</p></li><li><p>
        Multiple-table updates could produce spurious data-truncation
        warnings if they used a join across columns that are indexed
        using a column prefix.
       (<a href="http://bugs.mysql.com/9103" target="_top">Bug#9103</a>)</p></li><li><p>
        Fixed a server crash resulting from invocation of a stored
        function that returned a value having a <code class="literal">BLOB</code>
        data type.
       (<a href="http://bugs.mysql.com/9102" target="_top">Bug#9102</a>)</p></li><li><p>
        For stored functions that should return a
        <code class="literal">YEAR</code> value, corrected a failure of the value
        to be in <code class="literal">YEAR</code> format.
       (<a href="http://bugs.mysql.com/8861" target="_top">Bug#8861</a>)</p></li><li><p>
        Selecting from a view containing a subquery caused the server to
        hang.
       (<a href="http://bugs.mysql.com/8490" target="_top">Bug#8490</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> with a negative time
        first argument and positive time second argument produced
        incorrect results.
       (<a href="http://bugs.mysql.com/8068" target="_top">Bug#8068</a>)</p></li><li><p>
        Fixed a server crash resulting from invocation of a stored
        function that returned a value having a <code class="literal">BIT</code>
        data type.
       (<a href="http://bugs.mysql.com/7648" target="_top">Bug#7648</a>)</p></li><li><p>
        <code class="literal">SET @var= CAST(NULL AS [INTEGER|CHAR])</code> now
        sets the result type of the variable to
        <code class="literal">INTEGER</code>/<code class="literal">CHAR</code>.
       (<a href="http://bugs.mysql.com/6598" target="_top">Bug#6598</a>)</p></li><li><p>
        Fixed a problem in the client/server protocol where the server
        closed the connection before sending the final error message.
        The problem could show up as a <code class="literal">Lost connection to MySQL
        server during query</code> when attempting to connect to
        access a non-existent database.
       (<a href="http://bugs.mysql.com/6387" target="_top">Bug#6387</a>, <a href="http://bugs.mysql.com/9455" target="_top">Bug#9455</a>)</p></li><li><p>
        Fixed a failure to resolve a column reference properly when an
        outer join involving a view contained a subquery and the column
        was used in the subquery and the outer query.
       (<a href="http://bugs.mysql.com/6107" target="_top">Bug#6107</a>, <a href="http://bugs.mysql.com/6106" target="_top">Bug#6106</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Prevent <code class="literal">ALTER
        TABLE</code> from changing the storage engine if there are
        foreign key constraints on the table.
       (<a href="http://bugs.mysql.com/5574" target="_top">Bug#5574</a>, <a href="http://bugs.mysql.com/5670" target="_top">Bug#5670</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-4"></a>E.1.26. Changes in  MySQL 5.0.4 (16 April 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">ENGINE=MyISAM</code> table option when
        creating <code class="literal">mysql.proc</code> table in
        <span><strong class="command">mysql_create_system_tables</strong></span> script to make
        sure the table is created as a <code class="literal">MyISAM</code> table
        even if the default storage engine has been changed.
       (<a href="http://bugs.mysql.com/9496" target="_top">Bug#9496</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> for an
        <code class="literal">INFORMATION_SCHEMA</code> table no longer prints a
        <code class="literal">MAX_ROWS</code> value because the value has no
        meaning.
       (<a href="http://bugs.mysql.com/8941" target="_top">Bug#8941</a>)</p></li><li><p>
        Invalid <code class="literal">DEFAULT</code> values for <code class="literal">CREATE
        TABLE</code> now generate errors.
       (<a href="http://bugs.mysql.com/5903" target="_top">Bug#5903</a>)</p></li><li><p>
        Added <code class="option">--show-table-type</code> option to
        <span><strong class="command">mysqlshow</strong></span>, to display a column indicating the
        table type, as in <code class="literal">SHOW FULL TABLES</code>.
       (<a href="http://bugs.mysql.com/5036" target="_top">Bug#5036</a>)</p></li><li><p>
        New configuration directives <code class="literal">!include</code> and
        <code class="literal">!includedir</code> implemented for including option
        files and searching directories for option files. See
        <a href="programs.html#option-files" title="4.2.2.2. Using Option Files">Section 4.2.2.2, “Using Option Files”</a>, for usage.
      </p></li><li><p>
        Added <code class="option">--with-big-tables</code> compilation option to
        <span><strong class="command">configure</strong></span>. (Previously it was necessary to
        pass <code class="option">-DBIG_TABLES</code> to the compiler manually in
        order to enable large table support.) See
        <a href="installing.html#configure-options" title="2.4.15.2. Typical configure Options">Section 2.4.15.2, “Typical <span><strong class="command">configure</strong></span> Options”</a>, for details.
      </p></li><li><p>
        The way the time zone information is stored in the binary log
        was changed, so that it is now possible to have a replication
        master and slave running with different global time zones. A
        drawback is that replication from 5.0.4 masters to pre-5.0.4
        slaves is impossible.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The commit count cache for <code class="literal">NDB</code> was not
        properly invalidated when deleting a record using a cursor.
       (<a href="http://bugs.mysql.com/8585" target="_top">Bug#8585</a>)</p></li><li><p>
        <span><strong class="command">mysql.server</strong></span> no longer uses non-portable
        <span><strong class="command">alias</strong></span> command or LSB functions.
       (<a href="http://bugs.mysql.com/9852" target="_top">Bug#9852</a>)</p></li><li><p>
        A server installed as a Windows service and started with
        <code class="option">--shared-memory</code> could not be stopped.
       (<a href="http://bugs.mysql.com/9665" target="_top">Bug#9665</a>)</p></li><li><p>
        Selecting a <code class="literal">BIT</code> column failed if the binary
        client/server protocol was used.
       (<a href="http://bugs.mysql.com/9608" target="_top">Bug#9608</a>)</p></li><li><p>
        Fixed a server crash when creating a <code class="literal">PRIMARY
        KEY</code> for a table, if the table contained a
        <code class="literal">BIT</code> column.
       (<a href="http://bugs.mysql.com/9571" target="_top">Bug#9571</a>)</p></li><li><p>
        <code class="literal">ENUM</code> and <code class="literal">SET</code> columns in
        <code class="literal">InnoDB</code> tables were treated incorrectly as
        character strings. This bug did not manifest itself with
        <code class="literal">latin1</code> collations, but it caused malfunction
        with <code class="literal">utf8</code>. Old tables will continue to work.
        In new tables, <code class="literal">ENUM</code> and
        <code class="literal">SET</code> will be stored internally as unsigned
        integers.
       (<a href="http://bugs.mysql.com/9526" target="_top">Bug#9526</a>)</p></li><li><p>
        Fixed a bug in division of floating point numbers. It could
        cause nine zeros (<code class="literal">000000000</code>) to be inserted
        in the middle of the quotient.
       (<a href="http://bugs.mysql.com/9501" target="_top">Bug#9501</a>)</p></li><li><p>
        Fixed option-parsing code for the embedded server to understand
        <code class="literal">K</code>, <code class="literal">M</code>, and
        <code class="literal">G</code> suffixes for the
        <code class="literal">net_buffer_length</code> and
        <code class="literal">max_allowed_packet</code> options.
       (<a href="http://bugs.mysql.com/9472" target="_top">Bug#9472</a>)</p></li><li><p>
        Some user variables were not being handled with
        “<span class="quote">implicit</span>” coercibility.
       (<a href="http://bugs.mysql.com/9425" target="_top">Bug#9425</a>)</p></li><li><p>
        Fixed server crashes for <code class="literal">CREATE TABLE ...
        SELECT</code> or <code class="literal">INSERT INTO ... SELECT</code>
        when selecting from multiple-table view.
       (<a href="http://bugs.mysql.com/9398" target="_top">Bug#9398</a>, <a href="http://bugs.mysql.com/8703" target="_top">Bug#8703</a>)</p></li><li><p>
        Fixed a server crash resulting from multiple executions of a
        prepared statement involving a join of an
        <code class="literal">INFORMATION_SCHEMA</code> table with another table.
       (<a href="http://bugs.mysql.com/9383" target="_top">Bug#9383</a>)</p></li><li><p>
        An <code class="literal">InnoDB</code> test suite failure was caused by a
        locking conflict between two server instances at server shutdown
        or startup. This conflict on advisory locks appears to be the
        result of a bug in the operating system; these locks should be
        released when the files are closed, but somehow that does not
        always happen immediately in Linux.
       (<a href="http://bugs.mysql.com/9381" target="_top">Bug#9381</a>)</p></li><li><p>
        Allow extra HKSCS and cp950 characters (<code class="literal">big5</code>
        extension characters) to be accepted in <code class="literal">big5</code>
        columns.
       (<a href="http://bugs.mysql.com/9357" target="_top">Bug#9357</a>)</p></li><li><p>
        The value of the <code class="literal">CHARACTER_MAXIMUM_LENGTH</code> and
        <code class="literal">CHARACTER_OCTET_LENGTH</code> columns of the
        <code class="literal">INFORMATION_SCHEMA.COLUMNS</code> table must be
        <code class="literal">NULL</code> for numeric columns, but were not.
       (<a href="http://bugs.mysql.com/9344" target="_top">Bug#9344</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> tables had an implicit
        upper limit for the number of rows. As a result, not all data
        could be returned for some queries.
       (<a href="http://bugs.mysql.com/9317" target="_top">Bug#9317</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: True <code class="literal">VARCHAR</code>:
        <code class="literal">InnoDB</code> stored the 'position' of a row wrong
        in a column prefix primary key index; this could cause MySQL to
        complain <code class="literal">ERROR 1032: Can't find record …</code> in
        an update of the primary key, and also some <code class="literal">ORDER
        BY</code> or <code class="literal">DISTINCT</code> queries.
       (<a href="http://bugs.mysql.com/9314" target="_top">Bug#9314</a>)</p></li><li><p>
        Fixed a problem with <code class="literal">ORDER BY</code> that sometimes
        caused incorrect sorting of <code class="literal">utf8</code> data.
       (<a href="http://bugs.mysql.com/9309" target="_top">Bug#9309</a>)</p></li><li><p>
        Fixed <code class="literal">utf8_spanish2_ci</code> and
        <code class="literal">ucs2_spanish2_ci</code> collations to not consider
        “<span class="quote"> <code class="literal">r</code> </span>” equal to “<span class="quote">
        <code class="literal">rr</code> </span>”. If you upgrade to this version
        from an earlier version, you should rebuild the indexes of
        affected tables.
       (<a href="http://bugs.mysql.com/9269" target="_top">Bug#9269</a>)</p></li><li><p>
        <code class="literal">CREATE OR REPLACE VIEW</code> and <code class="literal">ALTER
        VIEW</code> now require the <code class="literal">CREATE VIEW</code>
        and <code class="literal">DROP</code> privileges, not <code class="literal">CREATE
        VIEW</code> and <code class="literal">DELETE</code>.
        (<code class="literal">DELETE</code> is a row-level privilege, not a
        table-level privilege.)
       (<a href="http://bugs.mysql.com/9260" target="_top">Bug#9260</a>)</p></li><li><p>
        Fixed a server crash resulting from <code class="literal">GROUP BY</code>
        on a decimal expression.
       (<a href="http://bugs.mysql.com/9210" target="_top">Bug#9210</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> dumped core when invoked with
        <code class="option">--tmp</code> and <code class="option">--single-transaction</code>
        options and a non-existent table name.
       (<a href="http://bugs.mysql.com/9175" target="_top">Bug#9175</a>)</p></li><li><p>
        Fixed a server crash after a call to
        <a href="apis.html#mysql-stmt-close" title="23.2.7.6. mysql_stmt_close()"><code class="literal">mysql_stmt_close()</code></a> for
        single-row result set.
       (<a href="http://bugs.mysql.com/9159" target="_top">Bug#9159</a>)</p></li><li><p>
        Setting the <code class="literal">max_error_count</code> system variable
        to 0 resulted in a setting of 1.
       (<a href="http://bugs.mysql.com/9072" target="_top">Bug#9072</a>)</p></li><li><p>
        The use of <code class="literal">XOR</code> together with <code class="literal">NOT
        ISNULL()</code> erroneously resulted in some outer joins
        being converted to inner joins by the optimizer.
       (<a href="http://bugs.mysql.com/9017" target="_top">Bug#9017</a>)</p></li><li><p>
        Fixed a <code class="literal">Commands out of sync</code> error when two
        prepared statements for single-row result sets were open
        simultaneously.
       (<a href="http://bugs.mysql.com/8880" target="_top">Bug#8880</a>)</p></li><li><p>
        Fixed an optimizer problem where extraneous comparisons between
        <code class="literal">NULL</code> values in indexed columns were being
        done for operators such as <code class="literal">=</code> that are never
        true for <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/8877" target="_top">Bug#8877</a>)</p></li><li><p>
        Fixed the client/server protocol for prepared statements so that
        reconnection works properly when the connection is killed while
        reconnect is enabled.
       (<a href="http://bugs.mysql.com/8866" target="_top">Bug#8866</a>)</p></li><li><p>
        In prepared statements, subqueries containing parameters were
        erroneously treated as <code class="literal">const</code> tables during
        preparation, resulting in a server crash.
       (<a href="http://bugs.mysql.com/8807" target="_top">Bug#8807</a>)</p></li><li><p>
        Do not try to space-pad <code class="literal">BLOB</code> columns
        containing <code class="literal">ucs2</code> characters.
       (<a href="http://bugs.mysql.com/8771" target="_top">Bug#8771</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/7350" target="_top">Bug#7350</a></p></li><li><p>
        The warning message from
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> did not always
        indicate the correct number of lines.
       (<a href="http://bugs.mysql.com/8681" target="_top">Bug#8681</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Fix bug in MySQL/InnoDB 5.0.3: SQL
        statements were not rolled back on error.
       (<a href="http://bugs.mysql.com/8650" target="_top">Bug#8650</a>)</p></li><li><p>
        Too many rows were returned from queries that combined
        <code class="literal">ROLLUP</code> and <code class="literal">LIMIT</code> if
        <code class="literal">SQL_CALC_FOUND_ROWS</code> was given.
       (<a href="http://bugs.mysql.com/8617" target="_top">Bug#8617</a>)</p></li><li><p>
        Incorrect results were returned from queries that combined
        <code class="literal">SELECT DISTINCT</code>, <code class="literal">GROUP BY
        </code>, and <code class="literal">ROLLUP</code>.
       (<a href="http://bugs.mysql.com/8616" target="_top">Bug#8616</a>)</p></li><li><p>
        Fixed server crash resulting from queries that combined
        <code class="literal">SELECT DISTINCT</code>,
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a>, and
        <code class="literal">ROLLUP</code>.
       (<a href="http://bugs.mysql.com/8615" target="_top">Bug#8615</a>)</p></li><li><p>
        Fixed a problem with the <code class="literal">tee</code> command in
        <span><strong class="command">mysql</strong></span> that resulted in
        <span><strong class="command">mysql</strong></span> crashing.
       (<a href="http://bugs.mysql.com/8499" target="_top">Bug#8499</a>)</p></li><li><p>
        Fixed a permissions problem whereby information in
        <code class="literal">INFORMATION_SCHEMA</code> could be exposed to a user
        with insufficient privileges.
       (<a href="http://bugs.mysql.com/7214" target="_top">Bug#7214</a>)</p></li><li><p>
        <code class="literal">DROP TABLE</code> did not drop triggers that were
        defined for the table. <code class="literal">DROP DATABASE</code> did not
        drop triggers in the database.
       (<a href="http://bugs.mysql.com/6559" target="_top">Bug#6559</a>, <a href="http://bugs.mysql.com/5859" target="_top">Bug#5859</a>)</p></li><li><p>
        Added linking with <code class="literal">libsupc++</code> on Fedora Core 3
        to get language support functions.
       (<a href="http://bugs.mysql.com/6554" target="_top">Bug#6554</a>)</p></li><li><p>
        Fixed a collation coercibility problem that caused a union
        between binary and non-binary columns to fail.
       (<a href="http://bugs.mysql.com/6519" target="_top">Bug#6519</a>)</p></li><li><p>
        Using <a href="functions.html#function_convert"><code class="literal">CONVERT('0000-00-00',DATE)</code></a>
        or <a href="functions.html#function_cast"><code class="literal">CAST('0000-00-00' as DATE)</code></a>
        with the <code class="literal">NO_ZERO_DATE</code> SQL mode enabled now
        produces a warning.
       (<a href="http://bugs.mysql.com/6145" target="_top">Bug#6145</a>)</p></li><li><p>
        <code class="literal">TRADITIONAL</code> SQL mode should prevent inserts
        where a column with no default value is omitted or set to a
        value of <code class="literal">DEFAULT</code>. Fixed cases where this
        restriction was not enforced.
       (<a href="http://bugs.mysql.com/5986" target="_top">Bug#5986</a>)</p></li><li><p>
        Inserting a zero date in a <code class="literal">DATE</code>,
        <code class="literal">DATETIME</code> or <code class="literal">TIMESTAMP</code>
        column during <code class="literal">TRADITIONAL</code> mode now produces
        an error.
       (<a href="http://bugs.mysql.com/5933" target="_top">Bug#5933</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> now produces warnings
        when casting incorrect <code class="literal">INTEGER</code> and
        <code class="literal">CHAR</code> values. This also applies to implicit
        <code class="literal">string</code> to <code class="literal">number</code> casts.
       (<a href="http://bugs.mysql.com/5912" target="_top">Bug#5912</a>)</p></li><li><p>
        An error now occurs if you try to insert an invalid value via a
        stored procedure in <code class="literal">STRICT</code> mode.
       (<a href="http://bugs.mysql.com/5907" target="_top">Bug#5907</a>)</p></li><li><p>
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> now produces
        errors in strict mode (and warnings otherwise) when given an
        illegal argument.
       (<a href="http://bugs.mysql.com/5902" target="_top">Bug#5902</a>)</p></li><li><p>
        If, on a replication master a <code class="literal">LOAD DATA
        INFILE</code> operation was interrupted (by, for example, an
        integrity constraint violation or killed connection), the slave
        skipped the <code class="literal">LOAD DATA INFILE</code> entirely, thus
        missing changes if this command permanently inserted or updated
        table records before being interrupted.
       (<a href="http://bugs.mysql.com/3247" target="_top">Bug#3247</a>)</p></li><li><p>
        Inserting a zero date into a <code class="literal">DATETIME</code> column
        in <code class="literal">TRADITIONAL</code> mode now produces an error.
      </p></li><li><p>
        <code class="literal">ALTER TABLE</code> now fails in
        <code class="literal">STRICT</code> mode if the alteration generates
        warnings.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-3"></a>E.1.27. Changes in  MySQL 5.0.3 (23 March 2005: Beta)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This Beta release, as any other pre-production release, should
        not be installed on “<span class="quote">production</span>” level systems or
        systems with critical data. It is good practice to back up your
        data before installing any new version of software. Although
        MySQL worked very hard to ensure a high level of quality,
        protect your data by making a backup as you would for any
        software beta release.
      </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The C API <code class="literal">ER_WARN_DATA_TRUNCATED</code> warning
        symbol was renamed to <code class="literal">WARN_DATA_TRUNCATED</code>.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">DECIMAL</code> and <code class="literal">NUMERIC</code>
        data types now are handled with a fixed-point library that
        allows for precision math handling that results in more accurate
        results. See <a href="precision-math.html" title="Chapter 22. Precision Math">Chapter 22, <i>Precision Math</i></a>.
      </p><p>
        A consequence of the change in handling of the
        <code class="literal">DECIMAL</code> and <code class="literal">NUMERIC</code>
        fixed-point data types is that the server is more strict to
        follow standard SQL. For example, a data type of
        <code class="literal">DECIMAL(3,1)</code> stores a maximum value of 99.9.
        Previously, the server allowed larger numbers to be stored. That
        is, it stored a value such as 100.0 as 100.0. Now the server
        clips 100.0 to the maximum allowable value of 99.9. If you have
        tables that were created before MySQL 5.0.3 and that contain
        floating-point data not strictly legal for the data type, you
        should alter the data types of those columns. For example:
      </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> MODIFY <em class="replaceable"><code>col_name</code></em> DECIMAL(4,1);
</pre><p>
        For user-defined functions, exact-value decimal arguments such
        as <code class="literal">1.3</code> or <code class="literal">DECIMAL</code> column
        values were passed as <code class="literal">REAL_RESULT</code> values
        prior to MySQL 5.0.3. As of 5.0.3, they are passed as strings
        with a type of <code class="literal">DECIMAL_RESULT</code>. If you upgrade
        to 5.0.3 and find that your UDF now receives string values, use
        the initialization function to coerce the arguments to numbers
        as described in <a href="extending-mysql.html#udf-arguments" title="26.2.4.3. UDF Argument Processing">Section 26.2.4.3, “UDF Argument Processing”</a>.
      </p><p>
        For the <a href="functions.html#function_floor"><code class="literal">FLOOR()</code></a> and
        <a href="functions.html#function_ceiling"><code class="literal">CEILING()</code></a> functions, the return
        type is no longer always <code class="literal">BIGINT</code>. For
        exact-value numeric arguments, the return value has an
        exact-value numeric type. For string or floating-point
        arguments, the return value has a floating-point type.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When using this storage engine, the output of <code class="literal">SHOW
        TABLE STATUS</code> now displays properly-calculated values
        in the <code class="literal">Avg_row_length</code> and
        <code class="literal">Data_length</code> columns. (Note that
        <code class="literal">BLOB</code> columns are not yet taken into account.)
        In addition, the number of replicas is now shown in the
        <code class="literal">Comment</code> column (as
        <code class="literal">number_of_replicas</code>).
      </p></li><li><p>
        Fixed a problem with non-optimal <code class="literal">index_merge</code>
        query execution plans being chosen on IRIX.
       (<a href="http://bugs.mysql.com/8578" target="_top">Bug#8578</a>)</p></li><li><p>
        <span><strong class="command">mysqld_safe</strong></span> will create the directory where
        the UNIX socket file is to be located if the directory does not
        exist. This applies only to the last component of the directory
        pathname.
       (<a href="http://bugs.mysql.com/8513" target="_top">Bug#8513</a>)</p></li><li><p>
        <code class="literal">ONLY_FULL_GROUP_BY</code> no longer is included in
        the <code class="literal">ANSI</code> composite SQL mode.
       (<a href="http://bugs.mysql.com/8510" target="_top">Bug#8510</a>)</p></li><li><p>
        The server now includes a timestamp in the <code class="literal">Ready for
        connections</code> message that is written to the error log
        at startup.
       (<a href="http://bugs.mysql.com/8444" target="_top">Bug#8444</a>)</p></li><li><p>
        Added a new global system variable
        <code class="literal">slave_transaction_retries</code>: If the replication
        slave SQL thread fails to execute a transaction because of an
        <code class="literal">InnoDB</code> deadlock or exceeded
        <code class="literal">InnoDB</code>'s
        <code class="literal">innodb_lock_wait_timeout</code> or
        <code class="literal">NDBCluster</code>'s
        <code class="literal">TransactionDeadlockDetectionTimeout</code> or
        <code class="literal">TransactionInactiveTimeout</code>, it automatically
        retries <code class="literal">slave_transaction_retries</code> times
        before stopping with an error. The default is 10.
       (<a href="http://bugs.mysql.com/8325" target="_top">Bug#8325</a>)</p></li><li><p>
        <code class="literal">CHECKSUM TABLE</code> returns a warning for
        non-existing tables. The checksum value remains
        <code class="literal">NULL</code> as before.
       (<a href="http://bugs.mysql.com/8256" target="_top">Bug#8256</a>)</p></li><li><p>
        Setting the connection collation to a value different from the
        server collation followed by a <code class="literal">CREATE TABLE</code>
        statement that included a quoted default value resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/8235" target="_top">Bug#8235</a>)</p></li><li><p>
        When a client releases a user-level lock, <code class="literal">DO
        RELEASE_LOCK()</code> will not be written to the binary log
        anymore (this makes the binary log smaller); as a counterpart,
        the slave does not actually take the lock when it executes
        <a href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a>. This is mainly an
        optimization and should not affect existing setups.
       (<a href="http://bugs.mysql.com/7998" target="_top">Bug#7998</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Corrected a bug in the crash recovery
        of <code class="literal">ROW_FORMAT=COMPACT</code> tables that caused
        corruption. There may still be bugs in the crash recovery,
        especially in <code class="literal">COMPACT</code> tables.
       (<a href="http://bugs.mysql.com/7973" target="_top">Bug#7973</a>)</p></li><li><p>
        Allowed the service-installation command for Windows servers to
        specify a single option other than
        <code class="option">--defaults-file</code> following the service name.
        This is for compatibility with MySQL 4.1.
       (<a href="http://bugs.mysql.com/7856" target="_top">Bug#7856</a>)</p></li><li><p>
        Changed XML format for <span><strong class="command">mysql</strong></span> from
        <code class="literal">&lt;<em class="replaceable"><code>col_name</code></em>&gt;<em class="replaceable"><code>col_value</code></em>&lt;/<em class="replaceable"><code>col_name</code></em>&gt;</code>
        to <code class="literal">&lt;field
        name="<em class="replaceable"><code>col_name</code></em>"&gt;<em class="replaceable"><code>col_value</code></em>&lt;/field&gt;</code>
        to allow for proper encoding of column names that are not legal
        as element names.
       (<a href="http://bugs.mysql.com/7811" target="_top">Bug#7811</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> now uses <code class="literal">USING
        <em class="replaceable"><code>index_type</code></em></code> rather than
        <code class="literal">TYPE <em class="replaceable"><code>index_type</code></em></code> to
        specify an index type.
       (<a href="http://bugs.mysql.com/7233" target="_top">Bug#7233</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Implemented fast <code class="literal">TRUNCATE
        TABLE</code>. The old approach (deleting rows one by one) may
        be used if the table is being referenced by foreign keys.
       (<a href="http://bugs.mysql.com/7150" target="_top">Bug#7150</a>)</p></li><li><p>
        Fixed a problem with out-of-order packets being sent
        (<code class="literal">ERROR</code> after <code class="literal">OK</code> or
        <code class="literal">EOF</code>) following a <code class="literal">KILL
        QUERY</code> statement.
       (<a href="http://bugs.mysql.com/6804" target="_top">Bug#6804</a>)</p></li><li><p>
        Added <code class="literal">SQL_NOTES</code> session variable to cause
        <code class="literal">Note</code>-level warnings not to be recorded.
       (<a href="http://bugs.mysql.com/6662" target="_top">Bug#6662</a>)</p></li><li><p>
        Added <a href="apis.html#mysql-library-init" title="23.2.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> and
        <a href="apis.html#mysql-library-end" title="23.2.3.39. mysql_library_end()"><code class="literal">mysql_library_end()</code></a> as synonyms
        for the <a href="apis.html#mysql-server-init" title="23.2.12.1. mysql_server_init()"><code class="literal">mysql_server_init()</code></a> and
        <a href="apis.html#mysql-server-end" title="23.2.12.2. mysql_server_end()"><code class="literal">mysql_server_end()</code></a> C API
        functions. <a href="apis.html#mysql-library-init" title="23.2.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a>
        and <a href="apis.html#mysql-library-end" title="23.2.3.39. mysql_library_end()"><code class="literal">mysql_library_end()</code></a> are
        <code class="literal">#define</code> symbols, but the names more clearly
        indicate that they should be called when beginning and ending
        use of a MySQL C API library no matter whether the application
        uses <code class="literal">libmysqlclient</code> or
        <code class="literal">libmysqld</code>.
       (<a href="http://bugs.mysql.com/6149" target="_top">Bug#6149</a>)</p></li><li><p>
        Added <a href="functions.html#function_var-pop"><code class="literal">VAR_POP()</code></a> and
        <a href="functions.html#function_stddev-pop"><code class="literal">STDDEV_POP()</code></a> as standard SQL
        aliases for the <a href="functions.html#function_variance"><code class="literal">VARIANCE()</code></a> and
        <a href="functions.html#function_stddev"><code class="literal">STDDEV()</code></a> functions that compute
        population variance and standard deviation. Added new
        <a href="functions.html#function_var-samp"><code class="literal">VAR_SAMP()</code></a> and
        <a href="functions.html#function_stddev-samp"><code class="literal">STDDEV_SAMP()</code></a> functions to
        compute sample variance and standard deviation.
       (<a href="http://bugs.mysql.com/3190" target="_top">Bug#3190</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Commit after every 10,000 copied rows
        when executing <code class="literal">ALTER TABLE</code>, <code class="literal">CREATE
        INDEX</code>, <code class="literal">DROP INDEX</code> or
        <code class="literal">OPTIMIZE TABLE</code>. This makes it much faster to
        recover from an aborted operation.
      </p></li><li><p>
        Added support for <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a>.
      </p></li><li><p>
        A new <code class="literal">CREATE USER</code> privilege was added.
      </p></li><li><p>
        Support for <code class="literal">RAID</code> options in
        <code class="literal">MyISAM</code> tables has been removed. If you have
        tables that use these options, you should convert them before
        upgrading. See <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: A shared record lock
        (<code class="literal">LOCK_REC_NOT_GAP</code>) is now taken for a
        matching record in the foreign key check because inserts can be
        allowed into gaps.
      </p></li><li><p>
        The MySQL server now aborts when started with the option
        <code class="option">--log-bin-index</code> and without
        <code class="option">--log-bin</code>, and when started with
        <code class="option">--log-slave-updates</code> and without
        <code class="option">--log-bin</code>.
      </p></li><li><p>
        API change: the <code class="literal">reconnect</code> flag in the
        <code class="literal">MYSQL</code> structure is now set to 0 by
        <a href="apis.html#mysql-real-connect" title="23.2.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>. Only
        those client programs which didn't explicitly set this flag to 0
        or 1 after <a href="apis.html#mysql-real-connect" title="23.2.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>
        experience a change. Having automatic reconnection enabled by
        default was considered too dangerous (after reconnection, table
        locks, temporary tables, user and session variables are lost).
      </p></li><li><p>
        Bit-field values can be written using
        <code class="literal">b'<em class="replaceable"><code>value</code></em>'</code> notation.
        <em class="replaceable"><code>value</code></em> is a binary value written using
        0s and 1s.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Relaxed locking in <code class="literal">INSERT
        ... SELECT</code>, single table <code class="literal">UPDATE ...
        (SELECT)</code> and single table <code class="literal">DELETE ...
        (SELECT)</code> clauses when
        <code class="literal">innodb_locks_unsafe_for_binlog</code> is used and
        isolation level of the transaction is not serializable.
        <code class="literal">InnoDB</code> uses consistent read in these cases
        for a selected table.
      </p></li><li><p>
        <code class="literal">InnoDB</code> now supports a fast <code class="literal">TRUNCATE
        TABLE</code>. One visible change from this is that
        auto-increment values for this table are reset on
        <code class="literal">TRUNCATE</code>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Introduced a compact record format
        that does not store the number of columns or the lengths of
        fixed-size columns. The old format can be requested by
        specifying <code class="literal">ROW_FORMAT=REDUNDANT</code>. The new
        format (<code class="literal">ROW_FORMAT=COMPACT</code>) is the default.
        The new format typically saves 20% of disk space and memory.
      </p><p>
        The presence of the new compact row format decreases row storage
        space by about 20% at the cost of increasing CPU use for some
        operations. If your workload is a typical one that is limited by
        cache hit rates and disk speed it is likely to be faster. If it
        is a rare case that is limited by CPU speed, it might be slower.
      </p></li><li><p>
        From the Windows distribution, predefined accounts without
        passwords for remote users ("root@%", "@%")
        were removed (other distributions never had them).
      </p></li><li><p>
        Added the <code class="literal">FEDERATED</code> storage engine. See
        <a href="storage-engines.html#federated-storage-engine" title="13.7. The FEDERATED Storage Engine">Section 13.7, “The <code class="literal">FEDERATED</code> Storage Engine”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Setting the initial
        <code class="literal">AUTO_INCREMENT</code> value for an
        <code class="literal">InnoDB</code> table using <code class="literal">CREATE TABLE ...
        AUTO_INCREMENT = <em class="replaceable"><code>n</code></em></code> now
        works, and <code class="literal">ALTER TABLE ... AUTO_INCREMENT =
        <em class="replaceable"><code>n</code></em></code> resets the current value.
      </p></li><li><p>
        User variable coercibility has been changed from
        “<span class="quote">coercible</span>” to “<span class="quote">implicit.</span>” That is,
        user variables have the same coercibility as column values.
      </p></li><li><p>
        Security improvement: User-defined functions should have at
        least one symbol defined in addition to the
        <code class="literal">xxx</code> symbol that corresponds to the main
        <code class="literal">xxx()</code> function. These auxiliary symbols
        correspond to the <code class="literal">xxx_init()</code>,
        <code class="literal">xxx_deinit()</code>, <code class="literal">xxx_reset()</code>,
        <code class="literal">xxx_clear()</code>, and <code class="literal">xxx_add()</code>
        functions. <span><strong class="command">mysqld</strong></span> by default no longer loads
        UDFs unless they have at least one auxiliary symbol defined in
        addition to the main symbol. The
        <code class="option">--allow-suspicious-udfs</code> option controls whether
        UDFs that have only an <code class="literal">xxx</code> symbol can be
        loaded. By default, the option is off. <span><strong class="command">mysqld</strong></span>
        also checks UDF filenames when it reads them from the
        <code class="literal">mysql.func</code> table and rejects those that
        contain directory pathname separator characters. (It already
        checked names as given in <code class="literal">CREATE FUNCTION</code>
        statements.) See <a href="extending-mysql.html#udf-calling" title="26.2.4.1. UDF Calling Sequences for Simple Functions">Section 26.2.4.1, “UDF Calling Sequences for Simple Functions”</a>,
        <a href="extending-mysql.html#udf-aggr-calling" title="26.2.4.2. UDF Calling Sequences for Aggregate Functions">Section 26.2.4.2, “UDF Calling Sequences for Aggregate Functions”</a>, and
        <a href="extending-mysql.html#udf-security" title="26.2.4.6. User-Defined Function Security Precautions">Section 26.2.4.6, “User-Defined Function Security Precautions”</a>. Thanks to Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        informing us about this issue.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0709" target="_top">CVE-2005-0709</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0710" target="_top">CVE-2005-0710</a>)</p></li><li><p>
        Added <code class="option">--large-pages</code> option for
        <span><strong class="command">mysqld</strong></span>.
      </p></li><li><p>
        The <code class="literal">LOAD DATA</code> statement was extended to
        support user variables in the target column list, and an
        optional <code class="literal">SET</code> clause. Now one can perform some
        transformations on data after they have been read and before
        they are inserted into the table. For example:
      </p><pre class="programlisting">LOAD DATA INFILE 'file.txt'
  INTO TABLE t1
  (column1, @var1)
  SET column2 = @var1/100;
</pre><p>
        Also, replication of <code class="literal">LOAD DATA</code> was changed,
        so you can't replicate such statements from a 5.0.3 master to
        pre-5.0.3 slaves.
      </p></li><li><p>
        Added an <code class="literal">error</code> member to the
        <code class="literal">MYSQL_BIND</code> data structure that is used in the
        C API for prepared statements. This member is used for reporting
        data truncation errors. Truncation reporting is enabled via the
        new <code class="literal">MYSQL_REPORT_DATA_TRUNCATION</code> option for
        the <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options()</code></a> C API
        function.
      </p></li><li><p>
        Added the <code class="literal">multi_range_count</code> system variable.
      </p></li><li><p>
        The coercibility for the return value of functions such as
        <a href="functions.html#function_user"><code class="literal">USER()</code></a> or
        <a href="functions.html#function_version"><code class="literal">VERSION()</code></a> now is “<span class="quote">system
        constant</span>” rather than “<span class="quote">implicit.</span>” This makes
        these functions more coercible than column values so that
        comparisons of the two do not result in <code class="literal">Illegal mix of
        collations</code> errors.
        <a href="functions.html#function_coercibility"><code class="literal">COERCIBILITY()</code></a> was modified to
        accommodate this new coercibility value. See
        <a href="functions.html#information-functions" title="11.10.3. Information Functions">Section 11.10.3, “Information Functions”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: <span class="bold"><strong>Upgrading from
        4.1:</strong></span> The sorting order for end-space in
        <code class="literal">TEXT</code> columns for <code class="literal">InnoDB</code>
        tables has changed. Starting from 5.0.3,
        <code class="literal">InnoDB</code> compares <code class="literal">TEXT</code>
        columns as space-padded at the end. If you have a non-unique
        index on a <code class="literal">TEXT</code> column, you should run
        <code class="literal">CHECK TABLE</code> on it, and run <code class="literal">OPTIMIZE
        TABLE</code> if the check reports errors. If you have a
        <code class="literal">UNIQUE INDEX</code> on a <code class="literal">TEXT</code>
        column, you should rebuild the table with <code class="literal">OPTIMIZE
        TABLE</code>.
      </p></li><li><p>
        Boolean full-text phrase searching now requires only that
        matches contain exactly the same words as the phrase and in the
        same order. Non-word characters no longer need match exactly.
      </p></li><li><p>
        <code class="filename">my.cnf</code> in the compile-time datadir (usually
        <code class="filename">/usr/local/mysql/data/</code> in the binary
        tarball distributions) is not being read anymore. The value of
        the environment variable <code class="literal">MYSQL_HOME</code> is used
        instead of the hard-coded path.
      </p></li><li><p>
        Additional control over transaction completion was implemented.
        The <code class="literal">COMMIT</code> and <code class="literal">ROLLBACK</code>
        statements support <code class="literal">AND [NO] CHAIN</code> and
        <code class="literal">RELEASE</code> clauses. There is a new
        <code class="literal">RELEASE SAVEPOINT</code> statement. The
        <code class="literal">completion_type</code> system variable was added for
        setting the global and session default completion type.
      </p></li><li><p>
        Security improvement: The server creates
        <code class="filename">.frm</code>, <code class="filename">.MYD</code>,
        <code class="filename">.MYI</code>, <code class="filename">.MRG</code>,
        <code class="filename">.ISD</code>, and <code class="filename">.ISM</code> table
        files only if a file with the same name does not already exist.
        Thanks to Stefano Di Paola
        <code class="email">&lt;<a href="mailto:stefano.dipaola@wisec.it">stefano.dipaola@wisec.it</a>&gt;</code> for finding and
        informing us about this issue.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0711" target="_top">CVE-2005-0711</a>)</p></li><li><p>
        Added the <code class="literal">engine_condition_pushdown</code> system
        variable. For NDB, setting this variable to 1 allows processing
        of some <code class="literal">WHERE</code> clause conditions to be
        processed in NDB nodes before rows are sent to the MySQL server,
        rather than having rows sent to the server for evaluation.
      </p></li><li><p>
        Support for the <code class="literal">ISAM</code> storage engine has been
        removed. If you have <code class="literal">ISAM</code> tables, you should
        convert them before upgrading. See
        <a href="installing.html#upgrading-from-4-1" title="2.4.17.2. Upgrading from MySQL 4.1 to 5.0">Section 2.4.17.2, “Upgrading from MySQL 4.1 to 5.0”</a>.
      </p></li><li><p>
        Added the <code class="literal">CREATE ROUTINE</code> and <code class="literal">ALTER
        ROUTINE</code> privileges, and made the
        <code class="literal">EXECUTE</code> privilege operational.
      </p></li><li><p>
        <code class="literal">BIT</code> in column definitions now is a distinct
        data type; it no longer is treated as a synonym for
        <code class="literal">TINYINT(1)</code>.
      </p></li><li><p>
        Added <code class="literal">cp932</code> (SJIS for Windows Japanese) and
        <code class="literal">eucjpms</code> (UJIS for Windows Japanese) character
        sets.
      </p></li><li><p>
        The way the character set information is stored into the binary
        log was changed, so that it's now possible to have a replication
        master and slave running with different global character sets. A
        drawback is that replication from 5.0.3 masters to pre-5.0.3
        slaves is impossible.
      </p></li><li><p>
        <code class="literal">MEMORY</code> (<code class="literal">HEAP</code>) can have
        <code class="literal">VARCHAR</code> fields.
      </p></li><li><p>
        If the MySQL server is started without an argument to
        <code class="option">--log-bin</code> and without
        <code class="option">--log-bin-index</code>, thus not providing a name for
        the binary log index file, a warning is issued because MySQL
        falls back to using the hostname for that name, and this is
        prone to replication issues if the server's hostname's gets
        changed later. See <a href="error-handling.html#open-bugs" title="B.1.8.1. Open Issues in MySQL">Section B.1.8.1, “Open Issues in MySQL”</a>.
      </p></li><li><p>
        <code class="literal">SHOW DATABASES</code>, <code class="literal">SHOW
        TABLES</code>, <code class="literal">SHOW COLUMNS</code>, and so forth
        display information about the
        <code class="literal">INFORMATION_SCHEMA</code> database. Also, several
        <code class="literal">SHOW</code> statements now accept a
        <code class="literal">WHERE</code> clause specifying which output rows to
        display. See <a href="information-schema.html" title="Chapter 21. INFORMATION_SCHEMA Tables">Chapter 21, <i><code class="literal">INFORMATION_SCHEMA</code> Tables</i></a>.
      </p></li><li><p>
        <code class="literal">SHOW COLUMNS</code> now displays
        <code class="literal">NO</code> rather than blank in the
        <code class="literal">Null</code> output column if the corresponding table
        column cannot be <code class="literal">NULL</code>.
      </p></li><li><p>
        When the <code class="literal">MyISAM</code> storage engine detects
        corruption of a <code class="literal">MyISAM</code> table, a message
        describing the problem now is written to the error log.
      </p></li><li><p>
        A <code class="literal">VARCHAR</code> column can now contain up to 65535
        bytes. In addition, <code class="literal">VARCHAR</code> columns now
        remember trailing spaces. For more details, see
        <a href="news.html#news-5-0-x" title="E.1. Changes in release 5.0.x (Production)">Section E.1, “Changes in release 5.0.x (Production)”</a>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If the table handler does not support the new
          <code class="literal">VARCHAR</code> type, then it is converted to a
          <code class="literal">CHAR</code> column. Currently this happens for
          <code class="literal">NDB</code> tables.
        </p></div></li><li><p>
        Added <code class="option">--innodb-checksums</code> and
        <code class="option">--innodb-doublewrite</code> options for
        <span><strong class="command">mysqld</strong></span>.
      </p></li><li><p>
        Added several <code class="literal">InnoDB</code> status variables. See
        <a href="server-administration.html#server-status-variables" title="5.1.5. Status Variables">Section 5.1.5, “Status Variables”</a>.
      </p></li><li><p>
        Added account-specific <code class="literal">MAX_USER_CONNECTIONS</code>
        limit, which allows you to specify the maximum number of
        concurrent connections for the account. Also, all limited
        resources now are counted per account (instead of being counted
        per user + host pair as it was before). Use the
        <code class="option">--old-style-user-limits</code> option to get the old
        behavior.
      </p></li><li><p>
        Implemented support for XA transactions. See
        <a href="sql-syntax.html#xa" title="12.4.7. XA Transactions">Section 12.4.7, “XA Transactions”</a>. The implementation make the
        <code class="literal">innodb_safe_binlog</code> system variable obsolete,
        so it has been removed.
      </p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> now prints a
        <code class="literal">ROLLBACK</code> statement at the end of its output,
        in case the server crashed while it was in the process of
        writing the final entry into the last binary log named on the
        command line. This causes any half-written transaction to be
        rolled back when the output is executed. The
        <code class="literal">ROLLBACK</code> is harmless if the binary log file
        was written and closed normally.
      </p></li><li><p>
        <code class="literal">Seconds_Behind_Master</code> is
        <code class="literal">NULL</code> (which means “<span class="quote">unknown</span>”) if
        the slave SQL thread is not running, or if the slave I/O thread
        is not running or not connected to master. It is zero if the SQL
        thread has caught up to the I/O thread. It no longer grows
        indefinitely if the master is idle.
      </p></li><li><p>
        <code class="literal">FLUSH TABLES WITH READ LOCK</code> is now killable
        while it's waiting for running <code class="literal">COMMIT</code>
        statements to finish.
      </p></li><li><p>
        The MySQL server aborts immediately instead of simply issuing a
        warning if it is started with the <code class="option">--log-bin</code>
        option but cannot initialize the binary log at startup (that is,
        an error occurs when writing to the binary log file or binary
        log index file).
      </p></li><li><p>
        The binary log file and binary log index file now are handled
        the same way as <code class="literal">MyISAM</code> tables when there is a
        “<span class="quote">disk full</span>” or “<span class="quote">quota exceeded</span>” error.
        See <a href="error-handling.html#full-disk" title="B.1.4.3. How MySQL Handles a Full Disk">Section B.1.4.3, “How MySQL Handles a Full Disk”</a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: When MySQL/InnoDB is compiled on Mac
        OS X 10.2 or earlier, detect the operating system version at run
        time and use the <code class="literal">fcntl()</code> file flush method
        on Mac OS X versions 10.3 and later. In Mac OS X,
        <code class="literal">fsync()</code> does not flush the write cache in
        the disk drive, but the special <code class="literal">fcntl()</code>
        does; however, the flush request is ignored by some external
        devices. Failure to flush the buffers may cause severe database
        corruption at power outages.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <span><strong class="command">mysqldump</strong></span> misinterpreted “<span class="quote">
        <code class="literal">_</code> </span>” and “<span class="quote"> <code class="literal">%</code>
        </span>” characters in the names of tables to be dumped as
        wildcard characters.
       (<a href="http://bugs.mysql.com/9123" target="_top">Bug#9123</a>)</p></li><li><p>
        In strict or traditional SQL mode, too-long string values
        assigned to string columns (<code class="literal">CHAR</code>,
        <code class="literal">VARCHAR</code>, <code class="literal">BINARY</code>,
        <code class="literal">VARBINARY</code>, <code class="literal">TEXT</code>, or
        <code class="literal">BLOB</code>) were correctly truncated, but the
        server returned an SQLSTATE value of <code class="literal">01000</code>
        (should be <code class="literal">22001</code>).
       (<a href="http://bugs.mysql.com/9029" target="_top">Bug#9029</a>, <a href="http://bugs.mysql.com/6999" target="_top">Bug#6999</a>)</p></li><li><p>
        The definition of the enumeration-valued
        <code class="literal">sql_mode</code> column of the
        <code class="literal">mysql.proc</code> table was missing some of the
        current allowable SQL modes, so stored routines would not
        necessarily execute with the SQL mode in effect at the time of
        routine definition.
       (<a href="http://bugs.mysql.com/8902" target="_top">Bug#8902</a>)</p></li><li><p>
        Fixed a bug in <code class="literal">TRUNCATE</code>, which did not work
        within stored procedures. A workaround has been made so that
        within stored procedures, <code class="literal">TRUNCATE</code> is
        executed like <code class="literal">DELETE</code>. This was necessary
        because <code class="literal">TRUNCATE</code> is implicitly locking
        tables.
       (<a href="http://bugs.mysql.com/8850" target="_top">Bug#8850</a>)</p></li><li><p>
        Fixed a rare race condition which could lead to <code class="literal">FLUSH
        TABLES WITH READ LOCK</code> hanging.
       (<a href="http://bugs.mysql.com/8682" target="_top">Bug#8682</a>)</p></li><li><p>
        <a href="functions.html#function_aes-decrypt"><code class="literal">AES_DECRYPT(<em class="replaceable"><code>col_name</code></em>,<em class="replaceable"><code>key</code></em>)</code></a>
        could fail to return <code class="literal">NULL</code> for invalid values
        in <em class="replaceable"><code>col_name</code></em>, if
        <em class="replaceable"><code>col_name</code></em> was declared as <code class="literal">NOT
        NULL</code>.
       (<a href="http://bugs.mysql.com/8669" target="_top">Bug#8669</a>)</p></li><li><p>
        If <code class="literal">SELECT DISTINCT</code> named an index column
        multiple times in the select list, the server tried to access
        different key fields for each instance of the column, which
        could result in a crash.
       (<a href="http://bugs.mysql.com/8532" target="_top">Bug#8532</a>)</p></li><li><p>
        Fixed a bug in <code class="literal">MATCH ... AGAINST</code> in natural
        language mode that could cause a server crash if the
        <code class="literal">FULLTEXT</code> index was not used in a join
        (<code class="literal">EXPLAIN</code> did not show
        <code class="literal">fulltext</code> join mode) and the search query
        matched no rows in the table .
       (<a href="http://bugs.mysql.com/8522" target="_top">Bug#8522</a>)</p></li><li><p>
        <code class="literal">REPAIR TABLE</code> did not invalidate query results
        in the query cache that were generated from the table.
       (<a href="http://bugs.mysql.com/8480" target="_top">Bug#8480</a>)</p></li><li><p>
        Fixed <code class="literal">LOAD INDEX</code> statement to actually load
        index in memory.
       (<a href="http://bugs.mysql.com/8452" target="_top">Bug#8452</a>)</p></li><li><p>
        If multiple semicolon-separated statements were received in a
        single packet, they were written to the binary log as a single
        event rather than as separate per-statement events. For a server
        serving as a replication master, this caused replication to fail
        when the event was sent to slave servers.
       (<a href="http://bugs.mysql.com/8436" target="_top">Bug#8436</a>)</p></li><li><p>
        Fixed a bug in replication that caused the master to stamp
        generated statements (such as <code class="literal">SET</code> commands)
        with an <code class="literal">error_code</code> intended only for another
        statement. This could happen, for example, when a statements
        generates a duplicate key error on the master but must be
        replicated.
       (<a href="http://bugs.mysql.com/8412" target="_top">Bug#8412</a>)</p></li><li><p>
        For a stored function that refers to a given table, invoking the
        function while selecting from the same table resulted in a
        server crash.
       (<a href="http://bugs.mysql.com/8405" target="_top">Bug#8405</a>)</p></li><li><p>
        Comparison of a <code class="literal">DECIMAL</code> column containing
        <code class="literal">NULL</code> to a subquery that produced
        <code class="literal">DECIMAL</code> values resulted in a server crash.
       (<a href="http://bugs.mysql.com/8397" target="_top">Bug#8397</a>)</p></li><li><p>
        Fixed a server crash caused by <code class="literal">DELETE FROM
        <em class="replaceable"><code>tbl_name</code></em> ... WHERE ... ORDER BY
        <em class="replaceable"><code>tbl_name</code></em>.<em class="replaceable"><code>col_name</code></em>
        </code> when the <code class="literal">ORDER BY</code> column was
        qualified with the table name.
       (<a href="http://bugs.mysql.com/8392" target="_top">Bug#8392</a>)</p></li><li><p>
        Stored functions that used cursors could return incorrect
        results.
       (<a href="http://bugs.mysql.com/8386" target="_top">Bug#8386</a>)</p></li><li><p>
        Fixed a problem with the Cyrillic letters I and SHORT I being
        treated the same by the <code class="literal">utf8_general_ci</code>
        collation.
       (<a href="http://bugs.mysql.com/8385" target="_top">Bug#8385</a>)</p></li><li><p>
        Fixed a problem with boolean full-text searches on
        <code class="literal">utf8</code> columns where a double quote in the
        search string caused a server crash.
       (<a href="http://bugs.mysql.com/8351" target="_top">Bug#8351</a>)</p></li><li><p>
        The <code class="option">--set-character-set</code> option for
        <span><strong class="command">myisamchk</strong></span> was changed to
        <code class="option">--set-collation</code>. The value needed for
        specifying how to sort indexes is a collation name, not a
        character set name.
       (<a href="http://bugs.mysql.com/8349" target="_top">Bug#8349</a>)</p></li><li><p>
        Corruption of <code class="literal">MyISAM</code> table indexes could
        occur with <code class="literal">TRUNCATE TABLE</code> if the table had
        already been opened. For example, this was possible if the table
        had been opened implicitly by selecting from a
        <code class="literal">MERGE</code> table that mapped to the
        <code class="literal">MyISAM</code> table. The server now issues an error
        message for <code class="literal">TRUNCATE TABLE</code> under these
        conditions.
       (<a href="http://bugs.mysql.com/8306" target="_top">Bug#8306</a>)</p></li><li><p>
        For a query with both <code class="literal">GROUP BY</code> and
        <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> clauses and a
        <code class="literal">FROM</code> clause with a subquery,
        <code class="literal">NULL</code> was returned for any
        <code class="literal">VARCHAR</code> column selected by the subquery.
       (<a href="http://bugs.mysql.com/8218" target="_top">Bug#8218</a>)</p></li><li><p>
        Selecting from an <code class="literal">INFORMATION_SCHEMA</code> table
        combined with a subquery on an
        <code class="literal">INFORMATION_SCHEMA</code> table caused an error with
        the message <code class="literal">Table <em class="replaceable"><code>tbl_name</code></em>
        is corrupted</code>.
       (<a href="http://bugs.mysql.com/8164" target="_top">Bug#8164</a>)</p></li><li><p>
        Fixed handling of table-name matching in
        <span><strong class="command">mysqlhotcopy</strong></span> to accommodate
        <code class="literal">DBD::mysql</code> 2.9003 and up (which implement
        identifier quoting).
       (<a href="http://bugs.mysql.com/8136" target="_top">Bug#8136</a>)</p></li><li><p>
        Fixed server crash resulting from re-execution of prepared
        statements containing subqueries.
       (<a href="http://bugs.mysql.com/8125" target="_top">Bug#8125</a>)</p></li><li><p>
        Fixed a problem with equality propagation optimization for
        prepared statements and stored procedures that caused a server
        crash upon re-execution of the prepared statement or stored
        procedure.
       (<a href="http://bugs.mysql.com/8115" target="_top">Bug#8115</a>, <a href="http://bugs.mysql.com/8849" target="_top">Bug#8849</a>)</p></li><li><p>
        If the slave was running with
        <code class="option">--replicate-*-table</code> options which excluded one
        temporary table and included another, and the two tables were
        used in a single <code class="literal">DROP TEMPORARY TABLE IF
        EXISTS</code> statement, as the ones the master automatically
        writes to its binary log upon client's disconnection when client
        has not explicitly dropped these, the slave could forget to
        delete the included replicated temporary table. Only the slave
        needs to be upgraded.
       (<a href="http://bugs.mysql.com/8055" target="_top">Bug#8055</a>)</p></li><li><p>
        Selecting from a view defined as a join caused a server crash if
        the query cache was enabled.
       (<a href="http://bugs.mysql.com/8054" target="_top">Bug#8054</a>)</p></li><li><p>
        Results in the query cache generated from a view were not
        properly invalidated after <code class="literal">ALTER VIEW</code> or
        <code class="literal">DROP VIEW</code> on that view.
       (<a href="http://bugs.mysql.com/8050" target="_top">Bug#8050</a>)</p></li><li><p>
        Creating a table using a name containing a character that is
        illegal in <code class="literal">character_set_client</code> resulted in
        the character being stripped from the name and no error. The
        character now is considered an error.
       (<a href="http://bugs.mysql.com/8041" target="_top">Bug#8041</a>)</p></li><li><p>
        Certain correlated subqueries with forward references (referring
        to an alias defined later in the outer query) could crash the
        server.
       (<a href="http://bugs.mysql.com/8025" target="_top">Bug#8025</a>)</p></li><li><p>
        Corrected a problem with references to <code class="literal">DUAL</code>
        where statements such as <code class="literal">SELECT 1 AS a FROM
        DUAL</code> would succeed but statements such as
        <code class="literal">SELECT 1 AS a FROM DUAL LIMIT 1</code> would fail.
       (<a href="http://bugs.mysql.com/8023" target="_top">Bug#8023</a>)</p></li><li><p>
        Fixed server crash in comparing a nested row expression (for
        example <code class="literal">row(1,(2,3))</code>) with a subquery.
       (<a href="http://bugs.mysql.com/8022" target="_top">Bug#8022</a>)</p></li><li><p>
        The number of columns in a row comparison against a subquery was
        calculated incorrectly.
       (<a href="http://bugs.mysql.com/8020" target="_top">Bug#8020</a>)</p></li><li><p>
        <span><strong class="command">mysqldump</strong></span> now avoids writing <code class="literal">SET
        NAMES</code> to the dump output if the server is older than
        version 4.1 and would not understand that statement.
       (<a href="http://bugs.mysql.com/7997" target="_top">Bug#7997</a>)</p></li><li><p>
        A deadlock could occur on an update followed by a
        <code class="literal">SELECT</code> on an <code class="literal">InnoDB</code> table
        without any explicit locks being taken.
        <code class="literal">InnoDB</code> now takes an exclusive lock when
        <code class="literal">INSERT ON DUPLICATE KEY UPDATE</code> is checking
        duplicate keys.
       (<a href="http://bugs.mysql.com/7975" target="_top">Bug#7975</a>)</p></li><li><p>
        A slave running MySQL 3.23.51 or newer hung while trying to
        connect to a master running MySQL 3.23.50 or older. (The reason
        for this was a bug in the old masters — <code class="literal">SELECT
        @@<em class="replaceable"><code>unknown_var</code></em></code> caused the
        server to hang — which was fixed in MySQL 3.23.50.)
       (<a href="http://bugs.mysql.com/7965" target="_top">Bug#7965</a>)</p></li><li><p>
        Fixed erroneous output resulting from <code class="literal">SELECT
        DISTINCT</code> combined with a subquery and <code class="literal">GROUP
        BY</code>.
       (<a href="http://bugs.mysql.com/7946" target="_top">Bug#7946</a>)</p></li><li><p>
        <a href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a> returned an
        incorrect value after a <code class="literal">SELECT SQL_CALC_FOUND_ROWS
        DISTINCT</code> statement that selected constants and
        included <code class="literal">GROUP BY</code> and
        <code class="literal">LIMIT</code> clauses.
       (<a href="http://bugs.mysql.com/7945" target="_top">Bug#7945</a>)</p></li><li><p>
        <span><strong class="command">mysqld_safe</strong></span> now understands the
        <code class="option">--help</code> option. Previously, it ignored the
        option and attempted to start the server anyway.
       (<a href="http://bugs.mysql.com/7931" target="_top">Bug#7931</a>)</p></li><li><p>
        Fixed bug creating user with GRANT fails with password but works
        without,
       (<a href="http://bugs.mysql.com/7905" target="_top">Bug#7905</a>)</p></li><li><p>
        Fixed a bug where comparing the result of a subquery to a
        non-existent column caused a server crash on Windows.
       (<a href="http://bugs.mysql.com/7885" target="_top">Bug#7885</a>)</p></li><li><p>
        Fixed a bug where <code class="literal">ALTER TABLE</code> improperly
        would accept an index on a <code class="literal">TIMESTAMP</code> column
        that <code class="literal">CREATE TABLE</code> would reject.
       (<a href="http://bugs.mysql.com/7884" target="_top">Bug#7884</a>)</p></li><li><p>
        MySQL allowed concurrent updates (including inserts and deletes)
        to a table if binary logging was enabled. Now, all updates are
        executed in a serialized fashion, because they are executed
        serialized when the binlog is replayed.
       (<a href="http://bugs.mysql.com/7879" target="_top">Bug#7879</a>)</p></li><li><p>
        Ensured that <span><strong class="command">mysqldump --single-transaction</strong></span>
        sets its transaction isolation level to <code class="literal">REPEATABLE
        READ</code> before proceeding (otherwise if the MySQL server
        was configured to run with a default isolation level lower than
        <code class="literal">REPEATABLE READ</code> it could give an inconsistent
        dump).
       (<a href="http://bugs.mysql.com/7850" target="_top">Bug#7850</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> forgot to add backquotes around
        the collation of user variables (causing later parsing problems
        as <code class="literal">BINARY</code> is a reserved word).
       (<a href="http://bugs.mysql.com/7793" target="_top">Bug#7793</a>)</p></li><li><p>
        Fixed a bug in <code class="literal">max_heap_table_size</code> handling,
        that resulted in <code class="literal">Table is full</code> error when the
        table was still smaller than the limit. .
       (<a href="http://bugs.mysql.com/7791" target="_top">Bug#7791</a>)</p></li><li><p>
        Fixed a bug where the use of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> with
        <code class="literal">HAVING</code> caused a server crash.
       (<a href="http://bugs.mysql.com/7769" target="_top">Bug#7769</a>)</p></li><li><p>
        Fixed a bug in <a href="functions.html#function_conv"><code class="literal">CONV()</code></a> function
        returning unsigned <code class="literal">BIGINT</code> number (third
        argument is positive, and return value does not fit in 32 bits).
       (<a href="http://bugs.mysql.com/7751" target="_top">Bug#7751</a>)</p></li><li><p>
        Fixed a failure of the <a href="functions.html#function_in"><code class="literal">IN()</code></a>
        operator to return correct result if all values in the list were
        constants and some of them were using substring functions, for
        example, <a href="functions.html#function_left"><code class="literal">LEFT()</code></a>,
        <a href="functions.html#function_right"><code class="literal">RIGHT()</code></a>, or
        <a href="functions.html#function_mid"><code class="literal">MID()</code></a>.
       (<a href="http://bugs.mysql.com/7716" target="_top">Bug#7716</a>)</p></li><li><p>
        Fixed that, when encountering a “<span class="quote">disk full</span>” or
        “<span class="quote">quota exceeded</span>” write error,
        <code class="literal">MyISAM</code> sometimes didn't sleep and retry the
        write, thus resulting in a corrupted table.
       (<a href="http://bugs.mysql.com/7714" target="_top">Bug#7714</a>)</p></li><li><p>
        Fixed a crash in <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a>
        function when its second or third argument was from a
        <code class="literal">const</code> table (see <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax">Section 12.3.2, “<code class="literal">EXPLAIN</code> Syntax”</a>).
       (<a href="http://bugs.mysql.com/7705" target="_top">Bug#7705</a>)</p></li><li><p>
        The output of the <code class="literal">STATUS</code>
        (<code class="literal">\s</code>) command in <span><strong class="command">mysql</strong></span> had
        the values for the server and client character sets reversed.
       (<a href="http://bugs.mysql.com/7571" target="_top">Bug#7571</a>)</p></li><li><p>
        A <code class="literal">LEFT OUTER JOIN</code> between an empty base table
        and a view on an empty base table caused a server crash.
       (<a href="http://bugs.mysql.com/7433" target="_top">Bug#7433</a>)</p></li><li><p>
        Ordering by an unsigned expression (more complex than a column
        reference) was treating the value as signed, producing
        incorrectly sorted results. <code class="literal">HAVING</code> was also
        treating unsigned columns as signed.
       (<a href="http://bugs.mysql.com/7425" target="_top">Bug#7425</a>)</p></li><li><p>
        Fixed a bug that caused server crash if some error occurred
        during filling of temporary table created for derived table or
        view handling.
       (<a href="http://bugs.mysql.com/7413" target="_top">Bug#7413</a>)</p></li><li><p>
        Made the MySQL server accept executing <code class="literal">SHOW CREATE
        DATABASE</code> even if the connection has an open
        transaction or locked tables. Refusing it made
        <span><strong class="command">mysqldump --single-transaction</strong></span> sometimes fail
        to print a complete <code class="literal">CREATE DATABASE</code> statement
        for some dumped databases.
       (<a href="http://bugs.mysql.com/7358" target="_top">Bug#7358</a>)</p></li><li><p>
        Corrected the handling of trailing spaces in the
        <code class="literal">ucs2</code> character set.
       (<a href="http://bugs.mysql.com/7350" target="_top">Bug#7350</a>)</p></li><li><p>
        Fixed that <code class="option">--expire-log-days</code> was not honored if
        using only transactions.
       (<a href="http://bugs.mysql.com/7236" target="_top">Bug#7236</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> columns that
        contained timestamp values were of type
        <code class="literal">VARBINARY</code>. These were changed to
        <code class="literal">TIMESTAMP</code>.
       (<a href="http://bugs.mysql.com/7217" target="_top">Bug#7217</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> columns that
        contained catalog identifiers were of type
        <code class="literal">LONGTEXT</code>. These were changed to
        <code class="literal">VARCHAR(<em class="replaceable"><code>N</code></em></code>, where
        <em class="replaceable"><code>N</code></em> is the appropriate maximum
        identifier length.
       (<a href="http://bugs.mysql.com/7215" target="_top">Bug#7215</a>)</p></li><li><p>
        Use of <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> in the
        select list when selecting from a view caused a server crash.
       (<a href="http://bugs.mysql.com/7116" target="_top">Bug#7116</a>)</p></li><li><p>
        An expression that tested a case-insensitive character column
        against string constants that differed in lettercase could fail
        because the constants were treated as having a binary collation.
        (For example, <code class="literal">WHERE city='London' AND
        city='london'</code> could fail.)
       (<a href="http://bugs.mysql.com/7098" target="_top">Bug#7098</a>, <a href="http://bugs.mysql.com/8690" target="_top">Bug#8690</a>)</p></li><li><p>
        Setting the initial <code class="literal">AUTO_INCREMENT</code> value for
        an <code class="literal">InnoDB</code> table using <code class="literal">CREATE TABLE
        ... AUTO_INCREMENT = <em class="replaceable"><code>n</code></em></code> did
        not work, and <code class="literal">ALTER TABLE ... AUTO_INCREMENT =
        <em class="replaceable"><code>n</code></em></code> did not reset the current
        value.
       (<a href="http://bugs.mysql.com/7061" target="_top">Bug#7061</a>)</p></li><li><p>
        Fixed a failure of multiple-table updates to replicate properly
        on slave servers when <code class="option">--replicate-*-table</code>
        options had been specified.
       (<a href="http://bugs.mysql.com/7011" target="_top">Bug#7011</a>)</p></li><li><p>
        When setting integer system variables to a negative value with
        <code class="literal">SET VARIABLES</code>, the value was treated as a
        positive value modulo 2<sup>32</sup>.
       (<a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>)</p></li><li><p>
        Use of a view in a correlated subquery that contains
        <code class="literal">HAVING</code> but no <code class="literal">GROUP BY</code>
        caused a server crash.
       (<a href="http://bugs.mysql.com/6894" target="_top">Bug#6894</a>)</p></li><li><p>
        Fixed a bug which caused server crash if query containing
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> function with
        constant arguments was prepared.
       (<a href="http://bugs.mysql.com/6849" target="_top">Bug#6849</a>)</p></li><li><p>
        Handling by <a href="apis.html#mysql-list-fields" title="23.2.3.42. mysql_list_fields()"><code class="literal">mysql_list_fields()</code></a>
        of references to stored functions within views was incorrect and
        could result in a server crash.
       (<a href="http://bugs.mysql.com/6814" target="_top">Bug#6814</a>)</p></li><li><p>
        A sequence of <code class="literal">BEGIN</code> (or <code class="literal">SET
        AUTOCOMMIT=0</code>), <code class="literal">FLUSH TABLES WITH READ
        LOCK</code>, transactional update, <code class="literal">COMMIT</code>,
        <code class="literal">FLUSH TABLES WITH READ LOCK</code> could hang the
        connection forever and possibly the MySQL server itself. This
        happened for example when running the
        <code class="literal">innobackup</code> script several times.
       (<a href="http://bugs.mysql.com/6732" target="_top">Bug#6732</a>)</p></li><li><p>
        Prevent adding <code class="literal">CREATE TABLE .. SELECT</code> query
        to the binary log when the insertion of new records partially
        failed.
       (<a href="http://bugs.mysql.com/6682" target="_top">Bug#6682</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> did not print <code class="literal">SET
        PSEUDO_THREAD_ID</code> statements in front of <code class="literal">LOAD
        DATA INFILE</code> statements inserting into temporary
        tables, thus causing potential problems when rolling forward
        these statements after restoring a backup.
       (<a href="http://bugs.mysql.com/6671" target="_top">Bug#6671</a>)</p></li><li><p>
        If a <code class="literal">MyISAM</code> table on Windows had
        <code class="literal">INDEX DIRECTORY</code> or <code class="literal">DATA
        DIRECTORY</code> table options, <span><strong class="command">mysqldump</strong></span>
        dumped the directory pathnames with single-backslash pathname
        separators. This would cause syntax errors when importing the
        dump file. <span><strong class="command">mysqldump</strong></span> now changes “<span class="quote">
        <code class="literal">\</code> </span>” to “<span class="quote"> <code class="literal">/</code>
        </span>” in the pathnames on Windows.
       (<a href="http://bugs.mysql.com/6660" target="_top">Bug#6660</a>)</p></li><li><p>
        <code class="literal">SHOW CREATE TABLE</code> now reports
        <code class="literal">ENGINE=MEMORY</code> rather than
        <code class="literal">ENGINE=HEAP</code> for a <code class="literal">MEMORY</code>
        table (unless the <code class="literal">MYSQL323</code> SQL mode is
        enabled).
       (<a href="http://bugs.mysql.com/6659" target="_top">Bug#6659</a>)</p></li><li><p>
        Fixed an optimizer bug that caused incorrectly ordered result
        from a query that used a <code class="literal">FULLTEXT</code> index to
        retrieve rows and there was another index that was usable for
        <code class="literal">ORDER BY</code>. For such a query,
        <code class="literal">EXPLAIN</code> showed <code class="literal">fulltext</code>
        join type, but regular (not <code class="literal">FULLTEXT</code>) index
        in the <code class="literal">Key</code> column.
       (<a href="http://bugs.mysql.com/6635" target="_top">Bug#6635</a>)</p></li><li><p>
        Fixed failure of <code class="literal">CREATE TABLE ... LIKE</code>
        Windows when the source or destination table was located in a
        symlinked database directory.
       (<a href="http://bugs.mysql.com/6607" target="_top">Bug#6607</a>)</p></li><li><p>
        Retrieving from a view defined as a <code class="literal">SELECT</code>
        that mixed <code class="literal">UNION ALL</code> and <code class="literal">UNION
        DISTINCT</code> resulted in a different result than
        retrieving from the original <code class="literal">SELECT</code>.
       (<a href="http://bugs.mysql.com/6565" target="_top">Bug#6565</a>)</p></li><li><p>
        Fixed that a slave could crash after replicating many
        <code class="literal">ANALYZE TABLE</code>, <code class="literal">OPTIMIZE
        TABLE</code>, or <code class="literal">REPAIR TABLE</code> statements
        from the master.
       (<a href="http://bugs.mysql.com/6461" target="_top">Bug#6461</a>, <a href="http://bugs.mysql.com/7658" target="_top">Bug#7658</a>)</p></li><li><p>
        Fixed problems when selecting from a view that had an
        <code class="literal">EXISTS</code> or <code class="literal">NOT EXISTS</code>
        subquery. Selecting columns by name caused a server crash. With
        <code class="literal">SELECT *</code>, a crash did not occur, but columns
        in outer query were not resolved properly.
       (<a href="http://bugs.mysql.com/6394" target="_top">Bug#6394</a>)</p></li><li><p>
        Changed semantics of <code class="literal">CREATE/ALTER/DROP
        DATABASE</code> statements so that replication of
        <code class="literal">CREATE DATABASE</code> is possible when using
        <code class="option">--binlog-do-db</code> and
        <code class="option">--binlog-ignore-db</code>.
       (<a href="http://bugs.mysql.com/6391" target="_top">Bug#6391</a>)</p></li><li><p>
        Fixed problem in <code class="literal">NO_BACKSLASH_ESCAPES</code> SQL
        mode for strings that contained both the string quoting
        character and backslash.
       (<a href="http://bugs.mysql.com/6368" target="_top">Bug#6368</a>)</p></li><li><p>
        The <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> function was not
        ignoring <code class="literal">NULL</code> arguments, contrary to the
        documentation.
       (<a href="http://bugs.mysql.com/6317" target="_top">Bug#6317</a>)</p></li><li><p>
        Fixed a bug which caused a crash when only the slave I/O thread
        was stopped and started.
       (<a href="http://bugs.mysql.com/6148" target="_top">Bug#6148</a>)</p></li><li><p>
        <code class="literal">InnoDB</code>: Honor the <code class="option">--tmpdir</code>
        startup option when creating temporary files. Previously,
        <code class="literal">InnoDB</code> temporary files were always created in
        the temporary directory of the operating system. On Netware,
        <code class="literal">InnoDB</code> will continue to ignore
        <code class="option">--tmpdir</code>.
       (<a href="http://bugs.mysql.com/5822" target="_top">Bug#5822</a>)</p></li><li><p>
        A <code class="literal">HAVING</code> clause that referred to
        <a href="functions.html#function_rand"><code class="literal">RAND()</code></a> or a user-defined
        function in the <code class="literal">SELECT</code> part of a query
        through an alias could cause MySQL to crash or to return an
        incorrect value.
       (<a href="http://bugs.mysql.com/5185" target="_top">Bug#5185</a>)</p></li><li><p>
        DDL statements for views were not being written to the binary
        log (and thus not subject to replication).
       (<a href="http://bugs.mysql.com/4838" target="_top">Bug#4838</a>)</p></li><li><p>
        Platform and architecture information in version information
        produced for <code class="option">--version</code> option on Windows was
        always <code class="literal">Win95/Win98 (i32)</code>. More accurately
        determine platform as <code class="literal">Win32</code> or
        <code class="literal">Win64</code> for 32-bit or 64-bit Windows, and
        architecture as <code class="literal">ia32</code> for x86,
        <code class="literal">ia64</code> for Itanium, and <code class="literal">axp</code>
        for Alpha.
       (<a href="http://bugs.mysql.com/4445" target="_top">Bug#4445</a>)</p></li><li><p>
        Fixed that when using the <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a>
        function (or any function adding spaces to the right) in a query
        that had to be resolved by using a temporary table, all
        resulting strings had rightmost spaces removed (that is,
        <a href="functions.html#function_rpad"><code class="literal">RPAD()</code></a> did not work)
       (<a href="http://bugs.mysql.com/4048" target="_top">Bug#4048</a>)</p></li><li><p>
        Hostname matching didn't work if a netmask was specified for
        table-specific privileges.
       (<a href="http://bugs.mysql.com/3309" target="_top">Bug#3309</a>)</p></li><li><p>
        <code class="literal">mysql_fix_privilege_tables</code> now fixes that the
        <code class="literal">mysql</code> privilege tables can be used in MySQL
        4.1. This allows one to easily downgrade to 4.1 or run MySQL 5.0
        and 4.1 with the same privilege files for testing purposes.
      </p></li><li><p>
        Giving <span><strong class="command">mysqld</strong></span> a <code class="literal">SIGHUP</code>
        caused it to crash.
      </p></li><li><p>
        Fixed bug in prepared statements with
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT...)</code></a>.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: Use native
        <code class="literal">tmpfile()</code> function on Netware. All
        <code class="literal">InnoDB</code> temporary files are created under
        <code class="literal">sys:\tmp</code>. Previously,
        <code class="literal">InnoDB</code> temporary files were never deleted on
        Netware.
      </p></li><li><p>
        Fixed a symlink vulnerability in the
        <span><strong class="command">mysqlaccess</strong></span> script. Reported by Javier
        Fernandez-Sanguino Pena and
        <a href="http://www.debian.org/security/audit" target="_top">Debian
        Security Audit Team</a>.
       (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-0004" target="_top">CVE-2005-0004</a>)</p></li><li><p>
        Fixed some portability issues with overflow in floating point
        values.
      </p></li><li><p>
        Prepared statements now gives warnings on prepare.
      </p></li><li><p>
        Fixed a bug in a combination of <code class="literal">-not</code> and
        <code class="literal">trunc*</code> operators of full-text search. Using
        more than one truncated negative search term, was causing empty
        result set.
      </p></li><li><p>
        Fixed bug in prepared statements with <code class="literal">OUTER
        JOIN</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-2"></a>E.1.28. Changes in  MySQL 5.0.2 (01 December 2004)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The precedence of <code class="literal">NOT</code> operator has changed so
        that expressions such as <code class="literal">NOT a BETWEEN b AND
        c</code> are parsed correctly as <code class="literal">NOT (a BETWEEN b
        AND c)</code> rather than as <code class="literal">(NOT a) BETWEEN b AND
        c</code>. The pre-5.0 higher-precedence behavior can be
        obtained by enabling the new
        <code class="literal">HIGH_NOT_PRECEDENCE</code> SQL mode.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">SHOW STATUS</code> now shows the session
        (thread-specific) status variables and <code class="literal">SHOW GLOBAL
        STATUS</code> shows the status variables for the whole
        server.
      </p><p>
        Before MySQL 5.0.2, <code class="literal">SHOW STATUS</code> returned
        global status values. Because the default as of 5.0.2 is to
        return session values, this is incompatible with previous
        versions. To issue a <code class="literal">SHOW STATUS</code> statement
        that will retrieve global status values for all versions of
        MySQL, write it like this:
      </p><pre class="programlisting">SHOW /*!50002 GLOBAL */ STATUS;
</pre></li><li><p>
        If a write to a <code class="literal">MyISAM</code> table fails because of
        a full disk or an exceeded disk quota, it now prints a message
        to the error log every 10 minutes, and waits until disk space
        becomes available.
       (<a href="http://bugs.mysql.com/3248" target="_top">Bug#3248</a>)</p></li><li><p>
        Made the MySQL server ignore <code class="literal">SIGHUP</code> and
        <code class="literal">SIGQUIT</code> on Mac OS X 10.3. This is needed
        because under this OS, the MySQL server receives lots of these
        signals.
       (<a href="http://bugs.mysql.com/2030" target="_top">Bug#2030</a>)</p></li><li><p>
        If the server finds that the <code class="literal">user</code> table has
        not been upgraded to include the view-related privilege columns,
        it treats each account as having view privileges that are the
        same as its <code class="literal">CREATE</code> privilege.
      </p></li><li><p>
        A connection doing a rollback now displays "Rolling
        back" in the <code class="literal">State</code> column of
        <code class="literal">SHOW PROCESSLIST</code>.
      </p></li><li><p>
        Renamed the <code class="literal">sql_updatable_view_key</code> system
        variable to <code class="literal">updatable_views_with_limit</code>. This
        variable now can have only two values:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">1</code> or <code class="literal">YES</code>: Don't issue
            an error message (warning only) if a VIEW without presence
            of a key in the underlying table is used in queries with a
            <code class="literal">LIMIT</code> clause for updating. (This is the
            default value.)
          </p></li><li><p>
            <code class="literal">0</code> or <code class="literal">NO</code>: Prohibit
            update of a VIEW, which does not contain a key in the
            underlying table and the query uses a
            <code class="literal">LIMIT</code> clause (usually get from GUI
            tools).
          </p></li></ul></div></li><li><p>
        Reverted output format of <code class="literal">SHOW TABLES</code> to old
        pre-5.0.1 format that did not include a table type column. To
        get the additional column that lists the table type, use
        <code class="literal">SHOW FULL TABLES</code> now.
      </p></li><li><p>
        <code class="literal">CHECK TABLE</code> now works for views.
      </p></li><li><p>
        Modify <code class="literal">DROP USER</code> so that it drops the
        account, including all its privileges. Formerly, it removed the
        account record only for an account that had all privileges
        revoked.
      </p></li><li><p>
        <span><strong class="command">mysqldump --single-transaction --master-data</strong></span>
        is now able to take an online (non-blocking) dump of
        <code class="literal">InnoDB</code> and report the corresponding binary
        log coordinates, which makes a backup suitable for point-in-time
        recovery, roll-forward or replication slave creation. See
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span><strong class="command">mysqldump</strong></span> — A Database Backup Program”</a>.
      </p></li><li><p>
        <code class="literal">0</code> or <code class="literal">NO</code>: Prohibit update
        of a VIEW, which does not contain a key in the underlying table
        and the query uses a <code class="literal">LIMIT</code> clause (usually
        get from GUI tools).
      </p></li><li><p>
        We now detect too-large floating point numbers during statement
        parsing and generate an error messages for them.
      </p></li><li><p>
        New <code class="option">--auto-increment-increment</code> and
        <code class="option">--auto-increment-offset</code> startup options. These
        allow you to set up a server to generate auto-increment values
        that don't conflict with another server.
      </p></li><li><p>
        Added the <code class="literal">CREATE USER</code> and <code class="literal">RENAME
        USER</code> statements.
      </p></li><li><p>
        MySQL now by default checks dates and in strict mode allows only
        fully correct dates. If you want MySQL to behave as before, you
        should enable the new <code class="literal">ALLOW_INVALID_DATES</code> SQL
        mode.
      </p></li><li><p>
        Added <code class="literal">NO_AUTO_CREATE_USER</code> SQL mode to prevent
        <code class="literal">GRANT</code> from automatically creating new users
        if it would otherwise do so, unless a password also is
        specified.
      </p></li><li><p>
        MySQL now remembers which columns were declared to have default
        values. In
        <code class="literal">STRICT_TRANS_TABLES</code>/<code class="literal">STRICT_ALL_TABLES</code>
        mode, you now get an error if you do an
        <code class="literal">INSERT</code> without specifying all columns that
        don't have a default value. A side effect of this is that when
        you do <code class="literal">SHOW CREATE</code> for a new table, you no
        longer see a <code class="literal">DEFAULT</code> value for a column for
        which you didn't specify a default value.
      </p></li><li><p>
        <code class="literal">InnoDB</code>: If you specify the option
        <code class="literal">innodb_locks_unsafe_for_binlog</code> in
        <code class="filename">my.cnf</code>, <code class="literal">InnoDB</code> in an
        <code class="literal">UPDATE</code> or a <code class="literal">DELETE</code> only
        locks the rows that it updates or deletes. This greatly reduces
        the probability of deadlocks.
      </p></li><li><p>
        A <code class="literal">HAVING</code> clause in a
        <code class="literal">SELECT</code> statement now can refer to columns in
        the <code class="literal">GROUP BY</code> clause, as required by standard
        SQL.
      </p></li><li><p>
        The <code class="literal">SCHEMA</code> and <code class="literal">SCHEMAS</code>
        keywords are now accepted as synonyms for
        <code class="literal">DATABASE</code> and <code class="literal">DATABASES</code>.
      </p></li><li><p>
        Added several <code class="literal">InnoDB</code> status variables. See
        <a href="server-administration.html#server-status-variables" title="5.1.5. Status Variables">Section 5.1.5, “Status Variables”</a>.
      </p></li><li><p>
        Added <code class="literal">STRICT_TRANS_TABLES</code>,
        <code class="literal">STRICT_ALL_TABLES</code>,
        <code class="literal">NO_ZERO_IN_DATE</code>,
        <code class="literal">NO_ZERO_DATE</code>,
        <code class="literal">ERROR_FOR_DIVISION_BY_ZERO</code>, and
        <code class="literal">TRADITIONAL</code> SQL modes. The
        <code class="literal">TRADITIONAL</code> mode is shorthand for all the
        preceding modes. When using mode <code class="literal">TRADITIONAL</code>,
        MySQL generates an error if you try to insert a wrong value in a
        column. It does not adjust the value to the closest possible
        legal value.
      </p></li><li><p>
        The <span><strong class="command">mysql_fix_privilege_tables</strong></span> script now
        initializes the global <code class="literal">CREATE VIEW</code> and
        <code class="literal">SHOW VIEW</code> privileges in the
        <code class="literal">user</code> table to the value of the
        <code class="literal">CREATE</code> privilege in that table.
      </p></li><li><p>
        <code class="literal">1</code> or <code class="literal">YES</code>: Don't issue an
        error message (warning only) if a VIEW without presence of a key
        in the underlying table is used in queries with a
        <code class="literal">LIMIT</code> clause for updating. (This is the
        default value.)
      </p></li><li><p>
        The compilation flag <code class="literal">DONT_USE_DEFAULT_FIELDS</code>
        was removed because you can get the same behavior by setting the
        <code class="literal">sql_mode</code> system variable to
        <code class="literal">STRICT_TRANS_TABLES</code>.
      </p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> now prints an informative
        commented line (thread id, timestamp, server id, and so forth)
        before each <code class="literal">LOAD DATA INFILE</code>, like it does
        for other queries; unless <code class="option">--short-form</code> is used.
      </p></li><li><p>
        Two new server system variables were introduced.
        <code class="literal">auto_increment_increment</code> and
        <code class="literal">auto_increment_offset</code> can be set locally or
        globally, and are intended for use in controlling the behavior
        of <code class="literal">AUTO_INCREMENT</code> columns in master-to-master
        replication. Note that these variables are not intended to take
        the place of sequences. See
        <a href="server-administration.html#server-system-variables" title="5.1.3. System Variables">Section 5.1.3, “System Variables”</a>.
      </p></li><li><p>
        Added <code class="literal">IS [NOT] <em class="replaceable"><code>boolean_value</code></em>
        </code> syntax, where
        <em class="replaceable"><code>boolean_value</code></em> is
        <code class="literal">TRUE</code>, <code class="literal">FALSE</code>, or
        <code class="literal">UNKNOWN</code>.
      </p></li><li><p>
        Added <code class="option">--start-datetime</code>,
        <code class="option">--stop-datetime</code>,
        <code class="option">--start-position</code>,
        <code class="option">--stop-position</code> options to
        <span><strong class="command">mysqlbinlog</strong></span> (makes point-in-time recovery
        easier).
      </p></li><li><p>
        Added initial support for rudimentary triggers (the
        <code class="literal">CREATE TRIGGER</code> and <code class="literal">DROP
        TRIGGER</code> statements).
      </p></li><li><p>
        Added basic support for read-only server side cursors.
      </p></li><li><p>
        Implemented the <code class="literal">WITH CHECK OPTION</code> clause for
        <code class="literal">CREATE VIEW</code>.
      </p></li><li><p>
        Added support for the <code class="literal">INFORMATION_SCHEMA</code>
        “<span class="quote">information database</span>” that provides database
        metadata. See <a href="information-schema.html" title="Chapter 21. INFORMATION_SCHEMA Tables">Chapter 21, <i><code class="literal">INFORMATION_SCHEMA</code> Tables</i></a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed a bug which prevented <span><strong class="command">mysqlbinlog</strong></span> from
        being able to read from <code class="literal">stdin</code>, for example,
        when piping the output from <span><strong class="command">zcat</strong></span> to
        <span><strong class="command">mysqlbinlog</strong></span>.
       (<a href="http://bugs.mysql.com/7853" target="_top">Bug#7853</a>)</p></li><li><p>
        If a connection was interrupted by a network error and did a
        rollback, the network error code got stored into the
        <code class="literal">BEGIN</code> and <code class="literal">ROLLBACK</code> binary
        log events; that caused superfluous slave stops.
       (<a href="http://bugs.mysql.com/6522" target="_top">Bug#6522</a>)</p></li><li><p>
        Fixed problem introduced in MySQL 4.0.21 where a connection
        starting a transaction, doing updates, then <code class="literal">FLUSH
        TABLES WITH READ LOCK</code>, followed by
        <code class="literal">COMMIT</code>, would cause replication slaves to
        stop (error 1223). This issue occurred when using the
        <code class="literal">InnoDB</code> <span><strong class="command">innobackup</strong></span> script.
       (<a href="http://bugs.mysql.com/5949" target="_top">Bug#5949</a>)</p></li><li><p>
        If a connection had an open transaction but had done no updates
        to transactional tables (for example if had just done a
        <code class="literal">SELECT FOR UPDATE</code> then executed a
        non-transactional update, that update automatically committed
        the transaction (thus releasing InnoDB's row-level locks etc).
       (<a href="http://bugs.mysql.com/5714" target="_top">Bug#5714</a>)</p></li><li><p>
        Fixed that if the slave SQL thread found a syntax error in a
        query (which should be rare, as the master parsed it
        successfully), it stops.
       (<a href="http://bugs.mysql.com/5711" target="_top">Bug#5711</a>)</p></li><li><p>
        Fixed slave SQL thread so that the <code class="literal">SET
        COLLATION_SERVER...</code> statements it replicates don't
        advance its position (so that if it gets interrupted before the
        actual update query, it later redoes the
        <code class="literal">SET</code>).
       (<a href="http://bugs.mysql.com/5705" target="_top">Bug#5705</a>)</p></li><li><p>
        <code class="literal">OPTIMIZE TABLE</code>, <code class="literal">REPAIR
        TABLE</code>, and <code class="literal">ANALYZE TABLE</code> are now
        replicated without any error code in the binary log.
       (<a href="http://bugs.mysql.com/5551" target="_top">Bug#5551</a>)</p></li><li><p>
        Fixed that <code class="literal">disable-local-infile</code> option had no
        effect if client read it from a configuration file using
        <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options(...,MYSQL_READ_DEFAULT,...)</code></a>.
       (<a href="http://bugs.mysql.com/5073" target="_top">Bug#5073</a>)</p></li><li><p>
        Fixed that <code class="literal">SET GLOBAL SYNC_BINLOG</code> did not
        work on some platforms (Mac OS X).
       (<a href="http://bugs.mysql.com/5064" target="_top">Bug#5064</a>)</p></li><li><p>
        Fixed that <span><strong class="command">mysql-test-run</strong></span> failed on the
        <code class="literal">rpl_trunc_binlog</code> test if running test from
        the installed (the target of 'make install') directory.
       (<a href="http://bugs.mysql.com/5050" target="_top">Bug#5050</a>)</p></li><li><p>
        Fixed that
        <a href="apis.html#mysql-options" title="23.2.3.49. mysql_options()"><code class="literal">mysql_options(...,MYSQL_OPT_LOCAL_INFILE,...)</code></a>
        failed to disable <code class="literal">LOAD DATA LOCAL INFILE</code>.
       (<a href="http://bugs.mysql.com/5038" target="_top">Bug#5038</a>)</p></li><li><p>
        The counter for an <code class="literal">AUTO_INCREMENT</code> column was
        not reset by <code class="literal">TRUNCATE TABLE</code> if the table was
        a temporary one.
       (<a href="http://bugs.mysql.com/5033" target="_top">Bug#5033</a>)</p></li><li><p>
        Fixed that <code class="literal">CREATE TABLE ... TYPE=HEAP ... AS
        SELECT...</code> caused replication slave to stop.
       (<a href="http://bugs.mysql.com/4971" target="_top">Bug#4971</a>)</p></li><li><p>
        <code class="literal">FLUSH TABLES WITH READ LOCK</code> now blocks
        <code class="literal">COMMIT</code> statements if the server is running
        with binary logging enabled; this ensures that the binary log
        position is trustable when doing a full backup of tables and the
        binary log.
       (<a href="http://bugs.mysql.com/4953" target="_top">Bug#4953</a>)</p></li><li><p>
        Fixed a crash when one connection got <code class="literal">KILL</code>ed
        while it was doing <code class="literal">START SLAVE</code>.
       (<a href="http://bugs.mysql.com/4827" target="_top">Bug#4827</a>)</p></li><li><p>
        Fixed an unlikely deadlock which could happen when using
        <code class="literal">KILL</code>.
       (<a href="http://bugs.mysql.com/4810" target="_top">Bug#4810</a>)</p></li><li><p>
        Fixed that <span><strong class="command">mysql-test-run</strong></span> failed on the
        <code class="literal">grant_cache</code> test when run as Unix user
        'root'.
       (<a href="http://bugs.mysql.com/4678" target="_top">Bug#4678</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span>
        sometimes could not accept 2 binary logs in a single invocation.
       (<a href="http://bugs.mysql.com/4507" target="_top">Bug#4507</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog --position
        --read-from-remote-server</strong></span> had incorrect output for
        <code class="literal"># at <em class="replaceable"><code>log_pos</code></em></code>.
       (<a href="http://bugs.mysql.com/4506" target="_top">Bug#4506</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-1"></a>E.1.29. Changes in  MySQL 5.0.1 (27 July 2004)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        This build passes our test suite and fixes a lot of reported
        bugs found in the previous 5.0.0 release. However, please be
        aware that this is not a “<span class="quote">standard MySQL build</span>” in
        the sense that there are still some open critical bugs in our
        bugs database at <a href="http://bugs.mysql.com/" target="_top">http://bugs.mysql.com/</a> that
        affect this release as well. We are actively fixing these and
        will make a new release where these are fixed as soon as
        possible. However, this binary should be a good candidate for
        testing new MySQL 5.0 features for future products.
      </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        C API change: <a href="apis.html#mysql-shutdown" title="23.2.3.65. mysql_shutdown()"><code class="literal">mysql_shutdown()</code></a>
        now requires a second argument. This is a source-level
        incompatibility that affects how you compile client programs; it
        does not affect the ability of compiled clients to communicate
        with older servers. See <a href="apis.html#mysql-shutdown" title="23.2.3.65. mysql_shutdown()">Section 23.2.3.65, “<code class="literal">mysql_shutdown()</code>”</a>.
      </p></li><li><p>
        Fixed <code class="literal">SHOW TABLES</code> output field name and
        values according to standard. Field name changed from
        <code class="literal">Type</code> to <code class="literal">table_type</code>, values
        are <code class="literal">BASE TABLE</code>, <code class="literal">VIEW</code> and
        <code class="literal">ERROR</code>.
       (<a href="http://bugs.mysql.com/4603" target="_top">Bug#4603</a>)</p></li><li><p>
        For replication of <code class="literal">MEMORY</code>
        (<code class="literal">HEAP</code>) tables: Made the master automatically
        write a <code class="literal">DELETE FROM</code> statement to its binary
        log when a <code class="literal">MEMORY</code> table is opened for the
        first time since the master's startup. This is for the case
        where the slave has replicated a non-empty
        <code class="literal">MEMORY</code> table, and then the master is shut
        down and restarted: the table is now empty on the master; the
        <code class="literal">DELETE FROM</code> empties it on the slave as well.
      </p><p>
        Even with this fix, between the master's restart and the first
        use of the table on master, the slave still has out-of-date data
        in the table. However, if you use the
        <code class="option">--init-file</code> option to populate the
        <code class="literal">MEMORY</code> table on the master at startup, it
        ensures that the failing time interval is zero.
       (<a href="http://bugs.mysql.com/2477" target="_top">Bug#2477</a>)</p></li><li><p>
        Added <code class="literal">Last_query_cost</code> status variable that
        reports optimizer cost for last compiled query.
      </p></li><li><p>
        Changed that when the MySQL server has binary logging disabled
        (that is, no <code class="option">--log-bin</code> option was used), then
        no transaction binary log cache is allocated for connections.
        This should save <code class="literal">binlog_cache_size</code> bytes of
        memory (32KB by default) for every connection.
      </p></li><li><p>
        Implemented a new “<span class="quote">greedy search</span>” optimizer that
        can significantly reduce the time spent on query optimization
        for some many-table joins. (You are affected if not only some
        particular <code class="literal">SELECT</code> is slow, but even using
        <code class="literal">EXPLAIN</code> for it takes a noticeable amount of
        time.) Two new system variables,
        <code class="literal">optimizer_search_depth</code> and
        <code class="literal">optimizer_prune_level</code>, can be used to
        fine-tune optimizer behavior.
      </p></li><li><p>
        <code class="literal">OPTIMIZE TABLE</code> for <code class="literal">InnoDB</code>
        tables is now mapped to <code class="literal">ALTER TABLE</code> instead
        of <code class="literal">ANALYZE TABLE</code>. This rebuilds the table,
        which updates index statistics and frees space in the clustered
        index.
      </p></li><li><p>
        When a session having open temporary tables terminates, the
        statement automatically written to the binary log is now
        <code class="literal">DROP TEMPORARY TABLE IF EXISTS</code> instead of
        <code class="literal">DROP TEMPORARY TABLE</code>, for more robustness.
      </p></li><li><p>
        Added support for read-only and updatable views based on a
        single table or other updatable views. View use requires that
        you upgrade your grant tables to add the view-related
        privileges. See <a href="programs.html#mysql-fix-privilege-tables" title="4.4.5. mysql_fix_privilege_tables — Upgrade MySQL System Tables">Section 4.4.5, “<span><strong class="command">mysql_fix_privilege_tables</strong></span> — Upgrade MySQL System Tables”</a>.
      </p></li><li><p>
        Added the <code class="literal">sql_updatable_view_key</code> system
        variable.
      </p></li><li><p>
        The MySQL server now returns an error if <code class="literal">SET
        SQL_LOG_BIN</code> is issued by a user without the
        <code class="literal">SUPER</code> privilege (in previous versions it just
        silently ignored the statement in this case).
      </p></li><li><p>
        When a database is dropped, all routines belonging to that
        database are also dropped.
      </p></li><li><p>
        Added the <code class="option">--to-last-log</code> option to
        <span><strong class="command">mysqlbinlog</strong></span>, for use in conjunction with
        <code class="option">--read-from-remote-server</code>.
      </p></li><li><p>
        Added the <code class="option">--innodb-safe-binlog</code> server option,
        which adds consistency guarantees between the content of
        <code class="literal">InnoDB</code> tables and the binary log. See
        <a href="server-administration.html#binary-log" title="5.2.3. The Binary Log">Section 5.2.3, “The Binary Log”</a>.
      </p></li><li><p>
        <code class="literal">sync_frm</code> is now a settable global variable
        (not only a startup option).
      </p></li><li><p>
        Added the <code class="option">--replicate-same-server-id</code> server
        option.
      </p></li><li><p>
        Explicit <code class="literal">USE <em class="replaceable"><code>db_name</code></em>
        </code> statements no longer are allowed in a stored
        procedure.
      </p></li><li><p>
        Added the <code class="literal">sync_binlog=N</code> global variable and
        startup option, which makes the MySQL server synchronize its
        binary log to disk (<code class="literal">fdatasync()</code>) after every
        Nth write to the binary log.
      </p></li><li><p>
        Killing a <code class="literal">CHECK TABLE</code> statement does not
        result in the table being marked as “<span class="quote">corrupted</span>” any
        more; the table remains as if <code class="literal">CHECK TABLE</code> had
        not even started. See <a href="sql-syntax.html#kill" title="12.5.5.3. KILL Syntax">Section 12.5.5.3, “<code class="literal">KILL</code> Syntax”</a>.
      </p></li><li><p>
        Changed the slave SQL thread to print less useless error
        messages (no more message duplication; no more messages when an
        error is skipped because of
        <code class="literal">slave-skip-errors</code>).
      </p></li><li><p>
        When executed from another database, an implicit <code class="literal">USE
        <em class="replaceable"><code>db_name</code></em></code> is in effect.
      </p></li><li><p>
        When installing a MySQL server as a Windows service, the
        installation command can include a
        <code class="option">--local-service</code> option following the service
        name to cause the server to run using the
        <code class="literal">LocalService</code> Windows account that has limited
        privileges. This is in addition to the
        <code class="option">--defaults-file</code> option that also can be given
        following the service name.
      </p></li><li><p>
        <code class="literal">DROP DATABASE IF EXISTS</code>, <code class="literal">DROP TABLE
        IF EXISTS</code>, single-table <code class="literal">DELETE</code>, and
        single-table <code class="literal">UPDATE</code> now are written to the
        binary log even if they changed nothing on the master (for
        example, even if a <code class="literal">DELETE</code> matched no rows).
        The old behavior sometimes caused bad surprises in replication
        setups.
      </p></li><li><p>
        Procedure names may be qualified, for example,
        <code class="literal">db.p()</code>
      </p></li><li><p>
        Replication and <span><strong class="command">mysqlbinlog</strong></span> now have better
        support for the case that the session character set and
        collation variables are changed within a given session. See
        <a href="replication.html#replication-features" title="15.3.1. Replication Features and Issues">Section 15.3.1, “Replication Features and Issues”</a>.
      </p></li><li><p>
        A stored procedure is no longer “<span class="quote">global.</span>” That is,
        it now belongs to a specific database:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            When a database is dropped, all routines belonging to that
            database are also dropped.
          </p></li><li><p>
            Procedure names may be qualified, for example,
            <code class="literal">db.p()</code>
          </p></li><li><p>
            When executed from another database, an implicit
            <code class="literal">USE <em class="replaceable"><code>db_name</code></em></code> is
            in effect.
          </p></li><li><p>
            Explicit <code class="literal">USE <em class="replaceable"><code>db_name</code></em>
            </code> statements no longer are allowed in a stored
            procedure.
          </p></li></ul></div><p>
        See <a href="stored-procedures.html" title="Chapter 18. Stored Procedures and Functions">Chapter 18, <i>Stored Procedures and Functions</i></a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Replication</strong></span>: 
        Complex expressions using <code class="literal">AND</code>,
        <code class="literal">OR</code>, or both could result in a crash if the
        query containing the expression query was ignored, either by a
        replication server due to <code class="option">--replicate-*-table</code>
        rules, or by any MySQL server due to a syntax error.
       (<a href="http://bugs.mysql.com/3969" target="_top">Bug#3969</a>, <a href="http://bugs.mysql.com/4494" target="_top">Bug#4494</a>)</p></li><li><p>
        Fixed that when a multiple-table <code class="literal">DROP TABLE</code>
        failed to drop a table on the master server, the error code was
        not written to the binary log.
       (<a href="http://bugs.mysql.com/4553" target="_top">Bug#4553</a>)</p></li><li><p>
        If <code class="literal">CREATE TEMPORARY TABLE t SELECT</code> failed
        while loading the data, the temporary table was not dropped.
       (<a href="http://bugs.mysql.com/4551" target="_top">Bug#4551</a>)</p></li><li><p>
        When the slave SQL thread was replicating a <code class="literal">LOAD DATA
        INFILE</code> statement, it didn't show the statement in the
        output of <code class="literal">SHOW PROCESSLIST</code>.
       (<a href="http://bugs.mysql.com/4326" target="_top">Bug#4326</a>)</p></li><li><p>
        <span><strong class="command">mysql_fix_privilege_tables</strong></span> did not handle the
        <code class="option">--password=<em class="replaceable"><code>password_val</code></em></code>
        option correctly.
       (<a href="http://bugs.mysql.com/4240" target="_top">Bug#4240</a>, <a href="http://bugs.mysql.com/4543" target="_top">Bug#4543</a>)</p></li><li><p>
        Made <code class="literal">DROP DATABASE</code> honor the value of
        <code class="literal">lower_case_table_names</code>.
       (<a href="http://bugs.mysql.com/4066" target="_top">Bug#4066</a>)</p></li><li><p>
        During the installation process of the server RPM on Linux, if
        <span><strong class="command">mysqld</strong></span> was run as the <code class="literal">root</code>
        system user and with <code class="option">--log-bin</code> pointing to a
        directory outside of <code class="filename">/var/lib/mysql</code>, it
        created binary log files owned by <code class="literal">root</code> in
        this directory, which remained owned by <code class="literal">root</code>
        after the installation. Now <span><strong class="command">mysqld</strong></span> is started
        as the <code class="literal">mysql</code> system user instead.
       (<a href="http://bugs.mysql.com/4038" target="_top">Bug#4038</a>)</p></li><li><p>
        Fixed potential memory overrun in
        <a href="apis.html#mysql-real-connect" title="23.2.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> (which
        required a compromised DNS server and certain operating
        systems).
       (<a href="http://bugs.mysql.com/4017" target="_top">Bug#4017</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> didn't escape the string content
        of user variables, and did not deal well when these variables
        were in non-ASCII character sets; this is now fixed by always
        printing the string content of user variables in hexadecimal.
        The character set and collation of the string is now also
        printed.
       (<a href="http://bugs.mysql.com/3875" target="_top">Bug#3875</a>)</p></li><li><p>
        The slave SQL thread refused to replicate <code class="literal">INSERT ...
        SELECT</code> if it examined more than 4 billion rows.
       (<a href="http://bugs.mysql.com/3871" target="_top">Bug#3871</a>)</p></li><li><p>
        If <code class="literal">server-id</code> was not set using startup
        options but with <code class="literal">SET GLOBAL</code>, the replication
        slave still complained that it was not set.
       (<a href="http://bugs.mysql.com/3829" target="_top">Bug#3829</a>)</p></li><li><p>
        Fixed a crash of the MySQL slave server when it was built with
        <code class="option">--with-debug</code> and replicating itself.
       (<a href="http://bugs.mysql.com/3568" target="_top">Bug#3568</a>)</p></li><li><p>
        Multiple-table <code class="literal">DELETE</code> statements were always
        replicated by the slave if there were some
        <code class="option">--replicate-*-ignore-table</code> options and no
        <code class="option">--replicate-*-do-table</code> options.
       (<a href="http://bugs.mysql.com/3461" target="_top">Bug#3461</a>)</p></li><li><p>
        Memory could be corrupted by replicating a <code class="literal">LOAD DATA
        INFILE</code> from a MySQL 3.23 master. Some less critical
        issues remain; see <a href="replication.html#replication-features" title="15.3.1. Replication Features and Issues">Section 15.3.1, “Replication Features and Issues”</a>.
       (<a href="http://bugs.mysql.com/3422" target="_top">Bug#3422</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog</strong></span> failed to print a
        <code class="literal">USE</code> statement under those rare circumstances
        where the binary log contained a <code class="literal">LOAD DATA
        INFILE</code> statement.
       (<a href="http://bugs.mysql.com/3415" target="_top">Bug#3415</a>)</p></li><li><p>
        Fixed a rare error condition that caused the slave SQL thread
        spuriously to print the message <code class="literal">Binlog has bad magic
        number</code> and stop when it was not necessary to do so.
       (<a href="http://bugs.mysql.com/3401" target="_top">Bug#3401</a>)</p></li><li><p>
        Fixed that in some replication error messages, a very long query
        caused the rest of the message to be invisible (truncated), by
        putting the query last in the message.
       (<a href="http://bugs.mysql.com/3357" target="_top">Bug#3357</a>)</p></li><li><p>
        Fixed <span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span>
        to print the exact positions of events in the "at #"
        lines.
       (<a href="http://bugs.mysql.com/3214" target="_top">Bug#3214</a>)</p></li><li><p>
        <span><strong class="command">mysqlbinlog --read-from-remote-server</strong></span> read
        all binary logs following the one that was requested. It now
        stops at the end of the requested file, the same as it does when
        reading a local binary log. There is an option
        <code class="option">--to-last-log</code> to get the old behavior.
       (<a href="http://bugs.mysql.com/3204" target="_top">Bug#3204</a>)</p></li><li><p>
        Strange results with index (x, y) ... <code class="literal">WHERE
        x=<em class="replaceable"><code>val_1</code></em> AND
        y&gt;=<em class="replaceable"><code>val_2</code></em> ORDER BY
        <em class="replaceable"><code>pk</code></em>;</code>
       (<a href="http://bugs.mysql.com/3155" target="_top">Bug#3155</a>)</p></li><li><p>
        Adding <code class="literal">ORDER BY</code> to a query that uses a
        subquery can cause incorrect results.
       (<a href="http://bugs.mysql.com/3118" target="_top">Bug#3118</a>)</p></li><li><p>
        Changed that when a thread handling <code class="literal">INSERT
        DELAYED</code> (also known as a
        <code class="literal">delayed_insert</code> thread) is killed, its
        statements are recorded with an error code of value zero
        (killing such a thread does not endanger replication, so we thus
        avoid a superfluous error on the slave).
       (<a href="http://bugs.mysql.com/3081" target="_top">Bug#3081</a>)</p></li><li><p>
        Changed that when a <code class="literal">DROP TEMPORARY TABLE</code>
        statement is automatically written to the binary log when a
        session ends, the statement is recorded with an error code of
        value zero (this ensures that killing a
        <code class="literal">SELECT</code> on the master does not result in a
        superfluous error on the slave).
       (<a href="http://bugs.mysql.com/3063" target="_top">Bug#3063</a>)</p></li><li><p>
        Fixed that when a <code class="literal">Rotate</code> event is found by
        the slave SQL thread in the middle of a transaction, the value
        of <code class="literal">Relay_Log_Pos</code> in <code class="literal">SHOW SLAVE
        STATUS</code> remains correct.
       (<a href="http://bugs.mysql.com/3017" target="_top">Bug#3017</a>)</p></li><li><p>
        Corrected the master's binary log position that
        <code class="literal">InnoDB</code> reports when it is doing a crash
        recovery on a slave server.
       (<a href="http://bugs.mysql.com/3015" target="_top">Bug#3015</a>)</p></li><li><p>
        <code class="option">--replicate-wild-*-table</code> rules now apply to
        <code class="literal">ALTER DATABASE</code> when the table pattern is
        <code class="literal">%</code>, as is the case for <code class="literal">CREATE
        DATABASE</code> and <code class="literal">DROP DATABASE</code>.
       (<a href="http://bugs.mysql.com/3000" target="_top">Bug#3000</a>)</p></li><li><p>
        Fixed that a statement never triggers a superfluous error on the
        slave, if it must be excluded given the
        <code class="option">--replicate-*</code> options. The bug was that if the
        statement had been killed on the master, the slave would stop.
       (<a href="http://bugs.mysql.com/2983" target="_top">Bug#2983</a>)</p></li><li><p>
        Fixed a segmentation fault when running <code class="literal">LOAD DATA FROM
        MASTER</code> after <code class="literal">RESET SLAVE</code>.
       (<a href="http://bugs.mysql.com/2922" target="_top">Bug#2922</a>)</p></li><li><p>
        Fixed deadlock when two <code class="literal">START SLAVE</code> commands
        were run at the same time.
       (<a href="http://bugs.mysql.com/2921" target="_top">Bug#2921</a>)</p></li><li><p>
        Changed the column <code class="literal">Seconds_Behind_Master</code> in
        <code class="literal">SHOW SLAVE STATUS</code> to never show a value of
        -1.
       (<a href="http://bugs.mysql.com/2826" target="_top">Bug#2826</a>)</p></li><li><p>
        Made clearer the error message that one gets when an update is
        refused because of the <code class="option">--read-only</code> option.
       (<a href="http://bugs.mysql.com/2757" target="_top">Bug#2757</a>)</p></li><li><p>
        The MySQL server did not report any error if a statement
        (submitted through
        <a href="apis.html#mysql-real-query" title="23.2.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> or
        <a href="apis.html#mysql-stmt-prepare" title="23.2.7.20. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a>) was
        terminated by garbage characters. This can happen if you pass a
        wrong <code class="literal">length</code> parameter to these functions.
        The result was that the garbage characters were written into the
        binary log.
       (<a href="http://bugs.mysql.com/2703" target="_top">Bug#2703</a>)</p></li><li><p>
        Multiple-table <code class="literal">DELETE</code> statements were never
        replicated by the slave if there were any
        <code class="option">--replicate-*-table</code> options.
       (<a href="http://bugs.mysql.com/2527" target="_top">Bug#2527</a>)</p></li><li><p>
        <code class="literal">SLAVE START</code> (which is a deprecated syntax,
        <code class="literal">START SLAVE</code> should be used instead) could
        crash the slave.
       (<a href="http://bugs.mysql.com/2516" target="_top">Bug#2516</a>)</p></li><li><p>
        <code class="literal">ALTER DATABASE</code> caused the client to hang if
        the database did not exist.
       (<a href="http://bugs.mysql.com/2333" target="_top">Bug#2333</a>)</p></li><li><p>
        Replication: If a client connects to a slave server and issues
        an administrative statement for a table (for example,
        <code class="literal">OPTIMIZE TABLE</code> or <code class="literal">REPAIR
        TABLE</code>), this could sometimes stop the slave SQL
        thread. This does not lead to any corruption, but you must use
        <code class="literal">START SLAVE</code> to get replication going again.
       (<a href="http://bugs.mysql.com/1858" target="_top">Bug#1858</a>)</p></li><li><p>
        The <code class="option">--local-load</code> option of
        <span><strong class="command">mysqlbinlog</strong></span> now requires an argument.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-0-0"></a>E.1.30. Changes in  MySQL 5.0.0 (22 December 2003: Alpha)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> and
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> functions.
      </p></li><li><p>
        The <code class="literal">KILL</code> statement now takes
        <code class="literal">CONNECTION</code> and <code class="literal">QUERY</code>
        modifiers. The first is the same as <code class="literal">KILL</code> with
        no modifier (it kills a given connection thread). The second
        kills only the statement currently being executed by the
        connection.
      </p></li><li><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          If you upgrade to MySQL 4.1.1 or higher, it is difficult to
          downgrade back to 4.0 or 4.1.0! That is because, for earlier
          versions, <code class="literal">InnoDB</code> is not aware of multiple
          tablespaces.
        </p></div></li><li><p>
        Added support for <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a>,
        <a href="functions.html#function_min"><code class="literal">MIN(DISTINCT)</code></a>, and
        <a href="functions.html#function_max"><code class="literal">MAX(DISTINCT)</code></a>.
      </p></li><li><p>
        Basic support for stored procedures (SQL:2003 style). See
        <a href="stored-procedures.html" title="Chapter 18. Stored Procedures and Functions">Chapter 18, <i>Stored Procedures and Functions</i></a>.
      </p></li><li><p>
        The output of the <code class="literal">SHOW BINLOG EVENTS</code>
        statement has been modified. The <code class="literal">Orig_log_pos</code>
        column has been renamed to <code class="literal">End_log_pos</code> and
        now represents the offset of the last byte of the event, plus
        one.
      </p></li><li><p>
        Implemented Index Merge optimization for <code class="literal">OR</code>
        clauses. See <a href="optimization.html#index-merge-optimization" title="7.2.6. Index Merge Optimization">Section 7.2.6, “Index Merge Optimization”</a>.
      </p></li><li><p>
        Easier replication upgrade (5.0.0 masters can read older binary
        logs and 5.0.0 slaves can read older relay logs). See
        <a href="replication.html#replication-compatibility" title="15.3.2. Replication Compatibility Between MySQL Versions">Section 15.3.2, “Replication Compatibility Between MySQL Versions”</a>, for more details).
        The format of the binary log and relay log is changed compared
        to that of MySQL 4.1 and older.
      </p></li><li><p>
        For user-defined functions (UDFs), the
        <code class="literal">UDF_ARGS</code> structure now has
        <code class="literal">attributes</code> and
        <code class="literal">attribute_lengths</code> members that provide
        information about the argument names.
        <a href="extending-mysql.html#udf-arguments" title="26.2.4.3. UDF Argument Processing">Section 26.2.4.3, “UDF Argument Processing”</a>.
      </p></li><li><p>
        Added <code class="literal">WEEK</code> and <code class="literal">QUARTER</code>
        values as <code class="literal">INTERVAL</code> arguments for the
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> and
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a> functions.
      </p></li><li><p>
        The precedence of the <code class="literal">XOR</code> operator now lies
        between <code class="literal">OR</code> and <code class="literal">AND</code>.
        Previously, <code class="literal">XOR</code> had the same precedence as
        <code class="literal">OR</code>.
      </p></li><li><p>
        Added <code class="literal">SELECT INTO
        <em class="replaceable"><code>list_of_vars</code></em></code>, which can be
        of mixed (that is, global and local) types. See
        <a href="stored-procedures.html#select-into-statement" title="18.2.7.3. SELECT ... INTO Statement">Section 18.2.7.3, “<code class="literal">SELECT ... INTO</code> Statement”</a>.
      </p></li><li><p>
        New binary log format that enables replication of these session
        variables: <code class="literal">sql_mode</code>,
        <code class="literal">SQL_AUTO_IS_NULL</code>,
        <code class="literal">FOREIGN_KEY_CHECKS</code> (which was replicated
        since 4.0.14, but here it's done more efficiently and takes less
        space in the binary logs), <code class="literal">UNIQUE_CHECKS</code>.
        Other variables (like character sets,
        <code class="literal">SQL_SELECT_LIMIT</code>, ...) will be replicated in
        upcoming 5.0.x releases.
      </p></li><li><p>
        <code class="literal">LOAD DATA INFILE</code> causes an implicit commit.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          The behavior of <code class="literal">LOAD DATA INFILE</code> in this
          regard was changed again in MySQL 5.0.26. See
          <a href="news.html#news-5-0-26" title="E.1.2. Changes in  MySQL 5.0.26 (03 October 2006)">Section E.1.2, “Changes in  MySQL 5.0.26 (03 October 2006)”</a>.
        </p></div></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-cluster-change-history"></a>E.2. Changes in MySQL Cluster</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-7">E.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-6">E.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-5">E.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-4">E.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-3">E.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-5-0-1">E.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-13">E.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-12">E.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-11">E.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-10">E.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-9">E.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-8">E.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-7">E.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-6">E.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-5">E.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-4">E.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#mysql-cluster-news-4-1-3">E.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</a></span></dt></dl></div><a class="indexterm" name="id4800422"></a><p>
    <span class="bold"><strong>Starting from 4.1.13 and 5.0.7, all Cluster
    changes are included in the MySQL Change History, and this manual
    section is no longer separately maintained.</strong></span>
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-7"></a>E.2.1. Changes in MySQL Cluster-5.0.7 (10 June 2005)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        Starting with version 5.0.8, changes for MySQL Cluster can be
        found in the combined MySQL Change History.
      </p></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/11019" target="_top">Bug#11019</a>) mgmapi start backup in some cases returns wrong
          backupid
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10190" target="_top">Bug#10190</a>) Backup from cluster wih NoOfReplica=1 is corrupt
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9246" target="_top">Bug#9246</a>) Condition pushdown and left join, wrong result
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10956" target="_top">Bug#10956</a>) More than 7 node restarts with
          <code class="option">--initial</code> caused cluster to fail.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9945" target="_top">Bug#9945</a>) <code class="literal">ALTER TABLE</code> caused server
          crash. (Linux/390)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9826" target="_top">Bug#9826</a>) (<a href="http://bugs.mysql.com/10948" target="_top">Bug#10948</a>) Schema change (<code class="literal">DROP
          TABLE</code>, <code class="literal">ALTER TABLE</code>) crashed HPUX
          and PPC32.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10711" target="_top">Bug#10711</a>) (<a href="http://bugs.mysql.com/9363" target="_top">Bug#9363</a>) (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>) (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>) (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)
          Cluster would time out and crash after first query; setting
          DataMemory to more than 2GB prevented cluster from starting;
          calling <code class="literal">ndb_select_count()</code> crashed the
          cluster. (64-bit Unix OSes)
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-6"></a>E.2.2. Changes in MySQL Cluster-5.0.6 (26 May 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Limit on number of metadata objects (number of tables, indexes
          and BLOBs) now increased to 20,320
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The server would hang on successive calls to an
          <code class="literal">INSERT ... ON DUPLICATE KEY UPDATE</code> query.
          (<a href="http://bugs.mysql.com/9725" target="_top">Bug#9725</a>)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10193" target="_top">Bug#10193</a>) Invalid DataDir in config causes ndbd
          segmentation fault
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10813" target="_top">Bug#10813</a>) Build with SCI Transporter fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10831" target="_top">Bug#10831</a>) ndb mgmd LogDestination maxfiles does not rotate
          logs properly
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-5"></a>E.2.3. Changes in MySQL Cluster-5.0.5 (Not released)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Decreased IndexMemory Usage
        </p></li><li><p>
          Parallel key lookup (read-multi-range) for queries like
          <code class="literal">SELECT * FROM t1 WHERE primary_key IN
          (1,2,3,4,5,6,7,8,9,10);</code>
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><p>
        Patches merged from versions 4.1.11 and 4.1.12
      </p><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/8315" target="_top">Bug#8315</a>) NdbScanFilter cmp method only works for strings of
          exact word boundary length
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8103" target="_top">Bug#8103</a>) Configuration handling error
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8035" target="_top">Bug#8035</a>) mysqld signal 10 when ndbd is shutdown
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7631" target="_top">Bug#7631</a>) NDB$EVENT contains unreadable event and table
          names
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7628" target="_top">Bug#7628</a>) Filtered event types are ignored
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7627" target="_top">Bug#7627</a>) Drop Event operation fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7424" target="_top">Bug#7424</a>) create index on datetime fails
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-4"></a>E.2.4. Changes in MySQL Cluster-5.0.4 (16 April 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Condition pushdown to storage engine now works for update and
          delete as well
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/9675" target="_top">Bug#9675</a>) Auto-increment not working with INSERT..SELECT and
          NDB storage
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9517" target="_top">Bug#9517</a>) Condition pushdown to storage engine does not work
          for update/delete
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9282" target="_top">Bug#9282</a>) API Node Crashes/Reloads on 'DELETE FROM'
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9280" target="_top">Bug#9280</a>) Memory leak in cluster when dependent sub-queries
          are used
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8585" target="_top">Bug#8585</a>) ndb_cache2 fails on aix52
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-3"></a>E.2.5. Changes in MySQL Cluster-5.0.3 (23 March 2005: Beta)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Condition pushdown to storage engine
        </p></li><li><p>
          Query cache enabled for cluster
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Patches merged from version 4.1.10
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-5-0-1"></a>E.2.6. Changes in MySQL Cluster-5.0.1 (27 July 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          This was the first MySQL Cluster release in the 5.0 series. As
          nearly all attention was still focused on getting 4.1 stable,
          it is not recommended to use MySQL 5.0.1 for MySQL Cluster.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          N/A
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-13"></a>E.2.7. Changes in MySQL Cluster-4.1.13 (15 July 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/11132" target="_top">Bug#11132</a>) Connections between data nodes and management
          nodes were not being closed following shutdown of
          <code class="literal">ndb_mgmd</code>.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11050" target="_top">Bug#11050</a>) <code class="literal">ndb_mgm&gt; show</code> printed
          incorrectly after master data node failure.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10956" target="_top">Bug#10956</a>) More than 7 node restarts with
          <code class="option">--initial</code> caused cluster to fail.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9826" target="_top">Bug#9826</a>) (<a href="http://bugs.mysql.com/10948" target="_top">Bug#10948</a>) Schema change (<code class="literal">DROP
          TABLE</code>, <code class="literal">ALTER TABLE</code>) crashed HPUX
          and PPC32.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>) Data nodes failed to restart on 64-bit Solaris.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11166" target="_top">Bug#11166</a>) Insert records were incorrectly applied by
          <code class="literal">ndb_restore</code>, thus making restoration from
          backup inconsistent if the binlog contained inserts.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8918" target="_top">Bug#8918</a>) (<a href="http://bugs.mysql.com/9363" target="_top">Bug#9363</a>) (<a href="http://bugs.mysql.com/10711" target="_top">Bug#10711</a>) (<a href="http://bugs.mysql.com/10058" target="_top">Bug#10058</a>) (<a href="http://bugs.mysql.com/9025" target="_top">Bug#9025</a>)
          Cluster would time out and crash after first query; setting
          DataMemory to more than 2GB prevented cluster from starting;
          calling <code class="literal">ndb_select_count()</code> crashed the
          cluster. (64-bit Unix OSes)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10190" target="_top">Bug#10190</a>) When making a backup of a cluster where
          <code class="literal">NumberOfReplicas</code> was equal to 1, the
          backup's metadata was corrupted. (Linux)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9945" target="_top">Bug#9945</a>) <code class="literal">ALTER TABLE</code> caused server
          crash. (Linux/390)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11133" target="_top">Bug#11133</a>) A delete operation performed as part of a
          transaction caused an erroneous result.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10294" target="_top">Bug#10294</a>) Not allowing sufficient parallelism in cluster
          configuration (for example,
          <code class="literal">NoOfTransactions</code> too small) caused
          <code class="literal">ndb_restore</code> to fail without generating any
          error messages.
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/11290" target="_top">Bug#11290</a>) Setting TransactionInactiveTimeout= 0 did not
          result in an infinite timeout.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-12"></a>E.2.8. Changes in MySQL Cluster-4.1.12 (13 May 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/10471" target="_top">Bug#10471</a>) Backup can become inconsistent with certain
          combinations of multiple-row updates
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10287" target="_top">Bug#10287</a>) ndb_select_all "delimiter" option non functional
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10142" target="_top">Bug#10142</a>) Unhandled resource shortage in UNIQUE index code
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10029" target="_top">Bug#10029</a>) crash in ordered index scan after db full
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/10001" target="_top">Bug#10001</a>) 2 NDB nodes get signal 6 (abort) in DBTC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9969" target="_top">Bug#9969</a>) 4012 - has misleading error message
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9960" target="_top">Bug#9960</a>) START BACKUP reports failure albeit succeeding
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9924" target="_top">Bug#9924</a>) ABORT BACKUP 1 crashes 4 node cluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9892" target="_top">Bug#9892</a>) Index activation file during node recovery
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9891" target="_top">Bug#9891</a>) Crash in DBACC (line 7004) during commit
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9865" target="_top">Bug#9865</a>) SELECT does not function properly
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9839" target="_top">Bug#9839</a>) Column with AUTOINC contains -1 Value on node stop
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9757" target="_top">Bug#9757</a>) Uncompleted node failure after gracefully stopping
          node
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9749" target="_top">Bug#9749</a>) Transactions causes deadlock in ACC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9724" target="_top">Bug#9724</a>) Node fails to start: Message: File has already
          been opened
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9691" target="_top">Bug#9691</a>) UPDATE fails on attempt to update primary key
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9675" target="_top">Bug#9675</a>) Auto-increment not working with INSERT..SELECT and
          NDB storage
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9318" target="_top">Bug#9318</a>) drop database does not drop ndb tables
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9280" target="_top">Bug#9280</a>) Memory leak in cluster when dependent sub-queries
          are used
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8928" target="_top">Bug#8928</a>) create table with keys will shutdown the cluster
        </p></li><li><p>
          Creating a table did not work for a cluster with 6 nodes. (<a href="http://bugs.mysql.com/8928" target="_top">Bug#8928</a>) Databases with 1, 2, 4, 8, ...
          (2<sup><em class="replaceable"><code>n</code></em></sup>
          nodes) did not have the problem. After a rolling upgrade,
          restart each node manually by restarting it with the
          <code class="option">--initial</code> option. Otherwise, use dump and
          restore after an upgrade.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-11"></a>E.2.9. Changes in MySQL Cluster-4.1.11 (01 April 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/9916" target="_top">Bug#9916</a>) DbaccMain.cpp / DBACC (Line: 4876) / Pointer too
          large
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9435" target="_top">Bug#9435</a>) TIMESTAMP columns don't update
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/9052" target="_top">Bug#9052</a>) Uninitialized data during unique index build,
          potential cluster crash
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8876" target="_top">Bug#8876</a>) Timeout when committing aborted transaction after
          node failure
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8786" target="_top">Bug#8786</a>) ndb_autodiscover, drop index can fail, wait 2
          minutes timeout
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8853" target="_top">Bug#8853</a>) Transaction aborted after long time during node
          failure (4012)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8753" target="_top">Bug#8753</a>) Invalid schema object version after dropping index
          (crash fixed, currently retry required)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8645" target="_top">Bug#8645</a>) Assertion failure with multiple management servers
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8557" target="_top">Bug#8557</a>) ndbd does not get same nodeid on restart
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8556" target="_top">Bug#8556</a>) corrupt ndb_mgm show printout for certain
          configurations
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8167" target="_top">Bug#8167</a>) cluster shared memory and mysqld signal usage
          clash
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-10"></a>E.2.10. Changes in MySQL Cluster-4.1.10 (12 February 2005)</h3></div></div></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/8284" target="_top">Bug#8284</a>) Out of fragment memory in DBACC
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8262" target="_top">Bug#8262</a>) Node crash due to bug in DBLQH
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8208" target="_top">Bug#8208</a>) node restart fails on Aix 5.2
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8167" target="_top">Bug#8167</a>) cluster shared memory and mysqld signal usage
          clash
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8101" target="_top">Bug#8101</a>) unique index and error 4209 while selecting
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8070" target="_top">Bug#8070</a>) (<a href="http://bugs.mysql.com/7937" target="_top">Bug#7937</a>) (<a href="http://bugs.mysql.com/6716" target="_top">Bug#6716</a>) various ndb_restore core
          dumps on HP-UX
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/8010" target="_top">Bug#8010</a>) 4006 forces MySQL Node Restart
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7928" target="_top">Bug#7928</a>) out of connection objects
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7898" target="_top">Bug#7898</a>) mysqld crash with ndb (solaris)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7864" target="_top">Bug#7864</a>) Not possible to have more than 4.5G data memory
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-9"></a>E.2.11. Changes in MySQL Cluster-4.1.9 (13 January 2005)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          New implementation of shared memory transporter.
        </p></li><li><p>
          Cluster automatically configures shared memory transporter if
          possible.
        </p></li><li><p>
          Cluster prioritizes usage of transporters with shared memory
          and localhost TCP
        </p></li><li><p>
          Added switches to control the above functions,
          <code class="literal">ndb-shm</code> and
          <code class="literal">ndb-optimized-node-selection</code>.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/7805" target="_top">Bug#7805</a>) config.ini parsing error
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7798" target="_top">Bug#7798</a>) Running range scan after alter table in different
          thread causes node failure
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7761" target="_top">Bug#7761</a>) Alter table does not autocommit
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7725" target="_top">Bug#7725</a>) Indexed DATETIME Columns Return Random Results
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7660" target="_top">Bug#7660</a>) START BACKUP does not increment BACKUP-ID (Big
          Endian machines)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7593" target="_top">Bug#7593</a>) Cannot Create A Large NDB Data Warehouse
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7480" target="_top">Bug#7480</a>) Mysqld crash in ha_ndbcluster using Query Browser
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7470" target="_top">Bug#7470</a>) shared memory transporter does not connect
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7396" target="_top">Bug#7396</a>) Primary Key not working in NDB Mysql Clustered
          table (solaris)
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7379" target="_top">Bug#7379</a>) ndb restore fails to handle blobs and multiple
          databases
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7346" target="_top">Bug#7346</a>) ndb_restore enters infinite loop
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7340" target="_top">Bug#7340</a>) Problem for inserting data into the Text field on
          utf8
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7124" target="_top">Bug#7124</a>) ndb_mgmd is aborted on startup when using SHM
          connection
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-8"></a>E.2.12. Changes in MySQL Cluster-4.1.8 (14 December 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Default port for <span><strong class="command">ndb_mgmd</strong></span> was changed to
          1186 (from 2200) as this port number was officially assigned
          to MySQL Cluster by IANA.
        </p></li><li><p>
          New command in <span><strong class="command">ndb_mgm</strong></span>, PURGE STALE
          SESSIONS, as a workaround for cases where nodes fail to
          allocate a node id even if it is free to use.
        </p></li><li><p>
          New command in <span><strong class="command">ndb_mgm</strong></span>, CONNECT.
        </p></li><li><p>
          The ndb executables have been changed to make use of the
          regular MySQL command line option parsing features. See
          <a href="mysql-cluster.html#mysql-cluster-command-options" title="16.6.5. Command Options for MySQL Cluster Processes">Section 16.6.5, “Command Options for MySQL Cluster Processes”</a>, for notes on
          changes.
        </p></li><li><p>
          As bonus of the above you can now specify all command line
          options in <code class="filename">my.cnf</code> using the executable
          names as sections, that is, <code class="literal">[ndbd]</code>,
          <code class="literal">[ndb_mgmd]</code>, <code class="literal">[ndb_mgm]</code>,
          <code class="literal">[ndb_restore]</code>, and so forth.
        </p><pre class="programlisting">      [ndbd]
      ndb-connectstring=myhost.domain.com:1234
      [ndb_mgm]
      ndb-connectstring=myhost.domain.com:1234
</pre></li><li><p>
          Added use of section <code class="literal">[mysql_cluster]</code> in
          <code class="filename">my.cnf</code>. All cluster executables,
          including mysqld, parse this section. For example, this is a
          convenient place to put <code class="literal">ndb-connectstring</code>
          so that it need be specified only once.
        </p></li><li><p>
          Added cluster log info events on allocation and deallocation
          of nodeid's.
        </p></li><li><p>
          Added cluster log info events on connection refuse as a result
          of version mismatch.
        </p></li><li><p>
          Extended connectstring syntax to allow for leaving the port
          number out. For example,
          <code class="literal">ndb-connectstring|connect-string=myhost1,myhost2,myhost3</code>
          is a valid connectstring and connect occurs on default port
          1186.
        </p></li><li><p>
          Clear text ndb error messages provided also for error codes
          that are mapped to corresponding mysql error codes, by
          executing <code class="literal">SHOW WARNINGS</code> after an error has
          occurred which relates to the ndb storage engine.
        </p></li><li><p>
          Significant performance improvements done for read
          performance, especially for blobs.
        </p></li><li><p>
          Added some variables for performance tuning,
          <code class="literal">ndb_force_send</code> and
          <code class="literal">ndb_use_exact_count</code>. Do <code class="literal">show
          variables like 'ndb%';</code> in mysql client for listing.
          Use <code class="literal">set</code> command to alter variables.
        </p></li><li><p>
          Added variables to set some options,
          <code class="literal">ndb_use_transactions</code> and
          <code class="literal">ndb_autoincrement_prefetch_sz</code>.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          (<a href="http://bugs.mysql.com/7303" target="_top">Bug#7303</a>) ndb_mgm: Trying to set CLUSTERLOG for a specific
          node id core dumps
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7193" target="_top">Bug#7193</a>) start backup gives false error printout
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7153" target="_top">Bug#7153</a>) Cluster nodes don't report error on endianness
          mismatch
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7152" target="_top">Bug#7152</a>) ndb_mgmd segmentation fault on incorrect HostName
          in configuration
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/7104" target="_top">Bug#7104</a>) clusterlog filtering and level setting broken
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6995" target="_top">Bug#6995</a>) ndb_recover on varchar fields results in changing
          case of data
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6919" target="_top">Bug#6919</a>) all status only shows 2 nodes on a 8-node cluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6871" target="_top">Bug#6871</a>) DBD execute failed: Got error 897 'Unknown error
          code' from ndbcluster
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6794" target="_top">Bug#6794</a>) Wrong outcome of update operation of ndb table
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6791" target="_top">Bug#6791</a>) Segmentation fault when config.ini is not
          correctly set
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6775" target="_top">Bug#6775</a>) failure in acc when running many mysql clients
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6696" target="_top">Bug#6696</a>) ndb_mgm command line options inconsistent with
          behavior
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6684" target="_top">Bug#6684</a>) ndb_restore doesn't give error messages if
          improper command given
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6677" target="_top">Bug#6677</a>) ndb_mgm can crash on "ALL CLUSTERLOG"
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6538" target="_top">Bug#6538</a>) Error code returned when select max() on empty
          table with index
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6451" target="_top">Bug#6451</a>) failing create table givers "ghost" tables which
          are impossible to remove
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6435" target="_top">Bug#6435</a>) strange behavior of left join
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6426" target="_top">Bug#6426</a>) update with long pk fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6398" target="_top">Bug#6398</a>) update of primary key fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6354" target="_top">Bug#6354</a>) mysql does not complain about --ndbcluster option
          when NDB is not compiled in
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6331" target="_top">Bug#6331</a>) INSERT IGNORE .. SELECT breaks subsequent inserts
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6288" target="_top">Bug#6288</a>) cluster nodes crash on data import
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6031" target="_top">Bug#6031</a>) To drop database you have to execute DROP DATABASE
          command twice
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6020" target="_top">Bug#6020</a>) LOCK TABLE + delete returns error 208
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6018" target="_top">Bug#6018</a>) REPLACE does not work for BLOBs + NDB
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/6016" target="_top">Bug#6016</a>) Strange crash with blobs + different DATABASES
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5973" target="_top">Bug#5973</a>) ndb table belonging to different database shows up
          in show tables
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5872" target="_top">Bug#5872</a>) ALTER TABLE with blob from ndb table to myisam
          fails
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5844" target="_top">Bug#5844</a>) Failing mysql-test-run leaves stray NDB processes
          behind
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5824" target="_top">Bug#5824</a>) HELP text messed up in ndb_mgm
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5786" target="_top">Bug#5786</a>) Duplicate key error after restore
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5785" target="_top">Bug#5785</a>) lock timeout during concurrent update
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5782" target="_top">Bug#5782</a>) Unknown error when using LIMIT with ndb table
        </p></li><li><p>
          (<a href="http://bugs.mysql.com/5756" target="_top">Bug#5756</a>) RESTART node from ndb_mgm fails
        </p></li><li><p>
          A few more not reported bugs fixed
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-7"></a>E.2.13. Changes in MySQL Cluster-4.1.7 (23 October 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Optimization 1: Improved performance on index scans. Measured
          30% performance increase on query which do large amounts of
          index scans.
        </p></li><li><p>
          Optimization 2: Improved performance on primary key lookups.
          Around double performance for autocommitted primary key
          lookups.
        </p></li><li><p>
          Optimization 3: Improved performance when using blobs by
          avoiding usage of exclusive locks for blobs.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          A few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-6"></a>E.2.14. Changes in MySQL Cluster-4.1.6 (10 October 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Limited character set support for storage engine NDBCLUSTER:
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td>Char set</td><td>Collation</td></tr><tr><td>big5</td><td>big5_chinese_ci</td></tr><tr><td> </td><td>big5_bin</td></tr><tr><td>binary</td><td>binary</td></tr><tr><td>euckr</td><td>euckr_korean_ci</td></tr><tr><td> </td><td>euckr_bin</td></tr><tr><td>gb2312</td><td>gb2312_chinese_ci</td></tr><tr><td> </td><td>gb2312_bin</td></tr><tr><td>gbk</td><td>gbk_chinese_ci</td></tr><tr><td> </td><td>gbk_bin</td></tr><tr><td>latin1</td><td>latin1_swedish_ci</td></tr><tr><td> </td><td>latin1_bin</td></tr><tr><td>sjis</td><td>sjis_japanese_ci</td></tr><tr><td> </td><td>sjis_bin</td></tr><tr><td>tis620</td><td>tis620_bin</td></tr><tr><td>ucs2</td><td>ucs2_general_ci</td></tr><tr><td> </td><td>ucs2_bin</td></tr><tr><td>ujis</td><td>ujis_japanese_ci</td></tr><tr><td> </td><td>ujis_bin</td></tr><tr><td>utf8</td><td>utf8_general_ci</td></tr><tr><td> </td><td>utf8_bin</td></tr></tbody></table></div></li><li><p>
          The SCI Transporter has been brought up-to-date with all
          changes and now works and has been documented as well.
        </p></li><li><p>
          Optimizations when several clients to a MySQL Server access
          ndb tables.
        </p></li><li><p>
          Added more checks and warnings for erroneous and inappropriate
          cluster configurations.
        </p></li><li><p>
          <code class="literal">SHOW TABLES</code> now directly shows ndb tables
          created on a different MySQL server, that is, without a prior
          table access.
        </p></li><li><p>
          Enhanced support for starting MySQL Server independently of
          ndbd and ndb_mgmd.
        </p></li><li><p>
          Clear text ndb error messages provided by executing
          <code class="literal">SHOW WARNINGS</code> after an error has occurred
          which relates to the ndb storage engine.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-5"></a>E.2.15. Changes in MySQL Cluster-4.1.5 (16 September 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Many queries in MySQL Cluster are executed as range scans or
          full table scans. All queries that don't use a unique hash
          index or the primary hash index use this access method. In a
          distributed system it is crucial that batching is properly
          performed.
        </p><p>
          In previous versions, the batch size was fixed to 16 per data
          node. In this version it is configurable per MySQL Server. So
          for queries using lots of large scans it is appropriate to set
          this parameter rather large and for queries using many small
          scans only fetching a small amount of records it is
          appropriate to set it low.
        </p><p>
          The performance of queries can easily change as much as 40%
          based on how this variable is set.
        </p><p>
          In future versions more logic will be implemented for
          assessing the batch size on a per-query basis. Thus, the
          semantics of the new configuration variable
          <code class="literal">ScanBatchSize</code> are likely to change.
        </p></li><li><p>
          The fixed size overhead of the ndbd process has been greatly
          decreased. This is also true for the overhead per operation
          record as well as overhead per table and index.
        </p><p>
          A number of new configuration variables have been introduced
          to enable configuration of system buffers. Configuration
          variables for specifying the numbers of tables, unique hash
          indexes, and ordered indexes have also been introduced.
        </p><p>
          New configuration variables:
          <code class="literal">MaxNoOfOrderedIndexes</code>,
          <code class="literal">MaxNoOfUniqueHashIndexes</code>
        </p><p>
          Configuration variables no longer used:
          <code class="literal">MaxNoOfIndexes</code> (split into the two above).
        </p></li><li><p>
          In previous versions <code class="literal">ALTER TABLE</code>,
          <code class="literal">TRUNCATE TABLE</code>, and <code class="literal">LOAD
          DATA</code> were performed as one big transaction. In this
          version, all of these statements are automatically separated
          into several distinct transactions.
        </p><p>
          This removes the limitation that one could not change very
          large tables due to the
          <code class="literal">MaxNoOfConcurrentOperations</code> parameter.
        </p></li><li><p>
          MySQL CLuster's online backup feature now backs up indexes so
          that both data and indexes are restored.
        </p></li><li><p>
          In previous versions it was not possible to use
          <code class="literal">NULL</code> in indexes. This is now possible for
          all supported index types.
        </p></li><li><p>
          Much work has been put onto making
          <code class="literal">AUTO_INCREMENT</code> features work as for other
          table handlers. Autoincrements as a partial key is still only
          supported by <code class="literal">MyISAM</code>.
        </p></li><li><p>
          In earlier versions, <span><strong class="command">mysqld</strong></span> would crash if
          the cluster wasn't started with the
          <code class="option">--ndbcluster</code> option. Now
          <span><strong class="command">mysqld</strong></span> handles cluster crashes and starts
          without crashing.
        </p></li><li><p>
          The <code class="literal">-i</code> option for initial startup of
          <span><strong class="command">ndbd</strong></span> has been removed. Initial startup
          still can be specified by using the <code class="option">--initial</code>
          option. The reason for this is to ensure that it is clear what
          takes place when using <code class="option">--initial</code>: this option
          completely removes all data from the disk and should only be
          used at initial start, in certain software upgrade cases, and
          in some cases as a workaround when nodes cannot be restarted
          successfully.
        </p></li><li><p>
          The management client (<span><strong class="command">ndb_mgm</strong></span>) now has
          additional commands and more information is printed for some
          commands such as <code class="literal">show</code>.
        </p></li><li><p>
          In previous versions, the files were called
          <code class="filename">ndb_0..</code> when it wasn't possible to
          allocate a node ID when starting the node. To ensure that
          files are not so easily overwritten, these files are now named
          <code class="filename">ndb_pid..</code>, where pid is the process ID
          assigned by the OS.
        </p></li><li><p>
          The default parameters have changed for
          <span><strong class="command">ndb_mgmd</strong></span> and <span><strong class="command">ndbd</strong></span>. In
          particular, they are now started as daemons by default. The
          <code class="literal">-n</code> option has been removed since it could
          cause confusion as to its meaning (nostart or nodaemon).
        </p></li><li><p>
          In the configuration file, you can now use
          <code class="literal">[NDBD]</code> as an alias for
          <code class="literal">[DB]</code>, <code class="literal">[MYSQLD]</code> as an
          alias for <code class="literal">[API]</code>, and
          <code class="literal">[NDB_MGMD]</code> as an alias for
          <code class="literal">[MGM]</code>.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
            In fact, <code class="literal">[NDBD]</code>,
            <code class="literal">[MYSQLD]</code>, and
            <code class="literal">[NDB_MGMD]</code> are now the preferred
            designations, although the older ones will continue to be
            supported for some time to come in order to maintain
            backward compatibility.
          </p></div></li><li><p>
          Many more checks for consistency in configuration have been
          introduced to in order to provide quicker feedback on
          configuration errors.
        </p></li><li><p>
          In the connect string, it is now possible to use both
          “<span class="quote"><code class="literal">;</code></span>” and
          “<span class="quote"><code class="literal">,</code></span>” as the separator between
          entries. Thus, "nodeid=2,host=localhost:2200" is equivalent to
          "nodeid=2;host=localhost:2200".
        </p><p>
          In the configuration file, it is also possible to use
          “<span class="quote"><code class="literal">:</code></span>” or
          “<span class="quote"><code class="literal">=</code></span>” for assignment values. For
          example, <code class="literal">MaxNoOfOrderedIndexes : 128</code> and
          <code class="literal">MaxNoOfOrderedIndexes = 128</code> are equivalent
          expressions.
        </p></li><li><p>
          The configuration variable names are now case insensitive, so
          <code class="literal">MaxNoOfOrderedIndexes: 128</code> is equivalent to
          <code class="literal">MAXNOOFORDEREDINDEXES = 128</code>.
        </p></li><li><p>
          It is possible now to set the backup directory separately from
          the <code class="literal">FileSystemPath</code> by using the
          <code class="literal">BackupDir</code> configuration variable.
        </p><p>
          Log files and trace files can now be placed in any directory
          by setting the <code class="literal">DataDir</code> configuration
          variable.
        </p><p>
          <code class="literal">FileSystemPath</code> is no longer mandatory and
          defaults to <code class="literal">DataDir</code>.
        </p></li><li><p>
          Queries involving tables from different databases are now
          supported.
        </p></li><li><p>
          It is now possible to update the primary key.
        </p></li><li><p>
          The performance of ordered indexes has been greatly improved,
          particularly the maintenance of indexes on updates, inserts
          and deletes.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs fixed.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-4"></a>E.2.16. Changes in MySQL Cluster-4.1.4 (31 August 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The names of the log files and trace files created by the
          <span><strong class="command">ndbd</strong></span> and <span><strong class="command">ndb_mgmd</strong></span>
          processes have changed.
        </p></li><li><p>
          Support for the many <code class="literal">BLOB</code> data types was
          introduced in this version.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Quite a few bugs were fixed in the 4.1.4 release.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-cluster-news-4-1-3"></a>E.2.17. Changes in MySQL Cluster-4.1.3 (28 June 2004)</h3></div></div></div><p>
      Functionality added or changed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          This was the first MySQL Cluster release so all functionality
          was new.
        </p></li></ul></div><p>
      Bugs fixed:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Various bugs fixed in the development process leading up to
          4.1.3.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="myodbc-news"></a>E.3. MySQL Connector/ODBC (MyODBC) Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#myodbc-news-5-1-3">E.3.1. Changes in  MySQL Connector/ODBC 5.1.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-2">E.3.2. Changes in  MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-1">E.3.3. Changes in  MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-1-0">E.3.4. Changes in  MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-12">E.3.5. Changes in  MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-11">E.3.6. Changes in  MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-10">E.3.7. Changes in  MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-9">E.3.8. Changes in  MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-8">E.3.9. Changes in  MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-7">E.3.10. Changes in  MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-6">E.3.11. Changes in  MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-5">E.3.12. Changes in  MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-3">E.3.13. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-2">E.3.14. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-5-0-1">E.3.15. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-24">E.3.16. Changes in  MySQL Connector/ODBC 3.51.24 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-23">E.3.17. Changes in  MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-22">E.3.18. Changes in  MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-21">E.3.19. Changes in  MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-20">E.3.20. Changes in  MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-19">E.3.21. Changes in  MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-18">E.3.22. Changes in  MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-17">E.3.23. Changes in  MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-16">E.3.24. Changes in  MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-15">E.3.25. Changes in  MySQL Connector/ODBC 3.51.15 (7 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-14">E.3.26. Changes in  MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-13">E.3.27. Changes in  MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-12">E.3.28. Changes in  MySQL Connector/ODBC 3.51.12 (11 Febrauary 2005)</a></span></dt><dt><span class="section"><a href="news.html#myodbc-news-3-51-11">E.3.29. Changes in  MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-1-3"></a>E.3.1. Changes in  MySQL Connector/ODBC 5.1.3 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        Installation of Connector/ODBC would fail because it was unable
        to uninstall a previous installed version. The file being
        requested would match an older release version than any
        installed version of the connector.
       (<a href="http://bugs.mysql.com/34522" target="_top">Bug#34522</a>)</p></li><li><p>
        Descriptor records were not cleared correctly when calling
        <code class="literal">SQLFreeStmt(SQL_UNBIND)</code>.
       (<a href="http://bugs.mysql.com/34271" target="_top">Bug#34271</a>)</p></li><li><p>
        The dropdown selection for databases on a server when creating a
        DSN was too small. The list size now automatically adjusts up to
        a maximum size of 20 potential databases.
       (<a href="http://bugs.mysql.com/33918" target="_top">Bug#33918</a>)</p></li><li><p>
        Connector/ODBC erroneously reported that it supported the
        <code class="literal">CAST()</code> and <code class="literal">CONVERT()</code> ODBC
        functions for parsing values in SQL statements, which could lead
        to bad SQL generation during a query.
       (<a href="http://bugs.mysql.com/33808" target="_top">Bug#33808</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <code class="literal">BLOB</code> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-1-2"></a>E.3.2. Changes in  MySQL Connector/ODBC 5.1.2 (13 February 2008)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.2-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the second beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a></p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Explicit descriptors are implemented.
       (<a href="http://bugs.mysql.com/32064" target="_top">Bug#32064</a>)</p></li><li><p>
        A full implementation of SQLForeignKeys based on the information
        available from INFORMATION_SCHEMA in 5.0 and later versions of
        the server has been implemented.
      </p></li><li><p>
        Changed <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> to return an
        error until support for it is implemented.
      </p></li><li><p>
        Disabled <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code>
        when using an SSL connection.
      </p></li><li><p>
        <code class="literal">SQLForeignKeys</code> uses
        <code class="literal">INFORMATION_SCHEMA</code> when it is available on
        the server, which allows more complete information to be
        returned.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="option">SSLCIPHER</code> option would be incorrectly
        recorded within the SSL configuration on Windows.
       (<a href="http://bugs.mysql.com/33897" target="_top">Bug#33897</a>)</p></li><li><p>
        Within the GUI interface, when connecting to a MySQL server on a
        non-standard port, the connection test within the GUI would
        fail. The issue was related to incorrect parsing of numeric
        values within the DSN when the option was not configured as the
        last parameter within the DSN.
       (<a href="http://bugs.mysql.com/33822" target="_top">Bug#33822</a>)</p></li><li><p>
        Specifying a non-existent database name within the GUI dialog
        would result in an empty list, not an error.
       (<a href="http://bugs.mysql.com/33615" target="_top">Bug#33615</a>)</p></li><li><p>
        When deleting rows from a static cursor, the cursor position
        would be incorrectly reported.
       (<a href="http://bugs.mysql.com/33388" target="_top">Bug#33388</a>)</p></li><li><p>
        <code class="literal">SQLGetInfo()</code> reported characters for
        <code class="literal">SQL_SPECIAL_CHARACTERS</code> that were not encoded
        correctly.
       (<a href="http://bugs.mysql.com/33130" target="_top">Bug#33130</a>)</p></li><li><p>
        Retrieving data from a <code class="literal">BLOB</code> column would fail
        within <code class="literal">SQLGetData</code>when the target data type
        was <code class="literal">SQL_C_WCHAR</code> due to incorrect handling of
        the character buffer.
       (<a href="http://bugs.mysql.com/32684" target="_top">Bug#32684</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Reading a <code class="literal">TEXT</code> column that had been used to
        store UTF8 data would result in the wrong information being
        returned during a query.
       (<a href="http://bugs.mysql.com/28617" target="_top">Bug#28617</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> would return an empty string
        for the schema columns instead of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/19923" target="_top">Bug#19923</a>)</p></li><li><p>
        When accessing column data,
        <code class="literal">FLAG_COLUMN_SIZE_S32</code> did not limi the octet
        length or display size reported for fields, causing problems
        with Microsoft Visual FoxPro.
       (<a href="http://bugs.mysql.com/12805" target="_top">Bug#12805</a>, <a href="http://bugs.mysql.com/30890" target="_top">Bug#30890</a>)</p></li><li><p>
        Dynamic cursors on statements with parameters were not
        supported.
       (<a href="http://bugs.mysql.com/11846" target="_top">Bug#11846</a>)</p></li><li><p>
        Evaluating a simple numeric expression when using the OLEDB for
        ODBC provider and ADO would return an error, instead of the
        result.
       (<a href="http://bugs.mysql.com/10128" target="_top">Bug#10128</a>)</p></li><li><p>
        Adding or updating a row using <code class="literal">SQLSetPos()</code>
        on a result set with aliased columns would fail.
       (<a href="http://bugs.mysql.com/6157" target="_top">Bug#6157</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-1-1"></a>E.3.3. Changes in  MySQL Connector/ODBC 5.1.1 (13 December 2007)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.1-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the first beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>
        Includes changes from
        <a href="news.html#myodbc-news-3-51-21" title="E.3.19. Changes in  MySQL Connector/ODBC 3.51.21 (08 October 2007)">Connector/ODBC
        3.51.21</a> and
        <a href="news.html#myodbc-news-3-51-22" title="E.3.18. Changes in  MySQL Connector/ODBC 3.51.22 (13 November 2007)">3.51.22</a>.
      </p><p>
        Built using MySQL 5.0.52.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a></p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Replaced myodbc3i (now myodbc-installer) with Connector/ODBC 5.0
        version.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Removed monitor (myodbc3m) and dsn-editor (myodbc3c).
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Disallow <code class="literal">SET NAMES</code> in initial statement and
        in executed statements.
      </p></li><li><p>
        A wrapper for the
        <code class="literal">SQLGetPrivateProfileStringW()</code> function,
        which is required for Unicode support, has been created. This
        function is missing from the unixODBC driver manager.
       (<a href="http://bugs.mysql.com/32685" target="_top">Bug#32685</a>)</p></li><li><p>
        Added MSI installer for Windows 64-bit.
       (<a href="http://bugs.mysql.com/31510" target="_top">Bug#31510</a>)</p></li><li><p>
        Implemented support for <code class="literal">SQLCancel()</code>.
       (<a href="http://bugs.mysql.com/15601" target="_top">Bug#15601</a>)</p></li><li><p>
        Added support for <code class="literal">SQL_NUMERIC_STRUCT</code>.
       (<a href="http://bugs.mysql.com/3028" target="_top">Bug#3028</a>, <a href="http://bugs.mysql.com/24920" target="_top">Bug#24920</a>)</p></li><li><p>
        Removed non-threadsafe configuration of the driver. The driver
        is now always built against the threadsafe version of libmysql.
      </p></li><li><p>
        Implemented native Windows setup library
      </p></li><li><p>
        Replaced the internal library which handles creation and loading
        of DSN information. The new library, which was originally a part
        of Connector/ODBC 5.0, supports Unicode option values.
      </p></li><li><p>
        The Windows installer now places files in a subdirectory of the
        <code class="filename">Program Files</code> directory instead of the
        Windows system directory.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">SET NAMES</code> statement has been disabled
        because it causes problems in the ODBC driver when determining
        the current client character set.
       (<a href="http://bugs.mysql.com/32596" target="_top">Bug#32596</a>)</p></li><li><p>
        <code class="literal">SQLDescribeColW</code> returned UTF-8 column as
        <code class="literal">SQL_VARCHAR</code> instead of
        <code class="literal">SQL_WVARCHAR</code>.
       (<a href="http://bugs.mysql.com/32161" target="_top">Bug#32161</a>)</p></li><li><p>
        ADO was unable to open record set using dynamic cursor.
       (<a href="http://bugs.mysql.com/32014" target="_top">Bug#32014</a>)</p></li><li><p>
        ADO applications would not open a <code class="literal">RecordSet</code>
        that contained a <code class="literal">DECIMAL</code> field.
       (<a href="http://bugs.mysql.com/31720" target="_top">Bug#31720</a>)</p></li><li><p>
        Memory usage would increase considerably.
       (<a href="http://bugs.mysql.com/31115" target="_top">Bug#31115</a>)</p></li><li><p>
        SQL statements are limited to 64KB.
       (<a href="http://bugs.mysql.com/30983" target="_top">Bug#30983</a>, <a href="http://bugs.mysql.com/30984" target="_top">Bug#30984</a>)</p></li><li><p>
        <code class="literal">SQLSetPos</code> with <code class="literal">SQL_DELETE</code>
        advances dynamic cursor incorrectly.
       (<a href="http://bugs.mysql.com/29765" target="_top">Bug#29765</a>)</p></li><li><p>
        Using an ODBC prepared statement with bound columns would
        produce an empty result set when called immediately after
        inserting a row into a table.
       (<a href="http://bugs.mysql.com/29239" target="_top">Bug#29239</a>)</p></li><li><p>
        ADO Not possible to update a client side cursor.
       (<a href="http://bugs.mysql.com/27961" target="_top">Bug#27961</a>)</p></li><li><p>
        Recordset <code class="literal">Update()</code> fails when using
        <code class="literal">adUseClient</code> cursor.
       (<a href="http://bugs.mysql.com/26985" target="_top">Bug#26985</a>)</p></li><li><p>
        Connector/ODBC would fail to connect to the server if the
        password contained certain characters, including the semicolon
        and other punctuation marks.
       (<a href="http://bugs.mysql.com/16178" target="_top">Bug#16178</a>)</p></li><li><p>
        Fixed <code class="literal">SQL_ATTR_PARAM_BIND_OFFSET</code>, and fixed
        row offsets to work with updatable cursors.
      </p></li><li><p>
        <code class="literal">SQLSetConnectAttr()</code> did not clear previous
        errors, possibly confusing <code class="literal">SQLError()</code>.
      </p></li><li><p>
        <code class="literal">SQLError()</code> incorrectly cleared the error
        information, making it unavailable from subsequent calls to
        <code class="literal">SQLGetDiagRec()</code>.
      </p></li><li><p>
        NULL pointers passed to <code class="literal">SQLGetInfo()</code> could
        result in a crash.
      </p></li><li><p>
        <code class="literal">SQL_ODBC_SQL_CONFORMANCE</code> was not handled by
        <code class="literal">SQLGetInfo()</code>.
      </p></li><li><p>
        <code class="literal">SQLCopyDesc()</code> did not correctly copy all
        records.
      </p></li><li><p>
        Diagnostics were not correctly cleared on connection and
        environment handles.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-1-0"></a>E.3.4. Changes in  MySQL Connector/ODBC 5.1.0 (10 September 2007)</h3></div></div></div><p>
        This release is the first of the new 5.1 series and is suitable
        for use with any MySQL server version since MySQL 4.1, including
        MySQL 5.0, 5.1, and 6.0. (It will not work with 4.0 or earlier
        releases.)
      </p><p>
        Keep in mind that this is a alpha release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data. Not
        all of the features planned for the final Connector/ODBC 5.1
        release are implemented.
      </p><p>
        Functionality is based on Connector/ODBC 3.51.20.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a></p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Unicode functions
        (<code class="literal">SQLConnectW</code>, etc).
      </p></li><li><p>
        Added descriptor support (<code class="literal">SQLGetDescField</code>,
        <code class="literal">SQLGetDescRec</code>, etc).
      </p></li><li><p>
        Added support for <code class="literal">SQL_C_WCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-12"></a>E.3.5. Changes in  MySQL Connector/ODBC 5.0.12 (Never released)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Development on Connector/ODBC 5.0.x has ceased. New features
          and functionality will be incorporated into Connector/ODBC
          5.1. See <a href="connectors.html#connector-odbc-roadmap" title="24.1.2.1. Connector/ODBC Roadmap">Section 24.1.2.1, “Connector/ODBC Roadmap”</a>.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inserting <code class="literal">NULL</code> values into a
        <code class="literal">DATETIME</code> column from Access reports an error.
       (<a href="http://bugs.mysql.com/27896" target="_top">Bug#27896</a>)</p></li><li><p>
        Tables with <code class="literal">TEXT</code> columns would be incorrectly
        identified, returning an <code class="literal">Unknown SQL type -
        65535</code> error.
       (<a href="http://bugs.mysql.com/20127" target="_top">Bug#20127</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-11"></a>E.3.6. Changes in  MySQL Connector/ODBC 5.0.11 (31 January 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for ODBC v2 statement options using attributes.
      </p></li><li><p>
        Driver now builds and is partially tested under Linux with the
        iODBC driver manager.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection string parsing for DSN-less connections could fail to
        identify some parameters.
       (<a href="http://bugs.mysql.com/25316" target="_top">Bug#25316</a>)</p></li><li><p>
        Updates of <code class="literal">MEMO</code> or <code class="literal">TEXT</code>
        columns from within Microsoft Access would fail.
       (<a href="http://bugs.mysql.com/25263" target="_top">Bug#25263</a>)</p></li><li><p>
        Transaction support has been added and tested.
       (<a href="http://bugs.mysql.com/25045" target="_top">Bug#25045</a>)</p></li><li><p>
        Internal function, <code class="literal">my_setpos_delete_ignore()</code>
        could cause a crash.
       (<a href="http://bugs.mysql.com/22796" target="_top">Bug#22796</a>)</p></li><li><p>
        Fixed occasional mis-handling of the
        <code class="literal">SQL_NUMERIC_C</code> type.
      </p></li><li><p>
        Fixed the binding of certain integer types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-10"></a>E.3.7. Changes in  MySQL Connector/ODBC 5.0.10 (14 December 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.10 is the sixth BETA release.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Significant performance improvement when retrieving large text
        fields in pieces using <code class="literal">SQLGetData()</code> with a
        buffer smaller than the whole data. Mainly used in Access when
        fetching very large text fields.
       (<a href="http://bugs.mysql.com/24876" target="_top">Bug#24876</a>)</p></li><li><p>
        Added initial unicode support in data and metadata.
       (<a href="http://bugs.mysql.com/24837" target="_top">Bug#24837</a>)</p></li><li><p>
        Added initial support for removing braces when calling stored
        procedures and retrieving result sets from procedure calls.
       (<a href="http://bugs.mysql.com/24485" target="_top">Bug#24485</a>)</p></li><li><p>
        Added loose handling of retrieving some diagnostic data.
       (<a href="http://bugs.mysql.com/15782" target="_top">Bug#15782</a>)</p></li><li><p>
        Added wide-string type info for
        <code class="literal">SQLGetTypeInfo()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Editing DSN no longer crashes ODBC data source administrator.
       (<a href="http://bugs.mysql.com/24675" target="_top">Bug#24675</a>)</p></li><li><p>
        String query parameters are new escaped correctly.
       (<a href="http://bugs.mysql.com/19078" target="_top">Bug#19078</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-9"></a>E.3.8. Changes in  MySQL Connector/ODBC 5.0.9 (22 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.9 is the fifth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for column binding as SQL_NUMBERIC_STRUCT.
      </p></li><li><p>
        Added recognition of <code class="literal">SQL_C_SHORT</code> and
        <code class="literal">SQL_C_TINYINT</code> as C types.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed wildcard handling of and listing of catalogs and tables in
        <code class="literal">SQLTables</code>.
      </p></li><li><p>
        Added limit of display size when requested via
        <code class="literal">SQLColAttribute</code>/<code class="literal">SQL_DESC_DISPLAY_SIZE</code>.
      </p></li><li><p>
        Fixed buffer length return for SQLDriverConnect.
      </p></li><li><p>
        ODBC v2 behaviour in driver now supports ODBC v3 date/time types
        (since DriverManager maps them).
      </p></li><li><p>
        Catch use of <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> and
        report error until we fully support.
      </p></li><li><p>
        Fixed statistics to fail if it couldn't be completed.
      </p></li><li><p>
        Corrected retrieval multiple field types bit and blob/text.
      </p></li><li><p>
        Fixed SQLGetData to clear the NULL indicator correctly during
        multiple calls.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-8"></a>E.3.9. Changes in  MySQL Connector/ODBC 5.0.8 (17 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.8 is the fourth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Also made <code class="literal">SQL_DESC_NAME</code> only fill in the name
        if there was a data pointer given, otherwise just the length.
      </p></li><li><p>
        Fixed display size to be length if max length isn’t available.
      </p></li><li><p>
        Made distinction between
        <code class="literal">CHAR</code>/<code class="literal">BINARY</code> (and VAR
        versions).
      </p></li><li><p>
        Wildcards now support escaped chars and underscore matching
        (needed to link tables with underscores in access).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed binding using <code class="literal">SQL_C_LONG</code>.
      </p></li><li><p>
        Fixed using wrong pointer for
        <code class="literal">SQL_MAX_DRIVER_CONNECTIONS</code> in
        <code class="literal">SQLGetInfo</code>.
      </p></li><li><p>
        Set default return to <code class="literal">SQL_SUCCESS</code> if nothing
        is done for <code class="literal">SQLSpecialColumns</code>.
      </p></li><li><p>
        Fixed MDiagnostic to use correct v2/v3 error codes.
      </p></li><li><p>
        Allow SQLDescribeCol to be called to retrieve the length of the
        column name, but not the name itself.
      </p></li><li><p>
        Length now used when handling bind parameter (needed in
        particular for <code class="literal">SQL_WCHAR</code>) - this enables
        updating char data in MS Access.
      </p></li><li><p>
        Updated retrieval of descriptor fields to use the right pointer
        types.
      </p></li><li><p>
        Fixed hanlding of numeric pointers in SQLColAttribute.
      </p></li><li><p>
        Fixed type returned for <code class="literal">MYSQL_TYPE_LONG</code> to
        <code class="literal">SQL_INTEGER</code> instead of
        <code class="literal">SQL_TINYINT</code>.
      </p></li><li><p>
        Fix size return from <code class="literal">SQLDescribeCol</code>.
      </p></li><li><p>
        Fixed string length to chars, not bytes, returned by
        SQLGetDiagRec.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-7"></a>E.3.10. Changes in  MySQL Connector/ODBC 5.0.7 (08 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.7 is the third BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for <code class="literal">SQLStatistics</code> to
        <code class="literal">MYODBCShell</code>.
      </p></li><li><p>
        Improved trace/log.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        SQLBindParameter now handles <code class="literal">SQL_C_DEFAULT</code>.
      </p></li><li><p>
        Corrected incorrect column index within
        <code class="literal">SQLStatistics</code>. Many more tables can now be
        linked into MS Access.
      </p></li><li><p>
        Fixed <code class="literal">SQLDescribeCol</code> returning column name
        length in bytes rather than chars.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-6"></a>E.3.11. Changes in  MySQL Connector/ODBC 5.0.6 (03 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.6 is the second BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Features, limitations and notes on this release</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li><li><p>
        Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-5"></a>E.3.12. Changes in  MySQL Connector/ODBC 5.0.5 (17 October 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.5 is the first BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-3"></a>E.3.13. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</h3></div></div></div><p>
      This is an implementation and testing release, and is not designed
      for use within a production environment.
    </p><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The following ODBC API functions have been added in this
          release:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLBindParameter</code>
            </p></li><li><p>
              <code class="literal">SQLBindCol</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-2"></a>E.3.14. Changes in Connector/ODBC 5.0.2 (Never released)</h3></div></div></div><p>
      Connector/ODBC 5.0.2 was an internal implementation and testing
      release.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-5-0-1"></a>E.3.15. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</h3></div></div></div><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Connector/ODBC 5.0 is Unicode aware.
        </p></li><li><p>
          Connector/ODBC is currently limited to basic applications. ADO
          applications and Microsoft Office are not supported.
        </p></li><li><p>
          Connector/ODBC must be used with a Driver Manager.
        </p></li><li><p>
          The following ODBC API functions are implemented:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLAllocHandle</code>
            </p></li><li><p>
              <code class="literal">SQLCloseCursor</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLConnect</code>
            </p></li><li><p>
              <code class="literal">SQLCopyDesc</code>
            </p></li><li><p>
              <code class="literal">SQLDisconnect</code>
            </p></li><li><p>
              <code class="literal">SQLExecDirect</code>
            </p></li><li><p>
              <code class="literal">SQLExecute</code>
            </p></li><li><p>
              <code class="literal">SQLFetch</code>
            </p></li><li><p>
              <code class="literal">SQLFreeHandle</code>
            </p></li><li><p>
              <code class="literal">SQLFreeStmt</code>
            </p></li><li><p>
              <code class="literal">SQLGetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetData</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetFunctions</code>
            </p></li><li><p>
              <code class="literal">SQLGetStmtAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetTypeInfo</code>
            </p></li><li><p>
              <code class="literal">SQLNumResultCols</code>
            </p></li><li><p>
              <code class="literal">SQLPrepare</code>
            </p></li><li><p>
              <code class="literal">SQLRowcount</code>
            </p></li><li><p>
              <code class="literal">SQLTables</code>
            </p></li></ul></div><p>
          The following ODBC API function are implemented, but not yet
          support all the available attributes/options:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLSetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLSetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetStmtAttr</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-24"></a>E.3.16. Changes in  MySQL Connector/ODBC 3.51.24 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Accessing a parameer with the type of
        <code class="literal">SQL_C_CHAR</code>, but with a numeric type and a
        length of zero, the parameter marker would get stropped from the
        query. In addition, a SQL injection was possible if the
        parameter value had a non-zero length and was not numeric, the
        text would be inserted verbatim.
       (<a href="http://bugs.mysql.com/34575" target="_top">Bug#34575</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        When using ADO, the count of parameters in a query would always
        return zero.
       (<a href="http://bugs.mysql.com/33298" target="_top">Bug#33298</a>)</p></li><li><p>
        Using tables with a single quote or other non-standard
        characters in the table or column names through ODBC would fail.
       (<a href="http://bugs.mysql.com/32989" target="_top">Bug#32989</a>)</p></li><li><p>
        When using Crystal Reports, table and column names would be
        truncated to 21 characters, and truncated columns in tables
        where the truncated name was the duplicated would lead to only a
        single column being displayed.
       (<a href="http://bugs.mysql.com/32864" target="_top">Bug#32864</a>)</p></li><li><p>
        <code class="literal">SQLExtendedFetch()</code> and
        <code class="literal">SQLFetchScroll()</code> ignored the rowset size if
        the <code class="literal">Don't cache result</code> DSN option was set.
       (<a href="http://bugs.mysql.com/32420" target="_top">Bug#32420</a>)</p></li><li><p>
        When using the ODBC <code class="literal">SQL_TXN_READ_COMMITTED</code>
        option, 'dirty' records would be read from tables as if the
        option had not been applied.
       (<a href="http://bugs.mysql.com/31959" target="_top">Bug#31959</a>)</p></li><li><p>
        When creating a System DSN using the ODBC Administrator on Mac
        OS X, a User DSN would be created instead. The root cause is a
        problem with the iODBC driver manager used on Mac OS X. The fix
        works around this issue.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          ODBC Administrator may still be unable to register a System
          DSN unless the <code class="filename">/Library/ODBC/odbc.ini</code>
          file has the correct permissions. You should ensure that the
          file is writable by the <code class="literal">admin</code> group.
        </p></div><p>(<a href="http://bugs.mysql.com/31495" target="_top">Bug#31495</a>)</p></li><li><p>
        Calling <code class="literal">SQLFetch</code> or
        <code class="literal">SQLFetchScroll</code> would return negative data
        lengths when using <code class="literal">SQL_C_WCHAR</code>.
       (<a href="http://bugs.mysql.com/31220" target="_top">Bug#31220</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        Static cursor was unable to be used through ADO when dynamic
        cursors were enabled.
       (<a href="http://bugs.mysql.com/27351" target="_top">Bug#27351</a>)</p></li><li><p>
        Using <code class="literal">connection.Execute</code> to create a record
        set based on a table without declaring the cmd option as
        <code class="literal">adCmdTable</code> will fail when communicating with
        versions of MySQL 5.0.37 and higher. The issue is related to the
        way that <code class="literal">SQLSTATE</code> is returned when ADO tries
        to confirm the existence of the target object.
       (<a href="http://bugs.mysql.com/27158" target="_top">Bug#27158</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <code class="literal">BLOB</code> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li><li><p>
        With some connections to MySQL databases using Connector/ODBC,
        the connection would mistakenly report 'user cancelled' for
        accesses to the database information.
       (<a href="http://bugs.mysql.com/16653" target="_top">Bug#16653</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-23"></a>E.3.17. Changes in  MySQL Connector/ODBC 3.51.23 (09 January 2008)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC would incorrectly return
        <code class="literal">SQL_SUCCESS</code> when checking for distributed
        transaction support.
       (<a href="http://bugs.mysql.com/32727" target="_top">Bug#32727</a>)</p></li><li><p>
        When using unixODBC or directly linked applications where the
        thread level is set to less than 3 (within
        <code class="filename">odbcinst.ini</code>), a thread synchronization
        issue would lead to an application crash. This was because
        <code class="literal">SQLAllocStmt()</code> and
        <code class="literal">SQLFreeStmt()</code> did not synchronize access to
        the list of statements associated with a connection.
       (<a href="http://bugs.mysql.com/32587" target="_top">Bug#32587</a>)</p></li><li><p>
        Cleaning up environment handles in multithread environments
        could result in a five (or more) second delay.
       (<a href="http://bugs.mysql.com/32366" target="_top">Bug#32366</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Setting the default database using the
        <code class="option">DefaultDatabase</code> property of an ADO
        <code class="literal">Connection</code> object would fail with the error
        <code class="literal">Provider does not support this property</code>. The
        <code class="literal">SQLGetInfo()</code> returned the wrong value for
        <code class="literal">SQL_DATABASE_NAME</code> when no database was
        selected.
       (<a href="http://bugs.mysql.com/3780" target="_top">Bug#3780</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-22"></a>E.3.18. Changes in  MySQL Connector/ODBC 3.51.22 (13 November 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The workaround for this bug was removed due to the fixes in
        MySQL Server 5.0.48 and 5.1.21.
      </p><p>This regression was introduced by <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a></p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">English</code> locale would be used when
        formatting floating point values. The <code class="literal">C</code>
        locale is now used for these values.
       (<a href="http://bugs.mysql.com/32294" target="_top">Bug#32294</a>)</p></li><li><p>
        When accessing information about supported operations, the
        driver would return incorrect information about the support for
        <code class="literal">UNION</code>.
       (<a href="http://bugs.mysql.com/32253" target="_top">Bug#32253</a>)</p></li><li><p>
        Unsigned integer values greater than the maximum value of a
        signed integer would be handled incorrectly.
       (<a href="http://bugs.mysql.com/32171" target="_top">Bug#32171</a>)</p></li><li><p>
        The wrong result was returned by <code class="literal">SQLGetData()</code>
        when the data was an empty string and a zero-sized buffer was
        specified.
       (<a href="http://bugs.mysql.com/30958" target="_top">Bug#30958</a>)</p></li><li><p>
        Added the <code class="literal">FLAG_COLUMN_SIZE_S32</code> option to
        limit the reported column size to a signed 32-bit integer. This
        option is automatically enabled for ADO applications to provide
        a work around for a bug in ADO.
       (<a href="http://bugs.mysql.com/13776" target="_top">Bug#13776</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-21"></a>E.3.19. Changes in  MySQL Connector/ODBC 3.51.21 (08 October 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a rowset/cursor and add a new row with a number of
        fields, subsequent rows with fewer fields will include the
        original fields from the previous row in the final
        <code class="literal">INSERT</code> statement.
       (<a href="http://bugs.mysql.com/31246" target="_top">Bug#31246</a>)</p></li><li><p>
        Uninitiated memory could be used when C/ODBC internally calls
        <code class="literal">SQLGetFunctions()</code>.
       (<a href="http://bugs.mysql.com/31055" target="_top">Bug#31055</a>)</p></li><li><p>
        The wrong <code class="literal">SQL_DESC_LITERAL_PREFIX</code> would be
        returned for date/time types.
       (<a href="http://bugs.mysql.com/31009" target="_top">Bug#31009</a>)</p></li><li><p>
        The wrong <code class="literal">COLUMN_SIZE</code> would be returned by
        <code class="literal">SQLGetTypeInfo</code> for the TIME columns
        (<code class="literal">SQL_TYPE_TIME</code>).
       (<a href="http://bugs.mysql.com/30939" target="_top">Bug#30939</a>)</p></li><li><p>
        Clicking outside the character set selection box when
        configuring a new DSN could cause the wrong character set to be
        selected.
       (<a href="http://bugs.mysql.com/30568" target="_top">Bug#30568</a>)</p></li><li><p>
        Not specifying a user in the DSN dialog would raise a warning
        even though the parameter is optional.
       (<a href="http://bugs.mysql.com/30499" target="_top">Bug#30499</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        When using ADO, a column marked as
        <code class="literal">AUTO_INCREMENT</code> could incorrectly report that
        the column allowed <code class="literal">NULL</code> values. This was dur
        to an issue with <code class="literal">NULLABLE</code> and
        <code class="literal">IS_NULLABLE</code> return values from the call to
        <code class="literal">SQLColumns()</code>.
       (<a href="http://bugs.mysql.com/26108" target="_top">Bug#26108</a>)</p></li><li><p>
        Connector/ODBC would return the wrong the error code when the
        server disconnects the active connection because the configured
        <code class="literal">wait_timeout</code> has expired. Previously it would
        return <code class="literal">HY000</code>. Connector/ODBC now correctly
        returns an <code class="literal">SQLSTATE</code> of
        <code class="literal">08S01</code>.
       (<a href="http://bugs.mysql.com/3456" target="_top">Bug#3456</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-20"></a>E.3.20. Changes in  MySQL Connector/ODBC 3.51.20 (10 September 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using <code class="literal">FLAG_NO_PROMPT</code> doesn't suppress the
        dialogs normally handled by <code class="literal">SQLDriverConnect</code>.
       (<a href="http://bugs.mysql.com/30840" target="_top">Bug#30840</a>)</p></li><li><p>
        The specified length of the username and authentication
        parameters to <code class="literal">SQLConnect()</code> were not being
        honored.
       (<a href="http://bugs.mysql.com/30774" target="_top">Bug#30774</a>)</p></li><li><p>
        The wrong column size was returned for binary data.
       (<a href="http://bugs.mysql.com/30547" target="_top">Bug#30547</a>)</p></li><li><p>
        <code class="literal">SQLGetData()</code> will now always return
        <code class="literal">SQL_NO_DATA_FOUND</code> on second call when no data
        left, even if requested size is 0.
       (<a href="http://bugs.mysql.com/30520" target="_top">Bug#30520</a>)</p></li><li><p>
        <code class="literal">SQLGetConnectAttr()</code> did not reflect the
        connection state correctly.
       (<a href="http://bugs.mysql.com/14639" target="_top">Bug#14639</a>)</p></li><li><p>
        Removed checkbox in setup dialog for
        <code class="literal">FLAG_FIELD_LENGTH</code> (identified as
        <code class="literal">Don't Optimize Column Width</code> within the GUI
        dialog), which was removed from the driver in 3.51.18.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-19"></a>E.3.21. Changes in  MySQL Connector/ODBC 3.51.19 (10 August 2007)</h3></div></div></div><p>
        Connector/ODBC 3.51.19 fixes a specific issue with the 3.51.18
        release. For a list of changes in the 3.51.18 release, see
        <a href="news.html#myodbc-news-3-51-18" title="E.3.22. Changes in  MySQL Connector/ODBC 3.51.18 (08 August 2007)">Section E.3.22, “Changes in  MySQL Connector/ODBC 3.51.18 (08 August 2007)”</a>.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Because of <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a> in the server, character string results
        were sometimes incorrectly identified as
        <code class="literal">SQL_VARBINARY</code>. Until this server bug is
        corrected, the driver will identify all variable-length strings
        as <code class="literal">SQL_VARCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-18"></a>E.3.22. Changes in  MySQL Connector/ODBC 3.51.18 (08 August 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="option">FLAG_DEBUG</code> option was removed.
      </p></li><li><p>
        When connecting to a specific database when using a DSN, the
        system tables from the <code class="literal">mysql</code> database are no
        longer also available. Previously, tables from the mysql
        database (catalog) were listed as <code class="literal">SYSTEM
        TABLES</code> by <code class="literal">SQLTables()</code> even when a
        different catalog was being queried.
       (<a href="http://bugs.mysql.com/28662" target="_top">Bug#28662</a>)</p></li><li><p>
        Installed for Mac OS X has been re-instated. The installer
        registers the driver at a system (not user) level and makes it
        possible to create both user and system DSNs using the
        Connector/ODBC driver. The installer also fixes the situation
        where the necessary drivers would bge installed local to the
        user, not globally.
       (<a href="http://bugs.mysql.com/15326" target="_top">Bug#15326</a>, <a href="http://bugs.mysql.com/10444" target="_top">Bug#10444</a>)</p></li><li><p>
        Connector/ODBC now supports batched statements. In order to
        enable cached statement support you must switch enable the
        batched statement option
        (<code class="literal">FLAG_MULTI_STATEMENTS</code>, 67108864, or
        <span class="guilabel">Allow multiple statements</span> within a GUI
        configuration). Be aware that batched statements create an
        increased chance of SQL injection attacks and you must ensure
        that your application protects against this scenario.
       (<a href="http://bugs.mysql.com/7445" target="_top">Bug#7445</a>)</p></li><li><p>
        The <code class="literal">SQL_ATTR_ROW_BIND_OFFSET_PTR</code> is now
        supported for row bind offsets.
       (<a href="http://bugs.mysql.com/6741" target="_top">Bug#6741</a>)</p></li><li><p>
        The <code class="literal">TRACE</code> and <code class="literal">TRACEFILE</code>
        DSN options have been removed. Use the ODBC driver manager trace
        options instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a table with multiple <code class="literal">TIMESTAMP</code>
        columns, the final <code class="literal">TIMESTAMP</code> column within
        the table definition would not be updateable. Note that there is
        still a limitation in MySQL server regarding multiple
        <code class="literal">TIMESTAMP</code> columns . (<a href="http://bugs.mysql.com/9927" target="_top">Bug#9927</a>)
       (<a href="http://bugs.mysql.com/30081" target="_top">Bug#30081</a>)</p></li><li><p>
        Fixed an issue where the <span><strong class="command">myodbc3i</strong></span> would
        update the the user ODBC configuration file
        (<code class="filename">~/Library/ODBC/odbcinst.ini</code>) instead of
        the system <code class="filename">/Library/ODBC/odbcinst.ini</code>. This
        was caused because <span><strong class="command">myodbc3i</strong></span> was not honouring
        the <code class="literal">s</code> and <code class="literal">u</code> modifiers for
        the <code class="option">-d</code> command line option.
       (<a href="http://bugs.mysql.com/29964" target="_top">Bug#29964</a>)</p></li><li><p>
        Getting table metadata (through the
        <code class="literal">SQLColumns()</code> would fail, returning a bad
        table definition to calling applications.
       (<a href="http://bugs.mysql.com/29888" target="_top">Bug#29888</a>)</p></li><li><p>
        <code class="literal">DATETIME</code> column types would return
        <code class="literal">FALSE</code> in place of
        <code class="literal">SQL_SUCCESS</code> when requesting the column type
        information.
       (<a href="http://bugs.mysql.com/28657" target="_top">Bug#28657</a>)</p></li><li><p>
        The <code class="literal">SQL_COLUMN_TYPE</code>,
        <code class="literal">SQL_COLUMN_DISPLAY</code> and
        <code class="literal">SQL_COLUMN_PRECISION</code> values would be returned
        incorrectly by <code class="literal">SQLColumns()</code>,
        <code class="literal">SQLDescribeCol()</code> and
        <code class="literal">SQLColAttribute()</code> when accessing character
        columns, especially those generated through
        <code class="literal">concat()</code>. The lengths returned should now
        conform to the ODBC specification. The
        <code class="literal">FLAG_FIELD_LENGTH</code> option no longer has any
        affect on the results returned.
       (<a href="http://bugs.mysql.com/27862" target="_top">Bug#27862</a>)</p></li><li><p>
        Obtaining the length of a column when using a character set for
        the connection of <code class="literal">utf8</code> would result in the
        length being returned incorrectly.
       (<a href="http://bugs.mysql.com/19345" target="_top">Bug#19345</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about <code class="literal">TIMESTAMP</code>
        columns, indicating that the field was not nullable.
       (<a href="http://bugs.mysql.com/14414" target="_top">Bug#14414</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about <code class="literal">AUTO_INCREMENT</code>
        columns, indicating that the field was not nullable.
       (<a href="http://bugs.mysql.com/14407" target="_top">Bug#14407</a>)</p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        <code class="literal">BIT(n)</code> columns are now treated as
        <code class="literal">SQL_BIT</code> data where <code class="literal">n = 1</code>
        and binary data where <code class="literal">n &gt; 1</code>.
      </p></li><li><p>
        The wrong value from <code class="literal">SQL_DESC_LITERAL_SUFFIX</code>
        was returned for binary fields.
      </p></li><li><p>
        The <code class="literal">SQL_DATETIME_SUB</code> column in SQLColumns()
        was not correctly set for date and time types.
      </p></li><li><p>
        The value for <code class="literal">SQL_DESC_FIXED_PREC_SCALE</code> was
        not returned correctly for values in MySQL 5.0 and later.
      </p></li><li><p>
        The wrong value for <code class="literal">SQL_DESC_TYPE</code> was
        returned for date and time types.
      </p></li><li><p>
        <code class="literal">SQLConnect()</code> and
        <code class="literal">SQLDriverConnect()</code> were rewritten to
        eliminate duplicate code and ensure all options were supported
        using both connection methods.
        <code class="literal">SQLDriverConnect()</code> now only requires the
        setup library to be present when the call requires it.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        The wrong value for <code class="literal">DECIMAL_DIGITS</code> in
        <code class="literal">SQLColumns()</code> was reported for
        <code class="literal">FLOAT</code> and <code class="literal">DOUBLE</code> fields,
        as well as the wrong value for the scale parameter to
        <code class="literal">SQLDescribeCol()</code>, and the
        <code class="literal">SQL_DESC_SCALE</code> attribute from
        <code class="literal">SQLColAttribute()</code>.
      </p></li><li><p>
        The <code class="literal">SQL_DATA_TYPE</code> column in
        <code class="literal">SQLColumns()</code> results did not report the
        correct value for date and time types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-17"></a>E.3.23. Changes in  MySQL Connector/ODBC 3.51.17 (14 July 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        It is now possible to specify a different character set as part
        of the DSN or connection string. This must be used instead of
        the <code class="literal">SET NAMES</code> statement. You can also
        configure the character set value from the GUI configuration.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>, <a href="http://bugs.mysql.com/6667" target="_top">Bug#6667</a>)</p></li><li><p>
        Fixed calling convention ptr and wrong free in
        <span><strong class="command">myodbc3i</strong></span>, and fixed the null terminating (was
        only one, not two) when writing DSN to string.
      </p></li><li><p>
        Dis-allow NULL ptr for null indicator when calling SQLGetData()
        if value is null. Now returns SQL_ERROR w/state 22002.
      </p></li><li><p>
        The setup library has been split into its own RPM package, to
        allow installing the driver itself with no GUI dependencies.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">myodbc3i</code> did not correctly format driver
        info, which could cause the installation to fail.
       (<a href="http://bugs.mysql.com/29709" target="_top">Bug#29709</a>)</p></li><li><p>
        Connector/ODBC crashed with Crystal Reports due to a rproblem
        with <code class="literal">SQLProcedures()</code>.
       (<a href="http://bugs.mysql.com/28316" target="_top">Bug#28316</a>)</p></li><li><p>
        Fixed a problem where the GUI would crash when configuring or
        removing a System or User DSN.
       (<a href="http://bugs.mysql.com/27315" target="_top">Bug#27315</a>)</p></li><li><p>
        Fixed error handling of out-of-memory and bad connections in
        catalog functions. This might raise errors in code paths that
        had ignored them in the past.
       (<a href="http://bugs.mysql.com/26934" target="_top">Bug#26934</a>)</p></li><li><p>
        For a stored procedure that returns multiple result sets,
        Connector/ODBC returned only the first result set.
       (<a href="http://bugs.mysql.com/16817" target="_top">Bug#16817</a>)</p></li><li><p>
        Calling <code class="literal">SQLGetDiagField</code> with
        <code class="literal">RecNumber 0, DiagIdentifier NOT 0</code> returned
        <code class="literal">SQL_ERROR</code>, preventing access to diagnostic
        header fields.
       (<a href="http://bugs.mysql.com/16224" target="_top">Bug#16224</a>)</p></li><li><p>
        Added a new DSN option
        (<code class="literal">FLAG_ZERO_DATE_TO_MIN</code>) to retrieve
        <code class="literal">XXXX-00-00</code> dates as the minimum allowed ODBC
        date (<code class="literal">XXXX-01-01</code>). Added another option
        (<code class="literal">FLAG_MIN_DATE_TO_ZERO</code>) to mirror this but
        for bound parameters. <code class="literal">FLAG_MIN_DATE_TO_ZERO</code>
        only changes <code class="literal">0000-01-01</code> to
        <code class="literal">0000-00-00</code>.
       (<a href="http://bugs.mysql.com/13766" target="_top">Bug#13766</a>)</p></li><li><p>
        If there was more than one unique key on a table, the correct
        fields were not used in handling <code class="literal">SQLSetPos()</code>.
       (<a href="http://bugs.mysql.com/10563" target="_top">Bug#10563</a>)</p></li><li><p>
        When inserting a large <code class="literal">BLOB</code> field,
        Connector/ODBC would crash due to a memory allocation error.
       (<a href="http://bugs.mysql.com/10562" target="_top">Bug#10562</a>)</p></li><li><p>
        The driver was using
        <code class="literal">mysql_odbc_escape_string()</code>, which does not
        handle the <code class="literal">NO_BACKSLASH_ESCAPES</code> SQL mode. Now
        it uses
        <a href="apis.html#mysql-real-escape-string" title="23.2.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>,
        which does.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> did not handle many of its
        parameters correctly, which could lead to incorrect results. The
        table name argument was not handled as a pattern value, and most
        arguments were not escaped correctly when they contained
        non-alphanumeric characters.
       (<a href="http://bugs.mysql.com/8860" target="_top">Bug#8860</a>)</p></li><li><p>
        There are no binary packages for Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Correctly return error if <code class="literal">SQLBindCol</code> is
        called with an invalid column.
      </p></li><li><p>
        Fixed possible crash if <code class="literal">SQLBindCol()</code> was not
        called before <code class="literal">SQLSetPos()</code>.
      </p></li><li><p>
        The Mac OS X binary packages are only provided as tarballs,
        there is no installer.
      </p></li><li><p>
        The binary packages for Sun Solaris are only provided as
        tarballs, not the PKG format.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-16"></a>E.3.24. Changes in  MySQL Connector/ODBC 3.51.16 (14 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC now supports using SSL for communication. This is
        not yet exposed in the setup GUI, but must be enabled through
        configuration files or the DSN.
       (<a href="http://bugs.mysql.com/12918" target="_top">Bug#12918</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calls to SQLNativeSql() could cause stack corruption due to an
        incorrect pointer cast.
       (<a href="http://bugs.mysql.com/28758" target="_top">Bug#28758</a>)</p></li><li><p>
        Using curors on results sets with multi-column keys could select
        the wrong value.
       (<a href="http://bugs.mysql.com/28255" target="_top">Bug#28255</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> does not escape
        <code class="literal">_</code> and <code class="literal">%</code> in the table name
        arguments.
       (<a href="http://bugs.mysql.com/27723" target="_top">Bug#27723</a>)</p></li><li><p>
        When using stored procedures, making a <code class="literal">SELECT</code>
        or second stored procedure call after an initial stored
        procedure call, the second statement will fail.
       (<a href="http://bugs.mysql.com/27544" target="_top">Bug#27544</a>)</p></li><li><p>
        SQLTables() did not distinguish tables from views.
       (<a href="http://bugs.mysql.com/23031" target="_top">Bug#23031</a>)</p></li><li><p>
        Data in <code class="literal">TEXT</code> columns would fail to be read
        correctly.
       (<a href="http://bugs.mysql.com/16917" target="_top">Bug#16917</a>)</p></li><li><p>
        Specifying strings as parameters using the
        <code class="literal">adBSTR</code> or <code class="literal">adVarWChar</code>
        types, (<code class="literal">SQL_WVARCHAR</code> and
        <code class="literal">SQL_WLONGVARCHAR</code>) would be incorrectly
        quoted.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        SQL_WVARCHAR and SQL_WLONGVARCHAR parameters were not properly
        quoted and escaped.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        Using <code class="literal">BETWEEN</code> with date values, the wrong
        results could be returned.
       (<a href="http://bugs.mysql.com/15773" target="_top">Bug#15773</a>)</p></li><li><p>
        When using the <code class="literal">Don't Cache Results</code> (option
        value <code class="literal">1048576</code>) with Microsoft Access, the
        connection will fail using DAO/VisualBasic.
       (<a href="http://bugs.mysql.com/4657" target="_top">Bug#4657</a>)</p></li><li><p>
        Return values from <code class="literal">SQLTables()</code> may be
        truncated. (Bugs #22797)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-15"></a>E.3.25. Changes in  MySQL Connector/ODBC 3.51.15 (7 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC would incorrectly claim to support
        <code class="literal">SQLProcedureColumns</code> (by returning true when
        queried about <code class="literal">SQLPROCEDURECOLUMNS</code> with
        <code class="literal">SQLGetFunctions</code>), but this functionality is
        not supported.
       (<a href="http://bugs.mysql.com/27591" target="_top">Bug#27591</a>)</p></li><li><p>
        An incorrect transaction isolation level may not be returned
        when accessing the connection attributes.
       (<a href="http://bugs.mysql.com/27589" target="_top">Bug#27589</a>)</p></li><li><p>
        Adding a new DSN with the <code class="literal">myodbc3i</code> utility
        under AIX would fail.
       (<a href="http://bugs.mysql.com/27220" target="_top">Bug#27220</a>)</p></li><li><p>
        When inserting data using bulk statements (through
        <code class="literal">SQLBulkOperations</code>), the indicators for all
        rows within the insert would not updated correctly.
       (<a href="http://bugs.mysql.com/24306" target="_top">Bug#24306</a>)</p></li><li><p>
        Using <code class="literal">SQLProcedures</code> does not return the
        database name within the returned resultset.
       (<a href="http://bugs.mysql.com/23033" target="_top">Bug#23033</a>)</p></li><li><p>
        The <code class="literal">SQLTransact()</code> function did not support an
        empty connection handle.
       (<a href="http://bugs.mysql.com/21588" target="_top">Bug#21588</a>)</p></li><li><p>
        Using <code class="literal">SQLDriverConnect</code> instead of
        <code class="literal">SQLConnect</code> could cause later operations to
        fail.
       (<a href="http://bugs.mysql.com/7912" target="_top">Bug#7912</a>)</p></li><li><p>
        When using blobs and parameter replacement in a statement with
        <code class="literal">WHERE CURSOR OF</code>, the SQL is truncated.
       (<a href="http://bugs.mysql.com/5853" target="_top">Bug#5853</a>)</p></li><li><p>
        Connector/ODBC would return too many foreign key results when
        accessing tables with similar names.
       (<a href="http://bugs.mysql.com/4518" target="_top">Bug#4518</a>)</p></li><li><p></p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-14"></a>E.3.26. Changes in  MySQL Connector/ODBC 3.51.14 (08 March 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use of <code class="literal">SQL_ATTR_CONNECTION_TIMEOUT</code> on the
        server has now been disabled. If you attempt to set this
        attribute on your connection the
        <code class="literal">SQL_SUCCESS_WITH_INFO</code> will be returned, with
        an error number/string of <code class="literal">HYC00: Optional feature not
        supported</code>.
       (<a href="http://bugs.mysql.com/19823" target="_top">Bug#19823</a>)</p></li><li><p>
        Added auto is null option to Connector/ODBC option parameters.
       (<a href="http://bugs.mysql.com/10910" target="_top">Bug#10910</a>)</p></li><li><p>
        Added auto-reconnect option to Connector/ODBC option parameters.
      </p></li><li><p>
        Added support for the <code class="literal">HENV</code> handlers in
        <code class="literal">SQLEndTran()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        On 64-bit systems, some types would be incorrectly returned.
       (<a href="http://bugs.mysql.com/26024" target="_top">Bug#26024</a>)</p></li><li><p>
        When retrieving <code class="literal">TIME</code> columns, C/ODBC would
        incorrectly interpret the type of the string and could interpret
        it as a <code class="literal">DATE</code> type instead.
       (<a href="http://bugs.mysql.com/25846" target="_top">Bug#25846</a>)</p></li><li><p>
        Connector/ODBC may insert the wrong parameter values when using
        prepared statements under 64-bit Linux.
       (<a href="http://bugs.mysql.com/22446" target="_top">Bug#22446</a>)</p></li><li><p>
        Using Connector/ODBC, with <code class="literal">SQLBindCol</code> and
        binding the length to the return value from
        <code class="literal">SQL_LEN_DATA_AT_EXEC</code> fails with a memory
        allocation error.
       (<a href="http://bugs.mysql.com/20547" target="_top">Bug#20547</a>)</p></li><li><p>
        Using <code class="literal">DataAdapter</code>, Connector/ODBC may
        continually consume memory when reading the same records within
        a loop (Windows Server 2003 SP1/SP2 only).
       (<a href="http://bugs.mysql.com/20459" target="_top">Bug#20459</a>)</p></li><li><p>
        When retrieving data from columns that have been compressed
        using <code class="literal">COMPRESS()</code>, the retrieved data would be
        truncated to 8KB.
       (<a href="http://bugs.mysql.com/20208" target="_top">Bug#20208</a>)</p></li><li><p>
        The ODBC driver name and version number were incorrectly
        reported by the driver.
       (<a href="http://bugs.mysql.com/19740" target="_top">Bug#19740</a>)</p></li><li><p>
        A string format exception would be raised when using iODBC,
        Connector/ODBC and the embedded MySQL server.
       (<a href="http://bugs.mysql.com/16535" target="_top">Bug#16535</a>)</p></li><li><p>
        The <code class="literal">SQLDriverConnect()</code> ODBC method did not
        work with recent Connector/ODBC releases.
       (<a href="http://bugs.mysql.com/12393" target="_top">Bug#12393</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-13"></a>E.3.27. Changes in  MySQL Connector/ODBC 3.51.13 (Never released)</h3></div></div></div><p>
        Connector/ODBC 3.51.13 was an internal implementation and
        testing release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-12"></a>E.3.28. Changes in  MySQL Connector/ODBC 3.51.12 (11 Febrauary 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        N/A
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using stored procedures with ADO, where the
        <code class="literal">CommantType</code> has been set correctly to
        <code class="literal">adCmdStoredProc</code>, calls to stored procedures
        would fail.
       (<a href="http://bugs.mysql.com/15635" target="_top">Bug#15635</a>)</p></li><li><p>
        File DSNs could not be saved.
       (<a href="http://bugs.mysql.com/12019" target="_top">Bug#12019</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> returned no information for
        tables that had a column named using a reserved word.
       (<a href="http://bugs.mysql.com/9539" target="_top">Bug#9539</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="myodbc-news-3-51-11"></a>E.3.29. Changes in  MySQL Connector/ODBC 3.51.11 (28 January 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">mysql_list_dbcolumns()</code> and
        <code class="literal">insert_fields()</code> were retrieving all rows from
        a table. Fixed the queries generated by these functions to
        return no rows.
       (<a href="http://bugs.mysql.com/8198" target="_top">Bug#8198</a>)</p></li><li><p>
        <code class="literal">SQLGetTypoInfo()</code> returned
        <code class="literal">tinyblob</code> for <code class="literal">SQL_VARBINARY</code>
        and nothing for <code class="literal">SQL_BINARY</code>. Fixed to return
        <code class="literal">varbinary</code> for
        <code class="literal">SQL_VARBINARY</code>, <code class="literal">binary</code> for
        <code class="literal">SQL_BINARY</code>, and <code class="literal">longblob</code>
        for <code class="literal">SQL_LONGVARBINARY</code>.
       (<a href="http://bugs.mysql.com/8138" target="_top">Bug#8138</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connector-net-news"></a>E.4. MySQL Connector/NET Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-5-2-2">E.4.1. Changes in  MySQL Connector/NET 5.2.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-1">E.4.2. Changes in  MySQL Connector/NET 5.2.1 (27 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-0">E.4.3. Changes in  MySQL Connector/NET 5.2.0 (11 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-6">E.4.4. Changes in  MySQL Connector/NET 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-5">E.4.5. Changes in  MySQL Connector/NET 5.1.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-4">E.4.6. Changes in  MySQL Connector/NET 5.1.4 (20 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-3">E.4.7. Changes in  MySQL Connector/NET 5.1.3 (21 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-2">E.4.8. Changes in  MySQL Connector/NET 5.1.2 (18 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-1">E.4.9. Changes in  MySQL Connector/NET 5.1.1 (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-0">E.4.10. Changes in  MySQL Connector/NET 5.1.0 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-9">E.4.11. Changes in  MySQL Connector/NET 5.0.9 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-8">E.4.12. Changes in  MySQL Connector/NET 5.0.8 (21 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-7">E.4.13. Changes in  MySQL Connector/NET 5.0.7 (18 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-6">E.4.14. Changes in  MySQL Connector/NET 5.0.6 (22 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-5">E.4.15. Changes in  MySQL Connector/NET 5.0.5 (07 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-4">E.4.16. Changes in  MySQL Connector/NET 5.0.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-3">E.4.17. Changes in  MySQL Connector/NET 5.0.3 (05 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-2">E.4.18. Changes in  MySQL Connector/NET 5.0.2 (06 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-1">E.4.19. Changes in  MySQL Connector/NET 5.0.1 (01 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-0">E.4.20. Changes in  MySQL Connector/NET 5.0.0 (08 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-11">E.4.21. Changes in  MySQL Connector/NET 1.0.11 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-10">E.4.22. Changes in  MySQL Connector/NET 1.0.10 (24 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-9">E.4.23. Changes in  MySQL Connector/NET 1.0.9 (02 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-8">E.4.24. Changes in  MySQL Connector/NET 1.0.8 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-7">E.4.25. Changes in  MySQL Connector/NET 1.0.7 (21 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-6">E.4.26. Changes in  MySQL Connector/NET 1.0.6 (03 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-5">E.4.27. Changes in  MySQL Connector/NET 1.0.5 (29 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-4">E.4.28. Changes in  MySQL Connector/NET 1.0.4 (20 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-3">E.4.29. Changes in  MySQL Connector/NET 1.0.3 (12 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-2">E.4.30. Changes in  MySQL Connector/NET 1.0.2 (15 November 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-1">E.4.31. Changes in  MySQL Connector/NET 1.0.1 (27 October 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-0">E.4.32. Changes in  MySQL Connector/NET 1.0.0 (01 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">E.4.33. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">E.4.34. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">E.4.35. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">E.4.36. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">E.4.37. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">E.4.38. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">E.4.39. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">E.4.40. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">E.4.41. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">E.4.42. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-2"></a>E.4.1. Changes in  MySQL Connector/NET 5.2.2 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using the <code class="literal">TableAdapter Wizard</code> would fail when
        generating commands that used stored procedures due to the
        change in supported parameter characters.
       (<a href="http://bugs.mysql.com/34941" target="_top">Bug#34941</a>)</p></li><li><p>
        When creating a new stored procedured, the new parameter code
        which allows the use of the <code class="literal">@</code> symbol would
        interfere with the specification of a
        <code class="literal">DEFINER</code>.
       (<a href="http://bugs.mysql.com/34940" target="_top">Bug#34940</a>)</p></li><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <code class="literal">SELECT</code> statement, only the
        associated <code class="literal">INSERT</code> statement would also be
        created, rather than the required <code class="literal">DELETE</code> and
        <code class="literal">UPDATE</code> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li><li><p>
        Fixed problem in datagrid code related to creating a new table.
        This problem may have been introduced with .NET 2.0 SP1.
      </p></li><li><p>
        Fixed profile provider that would throw an exception if you were
        updating a profile that already existed.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-1"></a>E.4.2. Changes in  MySQL Connector/NET 5.2.1 (27 February 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using the provider to generate or update users and
        passwords, the password checking algorithm would not validate
        the password strength or requirements correctly.
       (<a href="http://bugs.mysql.com/34792" target="_top">Bug#34792</a>)</p></li><li><p>
        When executing statements that used stored procedures and
        functions, the new parameter code could fail to identify the
        correct parameter format.
       (<a href="http://bugs.mysql.com/34699" target="_top">Bug#34699</a>)</p></li><li><p>
        The installer would fail to the DDEX provider binary if the
        Visual Studio 2005 component was not selected. The result would
        lead to Connector/NET not loading properly when using the
        interface to a MySQL server within Visual Studio.
       (<a href="http://bugs.mysql.com/34674" target="_top">Bug#34674</a>)</p></li><li><p>
        A number issues were identified in the case, connection and
        scema areas of the code for
        <code class="literal">MembershipProvider</code>,
        <code class="literal">RoleProvider</code>,
        <code class="literal">ProfileProvider</code>.
       (<a href="http://bugs.mysql.com/34495" target="_top">Bug#34495</a>)</p></li><li><p>
        When using web providers, the Connector/NET would check the
        schema and cache the application id, even when the connection
        string had been set. The effect would be to break the memvership
        provider list.
       (<a href="http://bugs.mysql.com/34451" target="_top">Bug#34451</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Fixed problem with Visual Studio 2008 integration that caused
        popup menus on server explorer nodes to not function
      </p></li><li><p>
        The provider code has been updated to fix a number of
        outstanding issues.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-0"></a>E.4.3. Changes in  MySQL Connector/NET 5.2.0 (11 February 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for <code class="literal">DbDataAdapter</code>
        <code class="literal">UpdateBatchSize</code>. Batching is fully supported
        including collapsing inserts down into the multi-value form if
        possible.
      </p></li><li><p>
        DDEX provider now works under Visual Studio 2008 beta 2.
      </p></li><li><p>
        Added ClearPool and ClearAllPools features.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection.
        Connector/NET does not handle multiple connections within the
        same transaction scope. An error is now returned if you attempt
        this process, instead of using the incorrect authorization
        information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-6"></a>E.4.4. Changes in  MySQL Connector/NET 5.1.6 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <code class="literal">SELECT</code> statement, only the
        associated <code class="literal">INSERT</code> statement would also be
        created, rather than the required <code class="literal">DELETE</code> and
        <code class="literal">UPDATE</code> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-5"></a>E.4.5. Changes in  MySQL Connector/NET 5.1.5 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection.
        Connector/NET does not handle multiple connections within the
        same transaction scope. An error is now returned if you attempt
        this process, instead of using the incorrect authorization
        information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        Connector/NET would fail to compile properly with
        <span><strong class="command">nant</strong></span>.
       (<a href="http://bugs.mysql.com/33508" target="_top">Bug#33508</a>)</p></li><li><p>
        Problem with membership provider would mean that
        <code class="literal">FindUserByEmail</code> would fail with a
        <code class="literal">MySqlException</code> because it was trying to add a
        second parameter with the same name as the first.
       (<a href="http://bugs.mysql.com/33347" target="_top">Bug#33347</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-4"></a>E.4.6. Changes in  MySQL Connector/NET 5.1.4 (20 November 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        Connector/NET would incorrectly report success when enlisting in
        a distributed transaction, although distributed transactions are
        not supported.
       (<a href="http://bugs.mysql.com/31703" target="_top">Bug#31703</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Trying to use a connection that was not open could return an
        ambiguous and misleading error message.
       (<a href="http://bugs.mysql.com/31262" target="_top">Bug#31262</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying <code class="literal">BLOB</code>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Column types with only 1-bit (such as <code class="literal">BOOLEAN</code>
        and <code class="literal">TINYINT(1)</code> were not returned as boolean
        fields.
       (<a href="http://bugs.mysql.com/27959" target="_top">Bug#27959</a>)</p></li><li><p>
        When accessing certain statements, the command would timeout
        before the command completed. Because this cannot always be
        controlled through the individual command timeout options, a
        <code class="literal">default command timeout</code> has been added to the
        connection string options.
       (<a href="http://bugs.mysql.com/27958" target="_top">Bug#27958</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-3"></a>E.4.7. Changes in  MySQL Connector/NET 5.1.3 (21 September 2007)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <code class="literal">INSERT</code> when adding rows to a
        table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <code class="literal">DATE</code> field would be updated with a
        date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        The Saudi Hijri calendar was not supported.
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <code class="literal">SHOW CREATE PROCEDURE</code> for routines
        with a hyphen in the catalog name produced a syntax error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        Connecting to a MySQL server earlier than version 4.1 would
        raise a <code class="literal">NullException</code>.
       (<a href="http://bugs.mysql.com/29476" target="_top">Bug#29476</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        An exception would be thrown when using the Manage Role
        functionality within the web administrator to assign a role to a
        user.
       (<a href="http://bugs.mysql.com/29236" target="_top">Bug#29236</a>)</p></li><li><p>
        Using the membership/role providers when
        <code class="literal">validationKey</code> or
        <code class="literal">decryptionKey</code> parameters are set to
        <code class="literal">AutoGenerate</code>, an exception would be raised
        when accessing the corresponding values.
       (<a href="http://bugs.mysql.com/29235" target="_top">Bug#29235</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that uses the
        <code class="literal">SELECT</code> statement would terminate the
        query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/29098" target="_top">Bug#29098</a>)</p></li><li><p>
        Using <code class="literal">TransactionScope</code> would cause an
        <code class="literal">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/28709" target="_top">Bug#28709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-2"></a>E.4.8. Changes in  MySQL Connector/NET 5.1.2 (18 June 2007)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Creating a user would fail due to the application name being set
        incorrectly.
       (<a href="http://bugs.mysql.com/28648" target="_top">Bug#28648</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that used a
        <code class="literal">UPDATE</code>, <code class="literal">INSERT</code> or
        <code class="literal">DELETE</code> statement would terminate the
        query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/28536" target="_top">Bug#28536</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Query Builder would
        fail to show <code class="literal">TINYTEXT</code> columns, and any
        columns listed after a <code class="literal">TINYTEXT</code> column
        correctly.
       (<a href="http://bugs.mysql.com/28437" target="_top">Bug#28437</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection would fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Update commands would
        not be generated correctly when using the TableAdapter wizard.
       (<a href="http://bugs.mysql.com/26347" target="_top">Bug#26347</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-1"></a>E.4.9. Changes in  MySQL Connector/NET 5.1.1 (23 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <code class="literal">SHOW PROCESSLIST</code> would
        return columns as byte arrays instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Installation of the Connector/NET on Windows would fail if
        VisualStudio had not already been installed.
       (<a href="http://bugs.mysql.com/28260" target="_top">Bug#28260</a>)</p></li><li><p>
        Connector/NET would look for the wrong table when executing
        <code class="literal">User.IsRole().</code>
       (<a href="http://bugs.mysql.com/28251" target="_top">Bug#28251</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        peformance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        <code class="literal">DATETIME</code> fields from versions of MySQL
        bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li><li><p>
        Fixed password property on
        <code class="literal">MySqlConnectionStringBuilder</code> to use
        <code class="literal">PasswordPropertyText</code> attribute. This causes
        dots to show instead of actual password text.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-0"></a>E.4.10. Changes in  MySQL Connector/NET 5.1.0 (01 May 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Now compiles for .NET CF 2.0.
      </p></li><li><p>
        Rewrote stored procedure parsing code using a new SQL tokenizer.
        Really nasty procedures including nested comments are now
        supported.
      </p></li><li><p>
        GetSchema will now report objects relative to the currently
        selected database. What this means is that passing in null as a
        database restriction will report objects on the currently
        selected database only.
      </p></li><li><p>
        Added Membership and Role provider contributed by Sean Wright
        (thanks!).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-9"></a>E.4.11. Changes in  MySQL Connector/NET 5.0.9 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-8"></a>E.4.12. Changes in  MySQL Connector/NET 5.0.8 (21 August 2007)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This version introduces a new installer technology.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying <code class="literal">BLOB</code>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <code class="literal">INSERT</code> when adding rows to a
        table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <code class="literal">DATE</code> field would be updated with a
        date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        Fixed bug where Connector/Net was hand building some date time
        patterns rather than using the patterns provided under
        CultureInfo. This caused problems with some calendars that do
        not support the same ranges as Gregorian..
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <code class="literal">SHOW CREATE PROCEDURE</code> for routines
        with a hyphen in the catalog name produced a syntax error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection will fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        Fixed problem where
        <code class="literal">MySqlConnection.BeginTransaction</code> checked the
        drivers status var before checking if the connection was open.
        The result was that the driver could report an invalid condition
        on a previously opened connection.
      </p></li><li><p>
        Fixed problem where we were not closing prepared statement
        handles when commands are disposed. This could lead to using up
        all prepared statement handles on the server.
      </p></li><li><p>
        Fixed the database schema collection so that it works on servers
        that are not properly respecting the
        <code class="literal">lower_case_table_names</code> setting.
      </p></li><li><p>
        Fixed problem where any attempt to not read all the records
        returned from a select where each row of the select is greater
        than 1024 bytes would hang the driver.
      </p></li><li><p>
        Fixed problem where a command timing out just after it actually
        finished would cause an exception to be thrown on the command
        timeout thread which would then be seen as an unhandled
        exception.
      </p></li><li><p>
        Fixed some serious issues with command timeout and cancel that
        could present as exceptions about thread ownership. The issue
        was that not all queries cancel the same. Some produce
        resultsets while others don't. ExecuteReader had to be changed
        to check for this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-7"></a>E.4.13. Changes in  MySQL Connector/NET 5.0.7 (18 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <code class="literal">SHOW PROCESSLIST</code> would
        return columns as byte arrays instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        peformance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        Using logging (with the <code class="literal">logging=true</code>
        parameter to the connection string) would not generate a log
        file.
       (<a href="http://bugs.mysql.com/27765" target="_top">Bug#27765</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        If you close an open connection with an active transaction, the
        transaction is not automatically rolled back.
       (<a href="http://bugs.mysql.com/27289" target="_top">Bug#27289</a>)</p></li><li><p>
        When cloning an open
        <code class="literal">MySqlClient.MySqlConnection</code> with the
        <code class="option">Persist Security Info=False</code> option set, the
        cloned connection is not usable because the security information
        has not been cloned.
       (<a href="http://bugs.mysql.com/27269" target="_top">Bug#27269</a>)</p></li><li><p>
        Enlisting a null transaction would affect the current connection
        object, such that further enlistment operations to the
        transaction are not possible.
       (<a href="http://bugs.mysql.com/26754" target="_top">Bug#26754</a>)</p></li><li><p>
        Attempting to change the the <code class="literal">Connection
        Protocol</code> property within a
        <code class="literal">PropertyGrid</code> control would raise an
        exception.
       (<a href="http://bugs.mysql.com/26472" target="_top">Bug#26472</a>)</p></li><li><p>
        The <code class="literal">characterset</code> property would not be
        identified during a connection (also affected Visual Studion
        Plugin).
       (<a href="http://bugs.mysql.com/26147" target="_top">Bug#26147</a>, <a href="http://bugs.mysql.com/27240" target="_top">Bug#27240</a>)</p></li><li><p>
        The <code class="literal">CreateFormat</code> column of the
        <code class="literal">DataTypes</code> collection did not contain a format
        specification for creating a new column type.
       (<a href="http://bugs.mysql.com/25947" target="_top">Bug#25947</a>)</p></li><li><p>
        <code class="literal">DATETIME</code> fields from versions of MySQL
        bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-6"></a>E.4.14. Changes in  MySQL Connector/NET 5.0.6 (22 March 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Publisher listed in "Add/Remove Programs" is not
        consistent with other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">DESCRIBE ....</code> SQL statement returns byte
        arrays rather than data on MySQL versions older than 4.1.15.
       (<a href="http://bugs.mysql.com/27221" target="_top">Bug#27221</a>)</p></li><li><p>
        <code class="literal">cmd.Parameters.RemoveAt("Id")</code> will
        cause an error if the last item is requested.
       (<a href="http://bugs.mysql.com/27187" target="_top">Bug#27187</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        Exception thrown when using large values in
        <code class="literal">UInt64</code> parameters.
       (<a href="http://bugs.mysql.com/27093" target="_top">Bug#27093</a>)</p></li><li><p>
        MySQL Visual Studio Plugin 1.1.2 does not work with
        Connector/Net 5.0.5.
       (<a href="http://bugs.mysql.com/26960" target="_top">Bug#26960</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-5"></a>E.4.15. Changes in  MySQL Connector/NET 5.0.5 (07 March 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Reverted behavior that required parameter names to start with
        the parameter marker. We apologize for this back and forth but
        we mistakenly changed the behavior to not match what
        <code class="literal">SqlClient</code> supports. We now support using
        either syntax for adding parameters however we also respond
        exactly like <code class="literal">SqlClient</code> in that if you ask for
        the index of a parameter using a syntax different from when you
        added the parameter, the result will be -1.
      </p></li><li><p>
        Assembly now properly appears in the Visual Studio 2005
        Add/Remove Reference dialog.
      </p></li><li><p>
        Fixed problem that prevented use of
        <code class="literal">SchemaOnly</code> or <code class="literal">SingleRow</code>
        command behaviors with stored procedures or prepared statements.
      </p></li><li><p>
        Added <code class="literal">MySqlParameterCollection.AddWithValue</code>
        and marked the <code class="literal">Add(name, value)</code> method as
        obsolete.
      </p></li><li><p>
        Return parameters created with DeriveParameters now have the
        name <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        Fixed problem with parameter name hashing where the hashes were
        not getting updated when parameters were removed from the
        collection.
      </p></li><li><p>
        Fixed problem with calling stored functions when a return
        parameter was not given.
      </p></li><li><p>
        Added <code class="literal">Use Procedure Bodies</code> connection string
        option to allow calling procedures without using procedure
        metadata.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlConnection.GetSchema</code> fails with
        <code class="literal">NullReferenceException</code> for Foreign Keys.
       (<a href="http://bugs.mysql.com/26660" target="_top">Bug#26660</a>)</p></li><li><p>
        Connector/NET would fail to install under Windows Vista.
       (<a href="http://bugs.mysql.com/26430" target="_top">Bug#26430</a>)</p></li><li><p>
        Opening a connection would be slow due to hostname lookup.
       (<a href="http://bugs.mysql.com/26152" target="_top">Bug#26152</a>)</p></li><li><p>
        Incorrect values/formats would be applied when the
        <code class="literal">OldSyntax</code> connection string option was used.
       (<a href="http://bugs.mysql.com/25950" target="_top">Bug#25950</a>)</p></li><li><p>
        Registry would be incorrectly populated with installation
        locations.
       (<a href="http://bugs.mysql.com/25928" target="_top">Bug#25928</a>)</p></li><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        Returned data types of a <code class="literal">DataTypes</code> collection
        do not contain the right correctl CLR Datatype.
       (<a href="http://bugs.mysql.com/25907" target="_top">Bug#25907</a>)</p></li><li><p>
        <code class="literal">GetSchema</code> and <code class="literal">DataTypes</code>
        would throw an exception due to an incorrect table name.
       (<a href="http://bugs.mysql.com/25906" target="_top">Bug#25906</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws an exception when
        connecting to MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <code class="literal">SELECT</code> did not work correctly when using a
        <code class="literal">WHERE</code> clause containing a UTF-8 string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Filling a table schema through a stored procedure triggers a
        runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        <code class="literal">BINARY</code> and <code class="literal">VARBINARY</code>
        columns would be returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        The <code class="literal">UpdateRowSource.FirstReturnedRecord</code>
        method does not work.
       (<a href="http://bugs.mysql.com/25569" target="_top">Bug#25569</a>)</p></li><li><p>
        When connecting to a MySQL Server earlier than version 4.1, the
        connection would hang when reading data.
       (<a href="http://bugs.mysql.com/25458" target="_top">Bug#25458</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the hostname was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li><li><p>
        Connector/NET would not compile properly when used with Mono
        1.2.
       (<a href="http://bugs.mysql.com/24263" target="_top">Bug#24263</a>)</p></li><li><p>
        Applications would crash when calling with
        <code class="literal">CommandType</code> set to
        <code class="literal">StoredProcedure</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-4"></a>E.4.16. Changes in  MySQL Connector/NET 5.0.4 (Not released)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-3"></a>E.4.17. Changes in  MySQL Connector/NET 5.0.3 (05 January 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor has been implemented. The Usage Advisor checks
        your queries and will report if you are using the connection
        inefficiently.
      </p></li><li><p>
        PerfMon hooks have been added to monitor the stored procedure
        cache hits and misses.
      </p></li><li><p>
        The <code class="literal">MySqlCommand</code> object now supports
        asynchronous query methods. This is implemented useg the
        <code class="literal">BeginExecuteNonQuery</code> and
        <code class="literal">EndExecuteNonQuery</code> methods.
      </p></li><li><p>
        Metadata from storaed procedures and stored function execution
        are cached.
      </p></li><li><p>
        The <code class="literal">CommandBuilder.DeriveParameters</code> function
        has been updated to the procedure cache.
      </p></li><li><p>
        The <code class="literal">ViewColumns</code> <code class="literal">GetSchema</code>
        collection has been updated.
      </p></li><li><p>
        Improved speed and performance by re-architecting certain
        sections of the code.
      </p></li><li><p>
        Support for the embedded server and client library have been
        removed from this release. Support will be added back to a later
        release.
      </p></li><li><p>
        The ShapZipLib library has been replaced with the deflate
        support provided within .NET 2.0.
      </p></li><li><p>
        SSL support has been updated.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Additional text added to error message
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        An exception would be raised, or the process would hang, if
        <code class="literal">SELECT</code> privileges on a database were not
        granted and a stored procedure was used.
       (<a href="http://bugs.mysql.com/25033" target="_top">Bug#25033</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        Deleting a connection to a disconnected server when using the
        Visual Studio Plugin would cause an assertion failure.
       (<a href="http://bugs.mysql.com/23687" target="_top">Bug#23687</a>)</p></li><li><p>
        Nested transactions (which are unsupported)do not raise an error
        or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-2"></a>E.4.18. Changes in  MySQL Connector/NET 5.0.2 (06 November 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/NET 5.0.2 has disabled their use by
        default. The disabling of server-side prepared statements does
        not affect the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        One system where IPv6 was enabled, Connector/NET would
        incorrectly resolve hostnames.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Column names with accented characters were not parsed properly
        causing malformed column names in result sets.
       (<a href="http://bugs.mysql.com/23657" target="_top">Bug#23657</a>)</p></li><li><p>
        An exception would be thrown when calling
        <code class="literal">GetSchemaTable</code> and <code class="literal">fields</code>
        was null.
       (<a href="http://bugs.mysql.com/23538" target="_top">Bug#23538</a>)</p></li><li><p>
        A <code class="literal">System.FormatException</code> exception would be
        raised when invoking a stored procedure with an
        <code class="literal">ENUM</code> input parameter.
       (<a href="http://bugs.mysql.com/23268" target="_top">Bug#23268</a>)</p></li><li><p>
        During installation, an antivirus error message would be raised
        (indicating a malicious script problem).
       (<a href="http://bugs.mysql.com/23245" target="_top">Bug#23245</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that Connector/NET
        5.0.2 must be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li><li><p>
        Using Windows Vista (RC2) as a non-privileged user would raise a
        <code class="literal">Registry key 'Global' access denied</code>.
       (<a href="http://bugs.mysql.com/22882" target="_top">Bug#22882</a>)</p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error.
       (<a href="http://bugs.mysql.com/18186" target="_top">Bug#18186</a>)</p></li><li><p>
        Connector/NET did not work as a data source for the
        <code class="literal">SqlDataSource</code> object used by ASP.NET 2.0.
       (<a href="http://bugs.mysql.com/16126" target="_top">Bug#16126</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-1"></a>E.4.19. Changes in  MySQL Connector/NET 5.0.1 (01 October 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET on a Tukish operating system, may fail to execute
        certain SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        Starting a transaction on a connection created by
        <code class="literal">MySql.Data.MySqlClient.MySqlClientFactory</code>,
        using <code class="literal">BeginTransaction</code> without specifying an
        isolation level, causes the SQL statement to fail with a syntax
        error.
       (<a href="http://bugs.mysql.com/22042" target="_top">Bug#22042</a>)</p></li><li><p>
        The <code class="literal">MySqlexception</code> class is now derived from
        the <code class="literal">DbException</code> class.
       (<a href="http://bugs.mysql.com/21874" target="_top">Bug#21874</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        You can now install the Connector/NET MSI package from the
        command line using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a Connector/Net exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00",
        a <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <code class="literal">VARCHAR</code> UTF8 columns. Bug (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-0"></a>E.4.20. Changes in  MySQL Connector/NET 5.0.0 (08 August 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced use of ICSharpCode with .NET 2.0 internal deflate
        support.
      </p></li><li><p>
        Refactored test suite to test all protocols in a single pass.
      </p></li><li><p>
        Added usage advisor warnings for requesting column values by the
        wrong type.
      </p></li><li><p>
        Reimplemented PacketReader/PacketWriter support into
        <code class="classname">MySqlStream</code> class.
      </p></li><li><p>
        Reworked connection string classes to be simpler and faster.
      </p></li><li><p>
        Added procedure metadata caching.
      </p></li><li><p>
        Added internal implemention of SHA1 so we don't have to
        distribute the OpenNetCF on mobile devices.
      </p></li><li><p>
        Implemented <code class="classname">MySqlClientFactory</code> class.
      </p></li><li><p>
        Added perfmon hooks for stored procedure cache hits and misses.
      </p></li><li><p>
        Implemented classes and interfaces for ADO.Net 2.0 support.
      </p></li><li><p>
        Added Async query methods.
      </p></li><li><p>
        Implemented Usage Advisor.
      </p></li><li><p>
        Completely refactored how column values are handled to avoid
        boxing in some cases.
      </p></li><li><p>
        Implemented <code class="classname">MySqlConnectionBuilder</code> class.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        CommandText: Question mark in comment line is being parsed as a
        parameter.
       (<a href="http://bugs.mysql.com/6214" target="_top">Bug#6214</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-11"></a>E.4.21. Changes in  MySQL Connector/NET 1.0.11 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying <code class="literal">BLOB</code>
        fields as binary, rather than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-10"></a>E.4.22. Changes in  MySQL Connector/NET 1.0.10 (24 August 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <code class="literal">INSERT</code> when adding rows to a
        table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        Publisher listed in "Add/Remove Programs" is not
        consistent with other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        <code class="literal">BINARY</code> and <code class="literal">VARBINARY</code>
        columns would be returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-9"></a>E.4.23. Changes in  MySQL Connector/NET 1.0.9 (02 February 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The ICSharpCode ZipLib is no longer used by the Connector, and
        is no longer distributed with it.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Binaries for
        .NET 1.0 are no longer supplied with this release. If you need
        support for .NET 1.0, you must build from source.
      </p></li><li><p>
        Improved <code class="literal">CommandBuilder.DeriveParameters</code> to
        first try and use the procedure cache before querying for the
        stored procedure metadata. Return parameters created with
        <code class="literal">DeriveParameters</code> now have the name
        <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/NET 5.0.2 has disabled their use by
        default. The disabling of server-side prepared statements does
        not affect the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws a
        <code class="literal">NullReferenceException</code> and
        <code class="literal">ArgumentNullException</code> when connecting to
        MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <code class="literal">SELECT</code> did not work correctly when using a
        <code class="literal">WHERE</code> clause containing a UTF-8 string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Trying to fill a table schema through a stored procedure
        triggers a runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        Additional text added to error message.
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the hostname was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        The <code class="literal">CommandBuilder</code> would mistakenly add
        insert parameters for a table column with auto incrementation
        enabled.
       (<a href="http://bugs.mysql.com/23862" target="_top">Bug#23862</a>)</p></li><li><p>
        One system where IPv6 was enabled, Connector/NET would
        incorrectly resolve hostnames.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Nested transactions do not raise an error or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li><li><p>
        An <code class="literal">System.OverflowException</code> would be raised
        when accessing a varchar field over 255 bytes. Bug (#23749)
      </p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error. (Bug 18186)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-8"></a>E.4.24. Changes in  MySQL Connector/NET 1.0.8 (20 October 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Stored procedures are now cached.
      </p></li><li><p>
        The method for retrieving stored procedured metadata has been
        changed so that users without <code class="literal">SELECT</code>
        privileges on the <code class="literal">mysql.proc</code> table can use a
        stored procedure.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET on a Tukish operating system, may fail to execute
        certain SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        Calling <code class="methodname">Close</code> on a connection after
        calling a stored procedure would trigger a
        <code class="literal">NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/20581" target="_top">Bug#20581</a>)</p></li><li><p>
        You can now install the Connector/NET MSI package from the
        command line using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        The DiscoverParameters function would fail when a stored
        procedure used a <code class="literal">NUMERIC</code> parameter type.
       (<a href="http://bugs.mysql.com/19515" target="_top">Bug#19515</a>)</p></li><li><p>
        When running a query that included a date comparison, a
        DateReader error would be raised.
       (<a href="http://bugs.mysql.com/19481" target="_top">Bug#19481</a>)</p></li><li><p>
        <code class="literal">IDataRecord.GetString</code> would raise
        <code class="literal">NullPointerException</code> for null values in
        returned rows. Method now throws
        <code class="literal">SqlNullValueException</code>.
       (<a href="http://bugs.mysql.com/19294" target="_top">Bug#19294</a>)</p></li><li><p>
        Parameter substitution in queries where the order of parameters
        and table fields did not match would substitute incorrect
        values.
       (<a href="http://bugs.mysql.com/19261" target="_top">Bug#19261</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a Connector/Net exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        An exception would be raised when using an output parameter to a
        <code class="literal">System.String</code> value.
       (<a href="http://bugs.mysql.com/17814" target="_top">Bug#17814</a>)</p></li><li><p>
        CHAR type added to MySqlDbType.
       (<a href="http://bugs.mysql.com/17749" target="_top">Bug#17749</a>)</p></li><li><p>
        A <code class="literal">SELECT</code> query on a table with a date with a
        value of <code class="literal">'0000-00-00'</code> would hang the
        application.
       (<a href="http://bugs.mysql.com/17736" target="_top">Bug#17736</a>)</p></li><li><p>
        The CommandBuilder ignored Unsigned flag at Parameter creation.
       (<a href="http://bugs.mysql.com/17375" target="_top">Bug#17375</a>)</p></li><li><p>
        When working with multiple threads, character set initialization
        would generate errors.
       (<a href="http://bugs.mysql.com/17106" target="_top">Bug#17106</a>)</p></li><li><p>
        When using an unsigned 64-bit integer in a stored procedure, the
        unsigned bit would be lost stored.
       (<a href="http://bugs.mysql.com/16934" target="_top">Bug#16934</a>)</p></li><li><p>
        <code class="literal">DataReader</code> would show the value of the
        previous row (or last row with non-null data) if the current row
        contained a <code class="literal">datetime</code> field with a null value.
       (<a href="http://bugs.mysql.com/16884" target="_top">Bug#16884</a>)</p></li><li><p>
        Unsigned data types were not properly supported.
       (<a href="http://bugs.mysql.com/16788" target="_top">Bug#16788</a>)</p></li><li><p>
        The connection string parser did not allow single or double
        quotes in the password.
       (<a href="http://bugs.mysql.com/16659" target="_top">Bug#16659</a>)</p></li><li><p>
        The <code class="literal">MySqlDateTime</code> class did not contain
        constructors.
       (<a href="http://bugs.mysql.com/15112" target="_top">Bug#15112</a>)</p></li><li><p>
        Called <code class="literal">MySqlCommandBuilder.DeriveParameters</code>
        for a stored procedure that has no paramers would cause an
        application crash.
       (<a href="http://bugs.mysql.com/15077" target="_top">Bug#15077</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00",
        a <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        When using <code class="literal">MySqlDataAdapter</code>, connections to a
        MySQL server may remain open and active, even though the use of
        the connection has been completed and the data received.
       (<a href="http://bugs.mysql.com/8131" target="_top">Bug#8131</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <code class="literal">VARCHAR</code> UTF8 columns. Bug (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-7"></a>E.4.25. Changes in  MySQL Connector/NET 1.0.7 (21 November 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Unsigned <code class="literal">tinyint</code> (NET byte) would lead to and
        incorrectly determined parameter type from the parameter value.
       (<a href="http://bugs.mysql.com/18570" target="_top">Bug#18570</a>)</p></li><li><p>
        A <code class="literal">#42000Query was empty</code> exception occurred
        when executing a query built with
        <code class="literal">MySqlCommandBuilder</code>, if the query string
        ended with a semicolon.
       (<a href="http://bugs.mysql.com/14631" target="_top">Bug#14631</a>)</p></li><li><p>
        The parameter collection object's <code class="literal">Add()</code>
        method added parameters to the list without first checking to
        see whether they already existed. Now it updates the value of
        the existing parameter object if it exists.
       (<a href="http://bugs.mysql.com/13927" target="_top">Bug#13927</a>)</p></li><li><p>
        Added support for the <code class="literal">cp932</code> character set.
       (<a href="http://bugs.mysql.com/13806" target="_top">Bug#13806</a>)</p></li><li><p>
        Calling a stored procedure where a parameter contained special
        characters (such as <code class="literal">'@'</code>) would produce an
        exception. Note that <code class="literal">ANSI_QUOTES</code> had to be
        enabled to make this possible.
       (<a href="http://bugs.mysql.com/13753" target="_top">Bug#13753</a>)</p></li><li><p>
        The <code class="literal">Ping()</code> method did not update the
        <code class="literal">State</code> property of the
        <code class="literal">Connection</code> object.
       (<a href="http://bugs.mysql.com/13658" target="_top">Bug#13658</a>)</p></li><li><p>
        Implemented the
        <code class="literal">MySqlCommandBuilder.DeriveParameters</code> method
        that is used to discover the parameters for a stored procedure.
       (<a href="http://bugs.mysql.com/13632" target="_top">Bug#13632</a>)</p></li><li><p>
        A statement that contained multiple references to the same
        parameter could not be prepared.
       (<a href="http://bugs.mysql.com/13541" target="_top">Bug#13541</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-6"></a>E.4.26. Changes in  MySQL Connector/NET 1.0.6 (03 October 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET 1.0.5 could not connect on Mono.
       (<a href="http://bugs.mysql.com/13345" target="_top">Bug#13345</a>)</p></li><li><p>
        Serializing a parameter failed if the first value passed in was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/13276" target="_top">Bug#13276</a>)</p></li><li><p>
        Field names that contained the following characters caused
        errors: <code class="literal">()%&lt;&gt;/</code>
       (<a href="http://bugs.mysql.com/13036" target="_top">Bug#13036</a>)</p></li><li><p>
        The <code class="literal">nant</code> build sequence had problems.
       (<a href="http://bugs.mysql.com/12978" target="_top">Bug#12978</a>)</p></li><li><p>
        The Connector/NET 1.0.5 installer would not install alongside
        Connector/NET 1.0.4.
       (<a href="http://bugs.mysql.com/12835" target="_top">Bug#12835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-5"></a>E.4.27. Changes in  MySQL Connector/NET 1.0.5 (29 August 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET could not connect to MySQL 4.1.14.
       (<a href="http://bugs.mysql.com/12771" target="_top">Bug#12771</a>)</p></li><li><p>
        With multiple hosts in the connection string, Connector/NET
        would not connect to the last host in the list.
       (<a href="http://bugs.mysql.com/12628" target="_top">Bug#12628</a>)</p></li><li><p>
        The <code class="literal">ConnectionString</code> property could not be
        set when a <code class="literal">MySqlConnection</code> object was added
        with the designer.
       (<a href="http://bugs.mysql.com/12551" target="_top">Bug#12551</a>, <a href="http://bugs.mysql.com/8724" target="_top">Bug#8724</a>)</p></li><li><p>
        The <code class="literal">cp1250</code> character set was not supported.
       (<a href="http://bugs.mysql.com/11621" target="_top">Bug#11621</a>)</p></li><li><p>
        A call to a stored procedure caused an exception if the stored
        procedure had no parameters.
       (<a href="http://bugs.mysql.com/11542" target="_top">Bug#11542</a>)</p></li><li><p>
        Certain malformed queries would trigger a <code class="literal">Connection
        must be valid and open</code> error message.
       (<a href="http://bugs.mysql.com/11490" target="_top">Bug#11490</a>)</p></li><li><p>
        Trying to use a stored procedure when
        <code class="literal">Connection.Database</code> was not populated
        generated an exception.
       (<a href="http://bugs.mysql.com/11450" target="_top">Bug#11450</a>)</p></li><li><p>
        Connector/NET interpreted the new decimal data type as a byte
        array.
       (<a href="http://bugs.mysql.com/11294" target="_top">Bug#11294</a>)</p></li><li><p>
        Added support to call a stored function from Connector/NET.
       (<a href="http://bugs.mysql.com/10644" target="_top">Bug#10644</a>)</p></li><li><p>
        Connection could fail when .NET thread pool had no available
        worker threads.
       (<a href="http://bugs.mysql.com/10637" target="_top">Bug#10637</a>)</p></li><li><p>
        Calling <code class="literal">MySqlConnection.clone</code> when a
        connection string had not yet been set on the original
        connection would generate an error.
       (<a href="http://bugs.mysql.com/10281" target="_top">Bug#10281</a>)</p></li><li><p>
        Decimal parameters caused syntax errors.
       (<a href="http://bugs.mysql.com/10152" target="_top">Bug#10152</a>, <a href="http://bugs.mysql.com/11550" target="_top">Bug#11550</a>, <a href="http://bugs.mysql.com/10486" target="_top">Bug#10486</a>)</p></li><li><p>
        Parameters were not recognized when they were separated by
        linefeeds.
       (<a href="http://bugs.mysql.com/9722" target="_top">Bug#9722</a>)</p></li><li><p>
        The <code class="literal">MySqlCommandBuilder</code> class could not
        handle queries that referenced tables in a database other than
        the default database.
       (<a href="http://bugs.mysql.com/8382" target="_top">Bug#8382</a>)</p></li><li><p>
        Trying to read a <code class="literal">TIMESTAMP</code> column generated
        an exception.
       (<a href="http://bugs.mysql.com/7951" target="_top">Bug#7951</a>)</p></li><li><p>
        Connector/NET could not work properly with certain regional
        settings. (WL#8228)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-4"></a>E.4.28. Changes in  MySQL Connector/NET 1.0.4 (20 January 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlReader.GetInt32</code> throws exception if
        column is unsigned.
       (<a href="http://bugs.mysql.com/7755" target="_top">Bug#7755</a>)</p></li><li><p>
        Quote character \222 not quoted in
        <code class="literal">EscapeString</code>.
       (<a href="http://bugs.mysql.com/7724" target="_top">Bug#7724</a>)</p></li><li><p>
        GetBytes is working no more.
       (<a href="http://bugs.mysql.com/7704" target="_top">Bug#7704</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetString(index)</code> returns
        non-Null value when field is <code class="literal">Null</code>.
       (<a href="http://bugs.mysql.com/7612" target="_top">Bug#7612</a>)</p></li><li><p>
        Clone method bug in <code class="literal">MySqlCommand</code>.
       (<a href="http://bugs.mysql.com/7478" target="_top">Bug#7478</a>)</p></li><li><p>
        Problem with Multiple resultsets.
       (<a href="http://bugs.mysql.com/7436" target="_top">Bug#7436</a>)</p></li><li><p>
        <code class="literal">MySqlAdapter.Fill</code> method throws error message
        <code class="literal">Non-negative number required</code>.
       (<a href="http://bugs.mysql.com/7345" target="_top">Bug#7345</a>)</p></li><li><p>
        <code class="literal">MySqlCommand.Connection</code> returns an
        IDbConnection.
       (<a href="http://bugs.mysql.com/7258" target="_top">Bug#7258</a>)</p></li><li><p>
        Calling prepare causing exception.
       (<a href="http://bugs.mysql.com/7243" target="_top">Bug#7243</a>)</p></li><li><p>
        Fixed problem with shared memory connections.
      </p></li><li><p>
        Added or filled out several more topics in the API reference
        documentation.
      </p></li><li><p>
        Fixed another small problem with prepared statements.
      </p></li><li><p>
        Fixed problem that causes named pipes to not work with some blob
        functionality.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-3"></a>E.4.29. Changes in  MySQL Connector/NET 1.0.3 (12 October 2004)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Invalid query string when using inout parameters
       (<a href="http://bugs.mysql.com/7133" target="_top">Bug#7133</a>)</p></li><li><p>
        Inserting <code class="literal">DateTime</code> causes
        <code class="literal">System.InvalidCastException</code> to be thrown.
       (<a href="http://bugs.mysql.com/7132" target="_top">Bug#7132</a>)</p></li><li><p>
        <code class="literal">MySqlDateTime</code> in Datatables sorting by Text,
        not Date.
       (<a href="http://bugs.mysql.com/7032" target="_top">Bug#7032</a>)</p></li><li><p>
        Exception stack trace lost when re-throwing exceptions.
       (<a href="http://bugs.mysql.com/6983" target="_top">Bug#6983</a>)</p></li><li><p>
        Errors in parsing stored procedure parameters.
       (<a href="http://bugs.mysql.com/6902" target="_top">Bug#6902</a>)</p></li><li><p>
        InvalidCast when using <code class="literal">DATE_ADD</code>-function.
       (<a href="http://bugs.mysql.com/6879" target="_top">Bug#6879</a>)</p></li><li><p>
        Int64 Support in <code class="literal">MySqlCommand</code> Parameters.
       (<a href="http://bugs.mysql.com/6863" target="_top">Bug#6863</a>)</p></li><li><p>
        Test suite fails with MySQL 4.0 because of case sensitivity of
        table names.
       (<a href="http://bugs.mysql.com/6831" target="_top">Bug#6831</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetChar(int i)</code> throws
        <code class="literal">IndexOutOfRange</code> exception.
       (<a href="http://bugs.mysql.com/6770" target="_top">Bug#6770</a>)</p></li><li><p>
        Integer "out" parameter from stored procedure returned
        as string.
       (<a href="http://bugs.mysql.com/6668" target="_top">Bug#6668</a>)</p></li><li><p>
        An Open Connection has been Closed by the Host System.
       (<a href="http://bugs.mysql.com/6634" target="_top">Bug#6634</a>)</p></li><li><p>
        Fixed Invalid character set index: 200.
       (<a href="http://bugs.mysql.com/6547" target="_top">Bug#6547</a>)</p></li><li><p>
        Connections now do not have to give a database on the connection
        string.
      </p></li><li><p>
        Installer now includes options to install into GAC and create
        <span class="guimenu">Start Menu</span> items.
      </p></li><li><p>
        Fixed major problem with detecting null values when using
        prepared statements.
      </p></li><li><p>
        Fixed problem where multiple resultsets having different numbers
        of columns would cause a problem.
      </p></li><li><p>
        Added <code class="literal">ServerThread</code> property to
        <code class="literal">MySqlConnection</code> to expose server thread id.
      </p></li><li><p>
        Added Ping method to <code class="literal">MySqlConnection</code>.
      </p></li><li><p>
        Changed the name of the test suite to
        <code class="filename">MySql.Data.Tests.dll</code>.
      </p></li><li><p>
        Now <code class="literal">SHOW COLLATION</code> is used upon connection to
        retrieve the full list of charset ids.
      </p></li><li><p>
        Made MySQL the default named pipe name.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-2"></a>E.4.30. Changes in  MySQL Connector/NET 1.0.2 (15 November 2004)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed Objects not being disposed
       (<a href="http://bugs.mysql.com/6649" target="_top">Bug#6649</a>)</p></li><li><p>
        Fixed Charset-map for UCS-2
       (<a href="http://bugs.mysql.com/6541" target="_top">Bug#6541</a>)</p></li><li><p>
        Fixed Zero date "0000-00-00" is returned wrong when
        filling Dataset
       (<a href="http://bugs.mysql.com/6429" target="_top">Bug#6429</a>)</p></li><li><p>
        Fixed double type handling in MySqlParameter(string
        parameterName, object value)
       (<a href="http://bugs.mysql.com/6428" target="_top">Bug#6428</a>)</p></li><li><p>
        Fixed Installation directory ignored using custom installation
       (<a href="http://bugs.mysql.com/6329" target="_top">Bug#6329</a>)</p></li><li><p>
        Fixed #HY000 Illegal mix of collations
        (latin1_swedish_ci,IMPLICIT) and (utf8_general_
       (<a href="http://bugs.mysql.com/6322" target="_top">Bug#6322</a>)</p></li><li><p>
        Added the TableEditor CS and VB sample
      </p></li><li><p>
        Added charset connection string option
      </p></li><li><p>
        Fixed problem with MySqlBinary where string values could not be
        used to update extended text columns
      </p></li><li><p>
        Provider is now using character set specified by server as
        default
      </p></li><li><p>
        Updated the installer to include the new samples
      </p></li><li><p>
        Fixed problem where setting command text leaves the command in a
        prepared state
      </p></li><li><p>
        Fixed Long inserts take very long time (Bu #5453)
      </p></li><li><p>
        Fixed problem where calling stored procedures might cause an
        "Illegal mix of collations" problem.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-1"></a>E.4.31. Changes in  MySQL Connector/NET 1.0.1 (27 October 2004)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed IndexOutOfBounds when reading BLOB with DataReader with
        GetString(index)
       (<a href="http://bugs.mysql.com/6230" target="_top">Bug#6230</a>)</p></li><li><p>
        Fixed GetBoolean returns wrong values
       (<a href="http://bugs.mysql.com/6227" target="_top">Bug#6227</a>)</p></li><li><p>
        Fixed Method TokenizeSql() uses only a limited set of valid
        characters for parameters
       (<a href="http://bugs.mysql.com/6217" target="_top">Bug#6217</a>)</p></li><li><p>
        Fixed NET Connector source missing resx files
       (<a href="http://bugs.mysql.com/6216" target="_top">Bug#6216</a>)</p></li><li><p>
        Fixed System.OverflowException when using YEAR datatype
       (<a href="http://bugs.mysql.com/6036" target="_top">Bug#6036</a>)</p></li><li><p>
        Fixed MySqlDateTime sets IsZero property on all subseq.records
        after first zero found
       (<a href="http://bugs.mysql.com/6006" target="_top">Bug#6006</a>)</p></li><li><p>
        Fixed serializing of floating point parameters (double, numeric,
        single, decimal)
       (<a href="http://bugs.mysql.com/5900" target="_top">Bug#5900</a>)</p></li><li><p>
        Fixed missing Reference in DbType setter
       (<a href="http://bugs.mysql.com/5897" target="_top">Bug#5897</a>)</p></li><li><p>
        Fixed Parsing the ';' char
       (<a href="http://bugs.mysql.com/5876" target="_top">Bug#5876</a>)</p></li><li><p>
        Fixed DBNull Values causing problems with retrieving/updating
        queries.
       (<a href="http://bugs.mysql.com/5798" target="_top">Bug#5798</a>)</p></li><li><p>
        IsNullable error
       (<a href="http://bugs.mysql.com/5796" target="_top">Bug#5796</a>)</p></li><li><p>
        Fixed problem where MySqlParameterCollection.Add() would throw
        unclear exception when given a null value
       (<a href="http://bugs.mysql.com/5621" target="_top">Bug#5621</a>)</p></li><li><p>
        Fixed construtor initialize problems in MySqlCommand()
       (<a href="http://bugs.mysql.com/5613" target="_top">Bug#5613</a>)</p></li><li><p>
        Fixed Yet Another "object reference not set to an instance
        of an object"
       (<a href="http://bugs.mysql.com/5496" target="_top">Bug#5496</a>)</p></li><li><p>
        Fixed Can't display Chinese correctly
       (<a href="http://bugs.mysql.com/5288" target="_top">Bug#5288</a>)</p></li><li><p>
        Fixed MySqlDataReader and 'show tables from ...' behavior
       (<a href="http://bugs.mysql.com/5256" target="_top">Bug#5256</a>)</p></li><li><p>
        Fixed problem in PacketReader where it could try to allocate the
        wrong buffer size in EnsureCapacity
      </p></li><li><p>
        Fixed problem where using old syntax while using the interfaces
        caused problems
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5458" target="_top">Bug#5458</a> Calling GetChars on a longtext column throws an
        exception
      </p></li><li><p>
        Added test case for resetting the command text on a prepared
        command
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5388" target="_top">Bug#5388</a> DataReader reports all rows as NULL if one row
        is NULL
      </p></li><li><p>
        Fixed problem where connection lifetime on the connect string
        was not being respected
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5602" target="_top">Bug#5602</a> Possible bug in MySqlParameter(string, object)
        constructor
      </p></li><li><p>
        Field buffers being reused to decrease memory allocations and
        increase speed
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5392" target="_top">Bug#5392</a> MySqlCommand sees "?" as parameters in
        string literals
      </p></li><li><p>
        Added Aggregate function test (wasn't really a bug)
      </p></li><li><p>
        Using PacketWriter instead of Packet for writing to streams
      </p></li><li><p>
        Implemented SequentialAccess
      </p></li><li><p>
        Fixed problem with ConnectionInternal where a key might be added
        more than once
      </p></li><li><p>
        Fixed Russian character support as well
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5474" target="_top">Bug#5474</a> cannot run a stored procedure populating
        mysqlcommand.parameters
      </p></li><li><p>
        Fixed problem where connector was not issuing a CMD_QUIT before
        closing the socket
      </p></li><li><p>
        Fixed problem where Min Pool Size was not being respected
      </p></li><li><p>
        Refactored compression code into CompressedStream to clean up
        NativeDriver
      </p></li><li><p>
        CP1252 is now used for Latin1 only when the server is 4.1.2 and
        later
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5469" target="_top">Bug#5469</a> Setting DbType throws NullReferenceException
      </p></li><li><p>
        Virtualized driver subsystem so future releases could easily
        support client or embedded server support
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-0"></a>E.4.32. Changes in  MySQL Connector/NET 1.0.0 (01 September 2004)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Thai encoding not correctly supported.
       (<a href="http://bugs.mysql.com/3889" target="_top">Bug#3889</a>)</p></li><li><p>
        Bumped version number to 1.0.0 for beta 1 release.
      </p></li><li><p>
        Removed all of the XML comment warnings.
      </p></li><li><p>
        Added <code class="filename">COPYING.rtf</code> file for use in
        installer.
      </p></li><li><p>
        Updated many of the test cases.
      </p></li><li><p>
        Fixed problem with using compression.
      </p></li><li><p>
        Removed some last references to ByteFX.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-9-0"></a>E.4.33. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added test fixture for prepared statements.
        </p></li><li><p>
          All type classes now implement a
          <code class="literal">SerializeBinary</code> method for sending their
          data to a <code class="literal">PacketWriter</code>.
        </p></li><li><p>
          Added <code class="literal">PacketWriter</code> class that will enable
          future low-memory large object handling.
        </p></li><li><p>
          Fixed many small bugs in running prepared statements and
          stored procedures.
        </p></li><li><p>
          Changed command so that an exception will not be thrown in
          executing a stored procedure with parameters in old syntax
          mode.
        </p></li><li><p>
          <code class="literal">SingleRow</code> behavior now working right even
          with limit.
        </p></li><li><p>
          <code class="literal">GetBytes</code> now only works on binary columns.
        </p></li><li><p>
          Logger now truncates long sql commands so blob columns don't
          blow out our log.
        </p></li><li><p>
          host and database now have a default value of "" unless
          otherwise set.
        </p></li><li><p>
          Connection Timeout seems to be ignored. (<a href="http://bugs.mysql.com/5214" target="_top">Bug#5214</a>)
        </p></li><li><p>
          Added test case for bug# 5051: GetSchema not working
          correctly.
        </p></li><li><p>
          Fixed problem where <code class="literal">GetSchema</code> would return
          false for <code class="literal">IsUnique</code> when the column is key.
        </p></li><li><p>
          <code class="literal">MySqlDataReader GetXXX</code> methods now using
          the field level <code class="literal">MySqlValue</code> object and not
          performing conversions.
        </p></li><li><p>
          <code class="literal">DataReader</code> returning
          <code class="literal">NULL</code> for time column. (<a href="http://bugs.mysql.com/5097" target="_top">Bug#5097</a>)
        </p></li><li><p>
          Added test case for <code class="literal">LOAD DATA LOCAL INFILE</code>.
        </p></li><li><p>
          Added replacetext custom nant task.
        </p></li><li><p>
          Added <code class="literal">CommandBuilderTest</code> fixture.
        </p></li><li><p>
          Added Last One Wins feature to
          <code class="literal">CommandBuilder</code>.
        </p></li><li><p>
          Fixed persist security info case problem.
        </p></li><li><p>
          Fixed <code class="literal">GetBool</code> so that 1, true, "true", and
          "yes" all count as true.
        </p></li><li><p>
          Make parameter mark configurable.
        </p></li><li><p>
          Added the "old syntax" connection string parameter to allow
          use of @ parameter marker.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code>. (<a href="http://bugs.mysql.com/4658" target="_top">Bug#4658</a>)
        </p></li><li><p>
          <code class="literal">ByteFX.MySqlClient</code> caches passwords if
          <code class="literal">Persist Security Info</code> is false. (<a href="http://bugs.mysql.com/4864" target="_top">Bug#4864</a>)
        </p></li><li><p>
          Updated license banner in all source files to include FLOSS
          exception.
        </p></li><li><p>
          Added new .Types namespace and implementations for most
          current MySql types.
        </p></li><li><p>
          Added <code class="literal">MySqlField41</code> as a subclass of
          <code class="literal">MySqlField</code>.
        </p></li><li><p>
          Changed many classes to now use the new .Types types.
        </p></li><li><p>
          Changed type <code class="literal">enum int</code> to
          <code class="literal">Int32</code>, <code class="literal">short</code> to
          <code class="literal">Int16</code>, and <code class="literal">bigint</code> to
          <code class="literal">Int64</code>.
        </p></li><li><p>
          Added dummy types <code class="literal">UInt16</code>,
          <code class="literal">UInt32</code>, and <code class="literal">UInt64</code> to
          allow an unsigned parameter to be made.
        </p></li><li><p>
          Connections are now reset when they are pulled from the
          connection pool.
        </p></li><li><p>
          Refactored auth code in driver so it can be used for both auth
          and reset.
        </p></li><li><p>
          Added <code class="literal">UserReset</code> test in
          <code class="filename">PoolingTests.cs</code>.
        </p></li><li><p>
          Connections are now reset using
          <code class="literal">COM_CHANGE_USER</code> when pulled from the pool.
        </p></li><li><p>
          Implemented <code class="literal">SingleResultSet</code> behavior.
        </p></li><li><p>
          Implemented support of unicode.
        </p></li><li><p>
          Added char set mappings for utf-8 and ucs-2.
        </p></li><li><p>
          Time fields overflow using bytefx .net mysql driver (<a href="http://bugs.mysql.com/4520" target="_top">Bug#4520</a>)
        </p></li><li><p>
          Modified time test in data type test fixture to check for time
          spans where hours &gt; 24.
        </p></li><li><p>
          Wrong string with backslash escaping in
          <code class="literal">ByteFx.Data.MySqlClient.MySqlParameter</code>.
          (<a href="http://bugs.mysql.com/4505" target="_top">Bug#4505</a>)
        </p></li><li><p>
          Added code to Parameter test case TestQuoting to test for
          backslashes.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code> fails with multi-word
          column names. (<a href="http://bugs.mysql.com/4486" target="_top">Bug#4486</a>)
        </p></li><li><p>
          Fixed bug in <code class="literal">TokenizeSql</code> where underscore
          would terminate character capture in parameter name.
        </p></li><li><p>
          Added test case for spaces in column names.
        </p></li><li><p>
          <code class="literal">MySqlDataReader.GetBytes</code> don't works
          correctly. (<a href="http://bugs.mysql.com/4324" target="_top">Bug#4324</a>)
        </p></li><li><p>
          Added <code class="literal">GetBytes()</code> test case to
          <code class="literal">DataReader</code> test fixture.
        </p></li><li><p>
          Now reading all server variables in
          <code class="literal">InternalConnection.Configure</code> into
          <code class="literal">Hashtable</code>.
        </p></li><li><p>
          Now using <code class="literal">string[]</code> for index map in
          <code class="literal">CharSetMap</code>.
        </p></li><li><p>
          Added CRInSQL test case for carriage returns in SQL.
        </p></li><li><p>
          Setting maxPacketSize to default value in
          <code class="literal">Driver.ctor</code>.
        </p></li><li><p>
          Setting <code class="literal">MySqlDbType</code> on a parameter doesn't
          set generic type. (<a href="http://bugs.mysql.com/4442" target="_top">Bug#4442</a>)
        </p></li><li><p>
          Removed obsolete data types <code class="literal">Long</code> and
          <code class="literal">LongLong</code>.
        </p></li><li><p>
          Overflow exception thrown when using "use pipe" on connection
          string. (<a href="http://bugs.mysql.com/4071" target="_top">Bug#4071</a>)
        </p></li><li><p>
          Changed "use pipe" keyword to "pipe name" or just "pipe".
        </p></li><li><p>
          Allow reading multiple resultsets from a single query.
        </p></li><li><p>
          Added flags attribute to <code class="literal">ServerStatusFlags</code>
          enum.
        </p></li><li><p>
          Changed name of <code class="literal">ServerStatus</code> enum to
          <code class="literal">ServerStatusFlags</code>.
        </p></li><li><p>
          Inserted data row doesn't update properly.
        </p></li><li><p>
          Error processing show create table. (<a href="http://bugs.mysql.com/4074" target="_top">Bug#4074</a>)
        </p></li><li><p>
          Change <code class="literal">Packet.ReadLenInteger</code> to
          <code class="literal">ReadPackedLong</code> and added
          <code class="literal">packet.ReadPackedInteger</code> that always reads
          integers packed with 2,3,4.
        </p></li><li><p>
          Added <code class="literal">syntax.cs</code> test fixture to test
          various SQL syntax bugs.
        </p></li><li><p>
          Improper handling of time values. Now time value of 00:00:00
          is not treated as null. (<a href="http://bugs.mysql.com/4149" target="_top">Bug#4149</a>)
        </p></li><li><p>
          Moved all test suite files into <code class="literal">TestSuite</code>
          folder.
        </p></li><li><p>
          Fixed bug where null column would move the result packet
          pointer backward.
        </p></li><li><p>
          Added new nant build script.
        </p></li><li><p>
          Clear tablename so it will be regen'ed properly during the
          next <code class="literal">GenerateSchema</code>. (<a href="http://bugs.mysql.com/3917" target="_top">Bug#3917</a>)
        </p></li><li><p>
          <code class="literal">GetValues</code> was always returning zero and was
          also always trying to copy all fields rather than respecting
          the size of the array passed in. (<a href="http://bugs.mysql.com/3915" target="_top">Bug#3915</a>)
        </p></li><li><p>
          Implemented shared memory access protocol.
        </p></li><li><p>
          Implemented prepared statements for MySQL 4.1.
        </p></li><li><p>
          Implemented stored procedures for MySQL 5.0.
        </p></li><li><p>
          Renamed <code class="literal">MySqlInternalConnection</code> to
          <code class="literal">InternalConnection</code>.
        </p></li><li><p>
          SQL is now parsed as chars, fixes problems with other
          languages.
        </p></li><li><p>
          Added logging and allow batch connection string options.
        </p></li><li><p>
          <code class="literal">RowUpdating</code> event not set when setting the
          <code class="literal">DataAdapter</code> property. (<a href="http://bugs.mysql.com/3888" target="_top">Bug#3888</a>)
        </p></li><li><p>
          Fixed bug in char set mapping.
        </p></li><li><p>
          Implemented 4.1 authentication.
        </p></li><li><p>
          Improved open/auth code in driver.
        </p></li><li><p>
          Improved how connection bits are set during connection.
        </p></li><li><p>
          Database name is now passed to server during initial
          handshake.
        </p></li><li><p>
          Changed namespace for client to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Changed assembly name of client to
          <code class="filename">MySql.Data.dll</code>.
        </p></li><li><p>
          Changed license text in all source files to GPL.
        </p></li><li><p>
          Added the <code class="filename">MySqlClient.build</code> Nant file.
        </p></li><li><p>
          Removed the mono batch files.
        </p></li><li><p>
          Moved some of the unused files into notused folder so nant
          build file can use wildcards.
        </p></li><li><p>
          Implemented shared memory access.
        </p></li><li><p>
          Major revamp in code structure.
        </p></li><li><p>
          Prepared statements now working for MySql 4.1.1 and later.
        </p></li><li><p>
          Finished implementing auth for 4.0, 4.1.0, and 4.1.1.
        </p></li><li><p>
          Changed namespace from
          <code class="literal">MySQL.Data.MySQLClient</code> back to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">CharSetMapping</code> where it was
          trying to use text names as ints.
        </p></li><li><p>
          Changed namespace to
          <code class="literal">MySQL.Data.MySQLClient</code>.
        </p></li><li><p>
          Integrated auth changes from UC2004.
        </p></li><li><p>
          Fixed bug where calling any of the GetXXX methods on a
          datareader before or after reading data would not throw the
          appropriate exception (thanks Luca Morelli).
        </p></li><li><p>
          Added <code class="literal">TimeSpan</code> code in parameter.cs to
          properly serialize a timespan object to mysql time format
          (thanks Gianluca Colombo).
        </p></li><li><p>
          Added <code class="literal">TimeStamp</code> to parameter serialization
          code. Prevented <code class="literal">DataAdatper</code> updates from
          working right (thanks Michael King).
        </p></li><li><p>
          Fixed a misspelling in <code class="filename">MySqlHelper.cs</code>
          (thanks Patrick Kristiansen).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-76"></a>E.4.34. Changes in MySQL Connector/NET Version 0.76</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Driver now using charset number given in handshake to create
          encoding.
        </p></li><li><p>
          Changed command editor to point to
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">Version.isAtLeast</code>.
        </p></li><li><p>
          Changed <code class="literal">DBConnectionString</code> to support
          changes done to <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          Removed <code class="literal">SqlCommandEditor</code> and
          <code class="literal">DataAdapterPreviewDialog</code>.
        </p></li><li><p>
          Using new long return values in many places.
        </p></li><li><p>
          Integrated new <code class="literal">CompressedStream</code> class.
        </p></li><li><p>
          Changed <code class="literal">ConnectionString</code> and added
          attributes to allow it to be used in
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Changed <code class="filename">packet.cs</code> to support newer
          lengths in <code class="literal">ReadLenInteger</code>.
        </p></li><li><p>
          Changed other classes to use new properties and fields of
          <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          <code class="literal">ConnectionInternal</code> is now using PING to see
          whether the server is alive.
        </p></li><li><p>
          Moved toolbox bitmaps into resource folder.
        </p></li><li><p>
          Changed <code class="filename">field.cs</code> to allow values to come
          directly from row buffer.
        </p></li><li><p>
          Changed to use the new driver.Send syntax.
        </p></li><li><p>
          Using a new packet queueing system.
        </p></li><li><p>
          Started work handling the "broken" compression packet
          handling.
        </p></li><li><p>
          Fixed bug in <code class="literal">StreamCreator</code> where failure to
          connect to a host would continue to loop infinitly (thanks
          Kevin Casella).
        </p></li><li><p>
          Improved connectstring handling.
        </p></li><li><p>
          Moved designers into Pro product.
        </p></li><li><p>
          Removed some old commented out code from
          <code class="filename">command.cs</code>.
        </p></li><li><p>
          Fixed a problem with compression.
        </p></li><li><p>
          Fixed connection object where an exception throw prior to the
          connection opening would not leave the connection in the
          connecting state (thanks Chris Cline).
        </p></li><li><p>
          Added GUID support.
        </p></li><li><p>
          Fixed sequence out of order bug (thanks Mark Reay).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-75"></a>E.4.35. Changes in MySQL Connector/NET Version 0.75</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Enum values now supported as parameter values (thanks Philipp
          Sumi).
        </p></li><li><p>
          Year datatype now supported.
        </p></li><li><p>
          Fixed compression.
        </p></li><li><p>
          Fixed bug where a parameter with a <code class="literal">TimeSpan</code>
          as the value would not serialize properly.
        </p></li><li><p>
          Fixed bug where default constructor would not set default
          connection string values.
        </p></li><li><p>
          Added some XML comments to some members.
        </p></li><li><p>
          Work to fix/improve compression handling.
        </p></li><li><p>
          Improved <code class="literal">ConnectionString</code> handling so that
          it better matches the standard set by
          <code class="literal">SqlClient</code>.
        </p></li><li><p>
          A <code class="literal">MySqlException</code> is now thrown if a
          username is not included in the connection string.
        </p></li><li><p>
          Localhost is now used as the default if not specified on the
          connection string.
        </p></li><li><p>
          An exception is now thrown if an attempt is made to set the
          connection string while the connection is open.
        </p></li><li><p>
          Small changes to <code class="literal">ConnectionString</code> docs.
        </p></li><li><p>
          Removed <code class="literal">MultiHostStream</code> and
          <code class="literal">MySqlStream</code>. Replaced it with
          <code class="filename">Common/StreamCreator</code>.
        </p></li><li><p>
          Added support for Use Pipe connection string value.
        </p></li><li><p>
          Added Platform class for easier access to platform utility
          functions.
        </p></li><li><p>
          Fixed small pooling bug where new connection was not getting
          created after <code class="literal">IsAlive</code> fails.
        </p></li><li><p>
          Added <code class="filename">Platform.cs</code> and
          <code class="filename">StreamCreator.cs</code>.
        </p></li><li><p>
          Fixed <code class="filename">Field.cs</code> to properly handle 4.1
          style timestamps.
        </p></li><li><p>
          Changed <code class="literal">Common.Version</code> to
          <code class="literal">Common.DBVersion</code> to avoid name conflict.
        </p></li><li><p>
          Fixed <code class="filename">field.cs</code> so that text columns
          return the right field type.
        </p></li><li><p>
          Added <code class="literal">MySqlError</code> class to provide some
          reference for error codes (thanks Geert Veenstra).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-74"></a>E.4.36. Changes in MySQL Connector/NET Version 0.74</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added Unix socket support (thanks Mohammad DAMT).
        </p></li><li><p>
          Only calling <code class="literal">Thread.Sleep</code> when no data is
          available.
        </p></li><li><p>
          Improved escaping of quote characters in parameter data.
        </p></li><li><p>
          Removed misleading comments from
          <code class="filename">parameter.cs</code>.
        </p></li><li><p>
          Fixed pooling bug.
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> editor dialog
          (thanks marco p (pomarc)).
        </p></li><li><p>
          <code class="literal">UserId</code> now supported in connection strings
          (thanks Jeff Neeley).
        </p></li><li><p>
          Attempting to create a parameter that is not input throws an
          exception (thanks Ryan Gregg).
        </p></li><li><p>
          Added much documentation.
        </p></li><li><p>
          Checked in new <code class="literal">MultiHostStream</code> capability.
          Big thanks to Dan Guisinger for this. he originally submitted
          the code and idea of supporting multiple machines on the
          connect string.
        </p></li><li><p>
          Added a lot of documentation.
        </p></li><li><p>
          Fixed speed issue with 0.73.
        </p></li><li><p>
          Changed to Thread.Sleep(0) in MySqlDataStream to help optimize
          the case where it doesn't need to wait (thanks Todd German).
        </p></li><li><p>
          Prepopulating the idlepools to <code class="literal">MinPoolSize</code>.
        </p></li><li><p>
          Fixed <code class="literal">MySqlPool</code> deadlock condition as well
          as stupid bug where CreateNewPooledConnection was not ever
          adding new connections to the pool. Also fixed
          <code class="literal">MySqlStream.ReadBytes</code> and
          <code class="literal">ReadByte</code> to not use
          <code class="literal">TicksPerSecond</code> which does not appear to
          always be right. (thanks Matthew J. Peddlesden)
        </p></li><li><p>
          Fix for precision and scale (thanks Matthew J. Peddlesden).
        </p></li><li><p>
          Added <code class="literal">Thread.Sleep(1)</code> to stream reading
          methods to be more cpu friendly (thanks Sean McGinnis).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteReader</code> would
          sometime return null (thanks Lloyd Dupont).
        </p></li><li><p>
          Fixed major bug with null field handling (thanks Naucki).
        </p></li><li><p>
          Enclosed queries for <code class="literal">max_allowed_packet</code> and
          <code class="literal">characterset</code> inside try catch (and set
          defaults).
        </p></li><li><p>
          Fixed problem where socket was not getting closed properly
          (thanks Steve!).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteNonQuery</code> was not
          always returning the right value.
        </p></li><li><p>
          Fixed <code class="literal">InternalConnection</code> to not use
          <code class="literal">@@session.max_allowed_packet</code> but use
          <code class="literal">@@max_allowed_packet</code>. (Thanks Miguel)
        </p></li><li><p>
          Added many new XML doc lines.
        </p></li><li><p>
          Fixed sql parsing to not send empty queries (thanks Rory).
        </p></li><li><p>
          Fixed problem where the reader was not unpeeking the packet on
          close.
        </p></li><li><p>
          Fixed problem where user variables were not being handled
          (thanks Sami Vaaraniemi).
        </p></li><li><p>
          Fixed loop checking in the MySqlPool (thanks Steve M. Brown)
        </p></li><li><p>
          Fixed <code class="literal">ParameterCollection.Add</code> method to
          match <code class="literal">SqlClient</code> (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> parsing to handle no
          and yes for boolean and not lowercase values (thanks Naucki).
        </p></li><li><p>
          Added <code class="literal">InternalConnection</code> class, changes to
          pooling.
        </p></li><li><p>
          Implemented Persist Security Info.
        </p></li><li><p>
          Added <code class="filename">security.cs</code> and
          <code class="filename">version.cs</code> to project
        </p></li><li><p>
          Fixed <code class="literal">DateTime</code> handling in
          <code class="filename">Parameter.cs</code> (thanks Burkhard
          Perkens-Golomb).
        </p></li><li><p>
          Fixed parameter serialization where some types would throw a
          cast exception.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> to convert all returned
          values to prevent casting errors (thanks Keith Murray).
        </p></li><li><p>
          Added code to <code class="literal">Command.ExecuteReader</code> to
          return null if the initial SQL statement throws an exception
          (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Fixed <code class="literal">ExecuteScalar</code> bug introduced with
          restructure.
        </p></li><li><p>
          Restructure to allow for <code class="literal">LOCAL DATA INFILE</code>
          and better sequencing of packets.
        </p></li><li><p>
          Fixed several bugs related to restructure.
        </p></li><li><p>
          Early work done to support more secure passwords in Mysql 4.1.
          Old passwords in 4.1 not supported yet.
        </p></li><li><p>
          Parameters appearing after system parameters are now handled
          correctly (Adam M. (adammil)).
        </p></li><li><p>
          Strings can now be assigned directly to blob fields (Adam M.).
        </p></li><li><p>
          Fixed float parameters (thanks Pent).
        </p></li><li><p>
          Improved Parameter constructor and
          <code class="literal">ParameterCollection.Add</code> methods to better
          match SqlClient (thanks Joshua Mouch).
        </p></li><li><p>
          Corrected <code class="literal">Connection.CreateCommand</code> to
          return a <code class="literal">MySqlCommand</code> type.
        </p></li><li><p>
          Fixed connection string designer dialog box problem (thanks
          Abraham Guyt).
        </p></li><li><p>
          Fixed problem with sending commands not always reading the
          response packet (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed parameter serialization where some blobs types were not
          being handled (thanks Sean McGinnis).
        </p></li><li><p>
          Removed spurious <code class="literal">MessageBox.show</code> from
          <code class="literal">DataReader</code> code (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed a nasty bug in the split sql code (thanks everyone!).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-71"></a>E.4.37. Changes in MySQL Connector/NET Version 0.71</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed bug in <code class="literal">MySqlStream</code> where too much
          data could attempt to be read (thanks Peter Belbin)
        </p></li><li><p>
          Implemented <code class="literal">HasRows</code> (thanks Nash Pherson).
        </p></li><li><p>
          Fixed bug where tables with more than 252 columns cause an
          exception (thanks Joshua Kessler).
        </p></li><li><p>
          Fixed bug where SQL statements ending in ; would cause a
          problem (thanks Shane Krueger).
        </p></li><li><p>
          Fixed bug in driver where error messages were getting
          truncated by 1 character (thanks Shane Krueger).
        </p></li><li><p>
          Made <code class="literal">MySqlException</code> serializable (thanks
          Mathias Hasselmann).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-70"></a>E.4.38. Changes in MySQL Connector/NET Version 0.70</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Updated some of the character code pages to be more accurate.
        </p></li><li><p>
          Fixed problem where readers could be opened on connections
          that had readers open.
        </p></li><li><p>
          Moved test to separate assembly
          <code class="literal">MySqlClientTests</code>.
        </p></li><li><p>
          Fixed stupid problem in driver with sequence out of order
          (Thanks Peter Belbin).
        </p></li><li><p>
          Added some pipe tests.
        </p></li><li><p>
          Increased default max pool size to 50.
        </p></li><li><p>
          Compiles with Mono 0-24.
        </p></li><li><p>
          Fixed connection and data reader dispose problems.
        </p></li><li><p>
          Added <code class="literal">String</code> datatype handling to parameter
          serialization.
        </p></li><li><p>
          Fixed sequence problem in driver that occurred after thrown
          exception (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Added support for <code class="literal">CommandBehavior.SingleRow</code>
          to <code class="literal">DataReader</code>.
        </p></li><li><p>
          Fixed command sql processing so quotes are better handled
          (thanks Theo Spears).
        </p></li><li><p>
          Fixed parsing of double, single, and decimal values to account
          for non-English separators. You still have to use the right
          syntax if you using hard coded sql, but if you use parameters
          the code will convert floating point types to use '.'
          appropriately internal both into the server and out.
        </p></li><li><p>
          Added <code class="literal">MySqlStream</code> class to simplify
          timeouts and driver coding.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> so that it is closed
          properly when the associated connection is closed. [thanks
          smishra]
        </p></li><li><p>
          Made client more SqlClient compliant so that DataReaders have
          to be closed before the connection can be used to run another
          command.
        </p></li><li><p>
          Improved <code class="literal">DBNull.Value</code> handling in the
          fields.
        </p></li><li><p>
          Added several unit tests.
        </p></li><li><p>
          Fixed <code class="literal">MySqlException</code> base class.
        </p></li><li><p>
          Improved driver coding
        </p></li><li><p>
          Fixed bug where NextResult was returning false on the last
          resultset.
        </p></li><li><p>
          Added more tests for MySQL.
        </p></li><li><p>
          Improved casting problems by equating unsigned 32bit values to
          Int64 and unsigned 16bit values to Int32, and so forth.
        </p></li><li><p>
          Added new constructor for <code class="literal">MySqlParameter</code>
          for (name, type, size, srccol)
        </p></li><li><p>
          Fixed bug in <code class="literal">MySqlDataReader</code> where it
          didn't check for null fieldlist before returning field count.
        </p></li><li><p>
          Started adding <code class="literal">MySqlClient</code> unit tests
          (added <code class="filename">MySqlClient/Tests</code> folder and some
          test cases).
        </p></li><li><p>
          Fixed some things in Connection String handling.
        </p></li><li><p>
          Moved <code class="literal">INIT_DB</code> to
          <code class="literal">MySqlPool</code>. I may move it again, this is in
          preparation of the conference.
        </p></li><li><p>
          Fixed bug inside <code class="literal">CommandBuilder</code> that
          prevented inserts from happening properly.
        </p></li><li><p>
          Reworked some of the internals so that all three execute
          methods of Command worked properly.
        </p></li><li><p>
          Fixed many small bugs found during benchmarking.
        </p></li><li><p>
          The first cut of <code class="literal">CoonectionPooling</code> is
          working. "min pool size" and "max pool size" are respected.
        </p></li><li><p>
          Work to enable multiple resultsets to be returned.
        </p></li><li><p>
          Character sets are handled much more intelligently now. The
          driver queries MySQL at startup for the default character set.
          That character set is then used for conversions if that code
          page can be loaded. If not, then the default code page for the
          current OS is used.
        </p></li><li><p>
          Added code to save the inferred type in the name,value
          constructor of <code class="literal">Parameter</code>.
        </p></li><li><p>
          Also, inferred type if value of null parameter is changed
          using <code class="literal">Value</code> property.
        </p></li><li><p>
          Converted all files to use proper Camel case. MySQL is now
          MySql in all files. PgSQL is now PgSql.
        </p></li><li><p>
          Added attribute to PgSql code to prevent designer from trying
          to show.
        </p></li><li><p>
          Added <code class="literal">MySQLDbType</code> property to Parameter
          object and added proper conversion code to convert from
          <code class="literal">DbType</code> to <code class="literal">MySQLDbType</code>).
        </p></li><li><p>
          Removed unused <code class="literal">ObjectToString</code> method from
          <code class="filename">MySQLParameter.cs</code>.
        </p></li><li><p>
          Fixed <code class="literal">Add(..)</code> method in
          <code class="literal">ParameterCollection</code> so that it doesn't use
          <code class="literal">Add(name, value)</code> instead.
        </p></li><li><p>
          Fixed <code class="literal">IndexOf</code> and
          <code class="literal">Contains</code> in
          <code class="literal">ParameterCollection</code> to be aware that
          parameter names are now stored without @.
        </p></li><li><p>
          Fixed <code class="literal">Command.ConvertSQLToBytes</code> so it only
          allows characters that can be in MySQL variable names.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> and
          <code class="literal">Field</code> so that blob fields read their data
          from <code class="filename">Field.cs</code> and
          <code class="literal">GetBytes</code> works right.
        </p></li><li><p>
          Added simple query builder editor to
          <code class="literal">CommandText</code> property of
          <code class="literal">MySQLCommand</code>.
        </p></li><li><p>
          Fixed <code class="literal">CommandBuilder</code> and
          <code class="literal">Parameter</code> serialization to account for
          Parameters not storing @ in their names.
        </p></li><li><p>
          Removed <code class="literal">MySQLFieldType</code> enum from Field.cs.
          Now using <code class="literal">MySQLDbType</code> enum.
        </p></li><li><p>
          Added <code class="literal">Designer</code> attribute to several classes
          to prevent designer view when using VS.Net.
        </p></li><li><p>
          Fixed Initial catalog typo in
          <code class="literal">ConnectionString</code> designer.
        </p></li><li><p>
          Removed 3 parameter constructor for
          <code class="literal">MySQLParameter</code> that conflicted with (name,
          type, value).
        </p></li><li><p>
          Changed <code class="literal">MySQLParameter</code> so
          <code class="literal">paramName</code> is now stored without leading @
          (this fixed null inserts when using designer).
        </p></li><li><p>
          Changed <code class="literal">TypeConverter</code> for
          <code class="literal">MySQLParameter</code> to use the constructor with
          all properties.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-68"></a>E.4.39. Changes in MySQL Connector/NET Version 0.68</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed sequence issue in driver.
        </p></li><li><p>
          Added <code class="literal">DbParametersEditor</code> to make parameter
          editing more like <code class="literal">SqlClient</code>.
        </p></li><li><p>
          Fixed <code class="literal">Command</code> class so that parameters can
          be edited using the designer
        </p></li><li><p>
          Update connection string designer to support <code class="literal">Use
          Compression</code> flag.
        </p></li><li><p>
          Fixed string encoding so that European characters will work
          correctly.
        </p></li><li><p>
          Creating base classes to aid in building new data providers.
        </p></li><li><p>
          Added support for UID key in connection string.
        </p></li><li><p>
          Field, parameter, command now using DBNull.Value instead of
          null.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> using
          <code class="literal">DBNull.Value</code>.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> now builds insert command
          correctly when an auto_insert field is not present.
        </p></li><li><p>
          Field now uses typeof keyword to return
          <code class="literal">System.Types</code> (performance).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-65"></a>E.4.40. Changes in MySQL Connector/NET Version 0.65</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          <code class="literal">MySQLCommandBuilder</code> now implemented.
        </p></li><li><p>
          Transaction support now implemented (not all table types
          support this).
        </p></li><li><p>
          <code class="literal">GetSchemaTable</code> fixed to not use xsd (for
          Mono).
        </p></li><li><p>
          Driver is now Mono-compatible.
        </p></li><li><p>
          TIME data type now supported.
        </p></li><li><p>
          More work to improve Timestamp data type handling.
        </p></li><li><p>
          Changed signatures of all classes to match corresponding
          <code class="literal">SqlClient</code> classes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-60"></a>E.4.41. Changes in MySQL Connector/NET Version 0.60</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Protocol compression using SharpZipLib (www.icsharpcode.net).
        </p></li><li><p>
          Named pipes on Windows now working properly.
        </p></li><li><p>
          Work done to improve <code class="literal">Timestamp</code> data type
          handling.
        </p></li><li><p>
          Implemented <code class="literal">IEnumerable</code> on
          <code class="literal">DataReader</code> so <code class="literal">DataGrid</code>
          would work.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-50"></a>E.4.42. Changes in MySQL Connector/NET Version 0.50</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Speed increased dramatically by removing bugging network sync
          code.
        </p></li><li><p>
          Driver no longer buffers rows of data (more ADO.Net
          compliant).
        </p></li><li><p>
          Conversion bugs related to <code class="literal">TIMESTAMP</code> and
          <code class="literal">DATETIME</code> fields fixed.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vstudio-plugin-news"></a>E.5. MySQL Visual Studio Plugin Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">E.5.1. Changes in  MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">E.5.2. Changes in  MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">E.5.3. Changes in  MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">E.5.4. Changes in  MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      As of Connector/NET 5.1.2 (14 June 2007), the Visual Studion
      Plugin is part of the main Connector/NET package. For the change
      history for the Visual Studio Plugin, see
      <a href="news.html#connector-net-news" title="E.4. MySQL Connector/NET Change History">Section E.4, “MySQL Connector/NET Change History”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-3"></a>E.5.1. Changes in  MySQL Visual Studio Plugin 1.0.3 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running queries based on a stored procedure would cause the data
        set designer to terminate. (Bugs #26364)
      </p></li><li><p>
        DataSet wizard would show all tables instead of only the tables
        available within the selected database. (Bugs #26348)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-2"></a>E.5.2. Changes in  MySQL Visual Studio Plugin 1.0.2 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Add Connection dialog of the Server Explorer would freeze
        when accessing databases with capitalized characters in their
        name.
       (<a href="http://bugs.mysql.com/24875" target="_top">Bug#24875</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that Connector/NET
        5.0.2 must be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-1"></a>E.5.3. Changes in  MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</h3></div></div></div><p>
        This is a bug fix release to resolve an incompatibility issue
        with Connector/NET 5.0.1.
      </p><p>
        It is critical that this release only be used with Connector/NET
        5.0.1. After installing Connector/NET 5.0.1, you will need to
        make a small change in your machine.config file. This file
        should be located at
        <code class="filename">%win%\Microsoft.Net\Framework\v2.0.50727\CONFIG\machine.config</code>
        (<code class="literal">%win%</code> should be the location of your Windows
        folder). Near the bottom of the file you will see a line like
        this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data"/&gt;</pre><p>
        It needs to be changed to be like this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data,
Version=5.0.1.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d"/&gt;
 </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-0"></a>E.5.4. Changes in  MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Ability to work with MySQL objects (tables, views, stored
        procedures, etc) from within Server Explorer.
      </p></li><li><p>
        DDEX (Data Designer Extensibility) compatibility.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cj-news"></a>E.6. MySQL Connector/J Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1">E.6.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">E.6.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">E.6.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">E.6.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">E.6.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">E.6.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">E.6.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-1"></a>E.6.1. Changes in MySQL Connector/J 5.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1-6">E.6.1.1. Changes in  MySQL Connector/J 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-5">E.6.1.2. Changes in  MySQL Connector/J 5.1.5 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-4">E.6.1.3. Changes in  MySQL Connector/J 5.1.4 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-3">E.6.1.4. Changes in  MySQL Connector/J 5.1.3 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-2">E.6.1.5. Changes in  MySQL Connector/J 5.1.2 (29 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-1">E.6.1.6. Changes in  MySQL Connector/J 5.1.1 (22 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-0">E.6.1.7. Changes in  MySQL Connector/J 5.1.0 (11 April 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-6"></a>E.6.1.1. Changes in  MySQL Connector/J 5.1.6 (Not yet released)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Multiple result sets were not supported when using streaming
        mode to return data. Both normal statements and the resul sets
        from stored procedures now return multiple results sets, with
        the exception of result sets using registered
        <code class="literal">OUTPUT</code> paramaters.
       (<a href="http://bugs.mysql.com/33678" target="_top">Bug#33678</a>)</p></li><li><p>
        XAConnections and datasources have been updated to the JDBC-4.0
        standard.
      </p></li><li><p>
        The profiler event handling has been made extensible via the
        <code class="option">profilerEventHandler</code> connection property.
      </p></li><li><p>
        Add the <code class="literal">verifyServerCertificate</code> propery. If
        set to "false" the driver will not verify the server's
        certificate when <code class="literal">useSSL</code> is set to "true"
      </p><p>
        When using this feature, the keystore parameters should be
        specified by the <code class="literal">clientCertificateKeyStore*</code>
        properties, rather than system properties, as the JSSE doesn't
        it straightforward to have a non-verifying trust store and the
        "default" key store.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MysqlConnectionPoolDataSource</code> does not
        support <code class="literal">ReplicationConnection</code>. Notice that we
        implemented <code class="literal">com.mysql.jdbc.Connection</code> for
        <code class="literal">ReplicationConnection</code>, however, only
        accessors from ConnectionProperties are implemented (not the
        mutators), and they return values from the currently active
        connection. All other methods from
        <code class="literal">com.mysql.jdbc.Connection</code> are implemented,
        and operate on the currently active connection, with the
        exception of <code class="literal">resetServerState()</code> and
        <code class="literal">changeUser()</code>.
       (<a href="http://bugs.mysql.com/34937" target="_top">Bug#34937</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> returns incorrect
        values for month/day of <code class="literal">TIMESTAMP</code>s when using
        server-side prepared statements (not enabled by default).
       (<a href="http://bugs.mysql.com/34913" target="_top">Bug#34913</a>)</p></li><li><p>
        <code class="classname">RowDataStatic</code> does't always set the
        metadata in <code class="classname">ResultSetRow</code>, which can lead
        to failures when unpacking <code class="literal">DATE</code>,
        <code class="literal">TIME</code>, <code class="literal">DATETIME</code> and
        <code class="literal">TIMESTAMP</code> types when using absolute,
        relative, and previous result set navigation methods.
       (<a href="http://bugs.mysql.com/34762" target="_top">Bug#34762</a>)</p></li><li><p>
        When calling <code class="literal">isValid()</code> on an active
        connection, if the timeout is non-zero then the
        <code class="literal">Connection</code> is invalidated even if the
        <code class="literal">Connection</code> is valid.
       (<a href="http://bugs.mysql.com/34703" target="_top">Bug#34703</a>)</p></li><li><p>
        It was not possible to truncate a <code class="literal">BLOB</code> using
        <code class="literal">Blog.truncate()</code> when using 0 as an argument.
       (<a href="http://bugs.mysql.com/34677" target="_top">Bug#34677</a>)</p></li><li><p>
        When using a cursor fetch for a statement, the internal prepared
        statement could cause a memory leak until the connection was
        closed. The internal prepared statement is now deleted when the
        corresponding result set is closed.
       (<a href="http://bugs.mysql.com/34518" target="_top">Bug#34518</a>)</p></li><li><p>
        When retrieving the column type name of a geometry field, the
        driver would return <code class="literal">UNKNOWN</code> instead of
        <code class="literal">GEOMETRY</code>.
       (<a href="http://bugs.mysql.com/34194" target="_top">Bug#34194</a>)</p></li><li><p>
        Statements with batched values do not return correct values for
        <code class="literal">getGeneratedKeys()</code> when
        <code class="option">rewriteBatchedStatements</code> is set to
        <code class="literal">true</code>, and the statement has an <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause.
       (<a href="http://bugs.mysql.com/34093" target="_top">Bug#34093</a>)</p></li><li><p>
        The internal class
        <code class="classname">ResultSetInternalMethods</code> referenced the
        non-public class
        <code class="classname">com.mysql.jdbc.CachedResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/33823" target="_top">Bug#33823</a>)</p></li><li><p>
        A <code class="literal">NullPointerException</code> could be raised when
        using client-side prepared statements and enabled the prepared
        statement cache using the <code class="option">cachePrepStmts</code>.
       (<a href="http://bugs.mysql.com/33734" target="_top">Bug#33734</a>)</p></li><li><p>
        Using server side cursors and cursor fetch, the table metadata
        information would return the data type name instead of the
        column name.
       (<a href="http://bugs.mysql.com/33594" target="_top">Bug#33594</a>)</p></li><li><p>
        <code class="methodname">ResultSet.getTimestamp()</code> would throw a
        <code class="literal">NullPointerException</code> instead of a
        <code class="literal">SQLException</code> when called on an empty
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/33162" target="_top">Bug#33162</a>)</p></li><li><p>
        Load balancing connection using best response time would
        incorrectly "stick" to hosts that were down when the connection
        was first created.
      </p><p>
        We solve this problem with a black list that is used during the
        picking of new hosts. If the black list ends up including all
        configured hosts, the driver will retry for a configurable
        number of times (the <code class="option">retriesAllDown</code>
        configuration property, with a default of 120 times), sleeping
        250ms between attempts to pick a new connection.
      </p><p>
        We've also went ahead and made the balancing strategy
        extensible. To create a new strategy, implement the interface
        <code class="classname">com.mysql.jdbc.BalanceStrategy</code> (which
        also includes our standard "extension" interface), and tell the
        driver to use it by passing in the class name via the
        <code class="option">loadBalanceStrategy</code> configuration property.
       (<a href="http://bugs.mysql.com/32877" target="_top">Bug#32877</a>)</p></li><li><p>
        During a Daylight Savings Time (DST) switchover, there was no
        way to store two timestamp/datetime values , as the hours end up
        being the same when sent as the literal that MySQL requires.
      </p><p>
        Note that to get this scenario to work with MySQL (since it
        doesn't support per-value timezones), you need to configure your
        server (or session) to be in UTC, and tell the driver not to use
        the legacy date/time code by setting
        <code class="literal">useLegacyDatetimeCode</code> to "false". This will
        cause the driver to always convert to/from the server and client
        timezone consistently.
      </p><p>
        This bug fix also fixes <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>, by adding entirely new
        date/time handling code that can be switched on by
        <code class="option">useLegacyDatetimeCode</code> being set to "false" as a
        JDBC configuration property. For Connector/J 5.1.x, the default
        is "true", in trunk and beyond it will be "false" (i.e. the old
        date/time handling code will be deprecated)
       (<a href="http://bugs.mysql.com/32577" target="_top">Bug#32577</a>, <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>)</p></li><li><p>
        When unpacking rows directly, we don't hand off error message
        packets to the internal method which decodes them correctly, so
        no exception is raised, and the driver than hangs trying to read
        rows that aren't there. This tends to happen when calling stored
        procedures, as normal SELECTs won't have an error in this spot
        in the protocol unless an I/O error occurs.
       (<a href="http://bugs.mysql.com/32246" target="_top">Bug#32246</a>)</p></li><li><p>
        When using a connection from
        <code class="classname">ConnectionPoolDataSource</code>, some
        <code class="literal">Connection.prepareStatement()</code> methods would
        return null instead of the prepared statement.
       (<a href="http://bugs.mysql.com/32101" target="_top">Bug#32101</a>)</p></li><li><p>
        Using <code class="literal">CallableStatement.setNull()</code> on a
        stored function would throw an
        <code class="literal">ArrayIndexOutOfBounds</code> exception when setting
        the last parameter to null.
       (<a href="http://bugs.mysql.com/31823" target="_top">Bug#31823</a>)</p></li><li><p>
        <code class="classname">MysqlValidConnectionChecker</code> doesn't
        properly handle connections created using
        <code class="classname">ReplicationConnection</code>.
       (<a href="http://bugs.mysql.com/31790" target="_top">Bug#31790</a>)</p></li><li><p>
        Retrieving the server version information for an active
        connection could return invalid information if the default
        character encoding on the host was not ASCII compatible.
       (<a href="http://bugs.mysql.com/31192" target="_top">Bug#31192</a>)</p></li><li><p>
        Further fixes have been made to this bug in the event that a
        node is non-responsive. Connector/J will now try a different
        random node instead of waiting for the node to recover before
        continuing.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> returned by
        <code class="literal">Statement.getGeneratedKeys()</code> is not closed
        automatically when statement that created it is closed.
       (<a href="http://bugs.mysql.com/30508" target="_top">Bug#30508</a>)</p></li><li><p>
        <code class="literal">DatabaseMetadata.getColumns()</code> doesn't
        return the correct column names if the connection character
        isn't UTF-8. A bug in MySQL server compounded the issue, but was
        fixed within the MySQL 5.0 release cycle. The fix includes
        changes to all the sections of the code that access the server
        metadata.
       (<a href="http://bugs.mysql.com/20491" target="_top">Bug#20491</a>)</p></li><li><p>
        Fixed <code class="methodname">ResultSetMetadata.getColumnName()</code>
        for result sets returned from
        <code class="methodname">Statement.getGeneratedKeys()</code> - it was
        returning null instead of "GENERATED_KEY" as in 5.0.x.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-5"></a>E.6.1.2. Changes in  MySQL Connector/J 5.1.5 (09 October 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <code class="literal">NCHAR</code>,
        <code class="literal">NVARCHAR</code> and <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <code class="literal">SHOW PROCESSLIST</code> on a MySQL server, or can be
        extended to support custom persistence of the information via a
        public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">autoSlowLog</code> configuration property,
        overrides <code class="literal">slowQueryThreshold*</code> properties,
        driver determines slow queries by those that are slower than 5 *
        stddev of the mean query time (outside the 96% percentile).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-4"></a>E.6.1.3. Changes in  MySQL Connector/J 5.1.4 (Not Released)</h4></div></div></div><p>
        Only released internally.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-3"></a>E.6.1.4. Changes in  MySQL Connector/J 5.1.3 (10 September 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <code class="literal">NCHAR</code>,
        <code class="literal">NVARCHAR</code> and <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <code class="literal">SHOW PROCESSLIST</code> on a MySQL server, or can be
        extended to support custom persistence of the information via a
        public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/J now connects using an initial character set of
        <code class="literal">utf-8</code> solely for the purpose of
        authentication to allow user names or database names in any
        character set to be used in the JDBC connection URL.
       (<a href="http://bugs.mysql.com/29853" target="_top">Bug#29853</a>)</p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes CallableStatements with
        batched arguments to be re-written in the form "CALL (...); CALL
        (...); ..." to send the batch in as few client-server round
        trips as possible.
      </p></li><li><p>
        The driver now picks appropriate internal row representation
        (whole row in one buffer, or individual byte[]s for each column
        value) depending on heuristics, including whether or not the row
        has <code class="literal">BLOB</code> or <code class="literal">TEXT</code> types and
        the overall row-size. The threshold for row size that will cause
        the driver to use a buffer rather than individual byte[]s is
        configured by the configuration property
        <code class="option">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        The data (and how it's stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for "streaming" result
        sets, we re-use the packet used to read rows, since only one row
        at a time is ever active.
      </p></li><li><p>
        Added experimental support for statement "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>. Implement this
        interface to be placed "in between" query execution, so that it
        can be influenced (currently experimental).
      </p></li><li><p>
        The driver will automatically adjust the server session variable
        <code class="literal">net_write_timeout</code> when it determines its been
        asked for a "streaming" result, and resets it to the previous
        value when the result set has been consumed. (The configuration
        property is named
        <code class="option">netTimeoutForStreamingResults</code>, with a unit of
        seconds, the value '0' means the driver will not try and adjust
        this value).
      </p></li><li><p>
        JDBC-4.0 ease-of-development features including
        auto-registration with the <code class="literal">DriverManager</code> via
        the service provider mechanism, standardized Connection validity
        checks and categorized <code class="literal">SQLExceptions</code> based on
        recoverability/retry-ability and class of the underlying error.
      </p></li><li><p>
        <code class="literal">Statement.setQueryTimeout()</code>s now affect the
        entire batch for batched statements, rather than the individual
        statements that make up the batch.
      </p></li><li><p>
        Errors encountered during
        <code class="literal">Statement</code>/<code class="literal">PreparedStatement</code>/<code class="literal">CallableStatement.executeBatch()</code>
        when <code class="literal">rewriteBatchStatements</code> has been set to
        <code class="literal">true</code> now return
        <code class="literal">BatchUpdateExceptions</code> according to the
        setting of <code class="literal">continueBatchOnError</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to
        <code class="literal">true</code>, the update counts for the "chunk" that
        were sent as one unit will all be set to
        <code class="literal">EXECUTE_FAILED</code>, but the driver will attempt
        to process the remainder of the batch. You can determine which
        "chunk" failed by looking at the update counts returned in the
        <code class="literal">BatchUpdateException</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to "false",
        the update counts returned will contain all updates up-to and
        including the failed "chunk", with all counts for the failed
        "chunk" set to <code class="literal">EXECUTE_FAILED</code>.
      </p><p>
        Since MySQL doesn't return multiple error codes for
        multiple-statements, or for multi-value
        <code class="literal">INSERT</code>/<code class="literal">REPLACE</code>, it is the
        application's responsibility to handle determining which item(s)
        in the "chunk" actually failed.
      </p></li><li><p>
        New methods on com.mysql.jdbc.Statement:
        <code class="literal">setLocalInfileInputStream()</code> and
        <code class="literal">getLocalInfileInputStream()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">setLocalInfileInputStream()</code> sets an
            <code class="literal">InputStream</code> instance that will be used to
            send data to the MySQL server for a <code class="literal">LOAD DATA LOCAL
            INFILE</code> statement rather than a
            <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> that represents the path
            given as an argument to the statement.
          </p><p>
            This stream will be read to completion upon execution of a
            <code class="literal">LOAD DATA LOCAL INFILE</code> statement, and
            will automatically be closed by the driver, so it needs to
            be reset before each call to <code class="literal">execute*()</code>
            that would cause the MySQL server to request data to fulfill
            the request for <code class="literal">LOAD DATA LOCAL INFILE</code>.
          </p><p>
            If this value is set to <code class="literal">NULL</code>, the driver
            will revert to using a <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> as required.
          </p></li><li><p>
            <code class="literal">getLocalInfileInputStream()</code> returns the
            <code class="literal">InputStream</code> instance that will be used to
            send data in response to a <code class="literal">LOAD DATA LOCAL
            INFILE</code> statement.
          </p><p>
            This method returns <code class="literal">NULL</code> if no such
            stream has been set via
            <code class="literal">setLocalInfileInputStream()</code>.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">useBlobToStoreUTF8OutsideBMP</code> to
        <code class="literal">true</code> tells the driver to treat
        <code class="literal">[MEDIUM/LONG]BLOB</code> columns as
        <code class="literal">[LONG]VARCHAR</code> columns holding text encoded in
        UTF-8 that has characters outside the BMP (4-byte encodings),
        which MySQL server can't handle natively.
      </p><p>
        Set <code class="option">utf8OutsideBmpExcludedColumnNamePattern</code> to
        a regex so that column names matching the given regex will still
        be treated as <code class="literal">BLOBs</code> The regex must follow the
        patterns used for the <code class="literal">java.util.regex</code>package.
        The default is to exclude no columns, and include all columns.
      </p><p>
        Set <code class="option">utf8OutsideBmpIncludedColumnNamePattern</code> to
        specify exclusion rules to
        utf8OutsideBmpExcludedColumnNamePattern". The regex must follow
        the patterns used for the <code class="literal">java.util.regex</code>
        package.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <code class="literal">VARBINARY</code> column types would be
        misidentified. A fix has been added, but this fix only works for
        MySQL server versions 5.0.25 and newer, since earlier versions
        didn't consistently return correct metadata for functions, and
        thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem
        "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <code class="literal">DECIMAL</code> and <code class="literal">NUMERIC</code> will
        return a precision of 254 for server versions older than 5.0.3,
        64 for versions 5.0.3-5.0.5 and 65 for versions newer than
        5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-2"></a>E.6.1.5. Changes in  MySQL Connector/J 5.1.2 (29 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the configuration property
        <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> will now cause the driver to rewrite
        batched prepared statements with more than 3 parameter sets in a
        batch into multi-statements (separated by ";") if they
        are not plain (that is, without <code class="literal">SELECT</code> or
        <code class="literal">ON DUPLICATE KEY UPDATE</code> clauses)
        <code class="literal">INSERT</code> or <code class="literal">REPLACE</code>
        statements.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-1"></a>E.6.1.6. Changes in  MySQL Connector/J 5.1.1 (22 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Alpha development release, adding new features and
        fixing recently discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Pulled vendor-extension methods of <code class="literal">Connection</code>
        implementation out into an interface to support
        <code class="literal">java.sql.Wrapper</code> functionality from
        <code class="literal">ConnectionPoolDataSource</code>. The vendor
        extensions are javadoc'd in the
        <code class="literal">com.mysql.jdbc.Connection</code> interface.
      </p><p>
        For those looking further into the driver implementation, it is
        not an API that is used for plugability of implementations
        inside our driver (which is why there are still references to
        <code class="literal">ConnectionImpl</code> throughout the code).
      </p><p>
        We've also added server and client
        <code class="literal">prepareStatement()</code> methods that cover all of
        the variants in the JDBC API.
      </p><p>
        <code class="literal">Connection.serverPrepare(String)</code> has been
        re-named to
        <code class="literal">Connection.serverPrepareStatement()</code> for
        consistency with
        <code class="literal">Connection.clientPrepareStatement()</code>.
      </p></li><li><p>
        Row navigation now causes any streams/readers open on the result
        set to be closed, as in some cases we're reading directly from a
        shared network packet and it will be overwritten by the
        "next" row.
      </p></li><li><p>
        Made it possible to retrieve prepared statement parameter
        bindings (to be used in
        <code class="literal">StatementInterceptors</code>, primarily).
      </p></li><li><p>
        Externalized the descriptions of connection properties.
      </p></li><li><p>
        The data (and how it's stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for
        "streaming" result sets, we re-use the packet used to
        read rows, since only one row at a time is ever active.
      </p></li><li><p>
        Similar to <code class="literal">Connection</code>, we pulled out vendor
        extensions to <code class="literal">Statement</code> into an interface
        named <code class="literal">com.mysql.Statement</code>, and moved the
        <code class="literal">Statement</code> class into
        <code class="literal">com.mysql.StatementImpl</code>. The two methods
        (javadoc'd in <code class="literal">com.mysql.Statement</code> are
        <code class="literal">enableStreamingResults()</code>, which already
        existed, and <code class="literal">disableStreamingResults()</code> which
        sets the statement instance back to the fetch size and result
        set type it had before
        <code class="literal">enableStreamingResults()</code> was called.
      </p></li><li><p>
        Driver now picks appropriate internal row representation (whole
        row in one buffer, or individual byte[]s for each column value)
        depending on heuristics, including whether or not the row has
        <code class="literal">BLOB</code> or <code class="literal">TEXT</code> types and the
        overall row-size. The threshold for row size that will cause the
        driver to use a buffer rather than individual byte[]s is
        configured by the configuration property
        <code class="literal">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        Added experimental support for statement
        "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>.
      </p><p>
        Implement this interface to be placed "in between"
        query execution, so that you can influence it. (currently
        experimental).
      </p><p>
        <code class="literal">StatementInterceptors</code> are
        "chainable" when configured by the user, the results
        returned by the "current" interceptor will be passed
        on to the next on in the chain, from left-to-right order, as
        specified by the user in the JDBC configuration property
        <code class="literal">statementInterceptors</code>.
      </p></li><li><p>
        See the sources (fully javadoc'd) for
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code> for more
        details until we iron out the API and get it documented in the
        manual.
      </p></li><li><p>
        Setting <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes
        <code class="literal">CallableStatements</code> with batched arguments to
        be re-written in the form <code class="literal">CALL (...); CALL (...);
        ...</code> to send the batch in as few client-server round
        trips as possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-0"></a>E.6.1.7. Changes in  MySQL Connector/J 5.1.0 (11 April 2007)</h4></div></div></div><p>
        This is the first public alpha release of the current
        Connector/J 5.1 development branch, providing an insight to
        upcoming features. Although some of these are still under
        development, this release includes the following new features
        and changes (in comparison to the current Connector/J 5.0
        production release):
      </p><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The disabling of server-side prepared statements does not
          affect the operation of the connector. However, if you use the
          <code class="literal">useTimezone=true</code> connection option and use
          client-side prepared statements (instead of server-side
          prepared statements) you should also set
          <code class="literal">useSSPSCompatibleTimezoneShift=true</code>.
        </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Refactored <code class="literal">CommunicationsException</code> into a
        JDBC-3.0 version, and a JDBC-4.0 version (which extends
        <code class="literal">SQLRecoverableException</code>, now that it exists).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change means that if you were catching
          <code class="literal">com.mysql.jdbc.CommunicationsException</code> in
          your applications instead of looking at the SQLState class of
          <code class="literal">08</code>, and are moving to Java 6 (or newer),
          you need to change your imports to that exception to be
          <code class="literal">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException</code>,
          as the old class will not be instantiated for communications
          link-related errors under Java 6.
        </p></div></li><li><p>
        Added support for JDBC-4.0 categorized
        <code class="literal">SQLExceptions</code>.
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">NCLOB</code>, and
        <code class="literal">NCHAR</code>/<code class="literal">NVARCHAR</code> types.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.javac</code> — full path
        to your Java-6 <span><strong class="command">javac</strong></span> executable
      </p></li><li><p>
        Added support for JDBC-4.0's SQLXML interfaces.
      </p></li><li><p>
        Re-worked Ant buildfile to build JDBC-4.0 classes separately, as
        well as support building under Eclipse (since Eclipse can't
        mix/match JDKs).
      </p><p>
        To build, you must set <code class="literal">JAVA_HOME</code> to
        J2SDK-1.4.2 or Java-5, and set the following properties on your
        Ant command line:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">com.mysql.jdbc.java6.javac</code> — full
            path to your Java-6 <span><strong class="command">javac</strong></span> executable
          </p></li><li><p>
            <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full
            path to your Java-6 <code class="filename">rt.jar</code> file
          </p></li></ul></div></li><li><p>
        New feature — driver will automatically adjust session
        variable <code class="literal">net_write_timeout</code> when it determines
        it has been asked for a "streaming" result, and resets
        it to the previous value when the result set has been consumed.
        (configuration property is named
        <code class="literal">netTimeoutForStreamingResults</code> value and has a
        unit of seconds, the value <code class="literal">0</code> means the driver
        will not try and adjust this value).
      </p></li><li><p>
        Added support for JDBC-4.0's client information. The backend
        storage of information provided via
        <code class="literal">Connection.setClientInfo()</code> and retrieved by
        <code class="literal">Connection.getClientInfo()</code> is pluggable by
        any class that implements the
        <code class="literal">com.mysql.jdbc.JDBC4ClientInfoProvider</code>
        interface and has a no-args constructor.
      </p><p>
        The implementation used by the driver is configured using the
        <code class="literal">clientInfoProvider</code> configuration property
        (with a default of value of
        <code class="literal">com.mysql.jdbc.JDBC4CommentClientInfoProvider</code>,
        an implementation which lists the client information as a
        comment prepended to every query sent to the server).
      </p><p>
        This functionality is only available when using Java-6 or newer.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full path
        to your Java-6 <code class="filename">rt.jar</code> file
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">Wrapper</code>
        interface.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-0"></a>E.6.2. Changes in MySQL Connector/J 5.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-0-8">E.6.2.1. Changes in  MySQL Connector/J 5.0.8 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-7">E.6.2.2. Changes in  MySQL Connector/J 5.0.7 (20 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-6">E.6.2.3. Changes in  MySQL Connector/J 5.0.6 (15 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-5">E.6.2.4. Changes in  MySQL Connector/J 5.0.5 (02 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-4">E.6.2.5. Changes in  MySQL Connector/J 5.0.4 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-3">E.6.2.6. Changes in  MySQL Connector/J 5.0.3 (26 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-2">E.6.2.7. Changes in  MySQL Connector/J 5.0.2 (11 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-1">E.6.2.8. Changes in  MySQL Connector/J 5.0.1 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-0">E.6.2.9. Changes in  MySQL Connector/J 5.0.0 (22 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-8"></a>E.6.2.1. Changes in  MySQL Connector/J 5.0.8 (09 October 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">blobsAreStrings</code> — Should the driver
        always treat BLOBs as Strings. Added specifically to work around
        dubious metadata returned by the server for <code class="literal">GROUP
        BY</code> clauses. Defaults to false.
      </p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        <code class="literal">functionsNeverReturnBlobs</code> — Should the
        driver always treat data from functions returning
        <code class="literal">BLOBs</code> as Strings. Added specifically to work
        around dubious metadata returned by the server for
        <code class="literal">GROUP BY</code> clauses. Defaults to false.
      </p></li><li><p>
        XAConnections now start in auto-commit mode (as per JDBC-4.0
        specification clarification).
      </p></li><li><p>
        Driver will now fall back to sane defaults for
        <code class="literal">max_allowed_packet</code> and
        <code class="literal">net_buffer_length</code> if the server reports them
        incorrectly (and will log this situation at
        <code class="literal">WARN</code> level, since it's actually an error
        condition).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connections established using URLs of the form
        <code class="literal">jdbc:mysql:loadbalance://</code> weren't doing
        failover if they tried to connect to a MySQL server that was
        down. The driver now attempts connections to the next "best"
        (depending on the load balance strategy in use) server, and
        continues to attempt connecting to the next "best" server every
        250 milliseconds until one is found that is up and running or 5
        minutes has passed.
      </p><p>
        If the driver gives up, it will throw the last-received
        <code class="literal">SQLException</code>.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <code class="literal">VARBINARY</code> column types would be
        misidentified. A fix has been added, but this fix only works for
        MySQL server versions 5.0.25 and newer, since earlier versions
        didn't consistently return correct metadata for functions, and
        thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem
        "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <code class="literal">DECIMAL</code> and <code class="literal">NUMERIC</code> will
        return a precision of 254 for server versions older than 5.0.3,
        64 for versions 5.0.3-5.0.5 and 65 for versions newer than
        5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li><li><p>
        <code class="literal">UNSIGNED</code> types not reported via
        <code class="literal">DBMD.getTypeInfo()</code>, and capitalization of
        type names is not consistent between
        <code class="literal">DBMD.getColumns()</code>,
        <code class="literal">RSMD.getColumnTypeName()</code> and
        <code class="literal">DBMD.getTypeInfo()</code>.
      </p><p>
        This fix also ensures that the precision of <code class="literal">UNSIGNED
        MEDIUMINT</code> and <code class="literal">UNSIGNED BIGINT</code> is
        reported correctly via <code class="literal">DBMD.getColumns()</code>.
       (<a href="http://bugs.mysql.com/27916" target="_top">Bug#27916</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        Cached metadata with
        <code class="literal">PreparedStatement.execute()</code> throws
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/27412" target="_top">Bug#27412</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-7"></a>E.6.2.2. Changes in  MySQL Connector/J 5.0.7 (20 July 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The driver will now automatically set
        <code class="literal">useServerPrepStmts</code> to <code class="literal">true</code>
        when <code class="literal">useCursorFetch</code> has been set to
        <code class="literal">true</code>, since the feature requires server-side
        prepared statements in order to function.
      </p></li><li><p>
        <code class="literal">tcpKeepAlive</code> - Should the driver set
        SO_KEEPALIVE (default <code class="literal">true</code>)?
      </p></li><li><p>
        Give more information in EOFExceptions thrown out of MysqlIO
        (how many bytes the driver expected to read, how many it
        actually read, say that communications with the server were
        unexpectedly lost).
      </p></li><li><p>
        Driver detects when it is running in a ColdFusion MX server
        (tested with version 7), and uses the configuration bundle
        <code class="literal">coldFusion</code>, which sets
        <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> (see previous entry), and sets
        <code class="literal">useLocalSessionState</code> and autoReconnect to
        <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">tcpNoDelay</code> - Should the driver set
        SO_TCP_NODELAY (disabling the Nagle Algorithm, default
        <code class="literal">true</code>)?
      </p></li><li><p>
        Added configuration property
        <code class="literal">slowQueryThresholdNanos</code> - if
        <code class="literal">useNanosForElapsedTime</code> is set to
        <code class="literal">true</code>, and this property is set to a non-zero
        value the driver will use this threshold (in nanosecond units)
        to determine if a query was slow, instead of using millisecond
        units.
      </p></li><li><p>
        <code class="literal">tcpRcvBuf</code> - Should the driver set SO_RCV_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        Setting <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> now causes driver to use static lookups
        for collations as well (makes
        ResultSetMetadata.isCaseSensitive() much more efficient, which
        leads to performance increase for ColdFusion, which calls this
        method for every column on every table it sees, it appears).
      </p></li><li><p>
        Added configuration properties to allow tuning of TCP/IP socket
        parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">tcpNoDelay</code> - Should the driver set
            SO_TCP_NODELAY (disabling the Nagle Algorithm, default
            <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpKeepAlive</code> - Should the driver set
            SO_KEEPALIVE (default <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpRcvBuf</code> - Should the driver set
            SO_RCV_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpSndBuf</code> - Should the driver set
            SO_SND_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpTrafficClass</code> - Should the driver set
            traffic class or type-of-service fields? See the
            documentation for java.net.Socket.setTrafficClass() for more
            information.
          </p></li></ul></div></li><li><p>
        Setting the configuration parameter
        <code class="literal">useCursorFetch</code> to <code class="literal">true</code> for
        MySQL-5.0+ enables the use of cursors that allow Connector/J to
        save memory by fetching result set rows in chunks (where the
        chunk size is set by calling setFetchSize() on a Statement or
        ResultSet) by using fully-materialized cursors on the server.
      </p></li><li><p>
        <code class="literal">tcpSndBuf</code> - Should the driver set SO_SND_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        <code class="literal">tcpTrafficClass</code> - Should the driver set
        traffic class or type-of-service fields? See the documentation
        for java.net.Socket.setTrafficClass() for more information.
      </p></li><li><p>
        Added new debugging functionality - Setting configuration
        property
        <code class="literal">includeInnodbStatusInDeadlockExceptions</code> to
        <code class="literal">true</code> will cause the driver to append the
        output of <code class="literal">SHOW ENGINE INNODB STATUS</code> to
        deadlock-related exceptions, which will enumerate the current
        locks held inside InnoDB.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useNanosForElapsedTime</code> - for
        profiling/debugging functionality that measures elapsed time,
        should the driver try to use nanoseconds resolution if available
        (requires JDK &gt;= 1.5)?
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If <code class="literal">useNanosForElapsedTime</code> is set to
          <code class="literal">true</code>, and this property is set to
          "0" (or left default), then elapsed times will still
          be measured in nanoseconds (if possible), but the slow query
          threshold will be converted from milliseconds to nanoseconds,
          and thus have an upper bound of approximately 2000
          milliseconds (as that threshold is represented as an integer,
          not a long).
        </p></div></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't send any file data in response to LOAD DATA LOCAL INFILE
        if the feature is disabled at the client side. This is to
        prevent a malicious server or man-in-the-middle from asking the
        client for data that the client is not expecting. Thanks to Jan
        Kneschke for discovering the exploit and Andrey
        "Poohie" Hristov, Konstantin Osipov and Sergei
        Golubchik for discussions about implications and possible fixes.
       (<a href="http://bugs.mysql.com/29605" target="_top">Bug#29605</a>)</p></li><li><p>
        Parser in client-side prepared statements runs to end of
        statement, rather than end-of-line for '#' comments. Also added
        support for '--' single-line comments.
       (<a href="http://bugs.mysql.com/28956" target="_top">Bug#28956</a>)</p></li><li><p>
        Parser in client-side prepared statements eats character
        following '/' if it's not a multi-line comment.
       (<a href="http://bugs.mysql.com/28851" target="_top">Bug#28851</a>)</p></li><li><p>
        PreparedStatement.getMetaData() for statements containing
        leading one-line comments is not returned correctly.
      </p><p>
        As part of this fix, we also overhauled detection of DML for
        <code class="literal">executeQuery()</code> and <code class="literal">SELECT</code>s
        for <code class="literal">executeUpdate()</code> in plain and prepared
        statements to be aware of the same types of comments.
       (<a href="http://bugs.mysql.com/28469" target="_top">Bug#28469</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-6"></a>E.6.2.3. Changes in  MySQL Connector/J 5.0.6 (15 May 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added an experimental load-balanced connection designed for use
        with SQL nodes in a MySQL Cluster/NDB environment (This is not
        for master-slave replication. For that, we suggest you look at
        <code class="literal">ReplicationConnection</code> or
        <code class="literal">lbpool</code>).
      </p><p>
        If the JDBC URL starts with
        <code class="literal">jdbc:mysql:loadbalance://host-1,host-2,...host-n</code>,
        the driver will create an implementation of
        <code class="literal">java.sql.Connection</code> that load balances
        requests across a series of MySQL JDBC connections to the given
        hosts, where the balancing takes place after transaction commit.
      </p><p>
        Therefore, for this to work (at all), you must use transactions,
        even if only reading data.
      </p><p>
        Physical connections to the given hosts will not be created
        until needed.
      </p><p>
        The driver will invalidate connections that it detects have had
        communication errors when processing a request. A new connection
        to the problematic host will be attempted the next time it is
        selected by the load balancing algorithm.
      </p><p>
        There are two choices for load balancing algorithms, which may
        be specified by the <code class="literal">loadBalanceStrategy</code> JDBC
        URL configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">random</code> — the driver will pick a
            random host for each request. This tends to work better than
            round-robin, as the randomness will somewhat account for
            spreading loads where requests vary in response time, while
            round-robin can sometimes lead to overloaded nodes if there
            are variations in response times across the workload.
          </p></li><li><p>
            <code class="literal">bestResponseTime</code> — the driver will
            route the request to the host that had the best response
            time for the previous transaction.
          </p></li></ul></div></li><li><p>
        <code class="literal">bestResponseTime</code> — the driver will
        route the request to the host that had the best response time
        for the previous transaction.
      </p></li><li><p>
        Added configuration property
        <code class="literal">padCharsWithSpace</code> (defaults to
        <code class="literal">false</code>). If set to <code class="literal">true</code>,
        and a result set column has the <code class="literal">CHAR</code> type and
        the value does not fill the amount of characters specified in
        the DDL for the column, the driver will pad the remaining
        characters with space (for ANSI compliance).
      </p></li><li><p>
        When <code class="literal">useLocalSessionState</code> is set to
        <code class="literal">true</code> and connected to a MySQL-5.0 or later
        server, the JDBC driver will now determine whether an actual
        <code class="literal">commit</code> or <code class="literal">rollback</code>
        statement needs to be sent to the database when
        <code class="literal">Connection.commit()</code> or
        <code class="literal">Connection.rollback()</code> is called.
      </p><p>
        This is especially helpful for high-load situations with
        connection pools that always call
        <code class="literal">Connection.rollback()</code> on connection
        check-in/check-out because it avoids a round-trip to the server.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useDynamicCharsetInfo</code>. If set to
        <code class="literal">false</code> (the default), the driver will use a
        per-connection cache of character set information queried from
        the server when necessary, or when set to
        <code class="literal">true</code>, use a built-in static mapping that is
        more efficient, but isn't aware of custom character sets or
        character sets implemented after the release of the JDBC driver.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This only affects the <code class="literal">padCharsWithSpace</code>
          configuration property and the
          <code class="literal">ResultSetMetaData.getColumnDisplayWidth()</code>
          method.
        </p></div></li><li><p>
        New configuration property,
        <code class="literal">enableQueryTimeouts</code> (default
        <code class="literal">true</code>).
      </p><p>
        When enabled, query timeouts set via
        <code class="literal">Statement.setQueryTimeout()</code> use a shared
        <code class="literal">java.util.Timer</code> instance for scheduling. Even
        if the timeout doesn't expire before the query is processed,
        there will be memory used by the <code class="literal">TimerTask</code>
        for the given timeout which won't be reclaimed until the time
        the timeout would have expired if it hadn't been cancelled by
        the driver. High-load environments might want to consider
        disabling this functionality. (this configuration property is
        part of the <code class="literal">maxPerformance</code> configuration
        bundle).
      </p></li><li><p>
        Give better error message when "streaming" result
        sets, and the connection gets clobbered because of exceeding
        <code class="literal">net_write_timeout</code> on the server.
      </p></li><li><p>
        <code class="literal">random</code> — the driver will pick a random
        host for each request. This tends to work better than
        round-robin, as the randomness will somewhat account for
        spreading loads where requests vary in response time, while
        round-robin can sometimes lead to overloaded nodes if there are
        variations in response times across the workload.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.[NonRegistering]Driver</code> now
        understands URLs of the format
        <code class="literal">jdbc:mysql:replication://</code> and
        <code class="literal">jdbc:mysql:loadbalance://</code> which will create a
        ReplicationConnection (exactly like when using
        <code class="literal">[NonRegistering]ReplicationDriver</code>) and an
        experimental load-balanced connection designed for use with SQL
        nodes in a MySQL Cluster/NDB environment, respectively.
      </p><p>
        In an effort to simplify things, we're working on deprecating
        multiple drivers, and instead specifying different core behavior
        based upon JDBC URL prefixes, so watch for
        <code class="literal">[NonRegistering]ReplicationDriver</code> to
        eventually disappear, to be replaced with
        <code class="literal">com.mysql.jdbc[NonRegistering]Driver</code> with the
        new URL prefix.
      </p></li><li><p>
        Fixed issue where a failed-over connection would let an
        application call <code class="literal">setReadOnly(false)</code>, when
        that call should be ignored until the connection is reconnected
        to a writable master unless <code class="literal">failoverReadOnly</code>
        had been set to <code class="literal">false</code>.
      </p></li><li><p>
        Driver will now use <code class="literal">INSERT INTO ... VALUES
        (DEFAULT)</code>form of statement for updatable result sets
        for <code class="literal">ResultSet.insertRow()</code>, rather than
        pre-populating the insert row with values from
        <code class="literal">DatabaseMetaData.getColumns()</code>(which results
        in a <code class="literal">SHOW FULL COLUMNS</code> on the server for
        every result set). If an application requires access to the
        default values before <code class="literal">insertRow()</code> has been
        called, the JDBC URL should be configured with
        <code class="literal">populateInsertRowWithDefaultValues</code> set to
        <code class="literal">true</code>.
      </p><p>
        This fix specifically targets performance issues with ColdFusion
        and the fact that it seems to ask for updatable result sets no
        matter what the application does with them.
      </p></li><li><p>
        More intelligent initial packet sizes for the "shared"
        packets are used (512 bytes, rather than 16K), and initial
        packets used during handshake are now sized appropriately as to
        not require reallocation.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        More useful error messages are generated when the driver thinks
        a result set is not updatable. (Thanks to Ashley Martens for the
        patch).
       (<a href="http://bugs.mysql.com/28085" target="_top">Bug#28085</a>)</p></li><li><p>
        <code class="literal">Connection.getTransactionIsolation()</code> uses
        "<code class="literal">SHOW VARIABLES LIKE</code>" which is very
        inefficient on MySQL-5.0+ servers.
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        Fixed issue where calling <code class="literal">getGeneratedKeys()</code>
        on a prepared statement after calling
        <code class="literal">execute()</code> didn't always return the generated
        keys (<code class="literal">executeUpdate()</code> worked fine however).
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        <code class="literal">CALL /* ... */
        <em class="replaceable"><code>some_proc</code></em>()</code> doesn't work.
        As a side effect of this fix, you can now use <code class="literal">/*
        */</code> and <code class="literal">#</code> comments when preparing
        statements using client-side prepared statement emulation.
      </p><p>
        If the comments happen to contain parameter markers
        (<code class="literal">?</code>), they will be treated as belonging to the
        comment (that is, not recognized) rather than being a parameter
        of the statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The statement when sent to the server will contain the
          comments as-is, they're not stripped during the process of
          preparing the <code class="literal">PreparedStatement</code> or
          <code class="literal">CallableStatement</code>.
        </p></div><p>(<a href="http://bugs.mysql.com/27400" target="_top">Bug#27400</a>)</p></li><li><p>
        <code class="literal">ResultSet.get*()</code> with a column index &lt; 1
        returns misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Using <code class="literal">ResultSet.get*()</code> with a column index
        less than 1 returns a misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Comments in DDL of stored procedures/functions confuse procedure
        parser, and thus metadata about them can not be created, leading
        to inability to retrieve said metadata, or execute procedures
        that have certain comments in them.
       (<a href="http://bugs.mysql.com/26959" target="_top">Bug#26959</a>)</p></li><li><p>
        Fast date/time parsing doesn't take into account
        <code class="literal">00:00:00</code> as a legal value.
       (<a href="http://bugs.mysql.com/26789" target="_top">Bug#26789</a>)</p></li><li><p>
        <code class="literal">PreparedStatement</code> is not closed in
        <code class="literal">BlobFromLocator.getBytes()</code>.
       (<a href="http://bugs.mysql.com/26592" target="_top">Bug#26592</a>)</p></li><li><p>
        When the configuration property
        <code class="literal">useCursorFetch</code> was set to
        <code class="literal">true</code>, sometimes server would return new, more
        exact metadata during the execution of the server-side prepared
        statement that enables this functionality, which the driver
        ignored (using the original metadata returned during
        <code class="literal">prepare()</code>), causing corrupt reading of data
        due to type mismatch when the actual rows were returned.
       (<a href="http://bugs.mysql.com/26173" target="_top">Bug#26173</a>)</p></li><li><p>
        <code class="literal">CallableStatements</code> with
        <code class="literal">OUT/INOUT</code> parameters that are
        "binary" (<code class="literal">BLOB</code>,
        <code class="literal">BIT</code>, <code class="literal">(VAR)BINARY</code>,
        <code class="literal">JAVA_OBJECT</code>) have extra 7 bytes.
       (<a href="http://bugs.mysql.com/25715" target="_top">Bug#25715</a>)</p></li><li><p>
        Whitespace surrounding storage/size specifiers in stored
        procedure parameters declaration causes
        <code class="literal">NumberFormatException</code> to be thrown when
        calling stored procedure on JDK-1.5 or newer, as the Number
        classes in JDK-1.5+ are whitespace intolerant.
       (<a href="http://bugs.mysql.com/25624" target="_top">Bug#25624</a>)</p></li><li><p>
        Client options not sent correctly when using SSL, leading to
        stored procedures not being able to return results. Thanks to
        Don Cohen for the bug report, testcase and patch.
       (<a href="http://bugs.mysql.com/25545" target="_top">Bug#25545</a>)</p></li><li><p>
        <code class="literal">Statement.setMaxRows()</code> is not effective on
        result sets materialized from cursors.
       (<a href="http://bugs.mysql.com/25517" target="_top">Bug#25517</a>)</p></li><li><p>
        <code class="literal">BIT(&gt; 1)</code> is returned as
        <code class="literal">java.lang.String</code> from
        <code class="literal">ResultSet.getObject()</code> rather than
        <code class="literal">byte[]</code>.
       (<a href="http://bugs.mysql.com/25328" target="_top">Bug#25328</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-5"></a>E.6.2.4. Changes in  MySQL Connector/J 5.0.5 (02 March 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor will now issue warnings for result sets with large
        numbers of rows. You can configure the trigger value by using
        the <code class="literal">resultSetSizeThreshold</code> parameter, which
        has a default value of 100.
      </p></li><li><p>
        The <code class="literal">rewriteBatchedStatements</code> feature can now
        be used with server-side prepared statements.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p></li><li><p>
        Improved speed of <code class="literal">datetime</code> parsing for
        ResultSets that come from plain or non-server-side prepared
        statements. You can enable old implementation with
        <code class="literal">useFastDateParsing=false</code> as a configuration
        parameter.
      </p></li><li><p>
        Usage Advisor now detects empty results sets and does not report
        on columns not referenced in those empty sets.
      </p></li><li><p>
        Fixed logging of XA commands sent to server, it's now
        configurable via <code class="literal">logXaCommands</code> property
        (defaults to <code class="literal">false</code>).
      </p></li><li><p>
        Added configuration property
        <code class="literal">localSocketAddress</code>,which is the hostname or
        IP address given to explicitly configure the interface that the
        driver will bind the client side of the TCP/IP connection to
        when connecting.
      </p></li><li><p>
        We've added a new configuration option
        <code class="literal">treatUtilDateAsTimestamp</code>, which is
        <code class="literal">false</code> by default, as (1) We already had
        specific behavior to treat java.util.Date as a
        java.sql.Timestamp because it's useful to many folks, and (2)
        that behavior will very likely be required for drivers
        JDBC-post-4.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection property <code class="literal">socketFactory</code> wasn't
        exposed via correctly named mutator/accessor, causing data
        source implementations that use JavaBean naming conventions to
        set properties to fail to set the property (and in the case of
        SJAS, fail silently when trying to set this parameter).
       (<a href="http://bugs.mysql.com/26326" target="_top">Bug#26326</a>)</p></li><li><p>
        A query execution which timed out did not always throw a
        <code class="literal">MySQLTimeoutException</code>.
       (<a href="http://bugs.mysql.com/25836" target="_top">Bug#25836</a>)</p></li><li><p>
        Storing a <code class="literal">java.util.Date</code> object in a
        <code class="literal">BLOB</code> column would not be serialized correctly
        during <code class="literal">setObject</code>.
       (<a href="http://bugs.mysql.com/25787" target="_top">Bug#25787</a>)</p></li><li><p>
        Timer instance used for
        <code class="literal">Statement.setQueryTimeout()</code> created
        per-connection, rather than per-VM, causing memory leak.
       (<a href="http://bugs.mysql.com/25514" target="_top">Bug#25514</a>)</p></li><li><p>
        <code class="literal">EscapeProcessor</code> gets confused by multiple
        backslashes. We now push the responsibility of syntax errors
        back on to the server for most escape sequences.
       (<a href="http://bugs.mysql.com/25399" target="_top">Bug#25399</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code> get doubly-escaped.
       (<a href="http://bugs.mysql.com/25379" target="_top">Bug#25379</a>)</p></li><li><p>
        When using the <code class="literal">rewriteBatchedStatements</code>
        connection option with
        <code class="literal">PreparedState.executeBatch()</code> an internal
        memory leak would occur.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        Fixed issue where field-level for metadata from
        <code class="literal">DatabaseMetaData</code> when using
        <code class="literal">INFORMATION_SCHEMA</code> didn't have references to
        current connections, sometimes leading to Null Pointer
        Exceptions (NPEs) when introspecting them via
        <code class="literal">ResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        <code class="literal">StringUtils.indexOfIgnoreCaseRespectQuotes()</code>
        isn't case-insensitive on the first character of the target.
        This bug also affected
        <code class="literal">rewriteBatchedStatements</code> functionality when
        prepared statements did not use uppercase for the
        <code class="literal">VALUES</code> clause.
       (<a href="http://bugs.mysql.com/25047" target="_top">Bug#25047</a>)</p></li><li><p>
        Client-side prepared statement parser gets confused by in-line
        comments <code class="literal">/*...*/</code> and therefore cannot rewrite
        batch statements or reliably detect the type of statements when
        they are used.
       (<a href="http://bugs.mysql.com/25025" target="_top">Bug#25025</a>)</p></li><li><p>
        Results sets from <code class="literal">UPDATE</code> statements that are
        part of multi-statement queries would cause an
        <code class="literal">SQLException</code> error, "Result is from
        UPDATE".
       (<a href="http://bugs.mysql.com/25009" target="_top">Bug#25009</a>)</p></li><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li><li><p>
        Using <code class="literal">DatabaseMetaData.getSQLKeywords()</code> does
        not return a all of the of the reserved keywords for the current
        MySQL version. Current implementation returns the list of
        reserved words for MySQL 5.1, and does not distinguish between
        versions.
       (<a href="http://bugs.mysql.com/24794" target="_top">Bug#24794</a>)</p></li><li><p>
        Calling <code class="literal">Statement.cancel()</code> could result in a
        Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/24721" target="_top">Bug#24721</a>)</p></li><li><p>
        Using <code class="literal">setFetchSize()</code> breaks prepared
        <code class="literal">SHOW</code> and other commands.
       (<a href="http://bugs.mysql.com/24360" target="_top">Bug#24360</a>)</p></li><li><p>
        Calendars and timezones are now lazily instantiated when
        required.
       (<a href="http://bugs.mysql.com/24351" target="_top">Bug#24351</a>)</p></li><li><p>
        Using <code class="literal">DATETIME</code> columns would result in time
        shifts when <code class="literal">useServerPrepStmts</code> was true. The
        reason was due to different behavior when using client-side
        compared to server-side prepared statements and the
        <code class="literal">useJDBCCompliantTimezoneShift</code> option. This is
        now fixed if moving from server-side prepared statements to
        client-side prepared statements by setting
        <code class="literal">useSSPSCompatibleTimezoneShift</code> to
        <code class="literal">true</code>, as the driver can't tell if this is a
        new deployment that never used server-side prepared statements,
        or if it is an existing deployment that is switching to
        client-side prepared statements from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/24344" target="_top">Bug#24344</a>)</p></li><li><p>
        Connector/J now returns a better error message when server
        doesn't return enough information to determine stored
        procedure/function parameter types.
       (<a href="http://bugs.mysql.com/24065" target="_top">Bug#24065</a>)</p></li><li><p>
        A connection error would occur when connecting to a MySQL server
        with certain character sets. Some collations/character sets
        reported as "unknown" (specifically
        <code class="literal">cias</code> variants of existing character sets),
        and inability to override the detected server character set.
       (<a href="http://bugs.mysql.com/23645" target="_top">Bug#23645</a>)</p></li><li><p>
        Inconsistency between <code class="literal">getSchemas</code> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/23304" target="_top">Bug#23304</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSchemas()</code> doesn't return
        a <code class="literal">TABLE_CATALOG</code> column.
       (<a href="http://bugs.mysql.com/23303" target="_top">Bug#23303</a>)</p></li><li><p>
        When using a JDBC connection URL that is malformed, the
        <code class="literal">NonRegisteringDriver.getPropertyInfo</code> method
        will throw a Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/22628" target="_top">Bug#22628</a>)</p></li><li><p>
        Some exceptions thrown out of
        <code class="literal">StandardSocketFactory</code> were needlessly
        wrapped, obscuring their true cause, especially when using
        socket timeouts.
       (<a href="http://bugs.mysql.com/21480" target="_top">Bug#21480</a>)</p></li><li><p>
        When using a server-side prepared statement the driver would
        send timestamps to the server using nanoseconds instead of
        milliseconds.
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        When using server-side prepared statements and timestamp
        columns, value would be incorrectly populated (with nanoseconds,
        not microseconds).
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        <code class="literal">ParameterMetaData</code> throws
        <code class="literal">NullPointerException</code> when prepared SQL has a
        syntax error. Added
        <code class="literal">generateSimpleParameterMetadata</code> configuration
        property, which when set to <code class="literal">true</code> will
        generate metadata reflecting <code class="literal">VARCHAR</code> for
        every parameter (the default is <code class="literal">false</code>, which
        will cause an exception to be thrown if no parameter metadata
        for the statement is actually available).
       (<a href="http://bugs.mysql.com/21267" target="_top">Bug#21267</a>)</p></li><li><p>
        Fixed an issue where <code class="literal">XADataSources</code> couldn't
        be bound into JNDI, as the <code class="literal">DataSourceFactory</code>
        didn't know how to create instances of them.
      </p></li></ul></div><p>Other changes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Avoid static synchronized code in JVM class libraries for
        dealing with default timezones.
      </p></li><li><p>
        Performance enhancement of initial character set configuration,
        driver will only send commands required to configure connection
        character set session variables if the current values on the
        server do not match what is required.
      </p></li><li><p>
        Re-worked stored procedure parameter parser to be more robust.
        Driver no longer requires <code class="literal">BEGIN</code> in stored
        procedure definition, but does have requirement that if a stored
        function begins with a label directly after the
        "returns" clause, that the label is not a quoted
        identifier.
      </p></li><li><p>
        Throw exceptions encountered during timeout to thread calling
        <code class="literal">Statement.execute*()</code>, rather than
        <code class="literal">RuntimeException</code>.
      </p></li><li><p>
        Changed cached result set metadata (when using
        <code class="literal">cacheResultSetMetadata=true</code>) to be cached
        per-connection rather than per-statement as previously
        implemented.
      </p></li><li><p>
        Reverted back to internal character conversion routines for
        single-byte character sets, as the ones internal to the JVM are
        using much more CPU time than our internal implementation.
      </p></li><li><p>
        When extracting foreign key information from <code class="literal">SHOW
        CREATE TABLE</code> in <code class="literal">DatabaseMetaData</code>,
        ignore exceptions relating to tables being missing (which could
        happen for cross-reference or imported-key requests, as the list
        of tables is generated first, then iterated).
      </p></li><li><p>
        Fixed some Null Pointer Exceptions (NPEs) when cached metadata
        was used with <code class="literal">UpdatableResultSets</code>.
      </p></li><li><p>
        Take <code class="literal">localSocketAddress</code> property into account
        when creating instances of
        <code class="literal">CommunicationsException</code> when the underyling
        exception is a <code class="literal">java.net.BindException</code>, so
        that a friendlier error message is given with a little internal
        diagnostics.
      </p></li><li><p>
        Fixed cases where <code class="literal">ServerPreparedStatements</code>
        weren't using cached metadata when
        <code class="literal">cacheResultSetMetadata=true</code> was used.
      </p></li><li><p>
        Use a <code class="literal">java.util.TreeMap</code> to map column names
        to ordinal indexes for <code class="literal">ResultSet.findColumn()</code>
        instead of a HashMap. This allows us to have case-insensitive
        lookups (required by the JDBC specification) without resorting
        to the many transient object instances needed to support this
        requirement with a normal <code class="literal">HashMap</code> with either
        case-adjusted keys, or case-insensitive keys. (In the worst case
        scenario for lookups of a 1000 column result set, TreeMaps are
        about half as fast wall-clock time as a HashMap, however in
        normal applications their use gives many orders of magnitude
        reduction in transient object instance creation which pays off
        later for CPU usage in garbage collection).
      </p></li><li><p>
        When using cached metadata, skip field-level metadata packets
        coming from the server, rather than reading them and discarding
        them without creating <code class="literal">com.mysql.jdbc.Field</code>
        instances.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-4"></a>E.6.2.5. Changes in  MySQL Connector/J 5.0.4 (20 October 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        DBMD.getColumns() does not return expected COLUMN_SIZE for the
        SET type, now returns length of largest possible set
        disregarding whitespace or the "," delimitters to be
        consistent with the ODBC driver.
       (<a href="http://bugs.mysql.com/22613" target="_top">Bug#22613</a>)</p></li><li><p>
        Added new _ci collations to CharsetMapping - utf8_unicode_ci not
        working.
       (<a href="http://bugs.mysql.com/22456" target="_top">Bug#22456</a>)</p></li><li><p>
        Driver was using milliseconds for Statement.setQueryTimeout()
        when specification says argument is to be in seconds.
       (<a href="http://bugs.mysql.com/22359" target="_top">Bug#22359</a>)</p></li><li><p>
        Workaround for server crash when calling stored procedures via a
        server-side prepared statement (driver now detects
        prepare(stored procedure) and substitutes client-side prepared
        statement).
       (<a href="http://bugs.mysql.com/22297" target="_top">Bug#22297</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Newlines causing whitespace to span confuse procedure parser
        when getting parameter metadata for stored procedures.
       (<a href="http://bugs.mysql.com/22024" target="_top">Bug#22024</a>)</p></li><li><p>
        When using information_schema for metadata, COLUMN_SIZE for
        getColumns() is not clamped to range of java.lang.Integer as is
        the case when not using information_schema, thus leading to a
        truncation exception that isn't present when not using
        information_schema.
       (<a href="http://bugs.mysql.com/21544" target="_top">Bug#21544</a>)</p></li><li><p>
        Column names don't match metadata in cases where server doesn't
        return original column names (column functions) thus breaking
        compatibility with applications that expect 1-1 mappings between
        findColumn() and rsmd.getColumnName(), usually manifests itself
        as "Can't find column ('')" exceptions.
       (<a href="http://bugs.mysql.com/21379" target="_top">Bug#21379</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        <code class="literal">setBoolean()</code> calls instead of '1' or '0'.
      </p></li><li><p>
        Fixed configuration property
        <code class="literal">jdbcCompliantTruncation</code> was not being used
        for reads of result set values.
      </p></li><li><p>
        DatabaseMetaData correctly reports <code class="literal">true</code> for
        <code class="literal">supportsCatalog*()</code> methods.
      </p></li><li><p>
        Driver now supports <code class="literal">{call sp}</code> (without
        "()" if procedure has no arguments).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-3"></a>E.6.2.6. Changes in  MySQL Connector/J 5.0.3 (26 July 2006)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added configuration option
        <code class="literal">noAccessToProcedureBodies</code> which will cause
        the driver to create basic parameter metadata for
        <code class="literal">CallableStatements</code> when the user does not
        have access to procedure bodies via <code class="literal">SHOW CREATE
        PROCEDURE</code> or selecting from
        <code class="literal">mysql.proc</code> instead of throwing an exception.
        The default value for this option is <code class="literal">false</code>
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">Statement.cancel()</code> causes
        <code class="literal">NullPointerException</code> if underlying connection
        has been closed due to server failure.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li><li><p>
        If the connection to the server has been closed due to a server
        failure, then the cleanup process will call <code class="literal">
        Statement.cancel()</code>, triggering a
        <code class="literal">NullPointerException</code>, even though there is no
        active connection.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-2"></a>E.6.2.7. Changes in  MySQL Connector/J 5.0.2 (11 July 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MysqlXaConnection.recover(int flags)</code> now
        allows combinations of
        <code class="literal">XAResource.TMSTARTRSCAN</code> and
        <code class="literal">TMENDRSCAN</code>. To simulate the
        “<span class="quote">scanning</span>” nature of the interface, we return all
        prepared XIDs for <code class="literal">TMSTARTRSCAN</code>, and no new
        XIDs for calls with <code class="literal">TMNOFLAGS</code>, or
        <code class="literal">TMENDRSCAN</code> when not in combination with
        <code class="literal">TMSTARTRSCAN</code>. This change was made for API
        compliance, as well as integration with IBM WebSphere's
        transaction manager.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">MysqlValidConnectionChecker</code> for JBoss
        doesn't work with <code class="literal">MySQLXADataSources</code>.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Added connection/datasource property
        <code class="literal">pinGlobalTxToPhysicalConnection</code> (defaults to
        <code class="literal">false</code>). When set to <code class="literal">true</code>,
        when using <code class="literal">XAConnections</code>, the driver ensures
        that operations on a given XID are always routed to the same
        physical connection. This allows the
        <code class="literal">XAConnection</code> to support <code class="literal">XA START ...
        JOIN</code> after <code class="literal">XA END</code> has been called,
        and is also a workaround for transaction managers that don't
        maintain thread affinity for a global transaction (most either
        always maintain thread affinity, or have it as a configuration
        option).
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Better caching of character set converters (per-connection) to
        remove a bottleneck for multibyte character sets.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> (and thus some
        subclasses) are not serializable, even though some J2EE
        containers expect them to be.
       (<a href="http://bugs.mysql.com/19169" target="_top">Bug#19169</a>)</p></li><li><p>
        Fixed driver fails on non-ASCII platforms. The driver was
        assuming that the platform character set would be a superset of
        MySQL's <code class="literal">latin1</code> when doing the handshake for
        authentication, and when reading error messages. We now use
        Cp1252 for all strings sent to the server during the handshake
        phase, and a hard-coded mapping of the
        <code class="literal">language</code> systtem variable to the character
        set that is used for error messages.
       (<a href="http://bugs.mysql.com/18086" target="_top">Bug#18086</a>)</p></li><li><p>
        Fixed can't use <code class="literal">XAConnection</code> for local
        transactions when no global transaction is in progress.
       (<a href="http://bugs.mysql.com/17401" target="_top">Bug#17401</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-1"></a>E.6.2.8. Changes in  MySQL Connector/J 5.0.1 (Not Released)</h4></div></div></div><p>
        Not released due to a packaging error
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-0"></a>E.6.2.9. Changes in  MySQL Connector/J 5.0.0 (22 December 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Connector/MXJ integration via url subprotocol
        <code class="literal">jdbc:mysql:mxj://...</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Idle timeouts cause <code class="literal">XAConnections</code> to whine
        about rolling themselves back.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        When fix for <a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a> was merged from 3.1.12, added
        functionality for <code class="literal">CallableStatement</code>'s
        parameter metadata to return correct information for
        <code class="literal">.getParameterClassName()</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Added service-provider entry to
        <code class="filename">META-INF/services/java.sql.Driver</code> for
        JDBC-4.0 support.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Fuller synchronization of <code class="literal">Connection</code> to avoid
        deadlocks when using multithreaded frameworks that multithread a
        single connection (usually not recommended, but the JDBC spec
        allows it anyways), part of fix to <a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Moved all <code class="literal">SQLException</code> constructor usage to a
        factory in <code class="literal">SQLError</code> (ground-work for JDBC-4.0
        <code class="literal">SQLState</code>-based exception classes).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Removed Java5-specific calls to <code class="literal">BigDecimal</code>
        constructor (when result set value is <code class="literal">''</code>,
        <code class="literal">(int)0</code> was being used as an argument
        indirectly via method return value. This signature doesn't exist
        prior to Java5.)
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Implementation of <code class="literal">Statement.cancel()</code> and
        <code class="literal">Statement.setQueryTimeout()</code>. Both require
        MySQL-5.0.0 or newer server, require a separate connection to
        issue the <code class="literal">KILL QUERY</code> statement, and in the
        case of <code class="literal">setQueryTimeout()</code> creates an
        additional thread to handle the timeout functionality.
      </p><p>
        Note: Failures to cancel the statement for
        <code class="literal">setQueryTimeout()</code> may manifest themselves as
        <code class="literal">RuntimeExceptions</code> rather than failing
        silently, as there is currently no way to unblock the thread
        that is executing the query being cancelled due to timeout
        expiration and have it throw the exception instead.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Return "[VAR]BINARY" for
        <code class="literal">RSMD.getColumnTypeName()</code> when that is
        actually the type, and it can be distinguished (MySQL-4.1 and
        newer).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Attempt detection of the MySQL type <code class="literal">BINARY</code>
        (it's an alias, so this isn't always reliable), and use the
        <code class="literal">java.sql.Types.BINARY</code> type mapping for it.
      </p></li><li><p>
        Added unit tests for <code class="literal">XADatasource</code>, as well as
        friendlier exceptions for XA failures compared to the
        "stock" <code class="literal">XAException</code> (which has no
        messages).
      </p></li><li><p>
        If the connection <code class="literal">useTimezone</code> is set to
        <code class="literal">true</code>, then also respect time zone conversions
        in escape-processed string literals (for example,
        <code class="literal">"{ts ...}"</code> and <code class="literal">"{t
        ...}"</code>).
      </p></li><li><p>
        Don't allow <code class="literal">.setAutoCommit(true)</code>, or
        <code class="literal">.commit()</code> or <code class="literal">.rollback()</code>
        on an XA-managed connection as per the JDBC specification.
      </p></li><li><p>
        <code class="literal">XADataSource</code> implemented (ported from 3.2
        branch which won't be released as a product). Use
        <code class="literal">com.mysql.jdbc.jdbc2.optional.MysqlXADataSource</code>
        as your datasource class name in your application server to
        utilize XA transactions in MySQL-5.0.10 and newer.
      </p></li><li><p>
        Moved <code class="filename">-bin-g.jar</code> file into separate
        <code class="filename">debug</code> subdirectory to avoid confusion.
      </p></li><li><p>
        Return original column name for
        <code class="literal">RSMD.getColumnName()</code> if the column was
        aliased, alias name for <code class="literal">.getColumnLabel()</code> (if
        aliased), and original table name for
        <code class="literal">.getTableName()</code>. Note this only works for
        MySQL-4.1 and newer, as older servers don't make this
        information available to clients.
      </p></li><li><p>
        Setting <code class="literal">useJDBCCompliantTimezoneShift=true</code>
        (it's not the default) causes the driver to use GMT for
        <span class="emphasis"><em>all</em></span>
        <code class="literal">TIMESTAMP</code>/<code class="literal">DATETIME</code> time
        zones, and the current VM time zone for any other type that
        refers to time zones. This feature can not be used when
        <code class="literal">useTimezone=true</code> to convert between server
        and client time zones.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setString()</code> didn't work
        correctly when <code class="literal">sql_mode</code> on server contained
        <code class="literal">NO_BACKSLASH_ESCAPES</code> and no characters that
        needed escaping were present in the string.
      </p></li><li><p>
        Add one level of indirection of internal representation of
        <code class="literal">CallableStatement</code> parameter metadata to avoid
        class not found issues on JDK-1.3 for
        <code class="literal">ParameterMetadata</code> interface (which doesn't
        exist prior to JDBC-3.0).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-1"></a>E.6.3. Changes in MySQL Connector/J 3.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-1-15">E.6.3.1. Changes in  MySQL Connector/J 3.1.15 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-14">E.6.3.2. Changes in  MySQL Connector/J 3.1.14 (10-19-2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-13">E.6.3.3. Changes in  MySQL Connector/J 3.1.13 (26 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-12">E.6.3.4. Changes in  MySQL Connector/J 3.1.12 (30 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-11">E.6.3.5. Changes in  MySQL Connector/J 3.1.11 (07 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-10">E.6.3.6. Changes in  MySQL Connector/J 3.1.10 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-9">E.6.3.7. Changes in  MySQL Connector/J 3.1.9 (22 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-8">E.6.3.8. Changes in  MySQL Connector/J 3.1.8 (14 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-7">E.6.3.9. Changes in  MySQL Connector/J 3.1.7 (18 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-6">E.6.3.10. Changes in  MySQL Connector/J 3.1.6 (23 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-5">E.6.3.11. Changes in  MySQL Connector/J 3.1.5 (02 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-4">E.6.3.12. Changes in  MySQL Connector/J 3.1.4 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-3">E.6.3.13. Changes in  MySQL Connector/J 3.1.3 (07 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-2">E.6.3.14. Changes in  MySQL Connector/J 3.1.2 (09 June 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-1">E.6.3.15. Changes in  MySQL Connector/J 3.1.1 (14 February 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-0">E.6.3.16. Changes in  MySQL Connector/J 3.1.0 (18 February 2003)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-15"></a>E.6.3.1. Changes in  MySQL Connector/J 3.1.15 (Not yet released)</h4></div></div></div><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-14"></a>E.6.3.2. Changes in  MySQL Connector/J 3.1.14 (10-19-2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Check and store value for continueBatchOnError property in
        constructor of Statements, rather than when executing batches,
        so that Connections closed out from underneath statements don't
        cause NullPointerExceptions when it's required to check this
        property.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/18258" target="_top">Bug#18258</a> - DatabaseMetaData.getTables(), columns() with
        bad catalog parameter threw exception rather than return empty
        result set (as required by spec).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        setBoolean() calls instead of '1' or '0'.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug where driver would not advance to next host if
        roundRobinLoadBalance=true and the last host in the list is
        down.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug when calling stored functions, where parameters
        weren't numbered correctly (first parameter is now the return
        value, subsequent parameters if specified start at index
        "2").
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Removed logger autodetection altogether, must now specify logger
        explicitly if you want to use a logger other than one that logs
        to STDERR.
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        DDriver throws NPE when tracing prepared statements that have
        been closed (in asSQL()).
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        ResultSet.getSomeInteger() doesn't work for BIT(&gt;1).
       (<a href="http://bugs.mysql.com/21062" target="_top">Bug#21062</a>)</p></li><li><p>
        Escape of quotes in client-side prepared statements parsing not
        respected. Patch covers more than bug report, including
        NO_BACKSLASH_ESCAPES being set, and stacked quote characters
        forms of escaping (that is, '' or "").
       (<a href="http://bugs.mysql.com/20888" target="_top">Bug#20888</a>)</p></li><li><p>
        Fixed can't pool server-side prepared statements, exception
        raised when re-using them.
       (<a href="http://bugs.mysql.com/20687" target="_top">Bug#20687</a>)</p></li><li><p>
        Fixed Updatable result set that contains a BIT column fails when
        server-side prepared statements are used.
       (<a href="http://bugs.mysql.com/20485" target="_top">Bug#20485</a>)</p></li><li><p>
        Fixed updatable result set throws ClassCastException when there
        is row data and moveToInsertRow() is called.
       (<a href="http://bugs.mysql.com/20479" target="_top">Bug#20479</a>)</p></li><li><p>
        Fixed ResultSet.getShort() for UNSIGNED TINYINT returns
        incorrect values when using server-side prepared statements.
       (<a href="http://bugs.mysql.com/20306" target="_top">Bug#20306</a>)</p></li><li><p>
        ReplicationDriver does not always round-robin load balance
        depending on URL used for slaves list.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Fixed calling toString() on ResultSetMetaData for
        driver-generated (that is, from DatabaseMetaData method calls,
        or from getGeneratedKeys()) result sets would raise a
        NullPointerException.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Connection fails to localhost when using timeout and IPv6 is
        configured.
       (<a href="http://bugs.mysql.com/19726" target="_top">Bug#19726</a>)</p></li><li><p>
        ResultSet.getFloatFromString() can't retrieve values near
        Float.MIN/MAX_VALUE.
       (<a href="http://bugs.mysql.com/18880" target="_top">Bug#18880</a>)</p></li><li><p>
        Fixed memory leak with profileSQL=true.
       (<a href="http://bugs.mysql.com/16987" target="_top">Bug#16987</a>)</p></li><li><p>
        Fixed NullPointerException in MysqlDataSourceFactory due to
        Reference containing RefAddrs with null content.
       (<a href="http://bugs.mysql.com/16791" target="_top">Bug#16791</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-13"></a>E.6.3.3. Changes in  MySQL Connector/J 3.1.13 (26 May 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Fixed PreparedStatement.setObject(int, Object,
        int)</code> doesn't respect scale of BigDecimals.
       (<a href="http://bugs.mysql.com/19615" target="_top">Bug#19615</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> returns incorrect
        value when extracting native string from server-side prepared
        statement generated result set.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed invalid classname returned for
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> for
        <code class="literal">BIGINT type</code>.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed case where driver wasn't reading server status correctly
        when fetching server-side prepared statement rows, which in some
        cases could cause warning counts to be off, or multiple result
        sets to not be read off the wire.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed data truncation and <code class="literal">getWarnings()</code> only
        returns last warning in set.
       (<a href="http://bugs.mysql.com/18740" target="_top">Bug#18740</a>)</p></li><li><p>
        Fixed aliased column names where length of name &gt; 251 are
        corrupted.
       (<a href="http://bugs.mysql.com/18554" target="_top">Bug#18554</a>)</p></li><li><p>
        Improved performance of retrieving
        <code class="literal">BigDecimal</code>, <code class="literal">Time</code>,
        <code class="literal">Timestamp</code> and <code class="literal">Date</code> values
        from server-side prepared statements by creating fewer
        short-lived instances of <code class="literal">Strings</code> when the
        native type is not an exact match for the requested type.
       (<a href="http://bugs.mysql.com/18496" target="_top">Bug#18496</a>)</p></li><li><p>
        Added performance feature, re-writing of batched executes for
        <code class="literal">Statement.executeBatch()</code> (for all DML
        statements) and
        <code class="literal">PreparedStatement.executeBatch()</code> (for INSERTs
        with VALUE clauses only). Enable by using
        "rewriteBatchedStatements=true" in your JDBC URL.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed issue where server-side prepared statements don't cause
        truncation exceptions to be thrown when truncation happens.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed
        <code class="literal">CallableStatement.registerOutParameter()</code> not
        working when some parameters pre-populated. Still waiting for
        feedback from JDBC experts group to determine what correct
        parameter count from <code class="literal">getMetaData()</code> should be,
        however.
       (<a href="http://bugs.mysql.com/17898" target="_top">Bug#17898</a>)</p></li><li><p>
        Fixed calling <code class="literal">clearParameters()</code> on a closed
        prepared statement causes NPE.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Map "latin1" on MySQL server to CP1252 for MySQL &gt;
        4.1.0.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Added additional accessor and mutator methods on
        ConnectionProperties so that DataSource users can use same
        naming as regular URL properties.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> not always reset
        correctly for booleans when done via conversion for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/17450" target="_top">Bug#17450</a>)</p></li><li><p>
        Fixed <code class="literal">Statement.getGeneratedKeys()</code> throws
        <code class="literal">NullPointerException</code> when no query has been
        processed.
       (<a href="http://bugs.mysql.com/17099" target="_top">Bug#17099</a>)</p></li><li><p>
        Fixed updatable result set doesn't return
        <code class="literal">AUTO_INCREMENT</code> values for
        <code class="literal">insertRow()</code> when multiple column primary keys
        are used. (the driver was checking for the existence of
        single-column primary keys and an autoincrement value &gt; 0
        instead of a straightforward
        <code class="literal">isAutoIncrement()</code> check).
       (<a href="http://bugs.mysql.com/16841" target="_top">Bug#16841</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns wrong type for
        <code class="literal">BIT</code>.
       (<a href="http://bugs.mysql.com/15854" target="_top">Bug#15854</a>)</p></li><li><p>
        <code class="filename">lib-nodist</code> directory missing from package
        breaks out-of-box build.
       (<a href="http://bugs.mysql.com/15676" target="_top">Bug#15676</a>)</p></li><li><p>
        Fixed issue with <code class="literal">ReplicationConnection</code>
        incorrectly copying state, doesn't transfer connection context
        correctly when transitioning between the same read-only states.
       (<a href="http://bugs.mysql.com/15570" target="_top">Bug#15570</a>)</p></li><li><p>
        No "dos" character set in MySQL &gt; 4.1.0.
       (<a href="http://bugs.mysql.com/15544" target="_top">Bug#15544</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameter does not store
        <code class="literal">IN</code> value.
       (<a href="http://bugs.mysql.com/15464" target="_top">Bug#15464</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject()</code> serializes
        <code class="literal">BigInteger</code> as object, rather than sending as
        numeric value (and is thus not complementary to
        <code class="literal">.getObject()</code> on an <code class="literal">UNSIGNED
        LONG</code> type).
       (<a href="http://bugs.mysql.com/15383" target="_top">Bug#15383</a>)</p></li><li><p>
        Fixed issue where driver was unable to initialize character set
        mapping tables. Removed reliance on
        <code class="literal">.properties</code> files to hold this information,
        as it turns out to be too problematic to code around class
        loader hierarchies that change depending on how an application
        is deployed. Moved information back into the
        <code class="literal">CharsetMapping</code> class.
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Exception thrown for new decimal type when using updatable
        result sets.
       (<a href="http://bugs.mysql.com/14609" target="_top">Bug#14609</a>)</p></li><li><p>
        Driver now aware of fix for <code class="literal">BIT</code> type metadata
        that went into MySQL-5.0.21 for server not reporting length
        consistently .
       (<a href="http://bugs.mysql.com/13601" target="_top">Bug#13601</a>)</p></li><li><p>
        Added support for Apache Commons logging, use
        "com.mysql.jdbc.log.CommonsLogger" as the value for
        the "logger" configuration property.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        Fixed driver trying to call methods that don't exist on older
        and newer versions of Log4j. The fix is not trying to
        auto-detect presence of log4j, too many different incompatible
        versions out there in the wild to do this reliably.
      </p><p>
        If you relied on autodetection before, you will need to add
        "logger=com.mysql.jdbc.log.Log4JLogger" to your JDBC
        URL to enable Log4J usage, or alternatively use the new
        "CommonsLogger" class to take care of this.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        LogFactory now prepends "com.mysql.jdbc.log" to log
        class name if it can't be found as-specified. This allows you to
        use "short names" for the built-in log factories, for
        example "logger=CommonsLogger" instead of
        "logger=com.mysql.jdbc.log.CommonsLogger".
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        <code class="literal">ResultSet.getShort()</code> for <code class="literal">UNSIGNED
        TINYINT</code> returned wrong values.
       (<a href="http://bugs.mysql.com/11874" target="_top">Bug#11874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-12"></a>E.6.3.4. Changes in  MySQL Connector/J 3.1.12 (30 November 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Process escape tokens in
        <code class="literal">Connection.prepareStatement(...)</code>. You can
        disable this behavior by setting the JDBC URL configuration
        property <code class="literal">processEscapeCodesForPrepStmts</code> to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/15141" target="_top">Bug#15141</a>)</p></li><li><p>
        Usage advisor complains about unreferenced columns, even though
        they've been referenced.
       (<a href="http://bugs.mysql.com/15065" target="_top">Bug#15065</a>)</p></li><li><p>
        Driver incorrectly closes streams passed as arguments to
        <code class="literal">PreparedStatements</code>. Reverts to legacy
        behavior by setting the JDBC configuration property
        <code class="literal">autoClosePStmtStreams</code> to
        <code class="literal">true</code> (also included in the 3-0-Compat
        configuration “<span class="quote">bundle</span>”).
       (<a href="http://bugs.mysql.com/15024" target="_top">Bug#15024</a>)</p></li><li><p>
        Deadlock while closing server-side prepared statements from
        multiple threads sharing one connection.
       (<a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>)</p></li><li><p>
        Unable to initialize character set mapping tables (due to J2EE
        classloader differences).
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Escape processor replaces quote character in quoted string with
        string delimiter.
       (<a href="http://bugs.mysql.com/14909" target="_top">Bug#14909</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't return
        <code class="literal">TABLE_NAME</code> correctly.
       (<a href="http://bugs.mysql.com/14815" target="_top">Bug#14815</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=0</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=1</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.stores*Identifiers()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If <code class="literal">lower_case_table_names=0</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li><li><p>
            If <code class="literal">lower_case_table_names=1</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Java type conversion may be incorrect for
        <code class="literal">MEDIUMINT</code>.
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Added configuration property
        <code class="literal">useGmtMillisForDatetimes</code> which when set to
        <code class="literal">true</code> causes
        <code class="literal">ResultSet.getDate()</code>,
        <code class="literal">.getTimestamp()</code> to return correct
        millis-since GMT when <code class="literal">.getTime()</code> is called on
        the return value (currently default is <code class="literal">false</code>
        for legacy behavior).
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Extraneous sleep on <code class="literal">autoReconnect</code>.
       (<a href="http://bugs.mysql.com/13775" target="_top">Bug#13775</a>)</p></li><li><p>
        Reconnect during middle of <code class="literal">executeBatch()</code>
        should not occur if <code class="literal">autoReconnect</code> is enabled.
       (<a href="http://bugs.mysql.com/13255" target="_top">Bug#13255</a>)</p></li><li><p>
        <code class="literal">maxQuerySizeToLog</code> is not respected. Added
        logging of bound values for <code class="literal">execute()</code> phase
        of server-side prepared statements when
        <code class="literal">profileSQL=true</code> as well.
       (<a href="http://bugs.mysql.com/13048" target="_top">Bug#13048</a>)</p></li><li><p>
        OpenOffice expects
        <code class="literal">DBMD.supportsIntegrityEnhancementFacility()</code>
        to return <code class="literal">true</code> if foreign keys are supported
        by the datasource, even though this method also covers support
        for check constraints, which MySQL <span class="emphasis"><em>doesn't</em></span>
        have. Setting the configuration property
        <code class="literal">overrideSupportsIntegrityEnhancementFacility</code>
        to <code class="literal">true</code> causes the driver to return
        <code class="literal">true</code> for this method.
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.testsuite.url.default</code>
        system property to set default JDBC url for testsuite (to speed
        up bug resolution when I'm working in Eclipse).
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        <code class="literal">logSlowQueries</code> should give better info.
       (<a href="http://bugs.mysql.com/12230" target="_top">Bug#12230</a>)</p></li><li><p>
        Don't increase timeout for failover/reconnect.
       (<a href="http://bugs.mysql.com/6577" target="_top">Bug#6577</a>)</p></li><li><p>
        Fixed client-side prepared statement bug with embedded
        <code class="literal">?</code> characters inside quoted identifiers (it
        was recognized as a placeholder, when it was not).
      </p></li><li><p>
        Don't allow <code class="literal">executeBatch()</code> for
        <code class="literal">CallableStatements</code> with registered
        <code class="literal">OUT</code>/<code class="literal">INOUT</code> parameters (JDBC
        compliance).
      </p></li><li><p>
        Fall back to platform-encoding for
        <code class="literal">URLDecoder.decode()</code> when parsing driver URL
        properties if the platform doesn't have a two-argument version
        of this method.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-11"></a>E.6.3.5. Changes in  MySQL Connector/J 3.1.11 (07 October 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The configuration property <code class="literal">sessionVariables</code>
        now allows you to specify variables that start with the
        “<span class="quote"><code class="literal">@</code></span>” sign.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        URL configuration parameters don't allow
        “<span class="quote"><code class="literal">&amp;</code></span>” or
        “<span class="quote"><code class="literal">=</code></span>” in their values. The JDBC
        driver now parses configuration parameters as if they are
        encoded using the application/x-www-form-urlencoded format as
        specified by <code class="literal">java.net.URLDecoder</code>
        (<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html" target="_top">http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html</a>).
      </p><p>
        If the “<span class="quote"><code class="literal">%</code></span>” character is present
        in a configuration property, it must now be represented as
        <code class="literal">%25</code>, which is the encoded form of
        “<span class="quote"><code class="literal">%</code></span>” when using
        application/x-www-form-urlencoded encoding.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        Workaround for <a href="http://bugs.mysql.com/13374" target="_top">Bug#13374</a>:
        <code class="literal">ResultSet.getStatement()</code> on closed result set
        returns <code class="literal">NULL</code> (as per JDBC 4.0 spec, but not
        backward-compatible). Set the connection property
        <code class="literal">retainStatementAfterResultSetClose</code> to
        <code class="literal">true</code> to be able to retrieve a
        <code class="literal">ResultSet</code>'s statement after the
        <code class="literal">ResultSet</code> has been closed via
        <code class="literal">.getStatement()</code> (the default is
        <code class="literal">false</code>, to be JDBC-compliant and to reduce the
        chance that code using JDBC leaks <code class="literal">Statement</code>
        instances).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData</code> from
        <code class="literal">Statement.getGeneratedKeys()</code> caused a
        <code class="literal">NullPointerException</code> to be thrown whenever a
        method that required a connection reference was called.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">VAR[BINARY|CHAR] [BINARY]</code> types
        detection from 5.0 branch.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> when converting
        <code class="literal">catalog</code> parameter in many
        <code class="literal">DatabaseMetaDataMethods</code> to
        <code class="literal">byte[]</code>s (for the result set) when the
        parameter is <code class="literal">null</code>. (<code class="literal">null</code>
        isn't technically allowed by the JDBC specification, but we've
        historically allowed it).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">Field</code> class,
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>, and
        <code class="literal">ResultSet.getObject(int)</code> changes from 5.0
        branch to fix behavior surrounding <code class="literal">VARCHAR
        BINARY</code>/<code class="literal">VARBINARY</code> and related types.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Read response in <code class="literal">MysqlIO.sendFileToServer()</code>,
        even if the local file can't be opened, otherwise next query
        issued will fail, because it's reading the response to the empty
        <code class="literal">LOAD DATA INFILE</code> packet sent to the server.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        When <code class="literal">gatherPerfMetrics</code> is enabled for servers
        older than 4.1.0, a <code class="literal">NullPointerException</code> is
        thrown from the constructor of <code class="literal">ResultSet</code> if
        the query doesn't use any tables.
       (<a href="http://bugs.mysql.com/13043" target="_top">Bug#13043</a>)</p></li><li><p>
        <code class="literal">java.sql.Types.OTHER</code> returned for
        <code class="literal">BINARY</code> and <code class="literal">VARBINARY</code>
        columns when using
        <code class="literal">DatabaseMetaData.getColumns()</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.getBinding()</code> now
        checks if the statement is closed before attempting to reference
        the list of parameter bindings, to avoid throwing a
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        Tokenizer for <code class="literal">=</code> in URL properties was causing
        <code class="literal">sessionVariables=....</code> to be parameterized
        incorrectly.
       (<a href="http://bugs.mysql.com/12753" target="_top">Bug#12753</a>)</p></li><li><p>
        <code class="literal">cp1251</code> incorrectly mapped to
        <code class="literal">win1251</code> for servers newer than 4.0.x.
       (<a href="http://bugs.mysql.com/12752" target="_top">Bug#12752</a>)</p></li><li><p>
        <code class="literal">getExportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying a catalog works as stated in the API docs.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">NULL</code> means that catalog will not
        be used to filter the results (thus all databases will be
        searched), unless you've set
        <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC URL
        properties.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getIndexInfo()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> (and thus indirectly
        <code class="literal">getProcedureColumns()</code>)
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getImportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">""</code> means
        “<span class="quote">current</span>” catalog, even though this isn't quite
        JDBC spec compliant, it's there for legacy users.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getCrossReference()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Added <code class="literal">Connection.isMasterConnection()</code> for
        clients to be able to determine if a multi-host master/slave
        connection is connected to the first host in the list.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getColumns()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Handling of catalog argument in
        <code class="literal">DatabaseMetaData.getIndexInfo()</code>, which also
        means changes to the following methods in
        <code class="literal">DatabaseMetaData</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">getBestRowIdentifier()</code>
          </p></li><li><p>
            <code class="literal">getColumns()</code>
          </p></li><li><p>
            <code class="literal">getCrossReference()</code>
          </p></li><li><p>
            <code class="literal">getExportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getImportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getIndexInfo()</code>
          </p></li><li><p>
            <code class="literal">getPrimaryKeys()</code>
          </p></li><li><p>
            <code class="literal">getProcedures()</code> (and thus indirectly
            <code class="literal">getProcedureColumns()</code>)
          </p></li><li><p>
            <code class="literal">getTables()</code>
          </p></li></ul></div><p>
        The <code class="literal">catalog</code> argument in all of these methods
        now behaves in the following way:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Specifying <code class="literal">NULL</code> means that catalog will
            not be used to filter the results (thus all databases will
            be searched), unless you've set
            <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC
            URL properties.
          </p></li><li><p>
            Specifying <code class="literal">""</code> means
            “<span class="quote">current</span>” catalog, even though this isn't quite
            JDBC spec compliant, it's there for legacy users.
          </p></li><li><p>
            Specifying a catalog works as stated in the API docs.
          </p></li><li><p>
            Made <code class="literal">Connection.clientPrepare()</code> available
            from “<span class="quote">wrapped</span>” connections in the
            <code class="literal">jdbc2.optional</code> package (connections built
            by <code class="literal">ConnectionPoolDataSource</code> instances).
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getBestRowIdentifier()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Made <code class="literal">Connection.clientPrepare()</code> available
        from “<span class="quote">wrapped</span>” connections in the
        <code class="literal">jdbc2.optional</code> package (connections built by
        <code class="literal">ConnectionPoolDataSource</code> instances).
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getTables()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getPrimaryKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">Connection.prepareCall()</code> is database name
        case-sensitive (on Windows systems).
       (<a href="http://bugs.mysql.com/12417" target="_top">Bug#12417</a>)</p></li><li><p>
        <code class="literal">explainSlowQueries</code> hangs with server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/12229" target="_top">Bug#12229</a>)</p></li><li><p>
        Properties shared between master and slave with replication
        connection.
       (<a href="http://bugs.mysql.com/12218" target="_top">Bug#12218</a>)</p></li><li><p>
        Geometry types not handled with server-side prepared statements.
       (<a href="http://bugs.mysql.com/12104" target="_top">Bug#12104</a>)</p></li><li><p>
        <code class="literal">maxPerformance.properties</code> mis-spells
        “<span class="quote">elideSetAutoCommits</span>”.
       (<a href="http://bugs.mysql.com/11976" target="_top">Bug#11976</a>)</p></li><li><p>
        <code class="literal">ReplicationConnection</code> won't switch to slave,
        throws “<span class="quote">Catalog can't be null</span>” exception.
       (<a href="http://bugs.mysql.com/11879" target="_top">Bug#11879</a>)</p></li><li><p>
        <code class="literal">Pstmt.setObject(...., Types.BOOLEAN)</code> throws
        exception.
       (<a href="http://bugs.mysql.com/11798" target="_top">Bug#11798</a>)</p></li><li><p>
        Escape tokenizer doesn't respect stacked single quotes for
        escapes.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        <code class="literal">GEOMETRY</code> type not recognized when using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        Foreign key information that is quoted is parsed incorrectly
        when <code class="literal">DatabaseMetaData</code> methods use that
        information.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        The <code class="literal">sendBlobChunkSize</code> property is now clamped
        to <code class="literal">max_allowed_packet</code> with consideration of
        stream buffer size and packet headers to avoid
        <code class="literal">PacketTooBigExceptions</code> when
        <code class="literal">max_allowed_packet</code> is similar in size to the
        default <code class="literal">sendBlobChunkSize</code> which is 1M.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        <code class="literal">CallableStatement.clearParameters()</code> now
        clears resources associated with
        <code class="literal">INOUT</code>/<code class="literal">OUTPUT</code> parameters as
        well as <code class="literal">INPUT</code> parameters.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        Fixed regression caused by fix for <a href="http://bugs.mysql.com/11552" target="_top">Bug#11552</a> that caused driver
        to return incorrect values for unsigned integers when those
        integers where within the range of the positive signed type.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Moved source code to Subversion repository.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Incorrect generation of testcase scripts for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Fixed statements generated for testcases missing
        <code class="literal">;</code> for “<span class="quote">plain</span>” statements.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        Spurious <code class="literal">!</code> on console when character encoding
        is <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        <code class="literal">StringUtils.getBytes()</code> doesn't work when
        using multi-byte character encodings and a length in
        <span class="emphasis"><em>characters</em></span> is specified.
       (<a href="http://bugs.mysql.com/11614" target="_top">Bug#11614</a>)</p></li><li><p>
        <code class="literal">DBMD.storesLower/Mixed/UpperIdentifiers()</code>
        reports incorrect values for servers deployed on Windows.
       (<a href="http://bugs.mysql.com/11575" target="_top">Bug#11575</a>)</p></li><li><p>
        Reworked <code class="literal">Field</code> class,
        <code class="literal">*Buffer</code>, and <code class="literal">MysqlIO</code> to be
        aware of field lengths &gt;
        <code class="literal">Integer.MAX_VALUE</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Escape processor didn't honor strings demarcated with double
        quotes.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Updated <code class="literal">DBMD.supportsCorrelatedQueries()</code> to
        return <code class="literal">true</code> for versions &gt; 4.1,
        <code class="literal">supportsGroupByUnrelated()</code> to return
        <code class="literal">true</code> and
        <code class="literal">getResultSetHoldability()</code> to return
        <code class="literal">HOLD_CURSORS_OVER_COMMIT</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Lifted restriction of changing streaming parameters with
        server-side prepared statements. As long as
        <code class="literal">all</code> streaming parameters were set before
        execution, <code class="literal">.clearParameters()</code> does not have
        to be called. (due to limitation of client/server protocol,
        prepared statements can not reset
        <span class="emphasis"><em>individual</em></span> stream data on the server side).
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        <code class="literal">ResultSet.moveToCurrentRow()</code> fails to work
        when preceded by a call to
        <code class="literal">ResultSet.moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/11190" target="_top">Bug#11190</a>)</p></li><li><p>
        <code class="literal">VARBINARY</code> data corrupted when using
        server-side prepared statements and
        <code class="literal">.setBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">Statement.getWarnings()</code> fails with NPE if
        statement has been closed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li><li><p>
        Only get <code class="literal">char[]</code> from SQL in
        <code class="literal">PreparedStatement.ParseInfo()</code> when needed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-10"></a>E.6.3.6. Changes in  MySQL Connector/J 3.1.10 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Initial implemention of <code class="literal">ParameterMetadata</code> for
        <code class="literal">PreparedStatement.getParameterMetadata()</code>.
        Only works fully for <code class="literal">CallableStatements</code>, as
        current server-side prepared statements return every parameter
        as a <code class="literal">VARCHAR</code> type.
      </p></li><li><p>
        Fixed connecting without a database specified raised an
        exception in <code class="literal">MysqlIO.changeDatabaseTo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-9"></a>E.6.3.7. Changes in  MySQL Connector/J 3.1.9 (22 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Production package doesn't include JBoss integration classes.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Removed nonsensical “<span class="quote">costly type conversion</span>”
        warnings when using usage advisor.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Fixed <code class="literal">PreparedStatement.setClob()</code> not
        accepting <code class="literal">null</code> as a parameter.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        Connector/J dumping query into <code class="literal">SQLException</code>
        twice.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        <code class="literal">autoReconnect</code> ping causes exception on
        connection startup.
       (<a href="http://bugs.mysql.com/11259" target="_top">Bug#11259</a>)</p></li><li><p>
        <code class="literal">Connection.setCatalog()</code> is now aware of the
        <code class="literal">useLocalSessionState</code> configuration property,
        which when set to <code class="literal">true</code> will prevent the
        driver from sending <code class="literal">USE ...</code> to the server if
        the requested catalog is the same as the current catalog.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">3-0-Compat</code> — Compatibility with
        Connector/J 3.0.x functionality
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">maxPerformance</code> — maximum performance
        without being reckless
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">solarisMaxPerformance</code> — maximum
        performance for Solaris, avoids syscalls where it can
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added <code class="literal">maintainTimeStats</code> configuration
        property (defaults to <code class="literal">true</code>), which tells the
        driver whether or not to keep track of the last query time and
        the last successful packet sent to the server's time. If set to
        <code class="literal">false</code>, removes two syscalls per query.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">VARBINARY</code> data corrupted when using
        server-side prepared statements and
        <code class="literal">ResultSet.getBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added the following configuration bundles, use one or many via
        the <code class="literal">useConfigs</code> configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">maxPerformance</code> — maximum
            performance without being reckless
          </p></li><li><p>
            <code class="literal">solarisMaxPerformance</code> — maximum
            performance for Solaris, avoids syscalls where it can
          </p></li><li><p>
            <code class="literal">3-0-Compat</code> — Compatibility with
            Connector/J 3.0.x functionality
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Try to handle <code class="literal">OutOfMemoryErrors</code> more
        gracefully. Although not much can be done, they will in most
        cases close the connection they happened on so that further
        operations don't run into a connection in some unknown state.
        When an OOM has happened, any further operations on the
        connection will fail with a “<span class="quote">Connection closed</span>”
        exception that will also list the OOM exception as the reason
        for the implicit connection close event.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Setting <code class="literal">cachePrepStmts=true</code> now causes the
        <code class="literal">Connection</code> to also cache the check the driver
        performs to determine if a prepared statement can be server-side
        or not, as well as caches server-side prepared statements for
        the lifetime of a connection. As before, the
        <code class="literal">prepStmtCacheSize</code> parameter controls the size
        of these caches.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Don't send <code class="literal">COM_RESET_STMT</code> for each execution
        of a server-side prepared statement if it isn't required.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        0-length streams not sent to server when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Driver detects if you're running MySQL-5.0.7 or later, and does
        not scan for <code class="literal">LIMIT ?[,?]</code> in statements being
        prepared, as the server supports those types of queries now.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Reorganized directory layout. Sources now are in
        <code class="filename">src</code> folder. Don't pollute parent directory
        when building, now output goes to <code class="filename">./build</code>,
        distribution goes to <code class="filename">./dist</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        Added support/bug hunting feature that generates
        <code class="filename">.sql</code> test scripts to
        <code class="literal">STDERR</code> when
        <code class="literal">autoGenerateTestcaseScript</code> is set to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        <code class="literal">SQLException</code> is thrown when using property
        <code class="literal">characterSetResults</code> with
        <code class="literal">cp932</code> or <code class="literal">eucjpms</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        The datatype returned for <code class="literal">TINYINT(1)</code> columns
        when <code class="literal">tinyInt1isBit=true</code> (the default) can be
        switched between <code class="literal">Types.BOOLEAN</code> and
        <code class="literal">Types.BIT</code> using the new configuration
        property <code class="literal">transformedBitIsBoolean</code>, which
        defaults to <code class="literal">false</code>. If set to
        <code class="literal">false</code> (the default),
        <code class="literal">DatabaseMetaData.getColumns()</code> and
        <code class="literal">ResultSetMetaData.getColumnType()</code> will return
        <code class="literal">Types.BOOLEAN</code> for
        <code class="literal">TINYINT(1)</code> columns. If
        <code class="literal">true</code>, <code class="literal">Types.BOOLEAN</code> will
        be returned instead. Regardless of this configuration property,
        if <code class="literal">tinyInt1isBit</code> is enabled, columns with the
        type <code class="literal">TINYINT(1)</code> will be returned as
        <code class="literal">java.lang.Boolean</code> instances from
        <code class="literal">ResultSet.getObject(...)</code>, and
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> will
        return <code class="literal">java.lang.Boolean</code>.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        <code class="literal">SQLException</code> thrown when retrieving
        <code class="literal">YEAR(2)</code> with
        <code class="literal">ResultSet.getString()</code>. The driver will now
        always treat <code class="literal">YEAR</code> types as
        <code class="literal">java.sql.Dates</code> and return the correct values
        for <code class="literal">getString()</code>. Alternatively, the
        <code class="literal">yearIsDateType</code> connection property can be set
        to <code class="literal">false</code> and the values will be treated as
        <code class="literal">SHORT</code>s.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        Driver doesn't support <code class="literal">{?=CALL(...)}</code> for
        calling stored functions. This involved adding support for
        function retrieval to
        <code class="literal">DatabaseMetaData.getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code> as well.
       (<a href="http://bugs.mysql.com/10310" target="_top">Bug#10310</a>)</p></li><li><p>
        Unsigned <code class="literal">SMALLINT</code> treated as signed for
        <code class="literal">ResultSet.getInt()</code>, fixed all cases for
        <code class="literal">UNSIGNED</code> integer values and server-side
        prepared statements, as well as
        <code class="literal">ResultSet.getObject()</code> for <code class="literal">UNSIGNED
        TINYINT</code>.
       (<a href="http://bugs.mysql.com/10156" target="_top">Bug#10156</a>)</p></li><li><p>
        Made <code class="literal">ServerPreparedStatement.asSql()</code> work
        correctly so auto-explain functionality would work with
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Double quotes not recognized when parsing client-side prepared
        statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made JDBC2-compliant wrappers public in order to allow access to
        vendor extensions.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsMultipleOpenResults()</code>
        now returns <code class="literal">true</code>. The driver has supported
        this for some time, DBMD just missed that fact.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Cleaned up logging of profiler events, moved code to dump a
        profiler event as a string to
        <code class="literal">com.mysql.jdbc.log.LogUtils</code> so that third
        parties can use it.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made <code class="literal">enableStreamingResults()</code> visible on
        <code class="literal">com.mysql.jdbc.jdbc2.optional.StatementWrapper</code>.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Actually write manifest file to correct place so it ends up in
        the binary jar file.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Added <code class="literal">createDatabaseIfNotExist</code> property
        (default is <code class="literal">false</code>), which will cause the
        driver to ask the server to create the database specified in the
        URL if it doesn't exist. You must have the appropriate
        privileges for database creation for this to work.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Memory leak in <code class="literal">ServerPreparedStatement</code> if
        <code class="literal">serverPrepare()</code> fails.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        <code class="literal">com.mysql.jdbc.PreparedStatement.ParseInfo</code>
        does unnecessary call to <code class="literal">toCharArray()</code>.
       (<a href="http://bugs.mysql.com/9064" target="_top">Bug#9064</a>)</p></li><li><p>
        Driver now correctly uses CP932 if available on the server for
        Windows-31J, CP932 and MS932 java encoding names, otherwise it
        resorts to SJIS, which is only a close approximation. Currently
        only MySQL-5.0.3 and newer (and MySQL-4.1.12 or .13, depending
        on when the character set gets backported) can reliably support
        any variant of CP932.
      </p></li><li><p>
        Overhaul of character set configuration, everything now lives in
        a properties file.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-8"></a>E.6.3.8. Changes in  MySQL Connector/J 3.1.8 (14 April 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Should accept <code class="literal">null</code> for catalog (meaning use
        current) in DBMD methods, even though it's not JDBC-compliant
        for legacy's sake. Disable by setting connection property
        <code class="literal">nullCatalogMeansCurrent</code> to
        <code class="literal">false</code> (which will be the default value in C/J
        3.2.x).
       (<a href="http://bugs.mysql.com/9917" target="_top">Bug#9917</a>)</p></li><li><p>
        Fixed driver not returning <code class="literal">true</code> for
        <code class="literal">-1</code> when
        <code class="literal">ResultSet.getBoolean()</code> was called on result
        sets returned from server-side prepared statements.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Added a <code class="filename">Manifest.MF</code> file with
        implementation information to the <code class="filename">.jar</code>
        file.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        More tests in <code class="literal">Field.isOpaqueBinary()</code> to
        distinguish opaque binary (that is, fields with type
        <code class="literal">CHAR(n)</code> and <code class="literal">CHARACTER SET
        BINARY</code>) from output of various scalar and aggregate
        functions that return strings.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        <code class="literal">DBMD.getTables()</code> shouldn't return tables if
        views are asked for, even if the database version doesn't
        support views.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Should accept <code class="literal">null</code> for name patterns in DBMD
        (meaning “<span class="quote"><code class="literal">%</code></span>”), even though it
        isn't JDBC compliant, for legacy's sake. Disable by setting
        connection property <code class="literal">nullNamePatternMatchesAll</code>
        to <code class="literal">false</code> (which will be the default value in
        C/J 3.2.x).
       (<a href="http://bugs.mysql.com/9769" target="_top">Bug#9769</a>)</p></li><li><p>
        Then fallback to our <code class="literal">STDERR</code> logging.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        The performance metrics feature now gathers information about
        number of tables referenced in a SELECT.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        The logging system is now automatically configured. If the value
        has been set by the user, via the URL property
        <code class="literal">logger</code> or the system property
        <code class="literal">com.mysql.jdbc.logger</code>, then use that,
        otherwise, autodetect it using the following steps:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Log4j, if it's available,
          </p></li><li><p>
            Then JDK1.4 logging,
          </p></li><li><p>
            Then fallback to our <code class="literal">STDERR</code> logging.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        Then JDK1.4 logging,
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        Log4j, if it's available,
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        <code class="literal">Statement.getMoreResults()</code> could throw NPE
        when existing result set was <code class="literal">.close()</code>d.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        Stored procedures with <code class="literal">DECIMAL</code> parameters
        with storage specifications that contained
        “<span class="quote"><code class="literal">,</code></span>” in them would fail.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject(int, Object, int type, int
        scale)</code> now uses scale value for
        <code class="literal">BigDecimal</code> instances.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        Added support for the c3p0 connection pool's
        (<a href="http://c3p0.sf.net/" target="_top">http://c3p0.sf.net/</a>) validation/connection
        checker interface which uses the lightweight
        <code class="literal">COM_PING</code> call to the server if available. To
        use it, configure your c3p0 connection pool's
        <code class="literal">connectionTesterClassName</code> property to use
        <code class="literal">com.mysql.jdbc.integration.c3p0.MysqlConnectionTester</code>.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getMetaData()</code> inserts blank
        row in database under certain conditions when not using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Better detection of <code class="literal">LIMIT</code> inside/outside of
        quoted strings so that the driver can more correctly determine
        whether a prepared statement can be prepared on the server or
        not.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">Connection.canHandleAsPreparedStatement()</code> now
        makes “<span class="quote">best effort</span>” to distinguish
        <code class="literal">LIMIT</code> clauses with placeholders in them from
        ones without in order to have fewer false positives when
        generating work-arounds for statements the server cannot
        currently handle as server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Fixed <code class="filename">build.xml</code> to not compile
        <code class="literal">log4j</code> logging if <code class="literal">log4j</code> not
        available.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Added finalizers to <code class="literal">ResultSet</code> and
        <code class="literal">Statement</code> implementations to be JDBC
        spec-compliant, which requires that if not explicitly closed,
        these resources should be closed upon garbage collection.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        Stored procedures with same name in different databases confuse
        the driver when it tries to determine parameter counts/types.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        A continuation of <a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>, where functions used in queries
        that should return non-string types when resolved by temporary
        tables suddenly become opaque binary strings (work-around for
        server limitation). Also fixed fields with type of
        <code class="literal">CHAR(n) CHARACTER SET BINARY</code> to return
        correct/matching classes for
        <code class="literal">RSMD.getColumnClassName()</code> and
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/9236" target="_top">Bug#9236</a>)</p></li><li><p>
        Cannot use <code class="literal">UTF-8</code> for characterSetResults
        configuration property.
       (<a href="http://bugs.mysql.com/9206" target="_top">Bug#9206</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.addBatch()</code> doesn't work
        with server-side prepared statements and streaming
        <code class="literal">BINARY</code> data.
       (<a href="http://bugs.mysql.com/9040" target="_top">Bug#9040</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> now correctly
        “<span class="quote">stream</span>”
        <code class="literal">BLOB</code>/<code class="literal">CLOB</code> data to the
        server. You can configure the threshold chunk size using the
        JDBC URL property <code class="literal">blobSendChunkSize</code> (the
        default is 1MB).
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> queries returned
        as <code class="literal">BLOB</code>s from <code class="literal">getObject()</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Server-side session variables can be preset at connection time
        by passing them as a comma-delimited list for the connection
        property <code class="literal">sessionVariables</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <code class="literal">BlobFromLocator</code> now uses correct identifier
        quoting when generating prepared statements.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Fixed regression in <code class="literal">ping()</code> for users using
        <code class="literal">autoReconnect=true</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Check for empty strings (<code class="literal">''</code>) when converting
        <code class="literal">CHAR</code>/<code class="literal">VARCHAR</code> column data
        to numbers, throw exception if
        <code class="literal">emptyStringsConvertToZero</code> configuration
        property is set to <code class="literal">false</code> (for
        backward-compatibility with 3.0, it is now set to
        <code class="literal">true</code> by default, but will most likely default
        to <code class="literal">false</code> in 3.2).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DATA_TYPE</code> column from
        <code class="literal">DBMD.getBestRowIdentifier()</code> causes
        <code class="literal">ArrayIndexOutOfBoundsException</code> when accessed
        (and in fact, didn't return any value).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsMixedCase*Identifiers()</code> returns
        wrong value on servers running on case-sensitive filesystems.
       (<a href="http://bugs.mysql.com/8800" target="_top">Bug#8800</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsResultSetConcurrency()</code> not
        returning <code class="literal">true</code> for forward-only/read-only
        result sets (we obviously support this).
       (<a href="http://bugs.mysql.com/8792" target="_top">Bug#8792</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.getTime()</code> on a
        <code class="literal">NULL</code> value for server-side prepared
        statements throws NPE.
      </p></li><li><p>
        Made <code class="literal">Connection.ping()</code> a public method.
      </p></li><li><p>
        Added support for new precision-math <code class="literal">DECIMAL</code>
        type in MySQL 5.0.3 and up.
      </p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTables()</code> returning
        views when they were not asked for as one of the requested table
        types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-7"></a>E.6.3.9. Changes in  MySQL Connector/J 3.1.7 (18 February 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">PreparedStatements</code> not creating streaming
        result sets.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Don't pass <code class="literal">NULL</code> to
        <code class="literal">String.valueOf()</code> in
        <code class="literal">ResultSet.getNativeConvertToString()</code>, as it
        stringifies it (that is, returns <code class="literal">null</code>), which
        is not correct for the method in question.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Fixed NPE in <code class="literal">ResultSet.realClose()</code> when using
        usage advisor and result set was already closed.
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        <code class="literal">ResultSet.getString()</code> doesn't maintain format
        stored on server, bug fix only enabled when
        <code class="literal">noDatetimeStringSync</code> property is set to
        <code class="literal">true</code> (the default is
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        Added support for <code class="literal">BIT</code> type in MySQL-5.0.3.
        The driver will treat <code class="literal">BIT(1-8)</code> as the JDBC
        standard <code class="literal">BIT</code> type (which maps to
        <code class="literal">java.lang.Boolean</code>), as the server does not
        currently send enough information to determine the size of a
        bitfield when &lt; 9 bits are declared.
        <code class="literal">BIT(&gt;9)</code> will be treated as
        <code class="literal">VARBINARY</code>, and will return
        <code class="literal">byte[]</code> when <code class="literal">getObject()</code> is
        called.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">useLocalSessionState</code> configuration
        property, when set to <code class="literal">true</code> the JDBC driver
        trusts that the application is well-behaved and only sets
        autocommit and transaction isolation levels using the methods
        provided on <code class="literal">java.sql.Connection</code>, and
        therefore can manipulate these values in many cases without
        incurring round-trips to the database server.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">enableStreamingResults()</code> to
        <code class="literal">Statement</code> for connection pool implementations
        that check <code class="literal">Statement.setFetchSize()</code> for
        specification-compliant values. Call
        <code class="literal">Statement.setFetchSize(&gt;=0)</code> to disable the
        streaming results for that statement.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        <code class="literal">ResultSet.getBigDecimal()</code> throws exception
        when rounding would need to occur to set scale. The driver now
        chooses a rounding mode of “<span class="quote">half up</span>” if
        non-rounding <code class="literal">BigDecimal.setScale()</code> fails.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Fixed synchronization issue with
        <code class="literal">ServerPreparedStatement.serverPrepare()</code> that
        could cause deadlocks/crashes if connection was shared between
        threads.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Emulated locators corrupt binary data when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Infinite recursion when “<span class="quote">falling back</span>” to master in
        failover configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Disable multi-statements (if enabled) for MySQL-4.1 versions
        prior to version 4.1.10 if the query cache is enabled, as the
        server returns wrong results in this configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Removed <code class="literal">dontUnpackBinaryResults</code>
        functionality, the driver now always stores results from
        server-side prepared statements as is from the server and
        unpacks them on demand.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Added <code class="literal">holdResultsOpenOverStatementClose</code>
        property (default is <code class="literal">false</code>), that keeps
        result sets open over statement.close() or new execution on same
        statement (suggested by Kevin Burton).
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Detect new <code class="literal">sql_mode</code> variable in string form
        (it used to be integer) and adjust quoting method for strings
        appropriately.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamps converted incorrectly to strings with server-side
        prepared statements and updatable result sets.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Choose correct “<span class="quote">direction</span>” to apply time
        adjustments when both client and server are in GMT time zone
        when using <code class="literal">ResultSet.get(..., cal)</code> and
        <code class="literal">PreparedStatement.set(...., cal)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Remove <code class="literal">_binary</code> introducer from parameters
        used as in/out parameters in
        <code class="literal">CallableStatement</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Always return <code class="literal">byte[]</code>s for output parameters
        registered as <code class="literal">*BINARY</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        By default, the driver now scans SQL you are preparing via all
        variants of <code class="literal">Connection.prepareStatement()</code> to
        determine if it is a supported type of statement to prepare on
        the server side, and if it is not supported by the server, it
        instead prepares it as a client-side emulated prepared
        statement. You can disable this by passing
        <code class="literal">emulateUnsupportedPstmts=false</code> in your JDBC
        URL.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Added <code class="literal">dontTrackOpenResources</code> option (default
        is <code class="literal">false</code>, to be JDBC compliant), which helps
        with memory use for non-well-behaved apps (that is, applications
        that don't close <code class="literal">Statement</code> objects when they
        should).
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Send correct value for “<span class="quote">boolean</span>”
        <code class="literal">true</code> to server for
        <code class="literal">PreparedStatement.setObject(n, "true",
        Types.BIT)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Fixed bug with Connection not caching statements from
        <code class="literal">prepareStatement()</code> when the statement wasn't
        a server-side prepared statement.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-6"></a>E.6.3.10. Changes in  MySQL Connector/J 3.1.6 (23 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">DBMD.getProcedures()</code> doesn't respect catalog
        parameter.
       (<a href="http://bugs.mysql.com/7026" target="_top">Bug#7026</a>)</p></li><li><p>
        Fixed hang on <code class="literal">SocketInputStream.read()</code> with
        <code class="literal">Statement.setMaxRows()</code> and multiple result
        sets when driver has to truncate result set directly, rather
        than tacking a <code class="literal">LIMIT
        <em class="replaceable"><code>n</code></em></code> on the end of it.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-5"></a>E.6.3.11. Changes in  MySQL Connector/J 3.1.5 (02 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use 1MB packet for sending file for <code class="literal">LOAD DATA LOCAL
        INFILE</code> if that is &lt;
        <code class="literal">max_allowed_packet</code> on server.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        <code class="literal">SUM()</code> on <code class="literal">DECIMAL</code> with
        server-side prepared statement ignores scale if zero-padding is
        needed (this ends up being due to conversion to
        <code class="literal">DOUBLE</code> by server, which when converted to a
        string to parse into <code class="literal">BigDecimal</code>, loses all
        “<span class="quote">padding</span>” zeros).
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use
        <code class="literal">DatabaseMetaData.getIdentifierQuoteString()</code>
        when building DBMD queries.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use our own implementation of buffered input streams to get
        around blocking behavior of
        <code class="literal">java.io.BufferedInputStream</code>. Disable this
        with <code class="literal">useReadAheadInput=false</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Make auto-deserialization of
        <code class="literal">java.lang.Objects</code> stored in
        <code class="literal">BLOB</code> columns configurable via
        <code class="literal">autoDeserialize</code> property (defaults to
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnDisplaySize()</code>
        returns incorrect values for multi-byte charsets.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Re-work <code class="literal">Field.isOpaqueBinary()</code> to detect
        <code class="literal">CHAR(<em class="replaceable"><code>n</code></em>) CHARACTER SET
        BINARY</code> to support fixed-length binary fields for
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Failing to connect to the server when one of the addresses for
        the given host name is IPV6 (which the server does not yet bind
        on). The driver now loops through <span class="emphasis"><em>all</em></span> IP
        addresses for a given host, and stops on the first one that
        <code class="literal">accepts()</code> a
        <code class="literal">socket.connect()</code>.
       (<a href="http://bugs.mysql.com/6348" target="_top">Bug#6348</a>)</p></li><li><p>
        Removed unwanted new <code class="literal">Throwable()</code> in
        <code class="literal">ResultSet</code> constructor due to bad merge
        (caused a new object instance that was never used for every
        result set created). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">ServerSidePreparedStatement</code> allocating
        short-lived objects unnecessarily.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Use null-safe-equals for key comparisons in updatable result
        sets.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Fixed too-early creation of <code class="literal">StringBuffer</code> in
        <code class="literal">EscapeProcessor.escapeSQL()</code>, also return
        <code class="literal">String</code> when escaping not needed (to avoid
        unnecessary object allocations). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">UNSIGNED BIGINT</code> unpacked incorrectly from
        server-side prepared statement result sets.
       (<a href="http://bugs.mysql.com/5729" target="_top">Bug#5729</a>)</p></li><li><p>
        Added experimental configuration property
        <code class="literal">dontUnpackBinaryResults</code>, which delays
        unpacking binary result set values until they're asked for, and
        only creates object instances for non-numerical values (it is
        set to <code class="literal">false</code> by default). For some
        usecase/jvm combinations, this is friendlier on the garbage
        collector.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Don't throw exceptions for
        <code class="literal">Connection.releaseSavepoint()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Inefficient detection of pre-existing string instances in
        <code class="literal">ResultSet.getNativeString()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Use a per-session <code class="literal">Calendar</code> instance by
        default when decoding dates from
        <code class="literal">ServerPreparedStatements</code> (set to old, less
        performant behavior by setting property
        <code class="literal">dynamicCalendars=true</code>).
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Fixed batched updates with server prepared statements weren't
        looking if the types had changed for a given batched set of
        parameters compared to the previous set, causing the server to
        return the error “<span class="quote">Wrong arguments to
        mysql_stmt_execute()</span>”.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Handle case when string representation of timestamp contains
        trailing “<span class="quote"><code class="literal">.</code></span>” with no numbers
        following it.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Server-side prepared statements did not honor
        <code class="literal">zeroDateTimeBehavior</code> property, and would
        cause class-cast exceptions when using
        <code class="literal">ResultSet.getObject()</code>, as the all-zero string
        was always returned.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Fix comparisons made between string constants and dynamic
        strings that are converted with either
        <code class="literal">toUpperCase()</code> or
        <code class="literal">toLowerCase()</code> to use
        <code class="literal">Locale.ENGLISH</code>, as some locales
        “<span class="quote">override</span>” case rules for English. Also use
        <code class="literal">StringUtils.indexOfIgnoreCase()</code> instead of
        <code class="literal">.toUpperCase().indexOf()</code>, avoids creating a
        very short-lived transient <code class="literal">String</code> instance.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-4"></a>E.6.3.12. Changes in  MySQL Connector/J 3.1.4 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ServerPreparedStatement</code> to read
        prepared statement metadata off the wire, even though it's
        currently a placeholder instead of using
        <code class="literal">MysqlIO.clearInputStream()</code> which didn't work
        at various times because data wasn't available to read from the
        server yet. This fixes sporadic errors users were having with
        <code class="literal">ServerPreparedStatements</code> throwing
        <code class="literal">ArrayIndexOutOfBoundExceptions</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Added three ways to deal with all-zero datetimes when reading
        them from a <code class="literal">ResultSet</code>:
        <code class="literal">exception</code> (the default), which throws an
        <code class="literal">SQLException</code> with an SQLState of
        <code class="literal">S1009</code>; <code class="literal">convertToNull</code>,
        which returns <code class="literal">NULL</code> instead of the date; and
        <code class="literal">round</code>, which rounds the date to the nearest
        closest value which is <code class="literal">'0001-01-01'</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        The driver is more strict about truncation of numerics on
        <code class="literal">ResultSet.get*()</code>, and will throw an
        <code class="literal">SQLException</code> when truncation is detected. You
        can disable this by setting
        <code class="literal">jdbcCompliantTruncation</code> to
        <code class="literal">false</code> (it is enabled by default, as this
        functionality is required for JDBC compliance).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        You can now use URLs in <code class="literal">LOAD DATA LOCAL
        INFILE</code> statements, and the driver will use Java's
        built-in handlers for retreiving the data and sending it to the
        server. This feature is not enabled by default, you must set the
        <code class="literal">allowUrlInLocalInfile</code> connection property to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> doesn't return type
        <code class="literal">Boolean</code> for pseudo-bit types from prepared
        statements on 4.1.x (shortcut for avoiding extra type conversion
        when using binary-encoded result sets obscured test in
        <code class="literal">getObject()</code> for “<span class="quote">pseudo</span>” bit
        type).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Use <code class="literal">com.mysql.jdbc.Message</code>'s classloader when
        loading resource bundle, should fix sporadic issues when the
        caller's classloader can't locate the resource bundle.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> dealing with return
        of <code class="literal">DECIMAL</code> type don't work.
       (<a href="http://bugs.mysql.com/5012" target="_top">Bug#5012</a>)</p></li><li><p>
        Track packet sequence numbers if
        <code class="literal">enablePacketDebug=true</code>, and throw an
        exception if packets received out-of-order.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        <code class="literal">ResultSet.wasNull()</code> does not work for
        primatives if a previous <code class="literal">null</code> was returned.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        Optimized integer number parsing, enable “<span class="quote">old</span>”
        slower integer parsing using JDK classes via
        <code class="literal">useFastIntParsing=false</code> property.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Added <code class="literal">useOnlyServerErrorMessages</code> property,
        which causes message text in exceptions generated by the server
        to only contain the text sent by the server (as opposed to the
        SQLState's “<span class="quote">standard</span>” description, followed by the
        server's error message). This property is set to
        <code class="literal">true</code> by default.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.execute*()</code> sometimes
        threw <code class="literal">ArrayIndexOutOfBoundsException</code> when
        unpacking field metadata.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Connector/J 3.1.3 beta does not handle integers correctly
        (caused by changes to support unsigned reads in
        <code class="literal">Buffer.readInt()</code> -&gt;
        <code class="literal">Buffer.readShort()</code>).
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        Added support in <code class="literal">DatabaseMetaData.getTables()</code>
        and <code class="literal">getTableTypes()</code> for views, which are now
        available in MySQL server 5.0.x.
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> returns wrong type for
        strings when using prepared statements.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li><li><p>
        Calling <code class="literal">MysqlPooledConnection.close()</code> twice
        (even though an application error), caused NPE. Fixed.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-3"></a>E.6.3.13. Changes in  MySQL Connector/J 3.1.3 (07 July 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support new time zone variables in MySQL-4.1.3 when
        <code class="literal">useTimezone=true</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Error in retrieval of <code class="literal">mediumint</code> column with
        prepared statements and binary protocol.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Support for unsigned numerics as return types from prepared
        statements. This also causes a change in
        <code class="literal">ResultSet.getObject()</code> for the <code class="literal">bigint
        unsigned</code> type, which used to return
        <code class="literal">BigDecimal</code> instances, it now returns
        instances of <code class="literal">java.lang.BigInteger</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Externalized more messages (on-going effort).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Null bitmask sent for server-side prepared statements was
        incorrect.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added constants for MySQL error numbers (publicly accessible,
        see <code class="literal">com.mysql.jdbc.MysqlErrorNumbers</code>), and
        the ability to generate the mappings of vendor error codes to
        SQLStates that the driver uses (for documentation purposes).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added packet debuging code (see the
        <code class="literal">enablePacketDebug</code> property documentation).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Use SQL Standard SQL states by default, unless
        <code class="literal">useSqlStateCodes</code> property is set to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Mangle output parameter names for
        <code class="literal">CallableStatements</code> so they will not clash
        with user variable names.
      </p></li><li><p>
        Added support for <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-2"></a>E.6.3.14. Changes in  MySQL Connector/J 3.1.2 (09 June 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't enable server-side prepared statements for server version
        5.0.0 or 5.0.1, as they aren't compatible with the '4.1.2+'
        style that the driver uses (the driver expects information to
        come back that isn't there, so it hangs).
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getWarnings()</code> returns
        <code class="literal">SQLWarning</code> instead of
        <code class="literal">DataTruncation</code>.
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getProcedureColumns()</code> doesn't work with
        wildcards for procedure name.
       (<a href="http://bugs.mysql.com/3540" target="_top">Bug#3540</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> does not return any
        procedures in result set.
       (<a href="http://bugs.mysql.com/3539" target="_top">Bug#3539</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getProcedures()</code> when
        run on MySQL-5.0.0 (output of <code class="literal">SHOW PROCEDURE
        STATUS</code> changed between 5.0.0 and 5.0.1.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Added <code class="literal">connectionCollation</code> property to cause
        driver to issue <code class="literal">set collation_connection=...</code>
        query on connection init if default collation for given charset
        is not appropriate.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Correctly map output parameters to position given in
        <code class="literal">prepareCall()</code> versus. order implied during
        <code class="literal">registerOutParameter()</code>.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Cleaned up detection of server properties.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Correctly detect initial character set for servers &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Support placeholder for parameter metadata for server &gt;=
        4.1.2.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Added <code class="literal">gatherPerformanceMetrics</code> property,
        along with properties to control when/where this info gets
        logged (see docs for more info).
      </p></li><li><p>
        Fixed case when no parameters could cause a
        <code class="literal">NullPointerException</code> in
        <code class="literal">CallableStatement.setOutputParameters()</code>.
      </p></li><li><p>
        Enabled callable statement caching via
        <code class="literal">cacheCallableStmts</code> property.
      </p></li><li><p>
        Fixed sending of split packets for large queries, enabled nio
        ability to send large packets as well.
      </p></li><li><p>
        Added <code class="literal">.toString()</code> functionality to
        <code class="literal">ServerPreparedStatement</code>, which should help if
        you're trying to debug a query that is a prepared statement (it
        shows SQL as the server would process).
      </p></li><li><p>
        Added <code class="literal">logSlowQueries</code> property, along with
        <code class="literal">slowQueriesThresholdMillis</code> property to
        control when a query should be considered “<span class="quote">slow.</span>”
      </p></li><li><p>
        Removed wrapping of exceptions in
        <code class="literal">MysqlIO.changeUser()</code>.
      </p></li><li><p>
        Fixed stored procedure parameter parsing info when size was
        specified for a parameter (for example,
        <code class="literal">char()</code>, <code class="literal">varchar()</code>).
      </p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> weren't actually
        de-allocating server-side resources when
        <code class="literal">.close()</code> was called.
      </p></li><li><p>
        Fixed case when no output parameters specified for a stored
        procedure caused a bogus query to be issued to retrieve out
        parameters, leading to a syntax error from the server.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-1"></a>E.6.3.15. Changes in  MySQL Connector/J 3.1.1 (14 February 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use DocBook version of docs for shipped versions of drivers.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        <code class="literal">NULL</code> fields were not being encoded correctly
        in all cases in server-side prepared statements.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed rare buffer underflow when writing numbers into buffers
        for sending prepared statement execution requests.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> that weren't
        properly exposed via accessors, cleaned up
        <code class="literal">ConnectionProperties</code> code.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Class-cast exception when using scrolling result sets and
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Merged unbuffered input code from 3.0.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Enabled streaming of result sets from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Server-side prepared statements were not returning datatype
        <code class="literal">YEAR</code> correctly.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Fixed charset conversion issue in
        <code class="literal">getTables()</code>.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented multiple result sets returned from a statement or
        stored procedure.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented <code class="literal">Connection.prepareCall()</code>, and
        <code class="literal">DatabaseMetaData</code>.
        <code class="literal">getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Merged prepared statement caching, and
        <code class="literal">.getMetaData()</code> support from 3.0 branch.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Fixed off-by-1900 error in some cases for years in
        <code class="literal">TimeUtil.fastDate</code>/<code class="literal">TimeCreate()</code>
        when unpacking results from server-side prepared statements.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Reset <code class="literal">long binary</code> parameters in
        <code class="literal">ServerPreparedStatement</code> when
        <code class="literal">clearParameters()</code> is called, by sending
        <code class="literal">COM_RESET_STMT</code> to the server.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        <code class="literal">NULL</code> values for numeric types in binary
        encoded result sets causing
        <code class="literal">NullPointerExceptions</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Display where/why a connection was implicitly closed (to aid
        debugging).
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> is not
        returning correct column ordinal info for
        non-<code class="literal">'%'</code> column name patterns.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>, as
        well as year and month descrepencies in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>,
        <code class="literal">setDate()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added ability to have multiple database/JVM targets for
        compliance and regression/unit tests in
        <code class="filename">build.xml</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed sending of queries larger than 16M.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Merged fix of datatype mapping from MySQL type
        <code class="literal">FLOAT</code> to
        <code class="literal">java.sql.Types.REAL</code> from 3.0 branch.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed NPE and year/month bad conversions when accessing some
        datetime functionality in
        <code class="literal">ServerPreparedStatements</code> and their resultant
        result sets.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added named and indexed input/output parameter support to
        <code class="literal">CallableStatement</code>. MySQL-5.0.x or newer.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">CommunicationsException</code> implemented, that
        tries to determine why communications was lost with a server,
        and displays possible reasons when
        <code class="literal">.getMessage()</code> is called.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Detect collation of column for
        <code class="literal">RSMD.isCaseSensitive()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Optimized <code class="literal">Buffer.readLenByteArray()</code> to return
        shared empty byte array when length is 0.
      </p></li><li><p>
        Fix support for table aliases when checking for all primary keys
        in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Unpack “<span class="quote">unknown</span>” data types from server prepared
        statements as <code class="literal">Strings</code>.
      </p></li><li><p>
        Implemented <code class="literal">Statement.getWarnings()</code> for
        MySQL-4.1 and newer (using <code class="literal">SHOW WARNINGS</code>).
      </p></li><li><p>
        Ensure that warnings are cleared before executing queries on
        prepared statements, as-per JDBC spec (now that we support
        warnings).
      </p></li><li><p>
        Correctly initialize datasource properties from JNDI Refs,
        including explicitly specified URLs.
      </p></li><li><p>
        Implemented long data (Blobs, Clobs, InputStreams, Readers) for
        server prepared statements.
      </p></li><li><p>
        Deal with 0-length tokens in <code class="literal">EscapeProcessor</code>
        (caused by callable statement escape syntax).
      </p></li><li><p>
        <code class="literal">DatabaseMetaData</code> now reports
        <code class="literal">supportsStoredProcedures()</code> for MySQL versions
        &gt;= 5.0.0
      </p></li><li><p>
        Support for
        <a href="apis.html#mysql-change-user" title="23.2.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>. See the
        <code class="literal">changeUser()</code> method in
        <code class="literal">com.mysql.jdbc.Connection</code>.
      </p></li><li><p>
        Removed <code class="literal">useFastDates</code> connection property.
      </p></li><li><p>
        Support for NIO. Use <code class="literal">useNIO=true</code> on platforms
        that support NIO.
      </p></li><li><p>
        Check for closed connection on delete/update/insert row
        operations in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Support for transaction savepoints (MySQL &gt;= 4.0.14 or
        4.1.1).
      </p></li><li><p>
        Support “<span class="quote">old</span>” <code class="literal">profileSql</code>
        capitalization in <code class="literal">ConnectionProperties</code>. This
        property is deprecated, you should use
        <code class="literal">profileSQL</code> if possible.
      </p></li><li><p>
        Fixed character encoding issues when converting bytes to ASCII
        when MySQL doesn't provide the character set, and the JVM is set
        to a multi-byte encoding (usually affecting retrieval of numeric
        values).
      </p></li><li><p>
        Centralized setting of result set type and concurrency.
      </p></li><li><p>
        Fixed bug with <code class="literal">UpdatableResultSets</code> not using
        client-side prepared statements.
      </p></li><li><p>
        Default result set type changed to
        <code class="literal">TYPE_FORWARD_ONLY</code> (JDBC compliance).
      </p></li><li><p>
        Fixed <code class="literal">IllegalAccessError</code> to
        <code class="literal">Calendar.getTimeInMillis()</code> in
        <code class="literal">DateTimeValue</code> (for JDK &lt; 1.4).
      </p></li><li><p>
        Allow contents of <code class="literal">PreparedStatement.setBlob()</code>
        to be retained between calls to <code class="literal">.execute*()</code>.
      </p></li><li><p>
        Fixed stack overflow in
        <code class="literal">Connection.prepareCall()</code> (bad merge).
      </p></li><li><p>
        Refactored how connection properties are set and exposed as
        <code class="literal">DriverPropertyInfo</code> as well as
        <code class="literal">Connection</code> and <code class="literal">DataSource</code>
        properties.
      </p></li><li><p>
        Reduced number of methods called in average query to be more
        efficient.
      </p></li><li><p>
        Prepared <code class="literal">Statements</code> will be re-prepared on
        auto-reconnect. Any errors encountered are postponed until first
        attempt to re-execute the re-prepared statement.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-0"></a>E.6.3.16. Changes in  MySQL Connector/J 3.1.0 (18 February 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">useServerPrepStmts</code> property (default
        <code class="literal">false</code>). The driver will use server-side
        prepared statements when the server version supports them (4.1
        and newer) when this property is set to <code class="literal">true</code>.
        It is currently set to <code class="literal">false</code> by default until
        all bind/fetch functionality has been implemented. Currently
        only DML prepared statements are implemented for 4.1 server-side
        prepared statements.
      </p></li><li><p>
        Added <code class="literal">requireSSL</code> property.
      </p></li><li><p>
        Track open <code class="literal">Statements</code>, close all when
        <code class="literal">Connection.close()</code> is called (JDBC
        compliance).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-0"></a>E.6.4. Changes in MySQL Connector/J 3.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-0-17">E.6.4.1. Changes in  MySQL Connector/J 3.0.17 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-16">E.6.4.2. Changes in  MySQL Connector/J 3.0.16 (15 November 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-15">E.6.4.3. Changes in  MySQL Connector/J 3.0.15 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-14">E.6.4.4. Changes in  MySQL Connector/J 3.0.14 (28 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-13">E.6.4.5. Changes in  MySQL Connector/J 3.0.13 (27 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-12">E.6.4.6. Changes in  MySQL Connector/J 3.0.12 (18 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-11">E.6.4.7. Changes in  MySQL Connector/J 3.0.11 (19 February 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-10">E.6.4.8. Changes in  MySQL Connector/J 3.0.10 (13 January 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-9">E.6.4.9. Changes in  MySQL Connector/J 3.0.9 (07 October 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-8">E.6.4.10. Changes in  MySQL Connector/J 3.0.8 (23 May 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-7">E.6.4.11. Changes in  MySQL Connector/J 3.0.7 (08 April 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-6">E.6.4.12. Changes in  MySQL Connector/J 3.0.6 (18 February 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-5">E.6.4.13. Changes in  MySQL Connector/J 3.0.5 (22 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-4">E.6.4.14. Changes in  MySQL Connector/J 3.0.4 (06 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-3">E.6.4.15. Changes in  MySQL Connector/J 3.0.3 (17 December 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-2">E.6.4.16. Changes in  MySQL Connector/J 3.0.2 (08 November 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-1">E.6.4.17. Changes in  MySQL Connector/J 3.0.1 (21 September 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-0">E.6.4.18. Changes in  MySQL Connector/J 3.0.0 (31 July 2002)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-17"></a>E.6.4.1. Changes in  MySQL Connector/J 3.0.17 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Workaround for server <a href="http://bugs.mysql.com/9098" target="_top">Bug#9098</a>: Default values of
        <code class="literal">CURRENT_*</code> for <code class="literal">DATE</code>,
        <code class="literal">TIME</code>, <code class="literal">DATETIME</code>, and
        <code class="literal">TIMESTAMP</code> columns can't be distinguished from
        <code class="literal">string</code> values, so
        <code class="literal">UpdatableResultSet.moveToInsertRow()</code>
        generates bad SQL for inserting default values.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">NON_UNIQUE</code> column from
        <code class="literal">DBMD.getIndexInfo()</code> returned inverted value.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">EUCKR</code> charset is sent as <code class="literal">SET NAMES
        euc_kr</code> which MySQL-4.1 and newer doesn't understand.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Added support for the <code class="literal">EUC_JP_Solaris</code>
        character encoding, which maps to a MySQL encoding of
        <code class="literal">eucjpms</code> (backported from 3.1 branch). This
        only works on servers that support <code class="literal">eucjpms</code>,
        namely 5.0.3 or later.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Use hex escapes for
        <code class="literal">PreparedStatement.setBytes()</code> for double-byte
        charsets including “<span class="quote">aliases</span>”
        <code class="literal">Windows-31J</code>, <code class="literal">CP934</code>,
        <code class="literal">MS932</code>.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsSelectForUpdate()</code>
        returns correct value based on server version.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Which requires hex escaping of binary data when using multi-byte
        charsets with prepared statements.
       (<a href="http://bugs.mysql.com/8064" target="_top">Bug#8064</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Backported SQLState codes mapping from Connector/J 3.1, enable
        with <code class="literal">useSqlStateCodes=true</code> as a connection
        property, it defaults to <code class="literal">false</code> in this
        release, so that we don't break legacy applications (it defaults
        to <code class="literal">true</code> starting with Connector/J 3.1).
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        <code class="literal">MS932</code>, <code class="literal">SHIFT_JIS</code>, and
        <code class="literal">Windows_31J</code> not recognized as aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        Handle streaming result sets with more than 2 billion rows
        properly by fixing wraparound of row number counter.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Escape sequence {fn convert(..., type)} now supports ODBC-style
        types that are prepended by <code class="literal">SQL_</code>.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Statements created from a pooled connection were returning
        physical connection instead of logical connection when
        <code class="literal">getConnection()</code> was called.
       (<a href="http://bugs.mysql.com/7316" target="_top">Bug#7316</a>)</p></li><li><p>
        Support new protocol type <code class="literal">MYSQL_TYPE_VARCHAR</code>.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        Added <code class="literal">useOldUTF8Behavior</code>' configuration
        property, which causes JDBC driver to act like it did with
        MySQL-4.0.x and earlier when the character encoding is
        <code class="literal">utf-8</code> when connected to MySQL-4.1 or newer.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getIndexInfo()</code> ignored
        <code class="literal">unique</code> parameter.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7061" target="_top">Bug#7061</a>)</p></li><li><p>
        <code class="literal">PreparedStatements</code> don't encode Big5 (and
        other multi-byte) character sets correctly in static SQL
        strings.
       (<a href="http://bugs.mysql.com/7033" target="_top">Bug#7033</a>)</p></li><li><p>
        Connections starting up failed-over (due to down master) never
        retry master.
       (<a href="http://bugs.mysql.com/6966" target="_top">Bug#6966</a>)</p></li><li><p>
        Adding <code class="literal">CP943</code> to aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/6549" target="_top">Bug#6549</a>, <a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        <code class="literal">Timestamp</code>/<code class="literal">Time</code> conversion
        goes in the wrong “<span class="quote">direction</span>” when
        <code class="literal">useTimeZone=true</code> and server time zone differs
        from client time zone.
       (<a href="http://bugs.mysql.com/5874" target="_top">Bug#5874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-16"></a>E.6.4.2. Changes in  MySQL Connector/J 3.0.16 (15 November 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Made <code class="literal">TINYINT(1)</code> -&gt;
        <code class="literal">BIT</code>/<code class="literal">Boolean</code> conversion
        configurable via <code class="literal">tinyInt1isBit</code> property
        (default <code class="literal">true</code> to be JDBC compliant out of the
        box).
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Off-by-one bug in
        <code class="literal">Buffer.readString(<em class="replaceable"><code>string</code></em>)</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.updateByte()</code> when on insert row
        throws <code class="literal">ArrayOutOfBoundsException</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed regression where <code class="literal">useUnbufferedInput</code> was
        defaulting to <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> on a column with
        <code class="literal">TIME</code> in it fails.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTypes()</code> returning
        incorrect (this is, non-negative) scale for the
        <code class="literal">NUMERIC</code> type.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Only set <code class="literal">character_set_results</code> during
        connection establishment if server version &gt;= 4.1.1.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isReadOnly()</code> to
        detect non-writable columns when connected to MySQL-4.1 or
        newer, based on existence of “<span class="quote">original</span>” table and
        column names.
      </p></li><li><p>
        Re-issue character set configuration commands when re-using
        pooled connections and/or
        <code class="literal">Connection.changeUser()</code> when connected to
        MySQL-4.1 or newer.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-15"></a>E.6.4.3. Changes in  MySQL Connector/J 3.0.15 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getMetaData()</code> should not return
        incorrectly initialized metadata if the result set has been
        closed, but should instead throw an
        <code class="literal">SQLException</code>. Also fixed for
        <code class="literal">getRow()</code> and <code class="literal">getWarnings()</code>
        and traversal methods by calling
        <code class="literal">checkClosed()</code> before operating on
        instance-level fields that are nullified during
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Use <code class="literal">_binary</code> introducer for
        <code class="literal">PreparedStatement.setBytes()</code> and
        <code class="literal">set*Stream()</code> when connected to MySQL-4.1.x or
        newer to avoid misinterpretation during character conversion.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Parse new time zone variables from 4.1.x servers.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> should release
        <code class="literal">Field[]</code> instance in
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5022" target="_top">Bug#5022</a>)</p></li><li><p>
        <code class="literal">RSMD.getPrecision()</code> returning 0 for
        non-numeric types (should return max length in chars for
        non-binary types, max length in bytes for binary types). This
        fix also fixes mapping of
        <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">RSMD.getColumnTypeName()</code> for the
        <code class="literal">BLOB</code> types based on the length sent from the
        server (the server doesn't distinguish between
        <code class="literal">TINYBLOB</code>, <code class="literal">BLOB</code>,
        <code class="literal">MEDIUMBLOB</code> or <code class="literal">LONGBLOB</code> at
        the network protocol level).
       (<a href="http://bugs.mysql.com/4880" target="_top">Bug#4880</a>)</p></li><li><p>
        “<span class="quote">Production</span>” is now “<span class="quote">GA</span>” (General
        Availability) in naming scheme of distributions.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns incorrect JDBC type
        for unsigned columns. This affects type mappings for all numeric
        types in the <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">RSMD.getColumnTypeNames()</code> methods as well, to
        ensure that “<span class="quote">like</span>” types from
        <code class="literal">DBMD.getColumns()</code> match up with what
        <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">getColumnTypeNames()</code> return.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        Calling <code class="literal">.close()</code> twice on a
        <code class="literal">PooledConnection</code> causes NPE.
       (<a href="http://bugs.mysql.com/4808" target="_top">Bug#4808</a>)</p></li><li><p>
        <code class="literal">DOUBLE</code> mapped twice in
        <code class="literal">DBMD.getTypeInfo()</code>.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Added FLOSS license exemption.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Removed redundant calls to <code class="literal">checkRowPos()</code> in
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Failover for <code class="literal">autoReconnect</code> not using port
        numbers for any hosts, and not retrying all hosts.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          This required a change to the <code class="literal">SocketFactory</code>
          <code class="literal">connect()</code> method signature, which is now
          <code class="literal">public Socket connect(String host, int portNumber,
          Properties props)</code>; therefore, any third-party socket
          factories will have to be changed to support this signature.
        </p></div><p>(<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Logical connections created by
        <code class="literal">MysqlConnectionPoolDataSource</code> will now issue
        a <code class="literal">rollback()</code> when they are closed and sent
        back to the pool. If your application server/connection pool
        already does this for you, you can set the
        <code class="literal">rollbackOnPooledClose</code> property to
        <code class="literal">false</code> to avoid the overhead of an extra
        <code class="literal">rollback()</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeEasternUnicodeByteStream</code>
        was still broken for GBK.
       (<a href="http://bugs.mysql.com/4010" target="_top">Bug#4010</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-14"></a>E.6.4.4. Changes in  MySQL Connector/J 3.0.14 (28 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed URL parsing error.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-13"></a>E.6.4.5. Changes in  MySQL Connector/J 3.0.13 (27 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">No Database Selected</code> when using
        <code class="literal">MysqlConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/3920" target="_top">Bug#3920</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getGeneratedKeys()</code> method
        returns only 1 result for batched insertions.
       (<a href="http://bugs.mysql.com/3873" target="_top">Bug#3873</a>)</p></li><li><p>
        Using a <code class="literal">MySQLDatasource</code> without server name
        fails.
       (<a href="http://bugs.mysql.com/3848" target="_top">Bug#3848</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-12"></a>E.6.4.6. Changes in  MySQL Connector/J 3.0.12 (18 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inconsistent reporting of data type. The server still doesn't
        return all types for *BLOBs *TEXT correctly, so the driver won't
        return those correctly.
       (<a href="http://bugs.mysql.com/3570" target="_top">Bug#3570</a>)</p></li><li><p>
        <code class="literal">UpdatableResultSet</code> not picking up default
        values for <code class="literal">moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/3557" target="_top">Bug#3557</a>)</p></li><li><p>
        Not specifying database in URL caused
        <code class="literal">MalformedURL</code> exception.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Auto-convert MySQL encoding names to Java encoding names if used
        for <code class="literal">characterEncoding</code> property.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Use <code class="literal">junit.textui.TestRunner</code> for all unit
        tests (to allow them to be run from the command line outside of
        Ant or Eclipse).
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Added encoding names that are recognized on some JVMs to fix
        case where they were reverse-mapped to MySQL encoding names
        incorrectly.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Made <code class="literal">StringRegressionTest</code> 4.1-unicode aware.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Fixed regression in
        <code class="literal">PreparedStatement.setString()</code> and eastern
        character encodings.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Renamed <code class="literal">StringUtils.escapeSJISByteStream()</code> to
        more appropriate
        <code class="literal">escapeEasternUnicodeByteStream()</code>.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeSJISByteStream()</code> not
        covering all eastern double-byte charsets correctly.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        Return creating statement for <code class="literal">ResultSets</code>
        created by <code class="literal">getGeneratedKeys()</code>.
       (<a href="http://bugs.mysql.com/2957" target="_top">Bug#2957</a>)</p></li><li><p>
        Use <code class="literal">SET character_set_results</code> during
        initialization to allow any charset to be returned to the driver
        for result sets.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Don't truncate <code class="literal">BLOB</code> or
        <code class="literal">CLOB</code> values when using
        <code class="literal">setBytes()</code> and/or
        <code class="literal">setBinary/CharacterStream()</code>. .
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Dynamically configure character set mappings for field-level
        character sets on MySQL-4.1.0 and newer using <code class="literal">SHOW
        COLLATION</code> when connecting.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Map <code class="literal">binary</code> character set to
        <code class="literal">US-ASCII</code> to support
        <code class="literal">DATETIME</code> charset recognition for servers
        &gt;= 4.1.2.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Use <code class="literal">charsetnr</code> returned during connect to
        encode queries before issuing <code class="literal">SET NAMES</code> on
        MySQL &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Add helper methods to <code class="literal">ResultSetMetaData</code>
        (<code class="literal">getColumnCharacterEncoding()</code> and
        <code class="literal">getColumnCharacterSet()</code>) to allow end-users
        to see what charset the driver thinks it should be using for the
        column.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Only set <code class="literal">character_set_results</code> for MySQL
        &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Allow <code class="literal">url</code> parameter for
        <code class="literal">MysqlDataSource</code> and
        <code class="literal">MysqlConnectionPool</code>
        <code class="literal">DataSource</code> so that passing of other
        properties is possible from inside appservers.
      </p></li><li><p>
        Don't escape SJIS/GBK/BIG5 when using MySQL-4.1 or newer.
      </p></li><li><p>
        Backport documentation tooling from 3.1 branch.
      </p></li><li><p>
        Added <code class="literal">failOverReadOnly</code> property, to allow
        end-user to configure state of connection (read-only/writable)
        when failed over.
      </p></li><li><p>
        Allow <code class="literal">java.util.Date</code> to be sent in as
        parameter to <code class="literal">PreparedStatement.setObject()</code>,
        converting it to a <code class="literal">Timestamp</code> to maintain full
        precision. .
       (<a href="http://bugs.mysql.com/103" target="_top">Bug#103</a>)</p></li><li><p>
        Add unsigned attribute to
        <code class="literal">DatabaseMetaData.getColumns()</code> output in the
        <code class="literal">TYPE_NAME</code> column.
      </p></li><li><p>
        Map duplicate key and foreign key errors to SQLState of
        <code class="literal">23000</code>.
      </p></li><li><p>
        Backported “<span class="quote">change user</span>” and “<span class="quote">reset server
        state</span>” functionality from 3.1 branch, to allow clients of
        <code class="literal">MysqlConnectionPoolDataSource</code> to reset server
        state on <code class="literal">getConnection()</code> on a pooled
        connection.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-11"></a>E.6.4.7. Changes in  MySQL Connector/J 3.0.11 (19 February 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Return <code class="literal">java.lang.Double</code> for
        <code class="literal">FLOAT</code> type from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">[B</code> instead of
        <code class="literal">java.lang.Object</code> for
        <code class="literal">BINARY</code>, <code class="literal">VARBINARY</code> and
        <code class="literal">LONGVARBINARY</code> types from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> (JDBC
        compliance).
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Issue connection events on all instances created from a
        <code class="literal">ConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">java.lang.Integer</code> for
        <code class="literal">TINYINT</code> and <code class="literal">SMALLINT</code> types
        from <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2852" target="_top">Bug#2852</a>)</p></li><li><p>
        Added <code class="literal">useUnbufferedInput</code> parameter, and now
        use it by default (due to JVM issue
        <a href="http://developer.java.sun.com/developer/bugParade/bugs/4401235.html" target="_top">http://developer.java.sun.com/developer/bugParade/bugs/4401235.html</a>)
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Fixed failover always going to last host in list.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Detect <code class="literal">on</code>/<code class="literal">off</code> or
        <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>
        form of <code class="literal">lower_case_table_names</code> value on
        server.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        <code class="literal">AutoReconnect</code> time was growing faster than
        exponentially.
       (<a href="http://bugs.mysql.com/2447" target="_top">Bug#2447</a>)</p></li><li><p>
        Trigger a <code class="literal">SET NAMES utf8</code> when encoding is
        forced to <code class="literal">utf8</code> <span class="emphasis"><em>or</em></span>
        <code class="literal">utf-8</code> via the
        <code class="literal">characterEncoding</code> property. Previously, only
        the Java-style encoding name of <code class="literal">utf-8</code> would
        trigger this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-10"></a>E.6.4.8. Changes in  MySQL Connector/J 3.0.10 (13 January 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Enable caching of the parsing stage of prepared statements via
        the <code class="literal">cachePrepStmts</code>,
        <code class="literal">prepStmtCacheSize</code>, and
        <code class="literal">prepStmtCacheSqlLimit</code> properties (disabled by
        default).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed security exception when used in Applets (applets can't
        read the system property <code class="literal">file.encoding</code> which
        is needed for <code class="literal">LOAD DATA LOCAL INFILE</code>).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Speed up parsing of <code class="literal">PreparedStatements</code>, try
        to use one-pass whenever possible.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed exception <code class="literal">Unknown character set
        'danish'</code> on connect with JDK-1.4.0
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed mappings in SQLError to report deadlocks with SQLStates of
        <code class="literal">41000</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from instance factory
        method of <code class="literal">SingleByteCharsetConverter</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from
        <code class="literal">PreparedStatement.setTimestamp()</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ResultSet.findColumn()</code> should use first
        matching column name when there are duplicate column names in
        <code class="literal">SELECT</code> query (JDBC-compliance).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">maxRows</code> property would affect internal
        statements, so check it for all statement creation internal to
        the driver, and set to 0 when it is not.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Use constants for SQLStates.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Map charset <code class="literal">ko18_ru</code> to
        <code class="literal">ko18r</code> when connected to MySQL-4.1.0 or newer.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Ensure that <code class="literal">Buffer.writeString()</code> saves room
        for the <code class="literal">\0</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ArrayIndexOutOfBounds</code> when parameter number
        == number of parameters + 1.
       (<a href="http://bugs.mysql.com/1958" target="_top">Bug#1958</a>)</p></li><li><p>
        Connection property <code class="literal">maxRows</code> not honored.
       (<a href="http://bugs.mysql.com/1933" target="_top">Bug#1933</a>)</p></li><li><p>
        Statements being created too many times in
        <code class="literal">DBMD.extractForeignKeyFromCreateTable()</code>.
       (<a href="http://bugs.mysql.com/1925" target="_top">Bug#1925</a>)</p></li><li><p>
        Support escape sequence {fn convert ... }.
       (<a href="http://bugs.mysql.com/1914" target="_top">Bug#1914</a>)</p></li><li><p>
        Implement <code class="literal">ResultSet.updateClob()</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Autoreconnect code didn't set catalog upon reconnect if it had
        been changed.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> on
        <code class="literal">TINYINT</code> and <code class="literal">SMALLINT</code>
        columns should return Java type <code class="literal">Integer</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added more descriptive error message <code class="literal">Server
        Configuration Denies Access to DataSource</code>, as well as
        retrieval of message from server.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.isCaseSensitive()</code> returned
        wrong value for
        <code class="literal">CHAR</code>/<code class="literal">VARCHAR</code> columns.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added <code class="literal">alwaysClearStream</code> connection property,
        which causes the driver to always empty any remaining data on
        the input stream before each query.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSystemFunction()</code>
        returning bad function <code class="literal">VResultsSion</code>.
       (<a href="http://bugs.mysql.com/1775" target="_top">Bug#1775</a>)</p></li><li><p>
        Foreign Keys column sequence is not consistent in
        <code class="literal">DatabaseMetaData.getImported/Exported/CrossReference()</code>.
       (<a href="http://bugs.mysql.com/1731" target="_top">Bug#1731</a>)</p></li><li><p>
        Fix for <code class="literal">ArrayIndexOutOfBounds</code> exception when
        using <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1695" target="_top">Bug#1695</a>)</p></li><li><p>
        Subsequent call to <code class="literal">ResultSet.updateFoo()</code>
        causes NPE if result set is not updatable.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Fix for 4.1.1-style authentication with no password.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Cross-database updatable result sets are not checked for
        updatability correctly.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> should return
        <code class="literal">Types.LONGVARCHAR</code> for MySQL
        <code class="literal">LONGTEXT</code> type.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        Fixed regression of
        <code class="literal">Statement.getGeneratedKeys()</code> and
        <code class="literal">REPLACE</code> statements.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Barge blobs and split packets not being read correctly.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Backported fix for aliased tables and
        <code class="literal">UpdatableResultSets</code> in
        <code class="literal">checkUpdatability()</code> method from 3.1 branch.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        “<span class="quote">Friendlier</span>” exception message for
        <code class="literal">PacketTooLargeException</code>.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        Don't count quoted IDs when inside a 'string' in
        <code class="literal">PreparedStatement</code> parsing.
       (<a href="http://bugs.mysql.com/1511" target="_top">Bug#1511</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-9"></a>E.6.4.9. Changes in  MySQL Connector/J 3.0.9 (07 October 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.get/setString</code> mashing char 127.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added property to “<span class="quote">clobber</span>” streaming results, by
        setting the <code class="literal">clobberStreamingResults</code> property
        to <code class="literal">true</code> (the default is
        <code class="literal">false</code>). This will cause a
        “<span class="quote">streaming</span>” <code class="literal">ResultSet</code> to be
        automatically closed, and any oustanding data still streaming
        from the server to be discarded if another query is executed
        before all the data has been read from the server.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.util.BaseBugReport</code> to
        help creation of testcases for bug reports.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Backported authentication changes for 4.1.1 and newer from 3.1
        branch.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Made <code class="literal">databaseName</code>,
        <code class="literal">portNumber</code>, and <code class="literal">serverName</code>
        optional parameters for
        <code class="literal">MysqlDataSourceFactory</code>.
       (<a href="http://bugs.mysql.com/1246" target="_top">Bug#1246</a>)</p></li><li><p>
        Optimized <code class="literal">CLOB.setChracterStream()</code>.
       (<a href="http://bugs.mysql.com/1131" target="_top">Bug#1131</a>)</p></li><li><p>
        Fixed <code class="literal">CLOB.truncate()</code>.
       (<a href="http://bugs.mysql.com/1130" target="_top">Bug#1130</a>)</p></li><li><p>
        Fixed deadlock issue with
        <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> getting
        confused about the keyword “<span class="quote">set</span>” in character
        columns.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        Clip +/- INF (to smallest and largest representative values for
        the type in MySQL) and NaN (to 0) for
        <code class="literal">setDouble</code>/<code class="literal">setFloat()</code>, and
        issue a warning on the statement when the server does not
        support +/- INF or NaN.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Don't fire connection closed events when closing pooled
        connections, or on
        <code class="literal">PooledConnection.getConnection()</code> with already
        open connections.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Double-escaping of <code class="literal">'\'</code> when charset is SJIS
        or GBK and <code class="literal">'\'</code> appears in non-escaped input.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        When emptying input stream of unused rows for
        “<span class="quote">streaming</span>” result sets, have the current thread
        <code class="literal">yield()</code> every 100 rows in order to not
        monopolize CPU time.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        Issue exception on
        <code class="literal">ResultSet.get<em class="replaceable"><code>XXX</code></em>()</code>
        on empty result set (wasn't caught in some cases).
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't hide messages from exceptions thrown in I/O layers.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Fixed regression in large split-packet handling.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Better diagnostic error messages in exceptions for
        “<span class="quote">streaming</span>” result sets.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't change timestamp TZ twice if
        <code class="literal">useTimezone==true</code>.
       (<a href="http://bugs.mysql.com/774" target="_top">Bug#774</a>)</p></li><li><p>
        Don't wrap <code class="literal">SQLExceptions</code> in
        <code class="literal">RowDataDynamic</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Don't try and reset isolation level on reconnect if MySQL
        doesn't support them.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        The <code class="literal">insertRow</code> in an
        <code class="literal">UpdatableResultSet</code> is now loaded with the
        default column values when <code class="literal">moveToInsertRow()</code>
        is called.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> wasn't
        returning <code class="literal">NULL</code> for default values that are
        specified as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Change default statement type/concurrency to
        <code class="literal">TYPE_FORWARD_ONLY</code> and
        <code class="literal">CONCUR_READ_ONLY</code> (spec compliance).
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Fix <code class="literal">UpdatableResultSet</code> to return values for
        <code class="literal">get<em class="replaceable"><code>XXX</code></em>()</code> when on
        insert row.
       (<a href="http://bugs.mysql.com/675" target="_top">Bug#675</a>)</p></li><li><p>
        Support <code class="literal">InnoDB</code> contraint names when
        extracting foreign key information in
        <code class="literal">DatabaseMetaData</code> (implementing ideas from
        Parwinder Sekhon).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        Backported 4.1 protocol changes from 3.1 branch (server-side SQL
        states, new field information, larger client capability flags,
        connect-with-database, and so forth).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        <code class="literal">refreshRow</code> didn't work when primary key
        values contained values that needed to be escaped (they ended up
        being doubly escaped).
       (<a href="http://bugs.mysql.com/661" target="_top">Bug#661</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.previous()</code> behavior to move
        current position to before result set when on first row of
        result set.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Fixed <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code> issuing bogus queries when
        <code class="literal">setMaxRows()</code> had been used and a
        <code class="literal">LIMIT</code> clause was present in the query.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Faster date handling code in <code class="literal">ResultSet</code> and
        <code class="literal">PreparedStatement</code> (no longer uses
        <code class="literal">Date</code> methods that synchronize on static
        calendars).
      </p></li><li><p>
        Fixed test for end of buffer in
        <code class="literal">Buffer.readString()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-8"></a>E.6.4.10. Changes in  MySQL Connector/J 3.0.8 (23 May 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed SJIS encoding bug, thanks to Naoto Sato.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix problem detecting server character set in some cases.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Allow multiple calls to <code class="literal">Statement.close()</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Return correct number of generated keys when using
        <code class="literal">REPLACE</code> statements.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Unicode character 0xFFFF in a string would cause the driver to
        throw an <code class="literal">ArrayOutOfBoundsException</code>. .
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix row data decoding error when using <span class="emphasis"><em>very</em></span>
        large packets.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized row data decoding.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Issue exception when operating on an already closed prepared
        statement.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized usage of <code class="literal">EscapeProcessor</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Use JVM charset with filenames and <code class="literal">LOAD DATA [LOCAL]
        INFILE</code>.
      </p></li><li><p>
        Fix infinite loop with <code class="literal">Connection.cleanup()</code>.
      </p></li><li><p>
        Changed Ant target <code class="literal">compile-core</code> to
        <code class="literal">compile-driver</code>, and made testsuite
        compilation a separate target.
      </p></li><li><p>
        Fixed result set not getting set for
        <code class="literal">Statement.executeUpdate()</code>, which affected
        <code class="literal">getGeneratedKeys()</code> and
        <code class="literal">getUpdateCount()</code> in some cases.
      </p></li><li><p>
        Return list of generated keys when using multi-value
        <code class="literal">INSERTS</code> with
        <code class="literal">Statement.getGeneratedKeys()</code>.
      </p></li><li><p>
        Allow bogus URLs in <code class="literal">Driver.getPropertyInfo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-7"></a>E.6.4.11. Changes in  MySQL Connector/J 3.0.7 (08 April 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed charset issues with database metadata (charset was not
        getting set correctly).
      </p></li><li><p>
        You can now toggle profiling on/off using
        <code class="literal">Connection.setProfileSql(boolean)</code>.
      </p></li><li><p>
        4.1 Column Metadata fixes.
      </p></li><li><p>
        Fixed <code class="literal">MysqlPooledConnection.close()</code> calling
        wrong event type.
      </p></li><li><p>
        Fixed <code class="literal">StringIndexOutOfBoundsException</code> in
        <code class="literal">PreparedStatement.setClob()</code>.
      </p></li><li><p>
        <code class="literal">IOExceptions</code> during a transaction now cause
        the <code class="literal">Connection</code> to be closed.
      </p></li><li><p>
        Remove synchronization from <code class="literal">Driver.connect()</code>
        and <code class="literal">Driver.acceptsUrl()</code>.
      </p></li><li><p>
        Fixed missing conversion for <code class="literal">YEAR</code> type in
        <code class="literal">ResultSetMetaData.getColumnTypeName()</code>.
      </p></li><li><p>
        Updatable <code class="literal">ResultSets</code> can now be created for
        aliased tables/columns when connected to MySQL-4.1 or newer.
      </p></li><li><p>
        Fixed <code class="literal">LOAD DATA LOCAL INFILE</code> bug when file
        &gt; <code class="literal">max_allowed_packet</code>.
      </p></li><li><p>
        Don't pick up indexes that start with <code class="literal">pri</code> as
        primary keys for <code class="literal">DBMD.getPrimaryKeys()</code>.
      </p></li><li><p>
        Ensure that packet size from
        <code class="literal">alignPacketSize()</code> does not exceed
        <code class="literal">max_allowed_packet</code> (JVM bug)
      </p></li><li><p>
        Don't reset <code class="literal">Connection.isReadOnly()</code> when
        autoReconnecting.
      </p></li><li><p>
        Fixed escaping of 0x5c (<code class="literal">'\'</code>) character for
        GBK and Big5 charsets.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getTimestamp()</code> when
        underlying field is of type <code class="literal">DATE</code>.
      </p></li><li><p>
        Throw <code class="literal">SQLExceptions</code> when trying to do
        operations on a forcefully closed <code class="literal">Connection</code>
        (that is, when a communication link failure occurs).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-6"></a>E.6.4.12. Changes in  MySQL Connector/J 3.0.6 (18 February 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Backported 4.1 charset field info changes from Connector/J 3.1.
      </p></li><li><p>
        Fixed <code class="literal">Statement.setMaxRows()</code> to stop sending
        <code class="literal">LIMIT</code> type queries when not needed
        (performance).
      </p></li><li><p>
        Fixed <code class="literal">DBMD.getTypeInfo()</code> and
        <code class="literal">DBMD.getColumns()</code> returning different value
        for precision in <code class="literal">TEXT</code> and
        <code class="literal">BLOB</code> types.
      </p></li><li><p>
        Fixed <code class="literal">SQLExceptions</code> getting swallowed on
        initial connect.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData</code> to return
        <code class="literal">""</code> when catalog not known. Fixes
        <code class="literal">NullPointerExceptions</code> with Sun's
        <code class="literal">CachedRowSet</code>.
      </p></li><li><p>
        Allow ignoring of warning for “<span class="quote">non transactional
        tables</span>” during rollback (compliance/usability) by setting
        <code class="literal">ignoreNonTxTables</code> property to
        <code class="literal">true</code>.
      </p></li><li><p>
        Clean up <code class="literal">Statement</code> query/method mismatch
        tests (that is, <code class="literal">INSERT</code> not allowed with
        <code class="literal">.executeQuery()</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isWritable()</code> to
        return correct value.
      </p></li><li><p>
        More checks added in <code class="literal">ResultSet</code> traversal
        method to catch when in closed state.
      </p></li><li><p>
        Implemented <code class="literal">Blob.setBytes()</code>. You still need
        to pass the resultant <code class="literal">Blob</code> back into an
        updatable <code class="literal">ResultSet</code> or
        <code class="literal">PreparedStatement</code> to persist the changes,
        because MySQL does not support “<span class="quote">locators</span>”.
      </p></li><li><p>
        Add “<span class="quote">window</span>” of different <code class="literal">NULL</code>
        sorting behavior to
        <code class="literal">DBMD.nullsAreSortedAtStart</code> (4.0.2 to 4.0.10,
        true; otherwise, no).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-5"></a>E.6.4.13. Changes in  MySQL Connector/J 3.0.5 (22 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ResultSet.isBeforeFirst()</code> for empty
        result sets.
      </p></li><li><p>
        Added missing <code class="literal">LONGTEXT</code> type to
        <code class="literal">DBMD.getColumns()</code>.
      </p></li><li><p>
        Implemented an empty <code class="literal">TypeMap</code> for
        <code class="literal">Connection.getTypeMap()</code> so that some
        third-party apps work with MySQL (IBM WebSphere 5.0 Connection
        pool).
      </p></li><li><p>
        Added update options for foreign key metadata.
      </p></li><li><p>
        Fixed <code class="literal">Buffer.fastSkipLenString()</code> causing
        <code class="literal">ArrayIndexOutOfBounds</code> exceptions with some
        queries when unpacking fields.
      </p></li><li><p>
        Quote table names in
        <code class="literal">DatabaseMetaData.getColumns()</code>,
        <code class="literal">getPrimaryKeys()</code>,
        <code class="literal">getIndexInfo()</code>,
        <code class="literal">getBestRowIdentifier()</code>.
      </p></li><li><p>
        Retrieve <code class="literal">TX_ISOLATION</code> from database for
        <code class="literal">Connection.getTransactionIsolation()</code> when the
        MySQL version supports it, instead of an instance variable.
      </p></li><li><p>
        Greatly reduce memory required for
        <code class="literal">setBinaryStream()</code> in
        <code class="literal">PreparedStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-4"></a>E.6.4.14. Changes in  MySQL Connector/J 3.0.4 (06 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Streamlined character conversion and <code class="literal">byte[]</code>
        handling in <code class="literal">PreparedStatements</code> for
        <code class="literal">setByte()</code>.
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement.executeBatch()</code>
        parameter overwriting.
      </p></li><li><p>
        Added quoted identifiers to database names for
        <code class="literal">Connection.setCatalog</code>.
      </p></li><li><p>
        Added support for 4.0.8-style large packets.
      </p></li><li><p>
        Reduce memory footprint of <code class="literal">PreparedStatements</code>
        by sharing outbound packet with <code class="literal">MysqlIO</code>.
      </p></li><li><p>
        Added <code class="literal">strictUpdates</code> property to allow control
        of amount of checking for “<span class="quote">correctness</span>” of
        updatable result sets. Set this to <code class="literal">false</code> if
        you want faster updatable result sets and you know that you
        create them from <code class="literal">SELECT</code> statements on tables
        with primary keys and that you have selected all primary keys in
        your query.
      </p></li><li><p>
        Added support for quoted identifiers in
        <code class="literal">PreparedStatement</code> parser.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-3"></a>E.6.4.15. Changes in  MySQL Connector/J 3.0.3 (17 December 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow user to alter behavior of <code class="literal">Statement</code>/
        <code class="literal">PreparedStatement.executeBatch()</code> via
        <code class="literal">continueBatchOnError</code> property (defaults to
        <code class="literal">true</code>).
      </p></li><li><p>
        More robust escape tokenizer: Recognize <code class="literal">--</code>
        comments, and allow nested escape sequences (see
        <code class="literal">testsuite.EscapeProcessingTest</code>).
      </p></li><li><p>
        Fixed <code class="literal">Buffer.isLastDataPacket()</code> for 4.1 and
        newer servers.
      </p></li><li><p>
        <code class="literal">NamedPipeSocketFactory</code> now works (only
        intended for Windows), see <code class="filename">README</code> for
        instructions.
      </p></li><li><p>
        Changed <code class="literal">charsToByte</code> in
        <code class="literal">SingleByteCharConverter</code> to be non-static.
      </p></li><li><p>
        Use non-aliased table/column names and database names to fully
        qualify tables and columns in
        <code class="literal">UpdatableResultSet</code> (requires MySQL-4.1 or
        newer).
      </p></li><li><p>
        <code class="literal">LOAD DATA LOCAL INFILE ...</code> now works, if your
        server is configured to allow it. Can be turned off with the
        <code class="literal">allowLoadLocalInfile</code> property (see the
        <code class="filename">README</code>).
      </p></li><li><p>
        Implemented <code class="literal">Connection.nativeSQL()</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName()</code>
        returning <code class="literal">BLOB</code> for <code class="literal">TEXT</code>
        and <code class="literal">TEXT</code> for <code class="literal">BLOB</code> types.
      </p></li><li><p>
        Fixed charset handling in <code class="literal">Fields.java</code>.
      </p></li><li><p>
        Because of above, implemented
        <code class="literal">ResultSetMetaData.isAutoIncrement()</code> to use
        <code class="literal">Field.isAutoIncrement()</code>.
      </p></li><li><p>
        Substitute <code class="literal">'?'</code> for unknown character
        conversions in single-byte character sets instead of
        <code class="literal">'\0'</code>.
      </p></li><li><p>
        Added <code class="literal">CLIENT_LONG_FLAG</code> to be able to get more
        column flags (<code class="literal">isAutoIncrement()</code> being the
        most important).
      </p></li><li><p>
        Honor <code class="literal">lower_case_table_names</code> when enabled in
        the server when doing table name comparisons in
        <code class="literal">DatabaseMetaData</code> methods.
      </p></li><li><p>
        <code class="literal">DBMD.getImported/ExportedKeys()</code> now handles
        multiple foreign keys per table.
      </p></li><li><p>
        More robust implementation of updatable result sets. Checks that
        <span class="emphasis"><em>all</em></span> primary keys of the table have been
        selected.
      </p></li><li><p>
        Some MySQL-4.1 protocol support (extended field info from
        selects).
      </p></li><li><p>
        Check for connection closed in more
        <code class="literal">Connection</code> methods
        (<code class="literal">createStatement</code>,
        <code class="literal">prepareStatement</code>,
        <code class="literal">setTransactionIsolation</code>,
        <code class="literal">setAutoCommit</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning incorrect values for some floating-point types.
      </p></li><li><p>
        Changed <code class="literal">SingleByteCharConverter</code> to use lazy
        initialization of each converter.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-2"></a>E.6.4.16. Changes in  MySQL Connector/J 3.0.2 (08 November 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Implemented <code class="literal">Clob.setString()</code>.
      </p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.MiniAdmin</code> class, which
        allows you to send <code class="literal">shutdown</code> command to MySQL
        server. This is intended to be used when
        “<span class="quote">embedding</span>” Java and MySQL server together in an
        end-user application.
      </p></li><li><p>
        Added SSL support. See <code class="filename">README</code> for
        information on how to use it.
      </p></li><li><p>
        All <code class="literal">DBMD</code> result set columns describing
        schemas now return <code class="literal">NULL</code> to be more compliant
        with the behavior of other JDBC drivers for other database
        systems (MySQL does not support schemas).
      </p></li><li><p>
        Use <code class="literal">SHOW CREATE TABLE</code> when possible for
        determining foreign key information for
        <code class="literal">DatabaseMetaData</code>. Also allows cascade options
        for <code class="literal">DELETE</code> information to be returned.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setCharacterStream()</code>.
      </p></li><li><p>
        Failover and <code class="literal">autoReconnect</code> work only when the
        connection is in an <code class="literal">autoCommit(false)</code> state,
        in order to stay transaction-safe.
      </p></li><li><p>
        Fixed <code class="literal">DBMD.supportsResultSetConcurrency()</code> so
        that it returns <code class="literal">true</code> for
        <code class="literal">ResultSet.TYPE_SCROLL_INSENSITIVE</code> and
        <code class="literal">ResultSet.CONCUR_READ_ONLY</code> or
        <code class="literal">ResultSet.CONCUR_UPDATABLE</code>.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setAsciiStream()</code>.
      </p></li><li><p>
        Removed duplicate code from
        <code class="literal">UpdatableResultSet</code> (it can be inherited from
        <code class="literal">ResultSet</code>, the extra code for each method to
        handle updatability I thought might someday be necessary has not
        been needed).
      </p></li><li><p>
        Fixed <code class="literal">UnsupportedEncodingException</code> thrown
        when “<span class="quote">forcing</span>” a character encoding via properties.
      </p></li><li><p>
        Fixed incorrect conversion in
        <code class="literal">ResultSet.getLong()</code>.
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.updateBlob()</code>.
      </p></li><li><p>
        Removed some not-needed temporary object creation by smarter use
        of <code class="literal">Strings</code> in
        <code class="literal">EscapeProcessor</code>,
        <code class="literal">Connection</code> and
        <code class="literal">DatabaseMetaData</code> classes.
      </p></li><li><p>
        Escape <code class="literal">0x5c</code> character in strings for the SJIS
        charset.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now honors stream lengths
        in setBinary/Ascii/Character Stream() unless you set the
        connection property
        <code class="literal">useStreamLengthsInPrepStmts</code> to
        <code class="literal">false</code>.
      </p></li><li><p>
        Fixed issue with updatable result sets and
        <code class="literal">PreparedStatements</code> not working.
      </p></li><li><p>
        Fixed start position off-by-1 error in
        <code class="literal">Clob.getSubString()</code>.
      </p></li><li><p>
        Added <code class="literal">connectTimeout</code> parameter that allows
        users of JDK-1.4 and newer to specify a maximum time to wait to
        establish a connection.
      </p></li><li><p>
        Fixed various non-ASCII character encoding issues.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isLast()</code> for empty result
        sets (should return <code class="literal">false</code>).
      </p></li><li><p>
        Added driver property <code class="literal">useHostsInPrivileges</code>.
        Defaults to <code class="literal">true</code>. Affects whether or not
        <code class="literal">@hostname</code> will be used in
        <code class="literal">DBMD.getColumn/TablePrivileges</code>.
      </p></li><li><p>
        Fixed
        <code class="literal">ResultSet.setFetchDirection(FETCH_UNKNOWN)</code>.
      </p></li><li><p>
        Added <code class="literal">queriesBeforeRetryMaster</code> property that
        specifies how many queries to issue when failed over before
        attempting to reconnect to the master (defaults to 50).
      </p></li><li><p>
        Fixed issue when calling
        <code class="literal">Statement.setFetchSize()</code> when using arbitrary
        values.
      </p></li><li><p>
        Properly restore connection properties when autoReconnecting or
        failing-over, including <code class="literal">autoCommit</code> state, and
        isolation level.
      </p></li><li><p>
        Implemented <code class="literal">Clob.truncate()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-1"></a>E.6.4.17. Changes in  MySQL Connector/J 3.0.1 (21 September 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Charsets now automatically detected. Optimized code for
        single-byte character set conversion.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isSigned()</code> for
        <code class="literal">TINYINT</code> and <code class="literal">BIGINT</code>.
      </p></li><li><p>
        Fixed <code class="literal">RowDataStatic.getAt()</code> off-by-one bug.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getRow()</code> off-by-one bug.
      </p></li><li><p>
        Massive code clean-up to follow Java coding conventions (the
        time had come).
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.getCharacterStream()</code>.
      </p></li><li><p>
        Added limited <code class="literal">Clob</code> functionality
        (<code class="literal">ResultSet.getClob()</code>,
        <code class="literal">PreparedStatemtent.setClob()</code>,
        <code class="literal">PreparedStatement.setObject(Clob)</code>.
      </p></li><li><p>
        <code class="literal">Connection.isClosed()</code> no longer
        “<span class="quote">pings</span>” the server.
      </p></li><li><p>
        <code class="literal">Connection.close()</code> issues
        <code class="literal">rollback()</code> when
        <code class="literal">getAutoCommit()</code> is <code class="literal">false</code>.
      </p></li><li><p>
        Added <code class="literal">socketTimeout</code> parameter to URL.
      </p></li><li><p>
        Added <code class="literal">LOCAL TEMPORARY</code> to table types in
        <code class="literal">DatabaseMetaData.getTableTypes()</code>.
      </p></li><li><p>
        Added <code class="literal">paranoid</code> parameter, which sanitizes
        error messages by removing “<span class="quote">sensitive</span>” information
        from them (such as hostnames, ports, or usernames), as well as
        clearing “<span class="quote">sensitive</span>” data structures when possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-0"></a>E.6.4.18. Changes in  MySQL Connector/J 3.0.0 (31 July 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        General source-code cleanup.
      </p></li><li><p>
        The driver now only works with JDK-1.2 or newer.
      </p></li><li><p>
        Fix and sort primary key names in <code class="literal">DBMetaData</code>
        (SF bugs 582086 and 582086).
      </p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> now works for
        <code class="literal">DATE</code> types (SF bug 559134).
      </p></li><li><p>
        Float types now reported as
        <code class="literal">java.sql.Types.FLOAT</code> (SF bug 579573).
      </p></li><li><p>
        Support for streaming (row-by-row) result sets (see
        <code class="filename">README</code>) Thanks to Doron.
      </p></li><li><p>
        Testsuite now uses Junit (which you can get from
        <a href="http://www.junit.org" target="_top">http://www.junit.org</a>.
      </p></li><li><p>
        JDBC Compliance: Passes all tests besides stored procedure
        tests.
      </p></li><li><p>
        <code class="literal">ResultSet.getDate/Time/Timestamp</code> now
        recognizes all forms of invalid values that have been set to all
        zeros by MySQL (SF bug 586058).
      </p></li><li><p>
        Added multi-host failover support (see
        <code class="filename">README</code>).
      </p></li><li><p>
        Repackaging: New driver name is
        <code class="literal">com.mysql.jdbc.Driver</code>, old name still works,
        though (the driver is now provided by MySQL-AB).
      </p></li><li><p>
        Support for large packets (new addition to MySQL-4.0 protocol),
        see <code class="filename">README</code> for more information.
      </p></li><li><p>
        Better checking for closed connections in
        <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        Performance improvements in string handling and field metadata
        creation (lazily instantiated) contributed by Alex
        Twisleton-Wykeham-Fiennes.
      </p></li><li><p>
        JDBC-3.0 functionality including
        <code class="literal">Statement/PreparedStatement.getGeneratedKeys()</code>
        and <code class="literal">ResultSet.getURL()</code>.
      </p></li><li><p>
        Overall speed improvements via controlling transient object
        creation in <code class="literal">MysqlIO</code> class when reading
        packets.
      </p></li><li><p>
        <span class="bold"><strong>!!! LICENSE CHANGE !!!</strong></span> The
        driver is now GPL. If you need non-GPL licenses, please contact
        me <code class="literal">&lt;mark@mysql.com&gt;</code>.
      </p></li><li><p>
        Performance enchancements: Driver is now 50–100% faster in
        most situations, and creates fewer temporary objects.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-2-0"></a>E.6.5. Changes in MySQL Connector/J 2.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-2-0-14">E.6.5.1. Changes in  MySQL Connector/J 2.0.14 (16 May 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-13">E.6.5.2. Changes in  MySQL Connector/J 2.0.13 (24 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-12">E.6.5.3. Changes in  MySQL Connector/J 2.0.12 (07 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-11">E.6.5.4. Changes in  MySQL Connector/J 2.0.11 (27 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-10">E.6.5.5. Changes in  MySQL Connector/J 2.0.10 (24 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-9">E.6.5.6. Changes in  MySQL Connector/J 2.0.9 (13 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-8">E.6.5.7. Changes in  MySQL Connector/J 2.0.8 (25 November 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-7">E.6.5.8. Changes in  MySQL Connector/J 2.0.7 (24 October 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-6">E.6.5.9. Changes in  MySQL Connector/J 2.0.6 (16 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-5">E.6.5.10. Changes in  MySQL Connector/J 2.0.5 (13 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-3">E.6.5.11. Changes in  MySQL Connector/J 2.0.3 (03 December 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-1">E.6.5.12. Changes in  MySQL Connector/J 2.0.1 (06 April 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre5">E.6.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre4">E.6.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre">E.6.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-14"></a>E.6.5.1. Changes in  MySQL Connector/J 2.0.14 (16 May 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getDouble()</code> now uses code built
        into JDK to be more precise (but slower).
      </p></li><li><p>
        Fixed typo for <code class="literal">relaxAutoCommit</code> parameter.
      </p></li><li><p>
        <code class="literal">LogicalHandle.isClosed()</code> calls through to
        physical connection.
      </p></li><li><p>
        Added SQL profiling (to <code class="literal">STDERR</code>). Set
        <code class="literal">profileSql=true</code> in your JDBC URL. See
        <code class="filename">README</code> for more information.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now releases resources on
        <code class="literal">.close()</code>. (SF bug 553268)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Quoted identifiers not used if server version does not support
        them. Also, if server started with <code class="option">--ansi</code> or
        <code class="option">--sql-mode=ANSI_QUOTES</code>,
        “<span class="quote"><code class="literal">"</code></span>” will be used as an
        identifier quote character, otherwise
        “<span class="quote"><code class="literal">'</code></span>” will be used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-13"></a>E.6.5.2. Changes in  MySQL Connector/J 2.0.13 (24 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed unicode chars being read incorrectly. (SF bug 541088)
      </p></li><li><p>
        Faster blob escaping for <code class="literal">PrepStmt</code>.
      </p></li><li><p>
        Added <code class="literal">setURL()</code> to
        <code class="literal">MySQLXADataSource</code>. (SF bug 546019)
      </p></li><li><p>
        Added <code class="literal">set</code>/<code class="literal">getPortNumber()</code>
        to <code class="literal">DataSource(s)</code>. (SF bug 548167)
      </p></li><li><p>
        <code class="literal">PreparedStatement.toString()</code> fixed. (SF bug
        534026)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Rudimentary version of
        <code class="literal">Statement.getGeneratedKeys()</code> from JDBC-3.0
        now implemented (you need to be using JDK-1.4 for this to work,
        I believe).
      </p></li><li><p>
        <code class="literal">DBMetaData.getIndexInfo()</code> - bad PAGES fixed.
        (SF BUG 542201)
      </p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> now
        implemented.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-12"></a>E.6.5.3. Changes in  MySQL Connector/J 2.0.12 (07 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">testsuite.Traversal</code>
        <code class="literal">afterLast()</code> bug, thanks to Igor Lastric.
      </p></li><li><p>
        Added new types to <code class="literal">getTypeInfo()</code>, fixed
        existing types thanks to Al Davis and Kid Kalanon.
      </p></li><li><p>
        Fixed time zone off-by-1-hour bug in
        <code class="literal">PreparedStatement</code> (538286, 528785).
      </p></li><li><p>
        Added identifier quoting to all
        <code class="literal">DatabaseMetaData</code> methods that need them
        (should fix 518108).
      </p></li><li><p>
        Added support for <code class="literal">BIT</code> types (51870) to
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.insertRow()</code> should now detect
        auto_increment fields in most cases and use that value in the
        new row. This detection will not work in multi-valued keys,
        however, due to the fact that the MySQL protocol does not return
        this information.
      </p></li><li><p>
        Relaxed synchronization in all classes, should fix 520615 and
        520393.
      </p></li><li><p>
        <code class="literal">DataSources</code> - fixed <code class="literal">setUrl</code>
        bug (511614, 525565), wrong datasource class name (532816,
        528767).
      </p></li><li><p>
        Added support for <code class="literal">YEAR</code> type (533556).
      </p></li><li><p>
        Fixes for <code class="literal">ResultSet</code> updatability in
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code>: Fixed updatability (values being
        set to <code class="literal">null</code> if not updated).
      </p></li><li><p>
        Added <code class="literal">getTable/ColumnPrivileges()</code> to DBMD
        (fixes 484502).
      </p></li><li><p>
        Added <code class="literal">getIdleFor()</code> method to
        <code class="literal">Connection</code> and
        <code class="literal">MysqlLogicalHandle</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.refreshRow()</code> implemented.
      </p></li><li><p>
        Fixed <code class="literal">getRow()</code> bug (527165) in
        <code class="literal">ResultSet</code>.
      </p></li><li><p>
        General code cleanup.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-11"></a>E.6.5.4. Changes in  MySQL Connector/J 2.0.11 (27 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Full synchronization of <code class="literal">Statement.java</code>.
      </p></li><li><p>
        Fixed missing <code class="literal">DELETE_RULE</code> value in
        <code class="literal">DBMD.getImported/ExportedKeys()</code> and
        <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        More changes to fix <code class="literal">Unexpected end of input
        stream</code> errors when reading <code class="literal">BLOB</code>
        values. This should be the last fix.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-10"></a>E.6.5.5. Changes in  MySQL Connector/J 2.0.10 (24 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed null-pointer-exceptions when using
        <code class="literal">MysqlConnectionPoolDataSource</code> with Websphere
        4 (bug 505839).
      </p></li><li><p>
        Fixed spurious <code class="literal">Unexpected end of input stream</code>
        errors in <code class="literal">MysqlIO</code> (bug 507456).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-9"></a>E.6.5.6. Changes in  MySQL Connector/J 2.0.9 (13 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed extra memory allocation in
        <code class="literal">MysqlIO.readPacket()</code> (bug 488663).
      </p></li><li><p>
        Added detection of network connection being closed when reading
        packets (thanks to Todd Lizambri).
      </p></li><li><p>
        Fixed casting bug in <code class="literal">PreparedStatement</code> (bug
        488663).
      </p></li><li><p>
        <code class="literal">DataSource</code> implementations moved to
        <code class="literal">org.gjt.mm.mysql.jdbc2.optional</code> package, and
        (initial) implementations of
        <code class="literal">PooledConnectionDataSource</code> and
        <code class="literal">XADataSource</code> are in place (thanks to Todd
        Wolff for the implementation and testing of
        <code class="literal">PooledConnectionDataSource</code> with IBM WebSphere
        4).
      </p></li><li><p>
        Fixed quoting error with escape processor (bug 486265).
      </p></li><li><p>
        Removed concatenation support from driver (the
        <code class="literal">||</code> operator), as older versions of VisualAge
        seem to be the only thing that use it, and it conflicts with the
        logical <code class="literal">||</code> operator. You will need to start
        <span><strong class="command">mysqld</strong></span> with the <code class="option">--ansi</code> flag
        to use the <code class="literal">||</code> operator as concatenation (bug
        491680).
      </p></li><li><p>
        <span><strong class="command">Ant</strong></span> build was corrupting included
        <code class="filename">jar</code> files, fixed (bug 487669).
      </p></li><li><p>
        Report batch update support through
        <code class="literal">DatabaseMetaData</code> (bug 495101).
      </p></li><li><p>
        Implementation of
        <code class="literal">DatabaseMetaData.getExported/ImportedKeys()</code>
        and <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        Fixed off-by-one-hour error in
        <code class="literal">PreparedStatement.setTimestamp()</code> (bug
        491577).
      </p></li><li><p>
        Full synchronization on methods modifying instance and
        class-shared references, driver should be entirely thread-safe
        now (please let me know if you have problems).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-8"></a>E.6.5.7. Changes in  MySQL Connector/J 2.0.8 (25 November 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">XADataSource</code>/<code class="literal">ConnectionPoolDataSource</code>
        code (experimental)
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> and
        <code class="literal">getBestRowIdentifier()</code> are now more robust in
        identifying primary keys (matches regardless of case or
        abbreviation/full spelling of <code class="literal">Primary Key</code> in
        <code class="literal">Key_type</code> column).
      </p></li><li><p>
        Batch updates now supported (thanks to some inspiration from
        Daniel Rall).
      </p></li><li><p>
        <code class="literal">PreparedStatement.setAnyNumericType()</code> now
        handles positive exponents correctly (adds <code class="literal">+</code>
        so MySQL can understand it).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-7"></a>E.6.5.8. Changes in  MySQL Connector/J 2.0.7 (24 October 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Character sets read from database if
        <code class="literal">useUnicode=true</code> and
        <code class="literal">characterEncoding</code> is not set. (thanks to
        Dmitry Vereshchagin)
      </p></li><li><p>
        Initial transaction isolation level read from database (if
        avaialable). (thanks to Dmitry Vereshchagin)
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement</code> generating SQL that
        would end up with syntax errors for some queries.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setCharacterStream()</code> now
        implemented
      </p></li><li><p>
        Captialize type names when
        <code class="literal">captializeTypeNames=true</code> is passed in URL or
        properties (for WebObjects. (thanks to Anjo Krank)
      </p></li><li><p>
        <code class="literal">ResultSet.getBlob()</code> now returns
        <code class="literal">null</code> if column value was
        <code class="literal">null</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning one less than actual on newer versions of MySQL.
      </p></li><li><p>
        Fixed dangling socket problem when in high availability
        (<code class="literal">autoReconnect=true</code>) mode, and finalizer for
        <code class="literal">Connection</code> will close any dangling sockets on
        GC.
      </p></li><li><p>
        Fixed time zone issue in
        <code class="literal">PreparedStatement.setTimestamp()</code>. (thanks to
        Erik Olofsson)
      </p></li><li><p>
        PreparedStatement.setDouble() now uses full-precision doubles
        (reverting a fix made earlier to truncate them).
      </p></li><li><p>
        Fixed
        <code class="literal">DatabaseMetaData.supportsTransactions()</code>, and
        <code class="literal">supportsTransactionIsolationLevel()</code> and
        <code class="literal">getTypeInfo()</code>
        <code class="literal">SQL_DATETIME_SUB</code> and
        <code class="literal">SQL_DATA_TYPE</code> fields not being readable.
      </p></li><li><p>
        Updatable result sets now correctly handle
        <code class="literal">NULL</code> values in fields.
      </p></li><li><p>
        PreparedStatement.setBoolean() will use 1/0 for values if your
        MySQL version is 3.21.23 or higher.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isAfterLast()</code> always
        returning <code class="literal">false</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-6"></a>E.6.5.9. Changes in  MySQL Connector/J 2.0.6 (16 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">PreparedStatement</code> parameter checking.
      </p></li><li><p>
        Fixed case-sensitive column names in
        <code class="literal">ResultSet.java</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-5"></a>E.6.5.10. Changes in  MySQL Connector/J 2.0.5 (13 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.insertRow()</code> works now, even if not
        all columns are set (they will be set to
        <code class="literal">NULL</code>).
      </p></li><li><p>
        Added <code class="literal">Byte</code> to
        <code class="literal">PreparedStatement.setObject()</code>.
      </p></li><li><p>
        Fixed data parsing of <code class="literal">TIMESTAMP</code> values with
        2-digit years.
      </p></li><li><p>
        Added <code class="literal">ISOLATION</code> level support to
        <code class="literal">Connection.setIsolationLevel()</code>
      </p></li><li><p>
        <code class="literal">DataBaseMetaData.getCrossReference()</code> no
        longer <code class="literal">ArrayIndexOOB</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.getBoolean()</code> now recognizes
        <code class="literal">-1</code> as <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code> has +/-Inf/inf support.
      </p></li><li><p>
        <code class="literal">getObject()</code> on <code class="literal">ResultSet</code>
        correctly does
        <code class="literal">TINYINT</code>-&gt;<code class="literal">Byte</code> and
        <code class="literal">SMALLINT</code>-&gt;<code class="literal">Short</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName</code> for
        <code class="literal">TEXT</code>/<code class="literal">BLOB</code>.
      </p></li><li><p>
        Fixed <code class="literal">ArrayIndexOutOfBounds</code> when sending
        large <code class="literal">BLOB</code> queries. (Max size packet was not
        being set)
      </p></li><li><p>
        Fixed NPE on
        <code class="literal">PreparedStatement.executeUpdate()</code> when all
        columns have not been set.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getBlob()</code>
        <code class="literal">ArrayIndex</code> out-of-bounds.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-3"></a>E.6.5.11. Changes in  MySQL Connector/J 2.0.3 (03 December 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed composite key problem with updatable result sets.
      </p></li><li><p>
        Faster ASCII string operations.
      </p></li><li><p>
        Fixed off-by-one error in <code class="literal">java.sql.Blob</code>
        implementation code.
      </p></li><li><p>
        Fixed incorrect detection of
        <code class="literal">MAX_ALLOWED_PACKET</code>, so sending large blobs
        should work now.
      </p></li><li><p>
        Added detection of -/+INF for doubles.
      </p></li><li><p>
        Added <code class="literal">ultraDevHack</code> URL parameter, set to
        <code class="literal">true</code> to allow (broken) Macromedia UltraDev to
        use the driver.
      </p></li><li><p>
        Implemented <code class="literal">getBigDecimal()</code> without scale
        component for JDBC2.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-1"></a>E.6.5.12. Changes in  MySQL Connector/J 2.0.1 (06 April 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Columns that are of type <code class="literal">TEXT</code> now return as
        <code class="literal">Strings</code> when you use
        <code class="literal">getObject()</code>.
      </p></li><li><p>
        Cleaned up exception handling when driver connects.
      </p></li><li><p>
        Fixed <code class="literal">RSMD.isWritable()</code> returning wrong
        value. Thanks to Moritz Maass.
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> now works
        correctly with respect to <code class="literal">key_seq</code>. Thanks to
        Brian Slesinsky.
      </p></li><li><p>
        Fixed many JDBC-2.0 traversal, positioning bugs, especially with
        respect to empty result sets. Thanks to Ron Smits, Nick Brook,
        Cessar Garcia and Carlos Martinez.
      </p></li><li><p>
        No escape processing is done on
        <code class="literal">PreparedStatements</code> anymore per JDBC spec.
      </p></li><li><p>
        Fixed some issues with updatability support in
        <code class="literal">ResultSet</code> when using multiple primary keys.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre5"></a>E.6.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Bad Handshake problem.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre4"></a>E.6.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to ResultSet for insertRow() - Thanks to Cesar Garcia
          </p></li><li><p>
            Fix to Driver to recognize JDBC-2.0 by loading a JDBC-2.0
            class, instead of relying on JDK version numbers. Thanks to
            John Baker.
          </p></li><li><p>
            Fixed ResultSet to return correct row numbers
          </p></li><li><p>
            Statement.getUpdateCount() now returns rows matched, instead
            of rows actually updated, which is more SQL-92 like.
          </p></li></ul></div><p>
        10-29-99
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Statement/PreparedStatement.getMoreResults() bug fixed.
            Thanks to Noel J. Bergman.
          </p></li><li><p>
            Added Short as a type to PreparedStatement.setObject().
            Thanks to Jeff Crowder
          </p></li><li><p>
            Driver now automagically configures maximum/preferred packet
            sizes by querying server.
          </p></li><li><p>
            Autoreconnect code uses fast ping command if server supports
            it.
          </p></li><li><p>
            Fixed various bugs with respect to packet sizing when
            reading from the server and when alloc'ing to write to the
            server.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre"></a>E.6.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Now compiles under JDK-1.2. The driver supports both JDK-1.1
            and JDK-1.2 at the same time through a core set of classes.
            The driver will load the appropriate interface classes at
            runtime by figuring out which JVM version you are using.
          </p></li><li><p>
            Fixes for result sets with all nulls in the first row.
            (Pointed out by Tim Endres)
          </p></li><li><p>
            Fixes to column numbers in SQLExceptions in ResultSet
            (Thanks to Blas Rodriguez Somoza)
          </p></li><li><p>
            The database no longer needs to specified to connect.
            (Thanks to Christian Motschke)
          </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-1-2b"></a>E.6.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Better Documentation (in progress), in doc/mm.doc/book1.html
        </p></li><li><p>
          DBMD now allows null for a column name pattern (not in spec),
          which it changes to '%'.
        </p></li><li><p>
          DBMD now has correct types/lengths for getXXX().
        </p></li><li><p>
          ResultSet.getDate(), getTime(), and getTimestamp() fixes.
          (contributed by Alan Wilken)
        </p></li><li><p>
          EscapeProcessor now handles \{ \} and { or } inside quotes
          correctly. (thanks to Alik for some ideas on how to fix it)
        </p></li><li><p>
          Fixes to properties handling in Connection. (contributed by
          Juho Tikkala)
        </p></li><li><p>
          ResultSet.getObject() now returns null for NULL columns in the
          table, rather than bombing out. (thanks to Ben Grosman)
        </p></li><li><p>
          ResultSet.getObject() now returns Strings for types from MySQL
          that it doesn't know about. (Suggested by Chris Perdue)
        </p></li><li><p>
          Removed DataInput/Output streams, not needed, 1/2 number of
          method calls per IO operation.
        </p></li><li><p>
          Use default character encoding if one is not specified. This
          is a work-around for broken JVMs, because according to spec,
          EVERY JVM must support "ISO8859_1", but they don't.
        </p></li><li><p>
          Fixed Connection to use the platform character encoding
          instead of "ISO8859_1" if one isn't explicitly set. This fixes
          problems people were having loading the character- converter
          classes that didn't always exist (JVM bug). (thanks to Fritz
          Elfert for pointing out this problem)
        </p></li><li><p>
          Changed MysqlIO to re-use packets where possible to reduce
          memory usage.
        </p></li><li><p>
          Fixed escape-processor bugs pertaining to {} inside quotes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-1-0"></a>E.6.7. Changes in MySQL Connector/J 1.2.x and lower</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-1-2a">E.6.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1i">E.6.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1h">E.6.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1g">E.6.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1f">E.6.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1b">E.6.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1">E.6.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-0">E.6.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9d">E.6.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9">E.6.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-8">E.6.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-7">E.6.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-6">E.6.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-2a"></a>E.6.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed character-set support for non-Javasoft JVMs (thanks to
            many people for pointing it out)
          </p></li><li><p>
            Fixed ResultSet.getBoolean() to recognize 'y' &amp; 'n' as
            well as '1' &amp; '0' as boolean flags. (thanks to Tim
            Pizey)
          </p></li><li><p>
            Fixed ResultSet.getTimestamp() to give better performance.
            (thanks to Richard Swift)
          </p></li><li><p>
            Fixed getByte() for numeric types. (thanks to Ray Bellis)
          </p></li><li><p>
            Fixed DatabaseMetaData.getTypeInfo() for DATE type. (thanks
            to Paul Johnston)
          </p></li><li><p>
            Fixed EscapeProcessor for "fn" calls. (thanks to Piyush Shah
            at locomotive.org)
          </p></li><li><p>
            Fixed EscapeProcessor to not do extraneous work if there are
            no escape codes. (thanks to Ryan Gustafson)
          </p></li><li><p>
            Fixed Driver to parse URLs of the form
            "jdbc:mysql://host:port" (thanks to Richard Lobb)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1i"></a>E.6.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Timestamps for PreparedStatements
          </p></li><li><p>
            Fixed null pointer exceptions in RSMD and RS
          </p></li><li><p>
            Re-compiled with jikes for valid class files (thanks ms!)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1h"></a>E.6.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed escape processor to deal with unmatched { and }
            (thanks to Craig Coles)
          </p></li><li><p>
            Fixed escape processor to create more portable (between
            DATETIME and TIMESTAMP types) representations so that it
            will work with BETWEEN clauses. (thanks to Craig Longman)
          </p></li><li><p>
            MysqlIO.quit() now closes the socket connection. Before,
            after many failed connections some OS's would run out of
            file descriptors. (thanks to Michael Brinkman)
          </p></li><li><p>
            Fixed NullPointerException in Driver.getPropertyInfo.
            (thanks to Dave Potts)
          </p></li><li><p>
            Fixes to MysqlDefs to allow all *text fields to be retrieved
            as Strings. (thanks to Chris at Leverage)
          </p></li><li><p>
            Fixed setDouble in PreparedStatement for large numbers to
            avoid sending scientific notation to the database. (thanks
            to J.S. Ferguson)
          </p></li><li><p>
            Fixed getScale() and getPrecision() in RSMD. (contrib'd by
            James Klicman)
          </p></li><li><p>
            Fixed getObject() when field was DECIMAL or NUMERIC (thanks
            to Bert Hobbs)
          </p></li><li><p>
            DBMD.getTables() bombed when passed a null table-name
            pattern. Fixed. (thanks to Richard Lobb)
          </p></li><li><p>
            Added check for "client not authorized" errors during
            connect. (thanks to Hannes Wallnoefer)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1g"></a>E.6.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Result set rows are now byte arrays. Blobs and Unicode work
            bidriectonally now. The useUnicode and encoding options are
            implemented now.
          </p></li><li><p>
            Fixes to PreparedStatement to send binary set by
            setXXXStream to be sent untouched to the MySQL server.
          </p></li><li><p>
            Fixes to getDriverPropertyInfo().
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1f"></a>E.6.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Changed all ResultSet fields to Strings, this should allow
            Unicode to work, but your JVM must be able to convert
            between the character sets. This should also make reading
            data from the server be a bit quicker, because there is now
            no conversion from StringBuffer to String.
          </p></li><li><p>
            Changed PreparedStatement.streamToString() to be more
            efficient (code from Uwe Schaefer).
          </p></li><li><p>
            URL parsing is more robust (throws SQL exceptions on errors
            rather than NullPointerExceptions)
          </p></li><li><p>
            PreparedStatement now can convert Strings to Time/Date
            values via setObject() (code from Robert Currey).
          </p></li><li><p>
            IO no longer hangs in Buffer.readInt(), that bug was
            introduced in 1.1d when changing to all byte-arrays for
            result sets. (Pointed out by Samo Login)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1b"></a>E.6.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to DatabaseMetaData to allow both IBM VA and J-Builder
            to work. Let me know how it goes. (thanks to Jac Kersing)
          </p></li><li><p>
            Fix to ResultSet.getBoolean() for NULL strings (thanks to
            Barry Lagerweij)
          </p></li><li><p>
            Beginning of code cleanup, and formatting. Getting ready to
            branch this off to a parallel JDBC-2.0 source tree.
          </p></li><li><p>
            Added "final" modifier to critical sections in MysqlIO and
            Buffer to allow compiler to inline methods for speed.
          </p></li></ul></div><p>
        9-29-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            If object references passed to setXXX() in PreparedStatement
            are null, setNull() is automatically called for you. (Thanks
            for the suggestion goes to Erik Ostrom)
          </p></li><li><p>
            setObject() in PreparedStatement will now attempt to write a
            serialized representation of the object to the database for
            objects of Types.OTHER and objects of unknown type.
          </p></li><li><p>
            Util now has a static method readObject() which given a
            ResultSet and a column index will re-instantiate an object
            serialized in the above manner.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1"></a>E.6.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Got rid of "ugly hack" in MysqlIO.nextRow(). Rather than
            catch an exception, Buffer.isLastDataPacket() was fixed.
          </p></li><li><p>
            Connection.getCatalog() and Connection.setCatalog() should
            work now.
          </p></li><li><p>
            Statement.setMaxRows() works, as well as setting by property
            maxRows. Statement.setMaxRows() overrides maxRows set via
            properties or url parameters.
          </p></li><li><p>
            Automatic re-connection is available. Because it has to
            "ping" the database before each query, it is turned off by
            default. To use it, pass in "autoReconnect=true" in the
            connection URL. You may also change the number of reconnect
            tries, and the initial timeout value via "maxReconnects=n"
            (default 3) and "initialTimeout=n" (seconds, default 2)
            parameters. The timeout is an exponential backoff type of
            timeout; for example, if you have initial timeout of 2
            seconds, and maxReconnects of 3, then the driver will
            timeout 2 seconds, 4 seconds, then 16 seconds between each
            re-connection attempt.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-0"></a>E.6.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed handling of blob data in Buffer.java
          </p></li><li><p>
            Fixed bug with authentication packet being sized too small.
          </p></li><li><p>
            The JDBC Driver is now under the LPGL
          </p></li></ul></div><p>
        8-14-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Buffer.readLenString() to correctly read data for
            BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.stringToStream to correctly read
            data for BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.setDate() to not add a day. (above
            fixes thanks to Vincent Partington)
          </p></li><li><p>
            Added URL parameter parsing (?user=... and so forth).
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9d"></a>E.6.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Big news! New package name. Tim Endres from ICE Engineering
            is starting a new source tree for GNU GPL'd Java software.
            He's graciously given me the org.gjt.mm package directory to
            use, so now the driver is in the org.gjt.mm.mysql package
            scheme. I'm "legal" now. Look for more information on Tim's
            project soon.
          </p></li><li><p>
            Now using dynamically sized packets to reduce memory usage
            when sending commands to the DB.
          </p></li><li><p>
            Small fixes to getTypeInfo() for parameters, and so forth.
          </p></li><li><p>
            DatabaseMetaData is now fully implemented. Let me know if
            these drivers work with the various IDEs out there. I've
            heard that they're working with JBuilder right now.
          </p></li><li><p>
            Added JavaDoc documentation to the package.
          </p></li><li><p>
            Package now available in .zip or .tar.gz.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9"></a>E.6.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Implemented getTypeInfo(). Connection.rollback() now throws
            an SQLException per the JDBC spec.
          </p></li><li><p>
            Added PreparedStatement that supports all JDBC API methods
            for PreparedStatement including InputStreams. Please check
            this out and let me know if anything is broken.
          </p></li><li><p>
            Fixed a bug in ResultSet that would break some queries that
            only returned 1 row.
          </p></li><li><p>
            Fixed bugs in DatabaseMetaData.getTables(),
            DatabaseMetaData.getColumns() and
            DatabaseMetaData.getCatalogs().
          </p></li><li><p>
            Added functionality to Statement that allows executeUpdate()
            to store values for IDs that are automatically generated for
            AUTO_INCREMENT fields. Basically, after an executeUpdate(),
            look at the SQLWarnings for warnings like "LAST_INSERTED_ID
            = 'some number', COMMAND = 'your SQL query'". If you are
            using AUTO_INCREMENT fields in your tables and are executing
            a lot of executeUpdate()s on one Statement, be sure to
            clearWarnings() every so often to save memory.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-8"></a>E.6.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Split MysqlIO and Buffer to separate classes. Some
            ClassLoaders gave an IllegalAccess error for some fields in
            those two classes. Now mm.mysql works in applets and all
            classloaders. Thanks to Joe Ennis &lt;jce@mail.boone.com&gt;
            for pointing out the problem and working on a fix with me.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-7"></a>E.6.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed DatabaseMetadata problems in getColumns() and bug in
            switch statement in the Field constructor. Thanks to Costin
            Manolache &lt;costin@tdiinc.com&gt; for pointing these out.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-6"></a>E.6.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Incorporated efficiency changes from Richard Swift
            &lt;Richard.Swift@kanatek.ca&gt; in
            <code class="literal">MysqlIO.java</code> and
            <code class="literal">ResultSet.java</code>:
          </p></li><li><p>
            We're now 15% faster than gwe's driver.
          </p></li><li><p>
            Started working on <code class="literal">DatabaseMetaData</code>.
          </p></li><li><p>
            The following methods are implemented:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="literal">getTables()</code>
              </p></li><li><p>
                <code class="literal">getTableTypes()</code>
              </p></li><li><p>
                <code class="literal">getColumns()</code>
              </p></li><li><p>
                <code class="literal">getCatalogs()</code>
              </p></li></ul></div></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-connector-mxj"></a>E.7. MySQL Connector/MXJ Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">E.7.1. Changes in  MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">E.7.2. Changes in  MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">E.7.3. Changes in  MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">E.7.4. Changes in  MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">E.7.5. Changes in  MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">E.7.6. Changes in  MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">E.7.7. Changes in  MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-6"></a>E.7.1. Changes in  MySQL Connector/MXJ 5.0.6 (04 May 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Updated internal jar file names to include version information
        and be more consistent with Connector/J jar naming. For example,
        <code class="filename">connector-mxj.jar</code> is now
        <code class="filename">mysql-connector-mxj-${mxj-version}.jar</code>.
      </p></li><li><p>
        Updated commercial license files.
      </p></li><li><p>
        Added copyright notices to some classes which were missing them.
      </p></li><li><p>
        Added <code class="classname">InitializeUser</code> and
        <code class="classname">QueryUtil</code> classes to support new feature.
      </p></li><li><p>
        Added new tests for initial-user &amp; expanded some existing
        tests.
      </p></li><li><p>
        <code class="classname">ConnectorMXJUrlTestExample</code> and
        <code class="classname">ConnectorMXJObjectTestExample</code> now
        demonstrate the initialization of user/password and creating the
        initial database (rather than using "test").
      </p></li><li><p>
        Added new connection property <code class="option">initialize-user</code>
        which, if set to <code class="literal">true</code> will remove the
        default, un-passworded anonymous and root users, and create the
        user/password from the connection url.
      </p></li><li><p>
        Removed obsolete field
        <code class="literal">SimpleMysqldDynamicMBean.lastInvocation</code>.
      </p></li><li><p>
        Clarified code in <code class="literal">DefaultsMap.entrySet()</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="filename">PatchedStandardSocketFactory</code> java file.
      </p></li><li><p>
        Added <code class="literal">main(String[])</code> to
        <code class="filename">com/mysql/management/AllTestsSuite.java</code>.
      </p></li><li><p>
        Errors reading <code class="literal">portFile</code> are now reported
        using <code class="literal">stacktrace(err)</code>, previously
        <code class="literal">System.err</code> was used.
      </p></li><li><p>
        <code class="literal">portFile</code> now contains a new-line to be
        consistent with <code class="literal">pidFile</code>.
      </p></li><li><p>
        Fixed where <code class="methodname">versionString.trim()</code> was
        ignored.
      </p></li><li><p>
        Removed references to <code class="classname">File.deleteOnExit</code>,
        a warning is printed instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Changed tests to shutdown mysqld prior to deleting files.
      </p></li><li><p>
        Fixed port file to always be writen to datadir.
      </p></li><li><p>
        Added os.name-os.arch to resource directory mapping properties
        file.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.40.
      </p></li><li><p>
        Delete <code class="literal">portFile</code> on shutdown.
      </p></li><li><p>
        Moved <code class="literal">platform-map.properties</code> into
        <code class="filename">db-files.jar</code>.
      </p></li><li><p>
        Clarified the startup max wait numbers.
      </p></li><li><p>
        Updated <code class="filename">build.xml</code> in preperation for next
        beta build.
      </p></li><li><p>
        Removed <code class="literal">use-default-architecture</code> property
        replaced.
      </p></li><li><p>
        Added null-check to deal with C/MXJ being loaded by the
        bootstrap classloaders with JVMs for which
        <code class="literal">getClassLoader()</code> returns null.
      </p></li><li><p>
        Added robustness around reading portfile.
      </p></li><li><p>
        Removed <code class="literal">PatchedStandardSocketFactory</code> (fixed
        in Connetor/J 5.0.6).
      </p></li><li><p>
        Refactored duplication from tests and examples to
        <code class="classname">QueryUtil</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="classname">InitializePasswordExample</code>
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-5"></a>E.7.2. Changes in  MySQL Connector/MXJ 5.0.5 (14 March 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Moved <code class="literal">MysqldFactory</code> to main package.
      </p></li><li><p>
        Reformatting: Added newlines some files which did not end in
        them.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.36.
      </p></li><li><p>
        Found and removed dynamic linking in mysql_kill; updated
        solution.
      </p></li><li><p>
        Changed protected constructor of
        <code class="literal">SimpleMysqldDynamicMBean</code> from taking a
        <code class="literal">MysqldResource</code> to taking a
        <code class="literal">MysqldFactory</code>, in order to lay groundwork for
        addressing BUG discovered by Andrew Rubinger. See:
        <a href="http://forums.mysql.com/read.php?39,143046,143046#msg-143046" target="_top">MySQL
        Forums</a> (Actual testing with JBoss, and filing a bug, is
        still required.)
      </p></li><li><p>
        <code class="filename">build.xml</code>: <code class="literal">usage</code> now
        slightly more verbose; some reformatting.
      </p></li><li><p>
        Now incoporates Reggie Bernett's
        <code class="literal">SafeTerminateProcess</code> and only calls the
        unsafe TerminateProcess as a final last resort.
      </p></li><li><p>
        New windows <code class="filename">kill.exe</code> fixes bug where mysqld
        was being force terminated. Issue reported by bruno haleblian
        and others, see:
        <a href="http://forums.mysql.com/read.php?39,140623,140623#msg-140623" target="_top">MySQL
        Forums</a>.
      </p></li><li><p>
        Replaced <code class="literal">Boolean.parseBoolean</code> with JDK 1.4
        compliant <code class="literal">valueOf</code>.
      </p></li><li><p>
        Changed <code class="literal">connector-mxj.properties</code> default
        mysql version to 5.0.37.
      </p></li><li><p>
        In testing so far mysqld reliably shuts down cleanly much
        faster.
      </p></li><li><p>
        Added testcase to
        <code class="literal">com.mysql.management.jmx.AcceptanceTest</code> which
        demonstrats that <code class="literal">dataDir</code> is a mutable MBean
        property.
      </p></li><li><p>
        Updated <code class="literal">build.xml</code> in prep for next release.
      </p></li><li><p>
        Changed <code class="literal">SimpleMysqldDynamicMBean</code> to create
        <code class="literal">MysqldResource</code> on demand in order to allow
        setting of <code class="filename">datadir</code>. (Rubinger bug
        groundwork).
      </p></li><li><p>
        Clarified the synchronization of
        <code class="literal">MysqldResource</code> methods.
      </p></li><li><p>
        <code class="literal">SIGHUP</code> is replaced with
        <code class="literal">MySQLShutdown&lt;PID&gt;</code> event.
      </p></li><li><p>
        Clarified the immutability of <code class="literal">baseDir</code>,
        <code class="literal">dataDir</code>, <code class="literal">pidFile</code>,
        <code class="literal">portFile</code>.
      </p></li><li><p>
        Added 5.1.15 binaries to the repository.
      </p></li><li><p>
        Removed 5.1.14 binaries from the repository.
      </p></li><li><p>
        Added <code class="literal">getDataDir()</code> to interface
        <code class="literal">MysqldResourceI</code>.
      </p></li><li><p>
        Added 5.1.14 binaries to repository.
      </p></li><li><p>
        Replaced windows <span><strong class="command">kill.exe</strong></span> resource with
        re-written version specific to mysqld.
      </p></li><li><p>
        Added Patched <code class="literal">StandardSocketFactory</code> from
        Connector/J 5-0 HEAD.
      </p></li><li><p>
        Ensured 5.1.14 compatibility.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.37.
      </p></li><li><p>
        Removed 5.0.22 binaries from the repository.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-4"></a>E.7.3. Changes in  MySQL Connector/MXJ 5.0.4 (28 January 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow multiple calls to start server from URL connection on
        non-3306 port.
       (<a href="http://bugs.mysql.com/24004" target="_top">Bug#24004</a>)</p></li><li><p>
        Updated <code class="filename">build.xml</code> to build to handle with
        different gpl and commercial mysld version numbers.
      </p></li><li><p>
        Only populate the options map from the help text if specifically
        requested or in the MBean case.
      </p></li><li><p>
        Introduced property for Linux &amp; WinXX to default to 32bit
        versions.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.27.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.32.
      </p></li><li><p>
        Moved mysqld binary resourced into separate jar file NOTICE:
        <code class="literal">CLASSPATH</code> will now need to
        <code class="filename">connector-mxj-db-files.jar</code>.
      </p></li><li><p>
        Minor test robustness improvements.
      </p></li><li><p>
        Moved default version string out of java class into a text
        editable properties file
        (<code class="literal">connector-mxj.properties</code>) in the resources
        directory.
      </p></li><li><p>
        Fixed test to be tollerant of <code class="filename">/tmp</code> being a
        symlink to <code class="filename">/foo/tmp</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-3"></a>E.7.4. Changes in  MySQL Connector/MXJ 5.0.3 (24 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed unused imports, formatted code, made minor edits to
        tests.
      </p></li><li><p>
        Removed "TeeOutputStream" - no longer needed.
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.22.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-2"></a>E.7.5. Changes in  MySQL Connector/MXJ 5.0.2 (15 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced string parsing with JDBC connection attempt for
        determining if a mysqld is "ready for connections"
        <code class="literal">CLASSPATH</code> will now need to include
        Connector/J jar.
      </p></li><li><p>
        "platform" directories replace spaces with underscores
      </p></li><li><p>
        extracted array and list printing to ListToString utility class
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.21
      </p></li><li><p>
        Added trace level logging with Aspect/J.
        <code class="literal">CLASSPATH</code> will now need to include
        <code class="literal">lib/aspectjrt.jar</code>
      </p></li><li><p>
        reformatted code
      </p></li><li><p>
        altered to be "basedir" rather than "port"
        oriented.
      </p></li><li><p>
        help parsing test reflects current help options
      </p></li><li><p>
        insulated users from problems with "." in basedir
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.18
      </p></li><li><p>
        Made tests more robust be deleting the /tmp/test-c.mxj directory
        before running tests.
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes File
        parameter (basedir) instead of port.
      </p></li><li><p>
        socket is now "mysql.sock" in datadir
      </p></li><li><p>
        added ability to specify "mysql-version" as an url
        parameter
      </p></li><li><p>
        Extended timeout for help string parsing, to avoid cases where
        the help text was getting prematurely flushed, and thus
        truncated.
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.19
      </p></li><li><p>
        MysqldResource now tied to dataDir as well as basedir (API
        CHANGE)
      </p></li><li><p>
        moved PID file into datadir
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown now works across JVMs.
      </p></li><li><p>
        extracted splitLines(String) to Str utility class
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown(port) no longer throws,
        only reports to System.err
      </p></li><li><p>
        ServerLauncherSocketFactory now treats URL parameters in the
        form of <code class="literal">&amp;server.foo=null</code> as
        <code class="literal">serverOptionMap.put("foo", null)</code>
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes 2
        File parameters (basedir, datadir)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-1"></a>E.7.6. Changes in  MySQL Connector/MXJ 5.0.1 (Never released)</h3></div></div></div><p>
        This was an internal only release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-0"></a>E.7.7. Changes in  MySQL Connector/MXJ 5.0.0 (09 December 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed HelpOptionsParser's need to reference a MysqldResource.
      </p></li><li><p>
        Reorganized utils into a single "Utils" collaborator.
      </p></li><li><p>
        Minor test tweaks
      </p></li><li><p>
        Altered examples and tests to use new Connector/J 5.0 URL syntax
        for for launching Connector/MXJ ("jdbc:mysql:mxj://")
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.16.
      </p></li><li><p>
        Ditched "ClassUtil" (merged with Str).
      </p></li><li><p>
        Minor refactorings for type casting and exception handling.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-proxy-news"></a>E.8. MySQL Proxy Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">E.8.1. Changes in  MySQL Proxy 0.6.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">E.8.2. Changes in  MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">E.8.3. Changes in  MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-6-0"></a>E.8.1. Changes in  MySQL Proxy 0.6.0 (Not yet released)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using read/write splitting and the
        <code class="filename">rw-splitting.lua</code> example script, connecting
        a second user to the proxy returns an error message.
       (<a href="http://bugs.mysql.com/30867" target="_top">Bug#30867</a>)</p></li><li><p>
        Added support in <code class="literal">read_query_result()</code> to
        overwrite the result-set.
      </p></li><li><p>
        Added <code class="option">--no-daemon</code> and
        <code class="option">--pid-file</code>.
      </p></li><li><p>
        Added hooks for <code class="literal">read_auth()</code>,
        <code class="literal">read_handshake()</code> and
        <code class="literal">read_auth_result()</code>.
      </p></li><li><p>
        Added handling of
        <code class="literal">proxy.connection.backend_ndx</code> in
        <code class="literal">connect_server()</code> and
        <code class="literal">read_query()</code> to support read/write
        splitting.
      </p></li><li><p>
        Added support for <code class="literal">proxy.response.packets</code>.
      </p></li><li><p>
        Added testcases.
      </p></li><li><p>
        Added <code class="option">--no-proxy</code> to disable the proxy.
      </p></li><li><p>
        Added support for listening UNIX sockets.
      </p></li><li><p>
        Added a global lua-scope <code class="literal">proxy.global.*</code>.
      </p></li><li><p>
        Added connection pooling.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed assertion on <code class="literal">COM_BINLOG_DUMP</code>.
       (<a href="http://bugs.mysql.com/29764" target="_top">Bug#29764</a>)</p></li><li><p>
        Fixed assertion on result-packets like <code class="literal">[ field-len |
        fields | EOF | ERR ]</code>.
       (<a href="http://bugs.mysql.com/29732" target="_top">Bug#29732</a>)</p></li><li><p>
        Fixed assertion at login with empty password + empty default db.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed assertion at <code class="literal">COM_SHUTDOWN</code>.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed crash if <code class="literal">proxy.connection</code> is used in
        <code class="literal">connect_server()</code>.
      </p></li><li><p>
        Fixed check for <code class="literal">glib2</code> to require at least
        2.6.0.
      </p></li><li><p>
        Fixed assertion when all backends are down and we try to
        connect.
      </p></li><li><p>
        Fixed connection-stalling if
        <code class="literal">read_query_result()</code> throws an
        <code class="literal">assert()</code>ion.
      </p></li><li><p>
        Fixed len-encoding on <code class="literal">proxy.resulsets</code>.
      </p></li><li><p>
        Fixed compilation on win32.
      </p></li><li><p>
        Fixed assertion when connecting to the MySQL 6.0.1.
      </p></li><li><p>
        Fixed decoding of len-encoded ints for 3-byte notation.
      </p></li><li><p>
        Fixed <code class="literal">inj.resultset.affected_rows</code> on
        <code class="literal">SELECT</code> queries.
      </p></li><li><p>
        Fixed handling of (SQL) <code class="literal">NULL</code> in result-sets.
      </p></li><li><p>
        Fixed mem-leak with <code class="literal">proxy.response.*</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-1"></a>E.8.2. Changes in  MySQL Proxy 0.5.1 (30 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">resultset.affected_rows</code> and
        <code class="literal">resultset.insert_id</code>.
      </p></li><li><p>
        Changed <code class="option">--proxy.profiling</code> to
        <code class="option">--proxy-skip-profiling</code>.
      </p></li><li><p>
        Added missing dependency to
        <code class="literal">libmysqlclient-dev</code> to the INSTALL file.
      </p></li><li><p>
        Added <code class="literal">inj.query_time</code> and
        <code class="literal">inj.response_time</code> into the lua scripts.
      </p></li><li><p>
        Added support for pre-4.1 passwords in a 4.1 connection.
      </p></li><li><p>
        Added script examples for rewriting and injection.
      </p></li><li><p>
        Added <code class="literal">proxy.VERSION</code>.
      </p></li><li><p>
        Added support for UNIX sockets.
      </p></li><li><p>
        Added protection against duplicate resultsets from a script.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed mysql check in configure to die when mysql.h isn't
        detected.
      </p></li><li><p>
        Fixed handling of duplicate ERR on
        <code class="literal">COM_CHANGE_USER</code> in MySQL 5.1.18+.
      </p></li><li><p>
        Fixed compile error with MySQL 4.1.x on missing COM_STMT_*.
      </p></li><li><p>
        Fixed crash on fields &gt; 250 bytes when the resultset is
        inspected.
      </p></li><li><p>
        Fixed warning if <code class="literal">connect_server()</code> is not
        provided.
      </p></li><li><p>
        Fixed assertion when a error occurs at initial script exec time.
      </p></li><li><p>
        Fixed assertion when <code class="literal">read_query_result()</code> is
        not provided when <code class="literal">PROXY_SEND_QUERY</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-0"></a>E.8.3. Changes in  MySQL Proxy 0.5.0 (19 June 2007)</h3></div></div></div><p>
        This is the first beta release.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">automake</code>/<code class="literal">autoconf</code>
        support.
      </p></li><li><p>
        Added <code class="literal">cmake</code> support.
      </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="releasenotes-cs.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix D. MySQL Community Server Enhancements and Release Notes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix F. Restrictions and Limits</td></tr></table></div></body></html>
